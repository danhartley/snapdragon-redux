{"version":3,"sources":["webpack:///./src/ui/css/common.css","webpack:///./src/ui/css/snapdragon-colours.css","webpack:///./src/admin/api/enums.js","webpack:///./src/api/botanical-latin.js","webpack:///./src/api/firebase/credentials.js","webpack:///./src/api/firebase/firestore.js","webpack:///./src/api/firebase/questions.js","webpack:///./src/api/glossary/lichen.js","webpack:///./src/api/inat/inat.js","webpack:///./src/api/snapdragon/iconic-taxa.js","webpack:///./src/api/snapdragon/infraspecifics.js","webpack:///./src/api/snapdragon/non-taxa.js","webpack:///./src/api/traits/trait-types.js","webpack:///./src/geo/geo.js","webpack:///./src/media-helper.js","webpack:///./src/modals.html","webpack:///./src/redux/actions/action-creators.js","webpack:///./src/redux/actions/action-types.js","webpack:///./src/redux/middleware/logger.js","webpack:///./src/redux/middleware/timeoutScheduler.js","webpack:///./src/redux/reducers/config-reducer.js","webpack:///./src/redux/reducers/initial-state/initial-progress-state.js","webpack:///./src/redux/reducers/layout-reducers.js","webpack:///./src/redux/reducers/lesson-reducers.js","webpack:///./src/redux/reducers/progress-reducers.js","webpack:///./src/redux/reducers/quick-fire-reducers.js","webpack:///./src/redux/reducers/species-reducers.js","webpack:///./src/redux/store.js","webpack:///./src/snapdragon-config/lesson-config.js","webpack:///./src/ui/create-guide-modal/species-editor-template.html","webpack:///./src/ui/create-guide-modal/species-editor.js","webpack:///./src/ui/create-guide-modal/species-in-guide-editor-template.html","webpack:///./src/ui/create-guide-modal/species-in-guide-editor.js","webpack:///./src/ui/create-guide-modal/species-picker-template.html","webpack:///./src/ui/create-guide-modal/species-picker.js","webpack:///./src/ui/css/common.css?6547","webpack:///./src/ui/css/snapdragon-colours.css?5b4a","webpack:///./src/ui/dom.js","webpack:///./src/ui/helpers/collection-handler.js","webpack:///./src/ui/helpers/data-checking.js","webpack:///./src/ui/helpers/enum-helper.js","webpack:///./src/ui/helpers/icon-handler.js","webpack:///./src/ui/helpers/image-handler.js","webpack:///./src/ui/helpers/logging-handler.js","webpack:///./src/ui/helpers/templating.js","webpack:///./src/ui/helpers/traits-handler.js","webpack:///./src/ui/screens/cards/card-template.html","webpack:///./src/ui/screens/cards/card.js","webpack:///./src/ui/screens/cards/non-taxon-card-template.html","webpack:///./src/ui/screens/cards/non-taxon-card.js","webpack:///./src/ui/screens/cards/taxon-card-template.html","webpack:///./src/ui/screens/cards/taxon-card.js","webpack:///./src/ui/screens/common/audio-media-template.html","webpack:///./src/ui/screens/common/badge-template.html","webpack:///./src/ui/screens/common/badge.js","webpack:///./src/ui/screens/common/calendar-template.html","webpack:///./src/ui/screens/common/calendar.js","webpack:///./src/ui/screens/common/id-box-template.html","webpack:///./src/ui/screens/common/image-slider-template.html","webpack:///./src/ui/screens/common/image-slider.js","webpack:///./src/ui/screens/common/inat-box-template.html","webpack:///./src/ui/screens/common/inat-box.js","webpack:///./src/ui/screens/common/info-detail-slider-template.html","webpack:///./src/ui/screens/common/info-detail-slider.js","webpack:///./src/ui/screens/common/info-slider-template.html","webpack:///./src/ui/screens/common/info-slider.js","webpack:///./src/ui/screens/common/linked-taxa-lookalike-template.html","webpack:///./src/ui/screens/common/linked-taxa-relationship-template.html","webpack:///./src/ui/screens/common/linked-taxa.js","webpack:///./src/ui/screens/common/look-alikes-link-template.html","webpack:///./src/ui/screens/common/look-alikes.js","webpack:///./src/ui/screens/common/rights-attribution-template.html","webpack:///./src/ui/screens/common/rights-attribution.js","webpack:///./src/ui/screens/common/taxa-box-template.html","webpack:///./src/ui/screens/common/taxa-box.js","webpack:///./src/ui/screens/home/home-lesson-intro-video-template.html","webpack:///./src/ui/screens/home/home-lesson-intro-video.js","webpack:///./src/ui/screens/lists/lesson-state-handler.js","webpack:///./src/ui/screens/lists/lesson-state-helper.js","webpack:///./src/ui/screens/lists/species-list-definition-insert.html","webpack:///./src/ui/screens/lists/species-list-definition-insert.js","webpack:///./src/ui/screens/lists/species-list.js","webpack:///./src/ui/screens/lists/species-table-template.html","webpack:///./src/ui/screens/lists/species-table.js","webpack:///./src/ui/screens/lists/video-handler.js","webpack:///./src/wikipedia/wiki-modal.js","webpack:///./src/wikipedia/wiki.js","webpack:///./src/xeno-canto/birdsong.js"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","i","enums","name","DESCRIPTION","CIRCUMFERENCE","EXPOSURE","CAP_SHAPE","CAP_COLOUR","CAP_DIAMETER","CAP_WIDTH","CAP_HEIGHT","SHELF_WIDTH","SHELF_THICKNESS","ECO_TYPE","HOW_EDIBLE","HYMENIUM_TYPE","SPORE_PRINT_COLOUR","STIPE_CHARACTER","STIPE_LENGTH","STIPE_WIDTH","STIPE_COLOUR","GILL_ATTACHMENT","FLESH","STEM_CHARACTER","GILL_COLOUR","TRUNK_COLOUR","SUBSTRATE","THALLUS_TYPE","RHIZINE_TYPE","DISC_WIDTH","LOBE_WIDTH","LOBE_LENGTH","LOBE_DIAMETER","ROLE","NATIVE","NATIVE_TO","SYMBIOSIS","ASSOCIATE","SYMBIONTS","LOOKALIKES","ECOLOGY","HABITAT","TROPHIC_LEVEL","ORGANISATION","SMELL","FRUIT_TYPE","FRUIT_WIDTH","FRUIT_HEIGHT","FRUIT_DIAMETER","FRUIT_LENGTH","FRUIT_COLOUR","FRUIT_TEXTURE","BRANCH_TEXTURE","FRUIT_SURFACE","SEED_DISPERSAL","VITAMINS","STAMEN_COUNT","STYLE_COUNT","LEAFLET_COUNT","LOBE_COUNT","LEAFLET_LENGTH","LEAFLET_WIDTH","GROUPING","MEDICINAL_PROPERTIES","COLOUR","USAGE","FORM","LIFE_SPAN","GERMINATION","ACTIVE","SUBSTRATE_ADHERANCE","RANK","SIZE","LENGTH","VOICE","HEIGHT","WEIGHT","REPRODUCTION","ASEXUAL_REPRODUCTION","DISPLAY","BEHAVIOUR","CHARACTERISTIC","COMMUNICATION","SHELTER","DISEASE","THREAT","FOOD","SEXUAL_DIMORPHISM","WING_SPAN","TREE_SHAPE","CROWN_SHAPE","LEAF_DIVISION","LEAFLET_DIVISION","LEAF_BLADE","LEAF_VARIATION","LEAF_SHAPE","JUVENILE_LEAF_SHAPE","LEAF_MARGIN","LEAF_ARRANGEMENT","LEAF_ATTACHMENT","LEAF_LENGTH","AWN_LENGTH","JUVENILE_LEAF_LENGTH","LEAF_WIDTH","LEAF_COLOUR","LEAF_SURFACE","LEAF_ABOVE_SURFACE","LEAF_BELOW_SURFACE","LEAF_TEXTURE","JUVENILE_TEXTURE","howEdible","help","CHOICE","EDIBLE","INEDIBLE","POISONOUS","DEADLY","TOXIC","type","habitat","WOOD","WOODLAND","WOODLAND_LITTER","GRASSLAND","SOIL","VEGETATION","DUNG","DUNES","WIDESPREAD","DEAD_WOOD","WASTELAND","MEADOW","FIELDS","MOSS","PASTURE","BARK","SHOOTS","COMMONS","HEATH","ORCHARDS","HEDGEROWS","LAWNS","RINGS","DAMP","TREE_BASE","FOREST_EDGE","PARKS","TRUNKS","STUMPS","ROCKS","FENCES","TREES","SHRUBS","SHRUBLAND","MARSHLAND","EXPOSED_WOOD","BRANCHES","HILLS","URBAN","VALLEYS","MAQUIS","SAVANNA","FOREST_STEPPE","MEADOW_STEPPE","BOREAL","SCRUB","WALLS","MOORLAND","COAST","BRUSH","WATER","SNOW","NO_SNOW","CONIFERS","BROAD_LEAF","PINE","BEECH","OAK","DITCH","WET_MEADOW","LAKESIDE","RIPERIAN","WETLANDS","ecologicalType","SAPROTROPHIC","PARASITIC","MYCORRHIZAL","PLANT_PATHOGEN","capShape","CAMPANULATE","CONICAL","CONVEX","DEPRESSED","FLAT","INFUNDIBULIFORM","OFFSET","OVATE","UMBILLICATE","UMBONATE","POTATO_SHAPED","NA","SPHERICAL","PEAR_SHAPED","BRAIN_LIKE","HONEYCOMB","HEMI_SPHERICAL","treeEcology","BIRCH","DECIDUOUS","SOFTWOOD","HARDWOOD","MIXED_WOODLAND","CONIFEROUS","ELM","ASH","SYCAMORE","ASPEN","ELDER","CHESTNUT","HARDWOODS","PRUNUS","PYRUS","SALIX","ROBINIA","CERATONIA","EUCALYPTUS","SWEET_CHESTNUT","POPLAR","CORK","FIR","SPRUCE","PLANE","WILLOW","MAPLE","LARCH","CEDAR","YEW","TURKEY_OAK","HAWTHORN","BUSH","SHRUB","hymeniumType","GILLS","PORES","GLEBA","SMOOTH","TEETH","RIDGES","FALSE_GILLS","associate","ALGA","CYNOBACTERIUM","FUNGUS","thallusType","FOLIOSE","FRUTICOSE","CRUSTOSE","SQUAMULOSE","LEPROSE","EPIPHYTE","rhizineType","SPARSE","HAPTER","substrate","level","HIGH","MEDIUM","LOW","VARIABLE","medicinalProperties","ANTIVIRAL","ANTISEPTIC","ANTI_INFLAMMATORY","ANTIBIOTIC","ANLAGESIC","ANTIBACTERIAL","ANTICOAGULANT","ANTIFUNGAL","ph","ACIDIC","ALKALINE","NEUTRAL","colour","LILAC","BUFF","WHITE","YELLOW","DARK_GREEN","GREEN","WHITE_GREEN","BRIGHT_GREEN","OLIVE_GREEN","BRIGHT_YELLOW_GREEN","YELLOW_GREEN","YELLOW_BROWN","PURPLE_BROWN","GREY_BROWN","DARK_YELLOW","DARK_RED","DARK_PINK","ORANGE","SCARLET","BLOOD_RANGE","RED","RED_BROWN","ORANGE_RED","GREY","PALE_GREY","PALE_BROWN","GREY_GREEN","GREY_WHITE","BROWN","CHESTNUT_BROWN","PAPER_BROWN","BLACK","BLUE","PALE_BLUE","BLUE_BLACK","JET_BLACK","BLUE_GREEN","VIOLET","BURGUNDY","PALE_VIOLET","VIOLET_PURPLE","PALE_GREEN","PALE_YELLOW","PALE_YELLOW_GREEN","PALE_GREY_GREEN","GLAUCOUS","GREY_YELLOW","ORANGE_YELLOW","CREAM","CHALKY","PINK","PALE_PINK","PURPLE","PALE_PURPLE","DARK_PURPLE","TAN","DARK_BROWN","HONEY","RED_PURPLE","usage","PERFUMERY","TANNING","DYING","BREWING","WINE","COFFEE","TEA","BIRDS_NEST","POISON","FODDER","FORAGE","GREEN_MANURE","MEDICINE","FUR","TIMBER","PEST_CONTROL","HERB","SPICE","ESSENTIAL_OIL","MORDANT","ASTRINGENT","nonTaxaType","element","NITROGEN","SULPUR_DIOXIDE","leafBlade","SIMPLE","COMPOUND","leafDivision","PALMATE","COMPOUND_PALMATE","PALMATELY_LOBED","PINNATE","COMPOUND_PINNATE","ODD_PINNATE","EVEN_PINNATE","BIPINNATE","COMPOUND_BIPINNATE","TRIFOLIATE","PINNATIFID","TRIPINNATE","IMPARIPINNATE","PARIPINNATE","leafletDivision","leafVariation","HOMOBLASTIC","HETEROBLASTIC","shape","LINEAR","OBLANCEOLATE","OBOVATE","ACICULAR","ACUMINATE","ACUTE","APICULATE","ATTENUATE","AURICULATE","ASYMMETRICAL","CAUDATE","CORDATE","CUNEATE","CUSPIDATE","DELTOID","DIGITATE","ELLIPTIC","ENSIFORM","EMARGINATE","FALCATE","FENESTRATE","FILIFORM","FLABELLATE","HASTATE","LACINIATE","LANCEOLATE","LAMINAR","reproduction","SELF_POLLINATION","CROSS_POLLINATION","asexualReproduction","BUDDING","FRAGMENTATION","FISSION","SPORE_FORMATION","VEGETATIVE_PROPAGATION","leafArrangement","ALTERNATE","BASAL","CAULINE","OPPOSITE","WHORLED","ROWS","SPIRAL","OVERLAPPING","INCURVED","DECUSSATE","leafAttachment","SESSILE","SUBSESSILE","PEDICELLATE","leafMargin","ENTIRE","CILIATE","CRENATE","DENTATE","DENTICULATE","DOUBLY_SERRATE","SERRATE","SERRULATE","SINUATE","LOBATE","UNDULATE","SPINY","food","GRASS","ROTTEN_FRUIT","NECTAR","HONEYDEW","SEEDS","NUTS","GRAINS","BERRIES","HERBAGE","SWARD","LEAVES","ROOTS","TUBERS","RHIZOMES","BULBS","hibernatingStage","ADULT","CATERPILLAR","PUPA","symbiosis","MUTUALISM","COMMENSALISM","PREDATION","PARASITISM","HERBIVORY","COMPETITION","ECTOMYCORRHIZAL","COMPANION","POLLINATION","SEED_PREDATION","trophicLevel","PRIMARY_PRODUCER","PRIMARY_CONSUMER","SECONDARY_CONSUMER","OMNIVORE","TERTIARY_CONSUMER","APEX_PREDATOR","shelter","DREY","BURROW","DEN","WARREN","SETT","ROOKERY","LODGE","DAM","NEST","active","CREPUSCULAR","DIURNAL","NOCTURNAL","MATUTINAL","VESPERTINE","juvenile","KIT","SQUEAKER","CUB","KITTEN","CHICK","PUP","CALF","DUCKLING","EYAS","MAGGOT","KID","GOSLING","LEVERET","NYMPH","LARVA","SALAMANQUESA","month","JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER","female","VIXEN","DOE","JILL","BITCH","SOW","HEN","DUCK","GOOSE","PEN","male","BUCK","DOG","BOAR","TOM","JACK","COCK","DRAKE","REYNARD","TOD","TERCEL","GANDER","COB","diet","HERBIVORE","CARNIVORE","XYLOPHAGOUS","POLYPHAGOUS","fungusMarginType","APPENDICULATE","STRIATE","PLICATE","RIMMOSE","ERODED","INROLLED","soilType","SILICEOUS","CALCAREOUS","NITROGENOUS","NUTRIENT_POOR","WELL_DRAINED","WELL_WATERED","LOAM","CHALK","SAND","RICH","MOIST","organisation","EUSOCIAL","SOCIAL","SOLITARY","MATRIARCHY","role","INDICATOR","KEYSTONE","FOUNDATION","SPECIALIST","GENERALIST","PIONEER","INVASIVE","DOMINANT","POLLINATOR","PREDATOR","GRANIVORE","MUCIVORE","PREY","COMPETITOR","HOST","CARRIER","RUDERAL","SUPERTRAMP","SYMBIONT","OCCUPANT","PARASITE","COLONISER","EARLY_SUCCESSION","FERTILISATION","PROPAGATION","BIOINDICATOR","STRANGLER","FOOD_SOURCE","EPIPHYTIC","EPIPHYTIC_STRANGLER","NUTRIENT_CYCLING","CARBON_DIOXIDE_PRODUCTION","MYCOREMEDIATION","fruitType","DRUPE","POME","BERRY","AGGREGATE_FRUIT","LEGUME","CAPSULE","NUT","GRAIN","MULTIPLE_FRUIT","SAMARA","ACHENE","POD","ARIL","SYCONIUM","FOLLICLE","SILIQUE","inflorescence","CATKIN","UMBEL","RACEME","CORYMB","SPIKE","SPADEX","SINGLE","PANICLE","CYMOSE","BRANCHED_SPIKE","umbelType","TERMINAL","display","DIEMATIC","SEXUAL_COLOUR_DIMORPHISM","NO_SEXUAL_COLOUR_DIMORPHISM","NO_SEXUAL_DIMORPHISM","MELANISTIC","behaviour","SEXUAL_CANNIBALISM","MONANDROUS","VOCALISATION","CRYPSIS","HOARDING","HIBERNATION","GAME_PLAYING","PLAYFUL","TERRITORIAL","NON_TERRITORIAL","BIPARENTAL_CARE","COOPERATIVE_BREEDING","TOOL_MAKING","PROBLEM_SOLVING","DIVISION_OF_LABOUR","SUPERORGANISM","ANAUTOGENY","MASS_PROVISIONING","PRECOCIAL","ALTRICIAL","AUTOTOMIC","ECTOTHERMIC","ADHESION","POLYPHYODONT","VIVIPAROUS","REGURGITATION","MULTIVOLTINE","BIVOLTINE","UNIVOLTINE","SEMIVOLTINE","METAMORPHOSIS","RUTTING","WHELPING","FARROWING","SWIMMING","DECUMBENT","ETHYLENE_RIPENING","MIGRATORY","sense","SIGHT","MOVEMENT","SPATIAL","MEMORY","ECHOLOCATION","crypsis","CAMOUFLAGE","NOCTURNALITY","SUBTERRANEAN","MIMICRY","VISUAL","OLFACTORY","AUDITORY","allochory","ANEMOCHORY","HYDROCHORY","ZOOCHORY","ANTHROPOCHORY","reproductiveContainer","CONE","communication","POSTURING","matingSystem","POLYGYNOUS","MONOGAMOUS","physiology","NEGATIVE_ALLELOPATHY","POSITIVE_ALLELOPATHY","C3_CARBON_FIXATION","NITROGEN_FIXING","DORMANCY","EVERGREEN","ADVENTITIOUS","NYCTINASTY","XEROMORPHIC","SUCCULENT","DROUGHT_TOLERANT","FIRE_TOLERANT","FIRE_RESISTANT","POLLUTION_TOLERANT","PH_TOLERANT","SALT_TOLERANT","FROST_TOLERANT","HEAT_TOLERANT","NITROGEN_TOLERANT","HEAVY_METAL_TOLERANT","ACID_RAIN_TOLERANT","COMPACT_SOIL_TOLERANT","FLORAL_SCENT","AROMATIC","MONOCARPIC","POLYCARPIC","PYROPHYTIC","SEROTINOUS","STYPTIC","BIOLUMINESCENCE","collective","SOUNDER","SLOTH","MURMURATION","PACK","ecology","DIGGING","SCRAPING","ROOTING","SCAVENGING","characteristic","PERENNIAL","ANNUAL","BIENNIAL","HERBACEOUS","DIOECIOUS","MONOECIOUS","SYNOECIOUS","PERFECT","COMPLETE","DICOTYLEDON","MONOCOTYLEDON","CAULIFLORY","RAMIFLORY","PUBESCENT","CHAMAEPHYTE","FIBROUS_ROOT_SYSTEM","TAPROOT_SYSTEM","KIN_SELECTION","BROADLEAF","AERIAL_ROOTS","EPICORMIC_ROOTS","BASAL_ROOTS","RUNNER","CLIMBER","BUTTRESS_ROOT","MONOPODIAL","APICAL_DOMINANCE","POLYMORPHIC","CRYPTIC_SPECIES_COMPLEX","RHIZOMORPHS","GEOPHYTE","RICTAL_BRISTLES","DEHISCENCE","EXPLOSIVE_DEHISCENCE","RESIN_CANAL","APOSEMATIC","climate","HOT","DRY","TEMPERATE","COOL","TROPICAL","CONTINENTAL","pollination","ALLOGAMY","ANEMOPHILY","HYDROPHILY","ENTOMOPHILY","AMBOPHILY","MELITTOPHILY","PSYCHOPHILY","PHALAENOPHILY","SONICATION","GENERALISED_SYNDROME","CLEISTOGAMY","stipeCharacter","RING","RING_AND_VOLVA","BARE","SHORT","STUMPY","CLUB_LIKE","WARTS","HOLLOW","PRUINOSE","PARTIAL_VEIL","stemCharacter","TERETE","HAIRY","FARINOSE","SCURFY","VISCOUS","PUNCTATE","PAPILLATE","TUBERCULATE","RUGOSE","GLABROUS","gillAttachment","ADNATE","ADNEXED","DECURRENT","FREE","Seceding","SUBDECURRENT","grouping","LARGE_GROUPS","CLUSTERS","LARGE_CLUSTERS","SCATTERED_CLUSTERS","FAIRY_RINGS","GREGARIOUS","NUMEROUS","propagation","SUCKERS","STOLONS","CORMS","PLANTLETS","KEIKIS","APOMIXIS","seedDispersal","AUTOCHORY","exposure","FULL_SUN","PARTIAL_SUN","PARTIAL_SHADE","SHADE","nutType","ACORN","HAZELNUT","surface","TOMENTOSE","texture","LEATHERY","FLESHY","GLOSSY","WOOLY","SCALY","ROUGH","VELVETY","treeShape","COLUMNAR","OPEN_HEAD_IRREGULAR","WEEPING","PYRAMIDAL","GLOBE","FASTIGIATE","VASE","HORIZONTAL_SPREADING","NARROW_DOMED","crownShape","OVOID_CONIC","CONIC","DOMED","SPIRE_LIKE","SLENDER","barkType","LENTICELS","PEELING_STRIPS","VERTICAL_CRACK","VERTICAL_STRIPS","SCALES","PLATES","INTERSECTING_RIDGES","UNINTERRUPTED_RIDGES","RIDGES_BROKEN_HORIZONTALLY","PAPER_LIKE","SQUARE_CRACKED","RESINOUS","THICK","coneShape","BARREL_SHAPED","GLOBULAR","leafVenation","ARCUATE","DICHOTOMOUS","LONGITUDINAL","PARALLEL","RETICULATE","ROTATE","TRANSVERSE","flowerShape","TRUMPET_SHAPED","BILABIATE","REGULAR","ACTINOMORPHIC","ZYGOMORPHIC","branchArrangement","HORIZONTAL","WHORLS","leafFeatures","BLUNT_TIPS","STOMATAL_LINES","DROOPING","leafFolding","CARINATE","CONDUPLICATE","CUCULLATE","INVOLUTE","REDUPLICATE","REVOLUTE","SUPERVOLUTE","mushroomGroup","MYCOTROPHS","POLYPORES","BOLETES","PUFFBALLS","GILLED_MUSHROOMS","CHANTERELLES_AND_TRUMPETS","TOOTHED_MUSHROOMS","STINKHORNS","CUP_FUNGI","BIRDS_NEST_FUNGI","TRUE_MORELS_AND_VERPAS","FALSE_MORELS","SADDLES","JELLY_FUNGI","CLUBS_AND_CORALS","CRUST_FUNGI","units","lifeSpan","gestation","weaning","germination","height","diameter","circumference","trunkDiameter","capDiameter","umbelDiameter","capWidth","infructescenceWidth","width","breadth","capHeight","shelfWidth","shelfThickness","length","leafLength","awnLength","infructescenceLength","juvenileLeafLength","leafWidth","petalLength","petalWidth","petioleLength","bractLength","fruitWidth","fruitLength","fruitDiameter","fruitHeight","flowerDiameter","flowerLength","coneDiameter","coneLength","maleConeLength","femaleConeLength","bulbWidth","coneWidth","maleConeWidth","femaleConeWidth","stalkHeight","stemHeight","scapeHeight","stemDiameter","stipeLength","tailLength","leafletLength","leafletWidth","queenLength","queenWingspan","workerLength","workerWingspan","maleLength","maleWingspan","stipeWidth","wingSpan","tongueLength","phValue","weight","queenWeight","workerWeight","maleWeight","epithets","species","genus","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","storage","db","firestore","getSpeciesWhere","props","key","operator","value","limit","speciesRef","collection","where","get","querySnapshot","docs","forEach","doc","data","getSpecies","item","getSpeciesNames","speciesPropertiesRef","getTaxaNames","taxaPropertiesRef","getSpeciesByIconicTaxon","number","iconicTaxon","isLichen","lichen","eolId","random","utils","getRandomInt","randomId","getRandomId","FieldPath","documentId","toLowerCase","getSpeciesByName","itemName","items","getTaxaWhere","language","taxaRef","getFamiliesByIconicTaxon","iconicTaxonRank","iconicTaxonValue","config","getTaxonByName","taxon","getAsyncTraitsByNameAndCollection","languageTraits","traits","getTraitsBySpeciesName","Promise","resolve","getTraitsByTaxonName","getBirdsong","xcID","storageRef","ref","child","getDownloadURL","url","getImage","image","addSpecies","images","map","license","photographer","rightsHolder","source","title","add","docRef","updateSpecies","updatedSpecies","starred","provider","speciesDocRef","update","updateSpeciesNames","names","getTraitValues","deleteSpeciesByName","then","addTraits","trait","empty","speciesTraitsRef","message","addSpeciesRelationship","batch","readyBatch","all","FieldValue","arrayUnion","commit","addPhotos","photos","deleteSpeciesTraitField","field","removeField","getRandomSpecies","addTaxon","getSpeciesInParallel","sp","description","time","questionIds","quickId","getSpeciesByNameInParallel","itemNames","addCollection","user","updateCollection","success","details","getCollectionsWhere","collectionRef","addQuestion","question","getQuestionsWhere","addDefinition","definition","term","getDefinitionsWhere","id","getDefinitionById","getBatchDefinitionsById","ids","terms","getDefinition","glossary","required","split","definitions","find","trim","alt","filter","getCollections","async","updateDefinition","getTraitDefinitions","entry","getQuestionById","questions","q","parseInt","getDefinitionsByTaxa","taxa","chars","autoId","charAt","Math","floor","rank","statement","answer","answers","wiki","branch","technical","inatListeners","unsubscribe","listener","l","listenToInatRequests","getBasePath","guide","season","observableMonths","index","join","perPage","getInatSpecies","speciesNames","snapdragonSpeciesNames","snapLog","iconicTaxaKeys","Object","keys","iconicTaxa","getIconicTaxa","e","logError","getUserOrProjectKeyValuePair","inatId","param","parameter","getAllInatObservations","snapdragonSpecies","records","keepGoing","page","getInatObservations","recordsFromThisRequest","apply","matches","record","R","noMoreRecords","recordsCountReached","noOfRecords","loadSpeciesInParallel","observations","observation","observationCount","observations_count","iconic_taxon_name","lat","lng","placeId","radius","speciesRange","inat","locationType","place","coordinates","params","guideTpe","fetch","json","numberOfRequests","ceil","total_results","RECORDS_per_page","results","sortBy","getInatPlaceId","getInatTaxonStats","taxonName","getHistogram","getAutocompleteBy","by","FUNGI","PLANTAE","AVES","AMPHIBIA","REPTILIA","MAMMALIA","INSECTA","ARACHNIDA","LEPIDOPTERA","matchTaxonKey","taxonomy","order","kingdom","matchTaxon","findRankByIconicTaxon","matchIcon","matchRank","icon","infraspecifics","subspecies","variety","eol","group","form","nonTaxaGroup","LICHEN_FORM","getNonTaxa","SD","examples","genera","traitValuesHandler","store","getState","actions","boundUpdateEnums","service","getLocation","getHTML5Location","reject","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","error","listeners","parseMapBoxPlace","locality","features","f","place_type","region","country","text","area","shortLocation","longLocation","summary","isLandscapeMode","placePromise","updatedPlace","getMapBoxPlace","long","response","getPlace","force","listenToPlaceChange","LocationLookup","ip","city","state_prov","country_name","IPLookup","getIPLocation","ipLocation","GoogleFindPlace","candidates","requireNewSession","isScriptReady","current_term","GoogleAutocompleteServerSide","predictions","GoogleAutocomplete_Original","callback","getPredictions","google","maps","places","AutocompleteService","getPlacePredictions","input","displaySuggestions","status","PlacesServiceStatus","OK","alert","SESSION_TOKEN","createSessionToken","createScriptRequest","src","script","document","createElement","body","appendChild","addEventListener","GoogleAutocomplete","AutocompleteSessionToken","GooglePlaceDetails","request","Geocoder","geocode","handleWindowResize","setWindowHeight","iOS","test","userAgent","window","MSStream","verticalHeight","screen","innerWidth","innerHeight","documentElement","style","setProperty","largeImage","parseFloat","getComputedStyle","getPropertyValue","replace","horizontalWidth","location","origin","indexOf","protocol","href","loadModalHTML","template","innerHTML","modalsTemplate","parent","querySelector","renderTemplate","content","makeActionCreator","action","meta","changeLessonPlans","types","CHANGE_LESSON_PLANS","changeLessonPlan","CHANGE_LESSON_PLAN","nextLesson","NEXT_LESSON","updateScore","UPDATE_SCORE","updateTraitScore","UPDATE_TRAIT_SCORE","nextLayout","NEXT_LAYOUT","nexItem","NEXT_ITEM","endRevision","END_REVISION","updateHistory","UPDATE_HISTORY","newCollection","SET_ACTIVE_COLLECTION","UPDATE_COLLECTION","resetCollection","RESET_COLLECTION","updateCollections","UPDATE_COLLECTIONS","changeCollectionItems","UPDATE_COLLECTION_ITEMS","nextRound","NEXT_ROUND","nextLevel","NEXT_LEVEL","updateConfig","UPDATE_CONFIG","stopStartLesson","STOP_START_LESSON","selectCollection","SELECT_COLLECTION","UPDATE_LANGUAGE","updateEnums","UPDATE_ENUMS","updateUser","UPDATE_USER","updateLesson","UPDATE_LESSON","saveLesson","SAVE_LESSON","removeSavedLesson","REMOVE_LESSON","updateVideoPlayer","UPDATE_VIDEO_PLAYER","createQuickFire","CREATE_QUICKFIRE","updateQuickFire","UPDATE_QUICKFIRE","createGlossary","CREATE_GLOSSARY","clickEvent","CLICK_EVENT","boundAsyncNextLesson","func","dispatch","boundchangeLessonPlans","boundchangeLessonPlan","boundNextLesson","boundUpdateScore","boundUpdateTraitScore","boundNextItem","delay","boundNextLayout","boundEndRevision","boundUpdateHistory","boundSetActiveCollection","boundUpdateCollection","boundResetCollection","boundUpdateCollections","boundUpdateCollectionItems","boundNextRound","boundNextLevel","boundUpdateConfig","boundStopStartLesson","boundSelectCollection","boundUpdateLanguage","boundUpdateLesson","boundSaveLesson","boundRemoveSavedLesson","boundUpdateVideoPlayer","boundUpdateUser","boundCreateQuickFire","boundUpdateQuickFire","boundCreateGlossary","boundClickEvent","logger","next","timeoutScheduler","timeoutId","setTimeout","cancel","clearTimeout","state","initialConfig","lang","lesson","userAction","resetScore","total","correct","binomial","incorrect","fails","passes","mode","totalPassPoints","totalPoints","progressState","score","lessonPlans","lessonPlan","layout","screens","prevItemIndex","itemIndex","initialState","currentRound","rounds","isNextRound","layoutName","layoutCounter","isLevelComplete","isLessonComplete","layoutCount","levels","lessons","savedLessonNames","counter","payload","isLessonRehydrated","isLessonPaused","isLessonSelected","isCustomLessonPausedOverride","totalFailPoints","points","itemId","questionText","questionTotal","passesTotals","failsTotals","bonusScores","guid","history","scores","historyCorrect","historyTotal","videoPlayer","cleanAndReturnIncomingState","quickFire","onClickFiltersLinkListeners","onClickGlossaryLinkListeners","collections","cols","col","selected","isActive","isCollectionUpdate","getNextRound","moduleSize","nextItem","allItems","isDeselected","bonus","bonusLayout","reducer","combineReducers","persistConfig","persistedReducer","persistReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","persistor","persistStore","rootReducer","undefined","callbackTime","callbackDelay","excludeRevision","isPortraitMode","languages","locationLongLat","locationPlace","listenersToAddedSpecies","addListenerToAddedSpecies","pop","speciesEditor","container","selectedSpeciesDisplay","selectedSpecies","savedSpeciesNames","addedSpecies","editorTemplate","focus","addSpeciesToList","label","autocomplete","n","startsWith","onSelect","minLength","debounceWaitMs","className","event","highlightedText","innerText","init","querySelectorAll","checkBox","removedSpecies","target","speciesInGuideEditor","modal","createGuide","spinner","classList","speciesCount","getTaxa","common","Set","ss","setConfig","lessonStateHandler","changeRequest","requestType","lessonState","ADD_SPECIES_TO_COLLECTION","requestArgs","updatedConfig","updatedCollection","renderSpeciesPicker","speciesPickerTemplate","options","transform","locals","DOM","leftGrid","getElementsByClassName","leftHeader","leftBody","leftFooter","leftHeaderTxt","specimenRptr","rightGrid","rightHeader","rightHeaderTxt","rightHeaderScoreTxt","rightBody","rightRptrSummary","rightBodyBottom","rightFooter","getItems","collectionId","guideType","query","logErrorg","getSnapdragonSpeciesData","loadCollection","contains","insecta","lepidoptera","noninsecta","loadCollectionItemProperties","itemReadyCollection","firstTime","families","family","orders","g","familyTaxa","orderTaxa","genusTaxa","getGenusTaxa","genusTaxon","entries","constructor","getFamilyTaxa","familyTaxon","getOrderTaxa","orderTaxon","getFamilyNames","findRank","taxonRank","GENUS","FAMILY","vernacularName","ORDER","snapIndex","vernacularNames","itemProperties","getVernacularNames","getVernacularName","slice","loadTraitsInParallel","itemTraits","Array","from","collectionHandler","getTrait","formatter","obj","acc","curr","statsReducer","elem","getFileNameFromImageUrl","exec","useShortForm","namePart","shortForm","englishShortForm","languageSortForm","englishNames","english","capitalisedNames","capitaliseFirst","console","getGenusName","getSpeciesName","latin","epithet","part","toUpperCase","getTaxonProp","prop","p","getNestedTaxonProp","prop1","prop2","prop1Value","prop2Value","trimLatinName","familyVernacularNames","getActiveTrait","option","traitName","reduce","vernacularNamesForItems","vernaculars","vernacular","v","answersFromList","list","toInclude","shuffleArray","getFamilyStats","getImageRightsUrl","filename","getRootTraitValue","traitValue","drop","pattern","parts","match","dropStarters","starter","rootTraitValue","Enum","initEnum","navigation","guideOption","nextStep","quickFireType","quickFireStep","userEvent","mushroomIcon","renderIcon","rootNode","iconicIcon","c","returnIcon","returnTaxonIcon","stripImageUrlOfScaleAndPrefix","img","prefix","imageUseCases","SPECIES_LIST","SPECIES_CARD","TAXON_CARD","SPECIES_SPECIMENS","NON_TAXON_CARD","VISUAL_MATCH","MIXED_SPECIMENS","CAROUSEL","TEXT_ENTRY","ACTUAL_SIZE","SPECIES_GRID","denormaliseImages","photographersName","full_name","imageMatch","src1","src2","prepImageForCarousel","useCase","scaleImage","medium","itemCommon","prepImagesForCarousel","small","large","modalImagesHandler","displayNameType","modalImageHandler","handleImageSelectionFromList","selectedItem","dataset","selectedItemImage","selectedImage","imageSlider","identifier","displayName","msg","log","process","css","isArray","logAPIError","call","Stamp","ns","Context","prototype","importNode","this","re","filterState","address","mystate","len","a","hasAttribute","JSON","stringify","getAttribute","expandString","s","str","count","m","cloneAllNodes","clones","nodeName","cloneNode","appendChildren","ele","nodes","expand","textContent","j","processChildren","attributes","attr","iterName","tpl","firstChild","removeChild","childState","instanceState","toString","k","cl","sort","removeAttribute","setAttribute","childEle","nextSibling","replacement","childNodes","insertBefore","expandInto","replaceChildren","context","clone","contentClone","expanded","enumKey","getTraitByKey","traitKey","hasTraitPropeties","hasOwnProperty","handleUnit","unit","doArraysHaveSameValues","traitsHandler","getRandomTrait","traitsToIgnore","allowedTraits","getRandomObjectProperty","getTraitsPoolForUnits","traitsPool","getTraitsPoolForRoles","getTraitsPool","traitValues","toCamelCase","getSetOfTraitAnswers","pool","traitSet","t","sets","b","set","getTraitValueByKey","getLinkedTaxaTraits","taxaTraits","getTraitsToExclude","convertTraitsToNameValuePairsArray","traitsToExclude","includedTraits","lookalike","symbiont","getNMultiplesFromArray","arra","arra_size","result","result_set","x","pow","renderCard","isInCarousel","getItemWithProps","getItem","itemWithProps","el","prev","remove","cardTemplate","renderCommonParts","renderPortrait","renderLandscape","getBirdSong","inatNode","renderInatDataBox","renderCalendar","lookalikeSpecies","parentScreen","player","iframe","border","elm","renderTaxaBox","familyName","familyVernacularName","infoSlider","renderBadge","transition","lines","getElementsByTagName","hr","attribution","indicator","subscriptions","subscribeToNonTaxaSelection","renderNonTaxonCard","keyTrait","nonTaxa","nt","onChange","sub","prepImages","itemImagesArray","itemImages","concat","nonTaxon","portraitImagesNode","wikiNode","lookup","renderWikiModal","renderWiki","getElementById","click","modalCarousel","renderTaxonCard","taxonTemplate","familyStats","occurrences","identification","descriptions","toxic","members","notableMembers","taxonInfoSlider","membersCount","member","badge","languageNames","r","create","badgeTemplate","calendarTemplate","place_name_en","display_name","months","getENShortMonth","ordinal","getMonth","histogram","monthlyStats","month_of_year","currentMonthIndex","Date","node","carouselControlHandler","slider","handleRightsAttribution","sliderArgs","imageSliderTemplate","selectActiveImage","elemSrc","activeNode","slideTo","imageSideBySlider","slides","sideBySlider","slide","originalImageLink","inatBoxTemplate","eolPage","wikiLink","stats","taxonId","stat","taxonCount","taxonLink","toLocaleString","itemStats","placeTaxonCount","establishment","preferred_establishment_means","renderInfoDetails","activeTraitKey","activeTraitValue","idBoxTemplate","linkedTaxa","detail","detailsTemplate","imgClassName","renderInfoSlider","infoSliderTemplate","activeTrait","control","changeTraitHandler","convertedTraits","addLinksToSpeciesCards","link","isSpecies","addVernacularName","relationshipTraits","relationships","convertTraitsForDisplay","speciesA","speciesARole","speciesB","speciesBRole","lookalikeTraits","lookalikes","convertLookalikesForDisplay","speciesDescription","lookalikeDescription","addDisplayRules","relationship","linkedTaxaRelationshipTemplate","linkedTaxaLookalikeTemplate","getLinkedTaxa","renderLookalikes","readyLookalikesForRendering","lookalikeItem","scientificNames","lookalikeParent","matchTemplate","speciesComparisonLink","mp3","audioMediaTemplate","visualComparisonTemplate","rightsAttributionTemplate","licence","author","rightsholder","rightsAttribution","rightsLink","indicators","showAttribution","parentElement","removeEventListener","showLink","taxaBoxArgs","specific","subSpeciesCount","taxaBoxTemplate","subspeciesBadge","html","videoSetup","startTime","videoTemplate","video","webLabel","links","webUrl","activeLesson","startAt","playAt","pausedAt","checkInt","videoHandler","readyPlayer","checkCurrentTime","setInterval","getCurrentTime","matchSpeciesTime","onSpeciesTimeMatchListeners","notes","noteMatch","note","onNoteTimeMatchListeners","subscribeToPlayerStateChange","onPlayerStateChangeCallback","getPlayerState","states","clearInterval","playVideoFrom","videoWidth","offsetWidth","args","PAUSE_LESSON","SAVE_LESSON_PROGRESS","GET_LESSON_PROGRESS","RENDER_SPECIES_LIST","BEGIN_OR_RESUME_LESSON","isLandcapeMode","changeLessonState","saveCurrentLesson","collectionToLoad","updatedCounter","getUserLessonProgressState","addExtraSpeciesSelection","renderLessonSpeciesList","beginOrResumeLesson","selectedLessonCollectionId","requestedlessonState","currentCollection","lessonStateHelper","getCollectionToLoad","RESUME_LESSON","BEGIN_LESSON","renderSpeciesList","callingParentContainer","newLessonCounter","stateCounter","savedLesson","userLessonState","getUserLessonState","setActiveCollection","getLatestCounter","extraSpecies","collectionExtension","recordUserAction","getIsReviewingLesson","isNotReviewingLesson","START_LESSON","TOGGLE_SPECIES_LIST","overrideLesson","purgeLesson","purge","reload","clearGuide","resume","restoredLesson","currentlyActiveRow","onSpeciesChangeHandler","tr","openNoteHandler","definitionTemplate","insert","colCount","noteText","traitEnums","openAccordionHandler","accordion","openSpeciesDescriptionHandler","closeAccordionHandler","parentNode","userClickHandlers","itemImage","accordionHandler","currentTarget","stopPropagation","activeIcon","speciesName","isVideoPlayerReady","cardModal","card","nthChild","taxonIcons","noWrongAnswersForThisSpecies","totals","buildTable","overrideParent","isReady","enableScroll","activateYoutubeIcon","closeOpenAccordions","accordions","activeAccordion","activeYouTubeIcon","td","scrollIntoView","rowHeight","noOfRows","scroll","top","scrollTop","previousElementSibling","offsetHeight","onSpeciesTimeMatch","onNoteTimeMatch","getPlayerTime","currentIndex","prevTaxon","nextTaxon","playerRecords","saveVideoState","inactiveAccordion","wide","matchMedia","getTraitName","keyTratLinkClass","phylum","getIconicTaxonIcon","iconicTaxonIcon","hideFungiIcon","genusLinkClass","shortName","getOrderLinkClass","hasVideo","speciesTemplate","table","vn","span","append","tbody","caption","thead","headerRow","imageHeader","speciesHeader","familyHeader","traitNameHeader","iconicTaxonHeader","accordionHeader","makeSortable","sortableCalback","onSpeciesPlayRequestListeners","onPlayerStateChangeListeners","isPlayerReady","YT","Player","playerVars","events","onPlayerReady","onPlayerStateChange","onSpeciesPlayRequest","onPlayerReadyListeners","seekTo","playVideo","setVideoState","destroyPlayer","stopVideo","destroy","videoId","doIdsMatch","getVideoData","video_id","root","formatUrl","encode","ranks","fetchWiki","missingMessage","encodeQuery","method","errorPromise","cleanEntry","cleaned","formatWiki","wikiSearchTerm","searchTerm","searchTerms","exceptions","genusEntry","portrait","fetchAsync","endpoint","loadPlayer","playerId","song","recording","recordings"],"mappings":"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U,uDACVsC,OAAU,MACVC,QAAS,CACL,QACA,MACA,UAGR,CACIjC,GAAI,IACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,mBACP8G,UAAW,2DACXrC,SAAU,uCACVsC,OAAU,iBACVC,QAAS,CACL,kBACA,QACA,aAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,wBACP8G,UAAW,qCACXrC,SAAU,qEACVsC,OAAU,OACVC,QAAS,CACL,SACA,MACA,WAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,wBACP8G,UAAW,iEACXrC,SAAU,uDACVsC,OAAU,iDACVC,QAAS,CACL,4BACA,6EACA,iDAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,OACboI,KAAM,QACN7G,MAAO,gBACP8G,UAAW,4FACXrC,SAAU,gCACVsC,OAAU,uDACVC,QAAS,CACL,mEACA,4CACA,oDAGR,CACIjC,GAAI,KACJpE,IAAK,uBACLmB,SAAU,aACVrD,YAAa,UACboI,KAAM,UACN7G,MAAO,gBACP8G,UAAW,kDACXrC,SAAU,qDACVsC,OAAU,OACVC,QAAS,CACL,YACA,OACA,aAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,kBACP8G,UAAW,mDACXrC,SAAU,8CACVsC,OAAU,sFACVC,QAAS,CACL,oCACA,2BACA,qGAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,0BACP8G,UAAW,8EACXrC,SAAU,yCACVsC,OAAU,cACVC,QAAS,CACL,QACA,QACA,UAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,oBACP8G,UAAW,0CACXrC,SAAU,sCACVsC,OAAU,4FACVC,QAAS,CACL,+CACA,iGACA,6DAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,oBACP8G,UAAW,0CACXrC,SAAU,sCACVsC,OAAU,4FACVC,QAAS,CACL,+CACA,iGACA,6DAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,UACboI,KAAM,QACN7G,MAAO,SACP8G,UAAW,gDACXrC,SAAU,2DACVsC,OAAU,KACVC,QAAS,CACL,MACA,OACA,SAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,UACboI,KAAM,QACN7G,MAAO,SACP8G,UAAW,qGACXrC,SAAU,uDACVsC,OAAU,oBACVC,QAAS,CACL,mBACA,qBACA,uBAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,UACboI,KAAM,QACN7G,MAAO,SACP8G,UAAW,oGACXrC,SAAU,gCACVsC,OAAU,yEACVC,QAAS,CACL,sEACA,4DACA,8EAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,UACboI,KAAM,QACN7G,MAAO,SACP8G,UAAW,sCACXrC,SAAU,2BACVsC,OAAU,gDACVC,QAAS,CACL,gDACA,wCACA,0CAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,UACboI,KAAM,QACN7G,MAAO,SACP8G,UAAW,2DACXrC,SAAU,yBACVsC,OAAU,8EACVC,QAAS,CACL,wEACA,8EACA,yEAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,UACboI,KAAM,QACN7G,MAAO,SACP8G,UAAW,gDACXrC,SAAU,kFACVsC,OAAU,YACVC,QAAS,CACL,mBACA,qBACA,eAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,QACP8G,UAAW,4DACXrC,SAAU,4DACVsC,OAAU,YACVC,QAAS,CACL,aACA,YACA,gBAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,QACP8G,UAAW,6DACXrC,SAAU,6CACVsC,OAAU,OACVC,QAAS,CACL,SACA,YACA,eAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,QACP8G,UAAW,sDACXrC,SAAU,4CACVsC,OAAU,sDACVC,QAAS,CACL,qGACA,sFAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,QACP8G,UAAW,gDACXrC,SAAU,gDACVsC,OAAU,YACVC,QAAS,CACL,UACA,aACA,YAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,QACP8G,UAAW,8CACXrC,SAAU,uDACVsC,OAAU,WACVC,QAAS,CACL,UACA,SACA,YAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,QACP8G,UAAW,kEACXrC,SAAU,mDACVsC,OAAU,UACVC,QAAS,CACL,SACA,QACA,cAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,QACP8G,UAAW,wCACXrC,SAAU,2CACVsC,OAAU,oDACVC,QAAS,CACL,iDACA,oDACA,oDAGR,CACIjC,GAAI,KACJjD,SAAU,aACVrD,YAAa,QACboI,KAAM,UACN7G,MAAO,QACP8G,UAAW,gDACXrC,SAAU,kDACVsC,OAAU,aACVC,QAAS,CACL,iBACA,WACA,mB,4DC9dZ,8CAAO,IAAMrI,EAAS,CAClB,CACIkG,KAAM,SACND,WAAY,wHACZqC,KAAM,uCACN76B,MAAO,EACP86B,OAAQ,WAEZ,CACIrC,KAAM,YACND,WAAY,2HACZqC,KAAM,iDACN76B,MAAO,EACP86B,OAAQ,kBAEZ,CACIrC,KAAM,UACND,WAAY,wCACZqC,KAAM,+CACN76B,MAAO,EACP40B,MAAO,CACHF,IAAK,wEAEToG,OAAQ,kBAEZ,CACIrC,KAAM,WACND,WAAY,iEACZqC,KAAM,gDACN76B,MAAO,EACP86B,OAAQ,kBAEZ,CACIrC,KAAM,UACND,WAAY,wCACZqC,KAAM,+CACN76B,MAAO,EACP86B,OAAQ,kBAEZ,CACIrC,KAAM,aACND,WAAY,2DACZqC,KAAM,kDACN76B,MAAO,EACP86B,OAAQ,kBAEZ,CACIrC,KAAM,WACND,WAAY,6CACZqC,KAAM,yCACNE,UAAW,OACXD,O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","file":"admin~app.bundle.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\\n  a {\\n    color: var(--snap-youtube-green);\\n  }\\n\\n  h1 {\\n    font-size: .9rem;\\n  }\\n\\n  h2 {\\n    font-size: .8rem;\\n  }\\n\\n  h3 {\\n    font-size: .7rem;\\n  }\\n\\n  img {\\n    max-width: 100%;\\n    display: block;\\n  }\\n\\n  h1, h2, h3 {\\n    font-weight: unset;\\n    margin: 0 !important;\\n  }\\n\\n  label {\\n    margin: 0;\\n  }\\n\\n  legend {\\n    margin-bottom: 0 !important;\\n    width: initial !important;\\n  }\\n\\n  caption {\\n    padding: 0;\\n    height: 0;\\n  }\\n\\n  dt {\\n    font-weight: 500;\\n  }\\n\\n  .flex {\\n    display: flex;\\n  }\\n\\n  .flexnowrap {\\n    flex-wrap: nowrap;\\n  }\\n\\n  .relative {\\n    position: relative;\\n  }\\n\\n  .absolute {\\n    position: absolute;\\n  }\\n\\n  .standard-block {\\n    height: var(--vhStandardBlock, 10vh);\\n  }\\n  \\n  .double-standard-block {\\n    height: var(--vhDoubleStandardBlock, 20vh);\\n  }\\n  \\n  .half-standard-block {\\n    height: var(--vhHalfStandardBlock, 5vh);\\n  }\\n  \\n  .one-and-half-standard-block {\\n    height: var(--vhOneAndHalfStandardBlock, 15vh);\\n  }\\n\\n .centred-block {\\n    display: flex;\\n    align-items: center;\\n    width: -moz-available;\\n    width: -webkit-fill-available;\\n  }\\n  \\n  .bottom-aligned {\\n    display: flex;\\n    align-items: flex-end;\\n  }\\n  \\n  .double-centred-block {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n  }\\n  \\n  .vertical-centred-block {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n  }\\n  \\n  .vertical-evenly-spaced-block {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-evenly;\\n  }\\n  \\n  .horizontal-evenly-spaced-block {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-evenly;\\n  }\\n\\n  .margin-all {\\n    margin: .5rem !important;\\n  }\\n  \\n  .margin-top {\\n    margin-top: .5rem !important;\\n  }\\n  \\n  .margin-right {\\n    margin-right: .5rem !important;\\n  }\\n  \\n  .half-margin-right {\\n    margin-right: .25rem !important;\\n  }\\n  \\n  .double-margin-right {\\n    margin-right: 1rem !important;\\n  }\\n  \\n  .margin-bottom {\\n    margin-bottom: .5rem !important;\\n  }\\n  \\n  .margin-left {\\n    margin-left: .5rem !important;\\n  }\\n  \\n  .half-margin-left {\\n    margin-left: .25rem !important;\\n  }\\n  \\n  .padding {\\n    padding: .5rem;\\n  }\\n  \\n  \\n  .half-padding {\\n    padding: .25rem;\\n  }\\n  \\n  .padding-top {\\n    padding-top: .5rem;\\n  }\\n  \\n  .padding-right {\\n    padding-right: .5rem;\\n  }\\n  \\n  .padding-bottom {\\n    padding-bottom: .5rem;\\n  }\\n  \\n  .padding-left {\\n    padding-left: .5rem;\\n  }\\n\\n  .custom-control {\\n    display: flex;\\n    align-items: center;\\n  }\\n  \\n  .custom-checkbox .custom-control-input:checked ~ .custom-control-label::before {\\n    background-color: rgb(98, 127, 134);\\n  }\\n  \\n  .custom-checkbox\\n    .custom-control-input:disabled:checked\\n    ~ .custom-control-label::before {\\n    background-color: rgba(41, 108, 44, 0.3);\\n    pointer-events: none;\\n  }\\n  \\n  .custom-checkbox input {\\n    margin: 0 0.5rem 0 0;\\n  }\\n\\n  .show {\\n    display: inline;\\n  }\\n  \\n  .hide {\\n    display: none;\\n  }\\n  \\n  .hide-important {\\n    display: none !important;\\n  }\\n\\n\\n  .visually-hidden:not(:focus):not(:active) {\\n    position: absolute !important;\\n    height: 1px; \\n    width: 1px;\\n    overflow: hidden;\\n    clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\\n    clip: rect(1px, 1px, 1px, 1px);\\n    white-space: nowrap; /* added line */\\n}\\n  \\n  .underline-link {\\n    color: var(--snap-youtube-green);\\n    cursor: pointer;\\n    display: inline-block;\\n    line-height: 1.8;\\n    pointer-events: initial;\\n  }\\n\\n  .underline-link:hover, .underline-link:focus {\\n    color: var(--snap-text-black);\\n  }\\n\\n  .underline-link:focus {\\n    outline: 1px solid var(--snap-border-medium); /* must put something back! */\\n  }\\n\\n  .underline-link-left-margin {\\n    margin-left: -.25rem;\\n  }\\n\\n  a.underline-link, a.underline-link:hover, a.underline-link:active, a.underline-link:focus {\\n    color: var(--blue) !important;\\n    border-color: transparent;\\n  }\\n\\n  a.underline-link:hover, a.underline-link:active, a.underline-link:focus {\\n    border-color: var(--blue) !important;\\n  }\\n\\n  .full-width {\\n    width: 100%;\\n  }\\n\\n  .cursor-pointer {\\n    cursor: pointer;\\n  }\\n\\n  .border-top {\\n    border-bottom: 1px solid var(--snap-border-light);\\n  }\\n\\n  .border-right {\\n    border-right: 1px solid var(--snap-border-light);\\n  }\\n\\n  .border-bottom {\\n    border-bottom: 1px solid var(--snap-border-light);\\n  }\\n\\n  .border-left {\\n    border-left: 1px solid var(--snap-border-light);\\n  }\\n\\n  .justify-space-between {\\n    justify-content: space-between;\\n  }\\n\\n  .justify-end {\\n    justify-content: flex-end;\\n  }\\n\\n  .small-text {\\n    font-size: .8rem !important;\\n  }\\n\\n  .smaller-text {\\n    font-size: .7rem !important;\\n  }\\n\\n  .extra-small-text {\\n    font-size: .6rem !important;\\n  }\\n\\n  .large-text {\\n    font-size: 1.2rem !important;\\n  }\\n\\n  .extra-large-text {\\n    font-size: 1.5rem !important;\\n  }\\n\\n  .capitalise {\\n    text-transform: capitalize;\\n  }\\n  \\n  .uppercase {\\n    text-transform: uppercase;\\n  }\\n  \\n  .line-through {\\n    text-decoration: line-through;\\n  }\\n\\n  .modal-background-relief {\\n    background-color: var(--snap-species-highlight-background);\\n  }\\n\\n  .modal-background-relief-emphasis {\\n    border: 1px solid var(--snap-success) !important;\\n  }\\n\\n  .border-light {\\n    border: 1px solid var(--snap-success-light) !important;\\n  }\\n\\n  .border-medium {\\n    border: 1px solid var(--snap-border-medium);\\n  }\\n\\n  .vertical-block {\\n    display: flex;\\n    flex-direction: column;\\n  }\\n\\n  .emphasis {\\n    font-weight: bold;\\n    letter-spacing: .03rem;\\n  }\\n  \\n  .absolute-bottom {\\n    position: absolute;\\n    bottom: .5rem;\\n  }\\n\\n  .answer-response {\\n    margin: 0 0 0 .25rem;\\n  }\\n\\n  .col-count-2 {\\n    column-count: 2;\\n  }\\n\\n  .col-count-3 {\\n    column-count: 3;\\n  }\\n\\n  .col-count-4 {\\n    column-count: 4;\\n  }\\n\\n  .col-count-5 {\\n    column-count: 5;\\n  }\\n\\n  .col-count-6 {\\n    column-count: 6;\\n  }\\n\\n  .nowrap {\\n    white-space: nowrap;\\n  }\\n  \\n  .snap-inactive {\\n    color: var(--snap-inactive) !important;\\n    pointer-events: none !important;\\n  }\\n\\n  .black-text {\\n    color: var(--snap-text-black);\\n  }\\n\\n  /* If set to display inline, would width automatically be determined by the text they contain? each span vs div */\\n  .fit-width {\\n    width: intrinsic;           /* Safari/WebKit uses a non-standard name */\\n    width: -moz-max-content;    /* Firefox/Gecko */\\n    width: -webkit-max-content; /* Chrome */\\n  }\\n\\n  .sr-only {\\n    position: absolute;\\n    width: 1px;\\n    height: 1px;\\n    padding: 0;\\n    margin: -1px;\\n    overflow: hidden;\\n    clip: rect(0, 0, 0, 0);\\n    border: 0;\\n  }  \\n\\n  .super {\\n    vertical-align: super;\\n    font-size: .8em;\\n  }  \\n\\n/* https://css-tricks.com/styling-cross-browser-compatible-range-inputs-css/ */\\n\\n/* \\n  input[type=range] {\\n    -webkit-appearance: none;\\n    margin: 18px 0;\\n    width: 100%;\\n  }\\n  input[type=range]:focus {\\n    outline: none;\\n  }\\n  input[type=range]::-webkit-slider-runnable-track {\\n    width: 100%;\\n    height: 8.4px;\\n    cursor: pointer;\\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n    background: #3071a9;\\n    border-radius: 1.3px;\\n    border: 0.2px solid #010101;\\n  }\\n  input[type=range]::-webkit-slider-thumb {\\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n    border: 1px solid #000000;\\n    height: 36px;\\n    width: 16px;\\n    border-radius: 3px;\\n    background: #ffffff;\\n    cursor: pointer;\\n    -webkit-appearance: none;\\n    margin-top: -14px;\\n  }\\n  input[type=range]:focus::-webkit-slider-runnable-track {\\n    background: #367ebd;\\n  }\\n  input[type=range]::-moz-range-track {\\n    width: 100%;\\n    height: 8.4px;\\n    cursor: pointer;\\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n    background: #3071a9;\\n    border-radius: 1.3px;\\n    border: 0.2px solid #010101;\\n  }\\n  input[type=range]::-moz-range-thumb {\\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n    border: 1px solid #000000;\\n    height: 36px;\\n    width: 16px;\\n    border-radius: 3px;\\n    background: #ffffff;\\n    cursor: pointer;\\n  }\\n  input[type=range]::-ms-track {\\n    width: 100%;\\n    height: 8.4px;\\n    cursor: pointer;\\n    background: transparent;\\n    border-color: transparent;\\n    border-width: 16px 0;\\n    color: transparent;\\n  }\\n  input[type=range]::-ms-fill-lower {\\n    background: #2a6495;\\n    border: 0.2px solid #010101;\\n    border-radius: 2.6px;\\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n  }\\n  input[type=range]::-ms-fill-upper {\\n    background: #3071a9;\\n    border: 0.2px solid #010101;\\n    border-radius: 2.6px;\\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n  }\\n  input[type=range]::-ms-thumb {\\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\\n    border: 1px solid #000000;\\n    height: 36px;\\n    width: 16px;\\n    border-radius: 3px;\\n    background: #ffffff;\\n    cursor: pointer;\\n  }\\n  input[type=range]:focus::-ms-fill-lower {\\n    background: #3071a9;\\n  }\\n  input[type=range]:focus::-ms-fill-upper {\\n    background: #367ebd;\\n  } */\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":root {\\n\\n    --snap-lesson-row-blue: rgb(218, 230, 237);\\n    --snap-lesson-row-green: rgb(216, 223, 210);\\n\\n    --snap-dd-non-taxa-bg-intial: rgb(197, 193, 175);\\n    --snap-dd-non-taxa-bg-hover: rgb(229, 227, 220);\\n    --snap-dd-non-taxa-bg-active: rgb(229, 227, 220);\\n\\n    --snap-text-black: rgb(30,30,30);\\n    --snap-text-dark: rgb(60, 60, 60);\\n    --snap-text-dark-medium-dark: rgb(50, 50, 50);\\n    --snap-text-medium-dark: rgb(65, 65, 65);\\n    --snap-text-medium-dark-hover: rgb(108, 114, 120);\\n    --snap-text-medium-light:rgb(73, 80, 87);\\n    --snap-text-light:rgb(245, 245, 245);\\n    --snap-text-green: rgb(16, 66, 28);\\n    \\n    --snap-portrait: rgb(179, 197, 174);\\n    --snap-landscape: rgb(185, 200, 204);\\n    \\n    --snap-collection: rgb(87, 97, 99);\\n    --snap-collection-active: rgb(95, 125, 89);    \\n    --snap-collection-light: rgb(117, 126, 126);\\n    --snap-collection-faint: rgb(240, 242, 235);\\n    --snap-non-taxa: rgb(165, 159, 131);\\n\\n    --snap-active: rgb(246, 157, 53);\\n    --snap-alert: rgb(197, 59, 67);\\n    --snap-alert-medium: rgb(225, 155, 155);\\n    --snap-alert-light: rgb(241, 229, 225);\\n    --snap-inactive: rgba(7, 2, 2, 0.4);\\n    --snap-success: rgb(84, 137, 84);\\n    --snap-success-medium: rgb(169, 196, 163);\\n    --snap-success-light: rgb(216, 225, 208);\\n    \\n    --snap-link: rgb(54, 69, 82);\\n\\n    --snap-progress-bg: rgb(168, 168, 168);\\n    --snap-progress-bar: rgb(255, 255, 255);\\n  \\n    --snap-block-light: rgb(245, 245, 245);\\n\\n    --snap-main-background: rgb(244, 244, 244);\\n    --snap-content-background: rgb(255, 255, 243);\\n    --snap-content-background-relief: rgb(251, 251, 247);\\n    --snap-header-background: rgb(213, 213, 210);\\n    --snap-list-header-background: rgb(252, 251, 246);\\n    --snap-row-background: rgb(240, 239, 233);\\n    \\n    --snap-taxon-card-background: rgba(52, 105, 23,.1);\\n    --snap-species-highlight-background: rgb(249, 248, 238);\\n    --snap-species-header-background: rgb(226, 222, 180);\\n    --snap-species-header-dark-background: rgb(146, 139, 56);\\n    \\n    --snap-btn-auxillary: rgb(96, 117, 90);\\n    --snap-btn-hover: rgb(240, 240, 240);\\n    \\n    --snap-btn-dropdown: rgb(252, 193, 186);\\n    --snap-btn-dropdown-options: rgb(254, 240, 229);\\n\\n    --snap-btn-blue: rgb(54, 69, 82);\\n    --snap-snap-action-btn: rgb(245, 245, 245);\\n\\n    --snap-tertiary-background: rgb(95, 125, 89);\\n\\n    --snap-btn-filter-on: rgb(214, 208, 213);\\n    --snap-btn-filter-off: rgb(235, 231, 228);\\n\\n    --snap-border-light: rgb(175,175,175);\\n    --snap-border-medium: rgb(211, 211, 211);\\n    --snap-border-lightest: rgb(225,225,225);\\n\\n    --snap-iconic-icon-header: rgb(193, 186, 112);\\n\\n    --snap-inat: rgb(127, 151, 122);\\n\\n    --snap-youtube-green: rgb(52, 105, 23);\\n\\n    --snap-button-light: #576163; \\n    --snap-button-main: #3c4345; \\n    --snap-button-dark: #788082; \\n  }\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export const enums = {\n  name: {\n  DESCRIPTION: 'description',\n  CIRCUMFERENCE: 'circumference',\n  EXPOSURE: 'exposure',\n  CAP_SHAPE: 'cap shape',\n  CAP_COLOUR: 'cap colour',\n  CAP_DIAMETER: 'cap diameter',\n  CAP_WIDTH: 'cap width',\n  CAP_HEIGHT: 'cap height',\n  SHELF_WIDTH: 'shelf width',\n  SHELF_THICKNESS: 'shelf tHickness',\n  ECO_TYPE: 'ecological type',\n  HOW_EDIBLE: 'how edible',\n  HYMENIUM_TYPE: 'hymenium type',\n  SPORE_PRINT_COLOUR: 'spore print colour',\n  STIPE_CHARACTER: 'stipe character',\n  STIPE_LENGTH: 'stipe length',\n  STIPE_WIDTH: 'stipe width',\n  STIPE_COLOUR: 'stipe colour',\n  GILL_ATTACHMENT: 'gill attachment',\n  FLESH: 'flesh',\n  STEM_CHARACTER: 'stem character',\n  GILL_COLOUR: 'gill colour',\n  TRUNK_COLOUR: 'trunk colour',\n  SUBSTRATE: 'substrate',\n  THALLUS_TYPE: 'thallus type',\n  RHIZINE_TYPE: 'rhizine type',\n  DISC_WIDTH: 'Width',\n  LOBE_WIDTH: 'Lobe width',\n  LOBE_LENGTH: 'Lobe length',\n  LOBE_DIAMETER: 'Lobe diameter',\n  ROLE: 'Role',\n  NATIVE: 'Native',\n  NATIVE_TO: 'Native to',\n  SYMBIOSIS: 'Symbiosis',\n  ASSOCIATE: 'associate',\n  SYMBIONTS: 'symbionts',\n  LOOKALIKES: 'look alikes',\n  ECOLOGY: 'ecology',\n  HABITAT: 'habitat',\n  TROPHIC_LEVEL: 'Trophic level',\n  ORGANISATION: 'Organisation',\n  SMELL: 'smell',\n  FRUIT_TYPE: 'Fruit type',\n  FRUIT_WIDTH: 'Fruit width',\n  FRUIT_HEIGHT: 'Fruit height',\n  FRUIT_DIAMETER: 'Fruit diameter',\n  FRUIT_LENGTH: 'Fruit length',\n  FRUIT_COLOUR: 'Fruit colour',\n  FRUIT_TEXTURE: 'Fruit texture',\n  BRANCH_TEXTURE: 'Branch texture',\n  FRUIT_SURFACE: 'Fruit surface',\n  SEED_DISPERSAL: 'Seed dispersal',\n  VITAMINS: 'vitamins',\n  STAMEN_COUNT: 'Stamen count',\n  STYLE_COUNT: 'Style count',\n  LEAFLET_COUNT: 'Leaflet count',\n  LOBE_COUNT: 'Lobe count',\n  LEAFLET_LENGTH: 'Leaflet length',\n  LEAFLET_WIDTH: 'Leaflet width',\n  GROUPING: 'grouping',\n  MEDICINAL_PROPERTIES: 'Medicinal properties',\n  COLOUR: 'Colour',\n  USAGE: 'Usage',\n  FORM: 'Form',\n  LIFE_SPAN: 'Life span',\n  GERMINATION: 'Germination',\n  ACTIVE: 'Active',\n  SUBSTRATE_ADHERANCE: 'Substrate adherance',\n  RANK: 'UK Rank',\n  SIZE: 'Size',\n  LENGTH: 'Length',\n  VOICE: 'Voice',\n  HEIGHT: 'Height',\n  WEIGHT: 'Weight',\n  REPRODUCTION: 'Reproduction',\n  ASEXUAL_REPRODUCTION: 'Asexual reproduction',\n  DISPLAY: 'Display',\n  BEHAVIOUR: 'behaviour',\n  CHARACTERISTIC: 'Characteristic',\n  COMMUNICATION: 'Communication',\n  SHELTER: 'Shelter',\n  DISEASE: 'Disease',\n  THREAT: 'Threat',\n  FOOD: 'Food',\n  SEXUAL_DIMORPHISM: 'Sexual dimorphism',\n  WING_SPAN: 'Wing span',\n  TREE_SHAPE: 'Tree shape',\n  CROWN_SHAPE: 'Crown shape',\n  LEAF_DIVISION: 'Leaf division',\n  LEAFLET_DIVISION: 'Leaflet division',\n  LEAF_BLADE: 'Leaf blade',\n  LEAF_VARIATION: 'Leaf variation',\n  LEAF_SHAPE: 'Leaf shape',\n  JUVENILE_LEAF_SHAPE: 'Juvenile leaf shape',\n  LEAF_MARGIN: 'Leaf margin',\n  LEAF_ARRANGEMENT: 'Leaf arrangement',\n  LEAF_ATTACHMENT: 'Leaf attachment',\n  LEAF_LENGTH: 'Leaf length',\n  AWN_LENGTH: 'Awn length',\n  JUVENILE_LEAF_LENGTH: 'Juvenile leaf length',\n  LEAF_WIDTH: 'Leaf width',\n  LEAF_COLOUR: 'Leaf colour',\n  LEAF_SURFACE: 'Leaf surface',\n  LEAF_ABOVE_SURFACE: 'Leaf above surface',\n  LEAF_BELOW_SURFACE: 'Leaf below surface',\n  LEAF_TEXTURE: 'Leaf texture',\n  JUVENILE_TEXTURE: 'Juvenile leaf texture',\n  LEAF_SHAPE: 'Leaf shape',\n  LEAFLET_SHAPE: 'Leaflet shape',\n  LEAF_BELOW_COLOUR: 'Leaf below colour',\n  LEAF_ABOVE_COLOUR: 'Leaf above colour',\n  LEAF_VENATION: 'Leaf venation',\n  LEAF_BUNDLE_COUNT: 'Leaf bundle count',\n  LEAF_FEATURES: 'Leaf features',\n  LEAF_FOLDING: 'Leaf folding',\n  BRANCH_ARRANGEMENT: 'Branch arrangement',\n  STALK_HEIGHT: 'Stalk height',\n  STEM_HEIGHT: 'Stem height',\n  SCAPE_HEIGHT: 'Scape height',\n  STEM_DIAMETER: 'Stem diameter',\n  TRUNK_DIAMETER: 'Trunk diameter',\n  BRACT_COLOUR: 'Bract colour',\n  BRACT_LENGTH: 'Bract length',\n  PETIOLE_LENGTH: 'Petiole length',\n  FLOWER_DIAMETER: 'Flower diameter',\n  FLOWER_LENGTH: 'Flower length',\n  FLOWER_COLOUR: 'Flower colour',\n  FLOWER_SHAPE: 'Flower shape',\n  PETAL_COUNT: 'Petal count',\n  LEAFLET_COUNT: 'Leaflet count',\n  PETAL_LENGTH: 'Petal length',\n  PETAL_WIDTH: 'Petal width',\n  PETAL_COLOUR: 'Petal colour',\n  SEPAL_COUNT: 'Sepal count',\n  INFLORESCENCE: 'Inflorescence',\n  FEMALE_CONE_LENGTH: 'Female cone length',\n  MALE_CONE_LENGTH: 'Male cone length',\n  CONE_LENGTH: 'Cone length',\n  FEMALE_CONE_WIDTH: 'Female cone width',\n  MALE_CONE_WIDTH: 'Male cone width',\n  BULB_WIDTH: 'Bulb width',\n  CONE_WIDTH: 'Cone width',\n  CONE_DIAMETER: 'Cone diameter',\n  CONE_COLOUR: 'Cone colour',\n  CONE_SHAPE: 'Cone shape',\n  MALE_CONE_COLOUR: 'Male cone colour',\n  FEMALE_CONE_COLOUR: 'Female cone colour',\n  CONE_SCALE_COUNT: 'Cone scale count',\n  BARK_TYPE: 'Bark type',\n  BARK_TEXTURE: 'Bark texture',\n  CAP_TEXTURE: 'Cap texture',\n  BARK_COLOUR: 'Bark colour',\n  ALLOCHORY: 'Allochory',\n  REPRODUCTIVE_CONTAINER: 'Reproductive container',\n  CATERPILLAR_FOOD: 'Caterpillar food',\n  CATERPILLAR_LENGTH: 'Caterpillar length',\n  CATERPILLAR_COLOUR: 'Caterpillar colour',\n  HIBERNATING_STAGE: 'Hibernating stage',\n  PHYSIOLOGY: 'Physiology',\n  MATING: 'Mating season',\n  MATING_SYSTEM: 'mating system',\n  PREGNANCY: 'Pregnancy',\n  LITTER_SIZE: 'Litter size',\n  JUVENILE: 'Juvenile',\n  GESTATION: 'Gestation',\n  WEANING: 'Weaning',\n  LACTATION: 'Lactation',\n  SENSORY_ACUITY: 'Sensory acuity',\n  CRYPSIS: 'Crypsis',\n  CACHE_SIZE: 'Number of caches',\n  COLLECTIVE: 'Collective',\n  FEMALE: 'Female',\n  MALE: 'Male',\n  TAIL_LENGTH: 'Tail length',\n  MAX_SPEED: 'Maximum speed',\n  DIET: 'Diet',\n  ALTRICIAL: 'Altricial',\n  MOULTING: 'Moulting',\n  MATURITY: 'Maturity',\n  FUNGUS_MARGIN_TYPE: 'Fungus margin type',\n  SOIL_TYPE: 'Soil type',\n  PH: 'pH',\n  PH_VALUE: 'pH value',\n  LICEN_CUP_COLOUR: 'Licen cup colour',\n  RIM: 'Rim',\n  CENTRE: 'Centre',\n  POLLINATION: 'Pollination',\n  PROPAGATION: 'Propagation',\n  CLIMATE: 'Climate',\n  SONG: 'Song',\n  DIAMETER: 'diameter',\n  NUT_TYPE: 'nut type',\n  TREE_ECOLOGY: 'Tree ecology',\n  KEY_FEATURE: 'Key feature', \n  GILL_ATTACHMENT : 'gill attachment',\n  MUSHROOM_GROUP : 'Mushroom group',\n  QUEEN_LENGTH: 'Queen length',\n  QUEEN_WINGSPAN: 'Queen wingspan',\n  QUEEN_WEIGHT: 'Queen weight',\n  WORKER_LENGTH: 'Worker length',\n  WORKER_WINGSPAN: 'Worker wingspan',\n  WORKER_WEIGHT: 'Worker weight',\n  MALE_LENGTH: 'Male length',\n  MALE_WINGSPAN: 'Male wingspan',\n  MALE_WEIGHT: 'Male weight',\n  COLONY_SIZE: 'colony size',\n  TONGUE_LENGTH: 'Tongue length',\n  INFRUCTESCENCE_LENGTH: 'Infructescence length',\n  INFRUCTESCENCE_WIDTH: 'Infructescence width',\n  UMBEL_DIAMETER: 'Umbel diameter',\n  WIDTH: 'Width',\n  BREADTH: 'Breadth',\n  UMBEL_TYPE: 'Umbel type',\n  },\n  howEdible: {\n  help: 'How edible is this species?',\n  CHOICE: 'Choice',\n  EDIBLE: 'Edible',\n  INEDIBLE: 'Inedible',\n  POISONOUS: 'Poisonous',\n  DEADLY: 'Deadly',\n  TOXIC: 'Toxic',\n  type: 'howEdible',\n  name: 'how edible'\n  },\n  habitat: {\n  help: 'What is the habitat of this species?',\n  WOOD: 'Wood',\n  WOODLAND: 'Woodland',\n  WOODLAND_LITTER: 'Woodland litter',\n  GRASSLAND: 'Grassland',\n  SOIL: 'Soil',\n  VEGETATION: 'Vegetation',\n  DUNG: 'Dung',\n  DUNES: 'Dunes',\n  WIDESPREAD: 'Widespread',\n  DEAD_WOOD: 'Dead wood',\n  WASTELAND: 'Wasteland',\n  MEADOW: 'Meadow',\n  FIELDS: 'Fields',\n  MOSS: 'Moss',\n  PASTURE: 'Pasture',\n  BARK: 'Bark',\n  SHOOTS: 'Shoots',\n  COMMONS: 'Common',\n  HEATH: 'Heath',\n  ORCHARDS: 'Orchards',\n  HEDGEROWS: 'Hedgerows',\n  LAWNS: 'Lawns',\n  RINGS: 'Rings',\n  DAMP: 'Damp',\n  TREE_BASE: 'Tree base',\n  FOREST_EDGE: 'Forest edge',\n  PARKS: 'Parks',\n  TRUNKS: 'Trunks',\n  STUMPS: 'Stumps',\n  ROCKS: 'Rocks',\n  FENCES: 'Fences',\n  TREES: 'Trees',\n  SHRUBS: 'Shrubs',\n  SHRUBLAND: 'Shrubland',\n  MARSHLAND: 'Marshland',\n  EXPOSED_WOOD: 'Exposed wood',\n  BRANCHES: 'Branches',\n  HILLS: 'Hills',\n  URBAN: 'Urban',\n  VALLEYS: 'Valleys',\n  MAQUIS: 'Maquis',\n  SAVANNA: 'Savanna',\n  FOREST_STEPPE: 'Forest steppe',\n  MEADOW_STEPPE: 'meadow steppe',\n  BOREAL: 'Boreal',\n  SCRUB: 'Scrub',\n  WALLS: 'Walls',\n  MOORLAND: 'Moorland',\n  COAST: 'Coast',\n  BRUSH: 'Brush',\n  WATER: 'Water',\n  SNOW: 'Snow',\n  NO_SNOW: 'No snow',\n  CONIFERS: 'conifers',\n  BROAD_LEAF: 'broad-leaf',\n  PINE: 'pine',\n  BEECH: 'beech',\n  OAK: 'oak',\n  DITCH: 'Ditch',\n  WET_MEADOW: 'Wet meadow',\n  LAKESIDE: 'Lakeside',\n  RIPERIAN: 'Riperian',\n  WETLANDS: 'Wetlands'\n  },\n  ecologicalType: {\n  help: 'What is the ecological type of this mushroom?',\n  SAPROTROPHIC: 'Saprotrophic',\n  PARASITIC: 'Parasitic',\n  MYCORRHIZAL: 'Mycorrhizal',\n  PLANT_PATHOGEN: 'Plant pathogen',  \n  },\n  capShape: {\n  help: 'How would you describe the pileus?',\n  \n  CAMPANULATE: 'Campanulate',\n  CONICAL: 'Conical',\n  CONVEX: 'Convex',\n  DEPRESSED: 'Depressed',\n  FLAT: 'Flat',\n  INFUNDIBULIFORM: 'Infundibuliform',\n  OFFSET: 'Offset',\n  OVATE: 'Ovate',\n  UMBILLICATE: 'Umbillicate',\n  UMBONATE: 'Umbonate',\n  \n  POTATO_SHAPED: 'Potato shaped',\n  NA: 'N/A',\n  SPHERICAL: 'Spherical',\n  PEAR_SHAPED: 'Pear shaped',\n  BRAIN_LIKE: 'Brain-like',\n  HONEYCOMB: 'Honeycomb',\n  HEMI_SPHERICAL: 'Hemispherical',\n  type: 'capShape',\n  name: 'cap shape'\n  },\n  treeEcology: {\n  OAK: 'Oak',\n  BEECH: 'Beech',\n  BIRCH: 'Birch',\n  DECIDUOUS: 'Deciduous',\n  SOFTWOOD: 'Softwood',\n  HARDWOOD: 'Hardwood',\n  MIXED_WOODLAND: 'Mixed woodland',\n  CONIFEROUS: 'Coniferous',\n  PINE: 'Pine',\n  ELM: 'Elm',\n  ASH: 'Ash',\n  SYCAMORE: 'Sycamore',\n  ASPEN: 'Aspen',\n  ELDER: 'Elder',\n  CHESTNUT: 'Chestnut',\n  HARDWOODS: 'Hardwoods',\n  PRUNUS: 'Prunus',\n  PYRUS: 'Pyrus',\n  SALIX: 'Salix',\n  ROBINIA: 'Robinia',\n  CERATONIA: 'Ceratonia',\n  EUCALYPTUS: 'Eucalyptus',\n  BROAD_LEAF: 'Broad-leaf',\n  SWEET_CHESTNUT: 'Sweet chestnut',\n  POPLAR: 'Poplar',\n  CORK: 'Cork',\n  FIR: 'Fir',\n  SPRUCE: 'Spruce',\n  PLANE: 'Plane',\n  WILLOW: 'Willow',\n  MAPLE: 'Maple',\n  LARCH: 'Larch',\n  CEDAR: 'Cedar',\n  YEW: 'Yew',\n  TURKEY_OAK: 'Turkey oak',\n  HAWTHORN: 'Hawthorn',\n  BUSH: 'Bush',\n  SHRUB: 'Shrub',\n  },\n  hymeniumType: {\n  help: 'What is the hymenium type?',\n  GILLS: 'Gills',\n  PORES: 'Pores',\n  GLEBA: 'Gleba',\n  SMOOTH: 'Smooth',\n  TEETH: 'Teeth',\n  RIDGES: 'Ridges',\n  FALSE_GILLS: 'False gills',\n  },\n  associate: {\n  ALGA: 'Alga',\n  CYNOBACTERIUM: 'Cyanobacterium',\n  FUNGUS: 'Fungus',\n  type: 'associate',\n  name: 'associate'\n  },\n  thallusType: {\n  help: 'What is this lichen\\'s thallus type?',\n  FOLIOSE: 'Foliose',\n  FRUTICOSE: 'Fruticose',\n  CRUSTOSE: 'Crustose',\n  SQUAMULOSE: 'Squamulose',\n  LEPROSE: 'Leprose',\n  EPIPHYTE: 'Epiphyte',\n  type: 'thallusType',\n  name: 'thallus type'\n  },\n  rhizineType: {\n  SPARSE: 'Sparse',\n  HAPTER: 'Hapter',\n  type: 'rhizineType',\n  name: 'rhizine type'\n  },\n  substrate: {\n  WOOD: 'Wood',\n  BARK: 'Bark',\n  ROCKS: 'Rocks',\n  SOIL: 'Soil',\n  type: 'substrate',\n  name: 'substrate'\n  },\n  level: {\n  HIGH: 'High',\n  MEDIUM: 'Medium',\n  LOW: 'Low',\n  VARIABLE: 'Variable',\n  type: 'level',\n  name: 'level'\n  },\n  medicinalProperties: {\n  ANTIVIRAL: 'Antiviral',\n  ANTISEPTIC: 'Antiseptic',\n  ANTI_INFLAMMATORY: 'Anti-inflammatory',\n  ANTIBIOTIC: 'Antibiotic',\n  ANLAGESIC: 'Analgesic',\n  ANTIBACTERIAL: 'Antibacterial',\n  ANTICOAGULANT: 'Anticoagulant',\n  ANTIFUNGAL: 'Antifungal',\n  type: 'medicinalProperties',\n  name: 'medicinal properties'\n  },\n  ph: {\n  ACIDIC: 'Acidic',\n  ALKALINE: 'Alkaline',\n  NEUTRAL: 'Neutral',\n  type: 'pHLevel',\n  name: 'ph level'\n  },\n  colour: {\n  // help: 'Which colour best describes this species?',\n  LILAC: 'Lilac',\n  BUFF: 'Buff',\n  WHITE: 'White',\n  YELLOW: 'Yellow',\n  DARK_GREEN: 'Dark green',\n  GREEN: 'Green',\n  WHITE_GREEN: 'White-green',\n  BRIGHT_GREEN: 'Bright green',\n  OLIVE_GREEN: 'Olive-green',\n  BRIGHT_YELLOW_GREEN: 'Bright yellow-green',\n  YELLOW_GREEN: 'Yellow-green',\n  YELLOW_BROWN: 'Yellow-brown',\n  PURPLE_BROWN: 'Purple-brown',\n  GREY_BROWN: 'Grey-brown',\n  DARK_YELLOW: 'Dark yellow',\n  DARK_RED: 'Dark red',\n  DARK_PINK: 'Dark pink',\n  ORANGE: 'Orange',\n  SCARLET: 'scarlet',\n  BLOOD_RANGE: 'Blood orange',\n  RED: 'Red',\n  RED_BROWN: 'Red-brown',\n  ORANGE_RED: 'Orange-red',\n  GREY: 'Grey',\n  PALE_GREY: 'Pale grey',\n  PALE_BROWN: 'Pale brown',\n  GREY_GREEN: 'Grey-green',\n  GREY_WHITE: 'Grey-white',\n  BROWN: 'Brown',\n  CHESTNUT_BROWN: 'Chestnut brown',\n  PAPER_BROWN: 'Paper brown',\n  BLACK: 'Black',\n  BLUE: 'Blue',\n  PALE_BLUE: 'Pale blue',\n  BLUE_BLACK: 'Blue-black',\n  JET_BLACK: 'Jet-black',\n  BLUE_GREEN: 'Blue-green',\n  VIOLET: 'Violet',\n  BURGUNDY: 'Burgundy',\n  PALE_VIOLET: 'Pale violet',\n  VIOLET_PURPLE: 'Violet purple',\n  PALE_GREEN: 'Pale green',\n  PALE_YELLOW: 'Pale yellow',\n  PALE_YELLOW_GREEN: 'Pale yellow-green',\n  PALE_GREY_GREEN: 'Pale yellow-green',\n  GLAUCOUS: 'Glaucous',\n  GREY_YELLOW: 'Grey-yellow',\n  ORANGE_YELLOW: 'Orange-yellow',\n  CREAM: 'Cream',\n  CHALKY: 'Chalky',\n  PINK: 'Pink',\n  PALE_PINK: 'Pale pink',\n  PURPLE: 'Purple',\n  PALE_PURPLE: 'Pale purple',\n  DARK_PURPLE: 'Dark purple',\n  TAN: 'Tan',\n  DARK_BROWN: 'Dark brown',\n  HONEY: 'Honey',\n  RED_PURPLE: 'Red-purple',\n  type: 'colour',\n  name: 'colour'\n  },\n  usage: {\n  help: 'To what use do humans put this species?',\n  PERFUMERY: 'Perfumery',\n  TANNING: 'Tanning',\n  DYING: 'Dying',\n  BREWING: 'Brewing',\n  FOOD: 'Food',\n  WINE: 'Wine',\n  COFFEE: 'Coffee',\n  TEA: 'Tea',\n  BIRDS_NEST: 'Bird\\'s nest',\n  POISON: 'Poison',\n  FODDER: 'Fodder',\n  FORAGE: 'Forage',\n  GREEN_MANURE: 'Green manure',\n  MEDICINE: 'Medicine',\n  FUR: 'Fur',\n  TIMBER: 'Timber',\n  PEST_CONTROL: 'Pest control',\n  HERB: 'Herb',\n  SPICE: 'Spice',\n  ESSENTIAL_OIL: 'Essential oil',\n  MORDANT: 'Mordant',\n  ASTRINGENT: 'Astringent'\n  },\n  nonTaxaType: {\n  FORM: 'Form',\n  type: 'nonTaxaType',\n  name: 'non taxa type'\n  },\n  element: {\n  NITROGEN: 'Nitrogen',\n  SULPUR_DIOXIDE: 'Sulpur dioxide',\n  type: 'element',\n  name: 'element'\n  },\n  leafBlade: {\n  SIMPLE: 'Simple ',\n  COMPOUND: 'Compound',\n  type: 'leaf blade',\n  name: 'leaf blade'\n  },\n  leafDivision: {\n  PALMATE: 'Palmate',\n  COMPOUND_PALMATE: 'Compound Palmate',\n  PALMATELY_LOBED: 'Palmately lobed',\n  PINNATE: 'Pinnate',\n  COMPOUND_PINNATE: 'Compound Pinnate',\n  ODD_PINNATE: 'Odd pinnate',\n  EVEN_PINNATE: 'Even pinnate',\n  BIPINNATE: 'Bipinnate',\n  COMPOUND_BIPINNATE: 'Compound Bipinnate',\n  TRIFOLIATE: 'Trifoliate',\n  PINNATIFID: 'Pinnatifid',\n  TRIPINNATE: 'Tripinnate',\n  SIMPLE: 'Simple ',\n  COMPOUND: 'Compound',\n  IMPARIPINNATE: 'Imparipinnate',\n  PARIPINNATE: 'Paripinnate',\n  },\n  leafletDivision: {\n  PALMATE: 'Palmate',\n  COMPOUND_PALMATE: 'Compound Palmate',\n  PALMATELY_LOBED: 'Palmately lobed',\n  PINNATE: 'Pinnate',\n  COMPOUND_PINNATE: 'Compound Pinnate',\n  ODD_PINNATE: 'Odd pinnate',\n  EVEN_PINNATE: 'Even pinnate',\n  BIPINNATE: 'Bipinnate',\n  COMPOUND_BIPINNATE: 'Compound Bipinnate',\n  TRIFOLIATE: 'Trifoliate',\n  PINNATIFID: 'Pinnatifid',\n  TRIPINNATE: 'Tripinnate',\n  SIMPLE: 'Simple ',\n  COMPOUND: 'Compound',\n  },\n  leafVariation: {\n  HOMOBLASTIC: 'Homoblastic',\n  HETEROBLASTIC: 'Heteroblastic',\n  type: 'leafVariation',\n  name: 'leaf variation'\n  },\n  shape: {\n  LINEAR: 'Linear',\n  OVATE: 'Ovate',\n  OBLANCEOLATE: 'Oblanceolate',\n  OBOVATE: 'Obovate',\n\n  ACICULAR: 'Acicular',\n  ACUMINATE: 'acuminate',\n  ACUTE: 'acute',\n  APICULATE: 'apiculate',\n  ATTENUATE: 'attenuate',\n  AURICULATE: 'auriculate',\n  ASYMMETRICAL: 'asymmetrical',\n  CAUDATE: 'caudate',\n  CORDATE: 'cordate',\n  CUNEATE: 'cuneate',\n  CUSPIDATE: 'cuspidate',\n  DELTOID: 'deltoid',\n  DIGITATE: 'digitate',\n  ELLIPTIC: 'elliptic',\n  ENSIFORM: 'ensiform',\n  EMARGINATE: 'emarginate',\n  FALCATE: 'falcate',\n  FENESTRATE: 'fenestrate',\n  FILIFORM: 'filiform',\n  FLABELLATE: 'flabellate',\n  HASTATE: 'hastate',\n  LACINIATE: 'laciniate',\n  LANCEOLATE: 'lanceolate',\n  LAMINAR: 'laminar',\n  LINEAR: 'linear',\n  LOBED: 'lobed',\n  LORATE: 'lorate',\n  LYRATE: 'lyrate',\n  MUCRONATE: 'mucronate',\n  MULTIFID: 'multifid',\n  OBCORDATE: 'obcordate',\n  OBLANCEOLATE: 'oblanceolate',\n  OBLIQUE: 'oblique',\n  OBLONG: 'oblong',\n  OBOVATE: 'obovate',\n  OBTRULLATE: 'obtrullate',\n  OBTUSE: 'obtuse',\n  ORBICULAR: 'orbicular',\n  OVATE: 'ovate',\n  PALMATE: 'palmate',\n  PALMATELY_LOBED: 'palmately lobed',\n  PALMATIFID: 'palmatifid',\n  PALMATIPARTITE: 'palmatipartite',\n  PALMATISECT: 'palmatisect',\n  PANDURATE: 'pandurate',\n  PEDATE: 'pedate',\n  PELTATE: 'peltate',\n  PERFOLIATE: 'perfoliate',\n  PERFORATE: 'perforate',\n  PINNATELY_LOBED: 'pinnately lobed',\n  PINNATIFID: 'pinnatifid',\n  PINNATIPARTITE: 'pinnatipartite',\n  PINNATISECT: 'pinnatisect',\n  PLICATE: 'plicate',\n  RENIFORM: 'reniform',\n  RETUSE: 'retuse',\n  RHOMBOID: 'rhomboid',\n  ROUNDED: 'rounded',\n  TRIANGULAR: 'Triangular',\n  QUADRANGULAR: 'Quadrangular',\n  SEMITERETE: 'semiterete',\n  SINUATE: 'sinuate',\n  SAGITTATE: 'sagittate',\n  SPATULATE: 'spatulate',\n  SPEAR_SHAPED: 'spear-shaped',\n  SUBOBTUSE: 'subobtuse',\n  SUBULATE: 'subulate',\n  TERETE: 'terete',\n  TRULLATE: 'trullate',\n  TRUNCATE: 'truncate',\n  UNDULATE: 'undulate',\n  UNIFOLIATE: 'unifoliate',\n  FLAT: 'Flat',\n  NEEDLE: 'Needle',\n  },\n  reproduction: {\n  SELF_POLLINATION: 'Self-pollination',\n  CROSS_POLLINATION: 'Cross-pollination',\n  type: 'reproduction',\n  name: 'reproduction'\n  },\n  asexualReproduction: {\n  BUDDING: 'budding',\n  FRAGMENTATION: 'fragmentation',\n  FISSION: 'fission',\n  SPORE_FORMATION: 'spore formation',\n  VEGETATIVE_PROPAGATION: 'vegetative propagation',\n  type: 'asexualReproduction',\n  name: 'asexual reproduction'\n  },\n  leafArrangement: {\n  ALTERNATE: 'Alternate',\n  BASAL: 'Basal',\n  CAULINE: 'Rosulate',\n  OPPOSITE: 'Opposite',\n  WHORLED: 'Whorled',\n  ROWS: 'Rows',\n  SPIRAL: 'Spiral',\n  OVERLAPPING: 'Overlapping',\n  INCURVED: 'Incurved',\n  DECUSSATE: 'Decussate',\n  type: 'leafArrangement',\n  name: 'leaf arrangement'\n  },\n  leafAttachment: {\n    SESSILE: 'Sessile',\n    SUBSESSILE: 'Subsessile',\n    PEDICELLATE: 'Pedicellate',\n  },\n  leafMargin: {\n  ENTIRE: 'Entire',\n  CILIATE: 'Ciliate',\n  CRENATE: 'Crenate',\n  DENTATE: 'Dentate',\n  DENTICULATE: 'Denticulate',\n  DOUBLY_SERRATE: 'Doubly serrate',\n  SERRATE: 'Serrate',  \n  SERRULATE: 'Serrulate',  \n  SINUATE: 'Sinuate',  \n  LOBATE: 'Lobate',  \n  UNDULATE: 'Undulate',  \n  SPINY: 'Spiny',  \n  SMOOTH: 'Smooth',\n  type: 'leafMargin',\n  name: 'leaf margin'\n  },\n  food: {\n  GRASS: 'Grass',\n  ROTTEN_FRUIT: 'Rotten fruit',\n  NECTAR: 'Nectar',\n  HONEYDEW: 'Honeydew',\n  SEEDS: 'Seeds',\n  NUTS: 'Nuts',\n  GRAINS: 'Grains',\n  BERRIES: 'Berries',\n  HERBAGE: 'Herbage',\n  SWARD: 'Sward',\n  LEAVES: 'Leaves',\n  WOOD: 'Wood',\n  ROOTS: 'Roots',\n  TUBERS: 'Tubers',\n  RHIZOMES: 'Rhizomes',\n  BULBS: 'Bulbs',\n  BARK: 'Bark',\n  SHOOTS: 'Shoots',\n  type: 'food',\n  name: 'food'\n  },\n  hibernatingStage: {\n  ADULT: 'Adult',\n  CATERPILLAR: 'Caterpillar',\n  PUPA: 'Pupa',\n  type: 'hibernatingStage',\n  name: 'hibernating stage'\n  },\n  symbiosis: {\n  MUTUALISM: 'Mutualism',\n  COMMENSALISM: 'Commensalism',\n  PREDATION: 'Predation',\n  PARASITISM: 'Parasitism',\n  HERBIVORY: 'Herbivory',\n  COMPETITION: 'Competition',\n  MYCORRHIZAL: 'Mycorrhizal',\n  ECTOMYCORRHIZAL: 'Ectomycorrhizal',\n  COMPANION: 'Companion planting',\n  POLLINATION: 'Pollination',\n  SEED_PREDATION: 'Seed predation',\n  type: 'symbiosis',\n  name: 'symbiosis'\n  },\n  trophicLevel: {\n  help: 'What is the trophic level or this species?',\n  PRIMARY_PRODUCER: 'Primary producer',\n  PRIMARY_CONSUMER: 'Primary consumer',\n  SECONDARY_CONSUMER: 'Secondary consumer',\n  OMNIVORE: 'Omnivore',\n  TERTIARY_CONSUMER: 'Tertiary consumer',\n  APEX_PREDATOR: 'Apex predator',\n  type: 'trophicLevel',\n  name: 'trophic level'\n  },\n  shelter: {\n  help: 'What is the name of this species`s shelter?',\n  DREY: 'Drey',\n  BURROW: 'Burrow',\n  DEN: 'Den',\n  WARREN: 'Warren',\n  SETT: 'Sett',\n  ROOKERY: 'Rookery',\n  LODGE: 'Lodge',\n  DAM: 'Dam',\n  NEST: 'Nest',\n  SHELTER: 'Shelter',\n  VEGETATION: 'vegetation',\n  type: 'shelter',\n  name: 'shelter'\n  },\n  active: {\n  help: 'When is this species most active?',\n  CREPUSCULAR: 'Crepuscular',\n  DIURNAL: 'Diurnal',\n  NOCTURNAL: 'Nocturnal',\n  MATUTINAL: 'Matutinal',\n  VESPERTINE: 'Vespertine',\n  type: 'active',\n  name: 'active'\n  },\n  juvenile: {\n  help: 'What is the name for the juvenile of this species?',\n  KIT: 'Kit',\n  SQUEAKER: 'Squeaker',\n  CUB: 'Cub',\n  KITTEN: 'Kitten',\n  CHICK: 'Chick',\n  PUP: 'Pup',\n  CALF: 'Calf',\n  DUCKLING: 'Duckling',\n  EYAS: 'Eyas',\n  MAGGOT: 'Maggot',\n  KID: 'Kid',\n  GOSLING: 'Gosling',\n  LEVERET: 'Leveret',\n  NYMPH: 'Nymph',\n  CATERPILLAR: 'Caterpillar',\n  LARVA: 'Larva',\n  SALAMANQUESA: 'Salamanquesa',\n  type: 'juvenile',\n  name: 'juvenile'\n  },\n  month: {\n  JANUARY: 'January',\n  FEBRUARY: 'February',\n  MARCH: 'March',\n  APRIL: 'April',\n  MAY: 'May',\n  JUNE: 'June',\n  JULY: 'July',\n  AUGUST: 'August',\n  SEPTEMBER: 'September',\n  OCTOBER: 'October',\n  NOVEMBER: 'November',\n  DECEMBER: 'December',\n  type: 'month',\n  name: 'month'\n  },\n  female: {\n  help: 'What is the name for a female of this species?',\n  VIXEN: 'Vixen',\n  DOE: 'Doe',\n  JILL: 'Jill',\n  BITCH: 'Bitch',\n  SOW: 'Sow',\n  HEN: 'Hen',\n  DUCK: 'Duck',\n  GOOSE: 'Goose',\n  PEN: 'Pen',\n  type: 'female',\n  name: 'female'\n  },\n  male: {\n  help: 'What is the name for a male of this species?',\n  BUCK: 'Buck',\n  DOG: 'Dog',\n  BOAR: 'Boar',\n  TOM: 'Tom',\n  JACK: 'Jack',\n  COCK: 'Cock',\n  DRAKE: 'Drake',\n  REYNARD: 'Reynard',\n  TOD: 'Tod',\n  TERCEL: 'Tercel',\n  GANDER: 'Gander',\n  COB: 'Cob',\n  type: 'male',\n  name: 'male'\n  },\n  diet: {\n  help: 'How is the diet of this species best described?',\n  HERBIVORE: 'Herbivore',\n  OMNIVORE: 'Omnivore',\n  CARNIVORE: 'Carnivore',\n  XYLOPHAGOUS: 'Xylophagous',\n  POLYPHAGOUS: 'Polyphagous',\n  type: 'diet',\n  name: 'diet'\n  },\n  fungusMarginType: {\n  ENTIRE: 'Smooth entire',\n  APPENDICULATE: 'Appendiculate',\n  UNDULATE: 'Undulate',\n  STRIATE: 'Striate',\n  PLICATE: 'Plicate',\n  RIMMOSE: 'Rimmose',\n  ERODED: 'Eroded',\n  INROLLED: 'Inrolled',\n  type: 'marginType',  \n  name: 'fungus margin type'\n  },\n  soilType: {\n  SILICEOUS: 'Siliceous',\n  CALCAREOUS: 'Calcareous',\n  NITROGENOUS: 'Nitrogenous',\n  NUTRIENT_POOR: 'Nutrient poor',\n  WELL_DRAINED: 'Well-drained',\n  WELL_WATERED: 'Well-watered',\n  LOAM: 'Loam',\n  CHALK: 'Chalk',\n  SAND: 'Sand',\n  RICH: 'Rich',\n  MOIST: 'Moist'\n  },\n  organisation: {\n  help: 'How is this species organised?',\n  EUSOCIAL: 'Eusocial',\n  SOCIAL: 'Social',\n  SOLITARY: 'Solitary',\n  MATRIARCHY: 'Matriarchy',\n  type: 'organisation',\n  name: 'organisation'\n  },\n  role: {\n  INDICATOR: 'Indicator',\n  KEYSTONE: 'Keystone',\n  FOUNDATION: 'Foundation',\n  SPECIALIST: 'Specialist',\n  GENERALIST: 'Generalist',\n  PIONEER: 'Pioneer',\n  INVASIVE: 'Invasive',\n  DOMINANT: 'Dominant',\n  POLLINATOR: 'Pollinator',\n  PREDATOR: 'Predator',\n  HERBIVORE: 'Herbivore',\n  OMNIVORE: 'Omnivore',\n  CARNIVORE: 'Carnivore',\n  GRANIVORE: 'Granivore',\n  MUCIVORE: 'Mucivore',\n  PREY: 'Prey',\n  COMPETITOR: 'Competitor',\n  HOST: 'Host',\n  CARRIER: 'Carrier',\n  RUDERAL: 'Ruderal',\n  SUPERTRAMP: 'Supertramp',\n  SYMBIONT: 'Symbiont',\n  OCCUPANT: 'Lives in',\n  PARASITE: 'Parasite',\n  COLONISER: 'Coloniser',\n  EARLY_SUCCESSION: 'early-succession',\n  SEED_DISPERSAL: 'Seed dispersal',\n  FERTILISATION: 'Fertilisation',\n  PROPAGATION: 'propagation',\n  REPRODUCTION: 'reproduction',\n  BIOINDICATOR: 'Bioindicator',\n  STRANGLER: 'Strangler',\n  FOOD_SOURCE: 'Food source',\n  EPIPHYTIC: 'Epiphytic',\n  EPIPHYTIC_STRANGLER: 'Epiphytic strangler',\n  NUTRIENT_CYCLING: 'Nutrient cycling',\n  CARBON_DIOXIDE_PRODUCTION:'Carbon dioxide production',\n  MYCOREMEDIATION: 'Mycoremediation',\n  type: 'role',\n  name: 'role'\n  },\n  fruitType: {\n  help: 'What fruit type does this plant have?',\n  DRUPE: 'Drupe',\n  POME: 'Pome',\n  BERRY: 'Berry',\n  AGGREGATE_FRUIT: 'Aggregate fruit',\n  LEGUME: 'Legume',\n  CAPSULE: 'Capsule',\n  NUT: 'Nut',\n  GRAIN: 'Grain',\n  MULTIPLE_FRUIT: 'Multiple fruit',\n  SAMARA: 'Samara',\n  ACHENE: 'Achene',\n  POD: 'Pod',\n  ARIL: 'Aril',\n  SYCONIUM: 'syconium',\n  FOLLICLE: 'Follicle',\n  SILIQUE: 'Silique',\n  type: 'fruitType',\n  name: 'fruit type'\n  },\n  inflorescence: {\n  help: 'What type of inflorescence does this plant have?',\n  CATKIN: 'catkin',\n  UMBEL: 'umbel',\n  RACEME: 'raceme',\n  CORYMB: 'corymb',\n  SPIKE: 'Spike',\n  SPADEX: 'Spadex',\n  SINGLE: 'Single',\n  PANICLE: 'Panicle',\n  CYMOSE: 'Cymose',\n  BRANCHED_SPIKE: 'Branched spike',\n  },\n  umbelType: {\n    FLAT: 'Flat',\n    SPHERICAL: 'Spherical',\n    SIMPLE: 'Simple',\n    COMPOUND: 'Compound',\n    TERMINAL: 'Terminal',\n  },\n  display: {\n  help: 'Which form of display does this species exhibit?',\n  DIEMATIC: 'Diematic',\n  SEXUAL_COLOUR_DIMORPHISM: 'Sexual colour dimorphism',\n  NO_SEXUAL_COLOUR_DIMORPHISM: 'No sexual colour dimorphism',\n  SEXUAL_DIMORPHISM: 'Sexual dimorphism',\n  NO_SEXUAL_DIMORPHISM: 'No sexual dimorphism',\n  MELANISTIC: 'Melanistic',\n  type: 'display',\n  name: 'display'\n  },\n  behaviour: {\n  help: 'This species exhibits which form of behaviour?',\n  SEXUAL_CANNIBALISM: 'Sexual cannibalism',\n  MONANDROUS: 'Monandrous',\n  VOCALISATION: 'Vocalisation',\n  CRYPSIS: 'Crypsis',\n  HOARDING: 'Hoarding',\n  HIBERNATION: 'Hibernation',\n  GAME_PLAYING: 'Game playing',\n  PLAYFUL: 'Playful',\n  TERRITORIAL: 'Territorial',\n  NON_TERRITORIAL: 'Non territorial',\n  BIPARENTAL_CARE: 'Biparental care',\n  COOPERATIVE_BREEDING: 'Cooperative breeding',\n  TOOL_MAKING: 'Tool making',\n  PROBLEM_SOLVING: 'Problem solving',\n  DIVISION_OF_LABOUR: 'Division of labour',\n  SUPERORGANISM: 'Superorganism',\n  ANAUTOGENY: 'Anautogeny',\n  MASS_PROVISIONING: 'Mass provisioning',\n  PRECOCIAL: 'Precocial',\n  ALTRICIAL: 'Altricial',\n  AUTOTOMIC: 'Autotomic',\n  ECTOTHERMIC: 'Ectothermic',\n  ADHESION: 'Adhesion',\n  POLYPHYODONT: 'Polyphyodont',\n  VIVIPAROUS: 'Viviparous',\n  REGURGITATION: 'Feeding through regurgitation',\n  MULTIVOLTINE: 'Multivoltine',\n  BIVOLTINE: 'Bivoltine',\n  UNIVOLTINE: 'Univoltine',\n  SEMIVOLTINE: 'Semivoltine',\n  METAMORPHOSIS: 'Metamorphosis',\n  RUTTING: 'Rutting',\n  WHELPING: 'Whelping',\n  FARROWING: 'Farrowing',\n  SWIMMING: 'Swimming',\n  DECUMBENT: 'Decumbent',\n  ETHYLENE_RIPENING: 'Ethylene ripening',\n  MIGRATORY: 'Migratory',\n  type: 'behaviour',\n  name: 'behaviour'\n  },\n  sense: {\n  help: 'Which sense does this species favour?',\n  SIGHT: 'Sight',\n  MOVEMENT: 'Movement',\n  SMELL: 'Smell',\n  SPATIAL: 'Spatial',\n  MEMORY: 'Memory',\n  ECHOLOCATION: 'Echolocation',\n  type: 'sense',\n  name: 'sense'\n  },\n  crypsis: {\n  CAMOUFLAGE: 'Camouflage',\n  NOCTURNALITY: 'Nocturnality',\n  SUBTERRANEAN: 'Subterranean',\n  MIMICRY: 'Mimicry',\n  VISUAL: 'Visual',\n  OLFACTORY: 'Olfactory',\n  AUDITORY: 'Auditory',\n  },\n  allochory: {\n  ANEMOCHORY: 'Anemochory',\n  HYDROCHORY: 'Hydrochory',\n  ZOOCHORY: 'Zoochory',\n  ANTHROPOCHORY: 'Anthropochory',\n  type: 'allochory',\n  name: 'allochory'\n  },\n  reproductiveContainer: {\n  CONE: 'Cone',\n  type: 'reproductiveContainer',\n  name: 'reproductive container'\n  },\n  communication: {\n  VOCALISATION: 'Vocalisation',\n  POSTURING: 'Posturing',\n  type: 'communication',\n  name: 'communication'\n  },\n  matingSystem: {\n  POLYGYNOUS: 'Polygynous',\n  MONOGAMOUS: 'Monogamous',\n  type: 'matingSystem',\n  name: 'mating system'\n  },\n  physiology: {\n  NEGATIVE_ALLELOPATHY: 'Negative allelopathy',\n  POSITIVE_ALLELOPATHY: 'Positive allelopathy',\n  C3_CARBON_FIXATION: 'C3 carbon fixation',\n  NITROGEN_FIXING: 'Nitrogen fixing',\n  MYCORRHIZAL: 'Mycorrhizal',\n  ECTOMYCORRHIZAL: 'Ectomycorrhizal',\n  DORMANCY: 'Dormancy',\n  EVERGREEN: 'Evergreen',\n  DECIDUOUS: 'Deciduous',\n  CONIFEROUS: 'Coniferous',\n  ADVENTITIOUS:'Adventitious',\n  NYCTINASTY:'Nyctinasty',\n  XEROMORPHIC: 'Xeromorphic',\n  SUCCULENT: 'Succulent',\n  DROUGHT_TOLERANT: 'Drought tolerant',\n  FIRE_TOLERANT: 'Fire tolerant',\n  FIRE_RESISTANT: 'Fire resistant',\n  POLLUTION_TOLERANT: 'Pollution tolerant',\n  PH_TOLERANT: 'pH tolerant',\n  SALT_TOLERANT: 'Salt tolerant',\n  FROST_TOLERANT: 'Frost tolerant',\n  HEAT_TOLERANT: 'Heat tolerant',\n  NITROGEN_TOLERANT: 'Nitrogen tolerant',\n  HEAVY_METAL_TOLERANT: 'heavy metal tolerant',\n  ACID_RAIN_TOLERANT: 'Acid rain tolerant',\n  COMPACT_SOIL_TOLERANT: 'Compact soil tolerant',\n  FLORAL_SCENT: 'Floral scent',\n  AROMATIC: 'Aromatic',\n  MONOCARPIC: 'Monocarpic',\n  POLYCARPIC: 'Polycarpic',\n  PYROPHYTIC: 'Pyrophytic',\n  SEROTINOUS: 'Serotinous',\n  STYPTIC: 'Styptic',\n  BIOLUMINESCENCE: 'Bioluminescence',\n  type: 'physiology',\n  name: 'physiology'\n  },\n  collective: {\n  help: 'What is the term for a collective of this species?',\n  SOUNDER: 'Sounder',\n  SLOTH: 'Sloth',\n  MURMURATION: 'Murmuration',\n  PACK: 'Pack',\n  type: 'collective',\n  name: 'collective'\n  },\n  ecology: {\n  DIGGING: 'Digging',\n  SCRAPING: 'Scraping',\n  ROOTING: 'Rooting',\n  SCAVENGING: 'Scavenging',\n  type: 'ecology',\n  name: 'ecology'\n  },\n  characteristic: {\n  help: 'Which characteristic/s does this species display?',\n  PERENNIAL: 'Perennial',\n  ANNUAL: 'Annual',\n  BIENNIAL: 'Biennial',\n  HERBACEOUS: 'Herbaceous',\n  DIOECIOUS: 'Dioecious',\n  MONOECIOUS: 'Monoecious',\n  SYNOECIOUS: 'Synoecious',\n  PERFECT: 'Perfect',\n  COMPLETE: 'Complete',\n  DICOTYLEDON: 'Dicot',\n  MONOCOTYLEDON: 'Monocot',\n  CAULIFLORY: 'Cauliflory',\n  RAMIFLORY: 'Ramiflory',\n  PUBESCENT: 'Pubescent',\n  CHAMAEPHYTE: 'Chamaephyte',\n  FIBROUS_ROOT_SYSTEM: 'Fibrous root system',\n  TAPROOT_SYSTEM: 'Taproot system',\n  KIN_SELECTION: 'Kin selection',  \n  BROADLEAF: 'Broadleaf',\n  AERIAL_ROOTS: 'Aerial roots',\n  EPICORMIC_ROOTS: 'Epicormic shoots',\n  BASAL_ROOTS: 'Basal shoots',\n  RUNNER: 'Runner',\n  CLIMBER: 'Climber',\n  BUTTRESS_ROOT: 'Buttress root',\n  MONOPODIAL: 'Monopodial',\n  APICAL_DOMINANCE: 'Apical dominance',\n  POLYMORPHIC: 'Polymorphic',\n  CRYPTIC_SPECIES_COMPLEX: 'Cryptic species complex',  \n  RHIZOMORPHS: 'Rhizomorphs',\n  GEOPHYTE: 'Geophyte',\n  RICTAL_BRISTLES: 'Rictal bristles',\n  DEHISCENCE: 'Dehiscence',\n  EXPLOSIVE_DEHISCENCE: 'Explosive dehiscence',\n  RESIN_CANAL: 'Resin canal',\n  APOSEMATIC: 'Aposematic'\n  },\n  climate: {\n  HOT: 'Hot',\n  DRY: 'Dry',\n  TEMPERATE: 'Temperate',\n  COOL: 'Cool',\n  TROPICAL: 'Tropical',\n  CONTINENTAL: 'Continental',\n  DROUGHT_TOLERANT: 'Drought-tolerant',\n  type: 'climate',\n  name: 'climate'\n  },\n  pollination: {\n  ALLOGAMY: 'Allogamy',\n  ANEMOPHILY: 'Anemophily',\n  HYDROPHILY: 'Hydrophily',\n  ENTOMOPHILY: 'Entomophily',\n  AMBOPHILY: 'Ambophily',\n  MELITTOPHILY: 'Melittophily',\n  PSYCHOPHILY: 'Psychophily',\n  PHALAENOPHILY: 'Phalaenophily',\n  SONICATION: 'Sonication',\n  GENERALISED_SYNDROME: 'Generalised syndrome',\n  CLEISTOGAMY: 'Cleistogamy'\n  },\n  stipeCharacter: {\n  RING: 'Ring',\n  RING_AND_VOLVA: 'ring and volva',\n  BARE: 'Bare',\n  NA: 'N/A',\n  SHORT: 'short',\n  STUMPY: 'stumpy',\n  CLUB_LIKE: 'Club-like',\n  WARTS: 'warts',\n  HOLLOW: 'hollow',\n  PRUINOSE: 'pruinose',\n  PARTIAL_VEIL: 'Partial veil',\n  type: 'stipeCharacter',\n  name: 'stipe character'\n  },\n  stemCharacter: {\n    HOLLOW: 'hollow',\n    TERETE: 'terete',\n    HAIRY: 'Hairy',\n    GLAUCOUS: 'Glaucous',\n    FARINOSE: 'Farinose',\n    SCURFY: 'Scurfy',\n    VISCOUS: 'Viscous',\n    PUNCTATE: 'Punctate',\n    PAPILLATE: 'Papillate',\n    TUBERCULATE: 'Tuberculate',\n    RUGOSE: 'Rugose',\n    GLABROUS: 'Glabrous',\n    PUBESCENT: 'Pubescent',\n  },\n  gillAttachment: {\n    ADNATE: 'Adnate',\n    ADNEXED: 'Adnexed',\n    DECURRENT: 'Decurrent',\n    EMARGINATE: 'Emarginate',\n    FREE: 'Free',\n    Seceding: 'Seceding',\n    SINUATE: 'Sinuate',\n    SUBDECURRENT: 'Subdecurrent',\n    NA: 'N/A',\n    type: 'gillAttachment',\n    name: 'gill attachment'\n  },\n  grouping: {\n    LARGE_GROUPS: 'large groups',\n    CLUSTERS: 'clusters',\n    LARGE_CLUSTERS: 'large clusters',\n    SCATTERED_CLUSTERS: 'scattered clusters',\n    FAIRY_RINGS: 'fairy rings',\n    GREGARIOUS: 'gregarious',\n    NUMEROUS: 'numerous',\n    type: 'grouping',\n    name: 'grouping'\n  },\n  propagation: {\n    RHIZOMES: 'Rhizomes',\n    SEEDS: 'Seeds',\n    SUCKERS: 'Suckers',\n    STOLONS: 'Stolons',\n    BULBS: 'Bulbs',\n    TUBERS: 'Tubers',\n    CORMS: 'Corms',\n    PLANTLETS: 'Plantlets',\n    KEIKIS: 'Keikis',\n    APOMIXIS: 'Apomixis',\n    type: 'propagation',\n    name: 'propagation'\n  },\n  seedDispersal: {\n    AUTOCHORY: 'autochory',\n    ANEMOCHORY: 'anemochory',\n    HYDROCHORY: 'Hydrochory',\n    ZOOCHORY: 'Zoochory',\n    ANTHROPOCHORY: 'Anthropochory',\n  },\n  exposure: {\n    FULL_SUN: 'Full sun',\n    PARTIAL_SUN: 'Partial Sun',\n    PARTIAL_SHADE: 'Partial Shade',\n    SHADE: 'shade'\n  },\n  nutType: {\n    ACORN: 'acorn',\n    HAZELNUT: 'hazelnut',\n    CHESTNUT: 'chestnut',\n  },\n  surface: {\n    GLAUCOUS: 'Glaucous',\n    FARINOSE: 'Farinose',\n    SCURFY: 'Scurfy',\n    VISCOUS: 'Viscous',\n    PUNCTATE: 'Punctate',\n    PAPILLATE: 'Papillate',\n    TUBERCULATE: 'Tuberculate',\n    RUGOSE: 'Rugose',\n    GLABROUS: 'Glabrous',\n    PUBESCENT: 'Pubescent',\n    TOMENTOSE: 'tomentose',\n  },\n  texture: {\n    LEATHERY: 'Leathery',\n    FLESHY: 'Fleshy',\n    GLOSSY: 'Glossy',\n    WOOLY: 'Wooly',\n    TOMENTOSE: 'tomentose',\n    SCALY: 'Scaly',\n    ROUGH: 'Rough',\n    SMOOTH: 'Smooth',\n    VELVETY: 'Velvety',\n    HAIRY: 'Hairy',\n    PUBESCENT: 'Pubescent',\n  },\n  treeShape: {\n    help: \"Which descrption is the best match for this tree?\",\n    COLUMNAR: 'Columnar',\n    OPEN_HEAD_IRREGULAR: 'Open head irregular',\n    WEEPING: 'Weeping',\n    PYRAMIDAL: 'Pyramidal',\n    GLOBE: 'Globe',\n    FASTIGIATE: 'Fastigiate',\n    VASE: 'Vase',\n    HORIZONTAL_SPREADING: 'Horizontal spreading',\n    NARROW_DOMED: 'Narrow domed'\n  },\n  crownShape: {\n    OVOID_CONIC: 'Ovoid-conic',\n    CONIC: 'Conic',\n    DOMED: 'Domed',\n    SPIRE_LIKE: 'Spire-like',\n    SLENDER: 'Slender'\n  },\n  barkType: {\n    SMOOTH: 'Smooth',\n    LENTICELS: 'Lenticels',\n    PEELING_STRIPS: 'Peeling strips',\n    VERTICAL_CRACK: 'Vertical cracks',\n    VERTICAL_STRIPS: 'Vertical strips',\n    SCALES: 'Scales',\n    PLATES: 'Plates',\n    INTERSECTING_RIDGES: 'Intersecting ridges',\n    UNINTERRUPTED_RIDGES: 'Uninterrupted ridges',\n    RIDGES_BROKEN_HORIZONTALLY: 'Ridges broken horizontally',\n    PAPER_LIKE: 'Paper-like',\n    SQUARE_CRACKED: 'Square-cracked',\n    RESINOUS: 'Resinous',\n    THICK: 'Thick'\n  },\n  coneShape: {\n    BARREL_SHAPED: 'Barrel-shaped',\n    GLOBULAR: 'Globular'\n  },\n  leafVenation: {\n    ARCUATE: 'Arcuate',\n    DICHOTOMOUS: 'Dichotomous',\n    LONGITUDINAL: 'Longitudinal',\n    PARALLEL: 'Parallel',\n    PINNATE: 'Pinnate',\n    RETICULATE: 'Reticulate',\n    ROTATE: 'Rotate',\n    TRANSVERSE: 'Transverse',\n  },\n  flowerShape: {\n    TRUMPET_SHAPED: 'Trumpet-shaped',\n    BILABIATE: 'Bilabiate',\n    REGULAR: 'Regular',\n    ACTINOMORPHIC: 'Actinomorphic',\n    ZYGOMORPHIC: 'Zygomorphic'\n  },\n  branchArrangement: {\n    HORIZONTAL: 'Horizontal',\n    WHORLS: 'Whorls'\n  },\n  leafFeatures: {\n    BLUNT_TIPS: 'Blunt tips',\n    STOMATAL_LINES: 'Stomatal lines',\n    DROOPING: 'Drooping'\n  },\n  leafFolding: {\n    CARINATE: 'Carinate',\n    CONDUPLICATE: 'Conduplicate',\n    CUCULLATE: 'Cucullate',\n    INVOLUTE: 'Involute',\n    PLICATE: 'Plicate',\n    REDUPLICATE: 'Reduplicate',\n    REVOLUTE: 'Revolute',\n    SUPERVOLUTE: 'Supervolute',\n  },\n  mushroomGroup: {    \n    MYCOTROPHS: 'Mycotrophs',\n    POLYPORES: 'Polypores',\n    BOLETES: 'Boletes',\n    PUFFBALLS: 'Puffballs',\n    GILLED_MUSHROOMS: 'Gilled Mushrooms',\n    CHANTERELLES_AND_TRUMPETS: 'Chanterelles and Trumpets',\n    TOOTHED_MUSHROOMS: 'Toothed Mushrooms',\n    STINKHORNS: 'Stinkhorns',\n    CUP_FUNGI: 'Cup Fungi',\n    BIRDS_NEST_FUNGI:'Bird\\'s Nest Fungi',\n    TRUE_MORELS_AND_VERPAS: 'True Morels and Verpas',\n    FALSE_MORELS: 'False Morels',\n    SADDLES: 'Saddles',\n    JELLY_FUNGI: 'Jelly Fungi',\n    CLUBS_AND_CORALS: 'Clubs and Corals',\n    CRUST_FUNGI: 'Crust Fungi'\n  },\n  units: [\n    { lifeSpan: [ 'DD', 'MM', 'YY'] },\n    { gestation: [ 'DD', 'MM', 'YY'] },\n    { weaning: [ 'DD', 'MM', 'YY'] },\n    { germination: [ 'DD', 'WW', 'MM', 'YY'] },\n    { height: [ 'm', 'cm', 'mm'] },\n    { diameter: [ 'm', 'cm', 'mm'] },\n    { circumference: [ 'm', 'cm', 'mm'] },\n    { trunkDiameter: [ 'm', 'cm', 'mm'] },\n    { capDiameter: [ 'm', 'cm', 'mm'] },\n    { umbelDiameter: [ 'cm', 'mm'] },\n    { capWidth: [ 'm', 'cm', 'mm'] },\n    { infructescenceWidth: [ 'm', 'cm', 'mm'] },\n    { width: [ 'm', 'cm', 'mm'] },\n    { breadth: [ 'm', 'cm', 'mm'] },\n    { capHeight: [ 'm', 'cm', 'mm'] },\n    { shelfWidth: [ 'm', 'cm', 'mm'] },\n    { shelfThickness: [ 'm', 'cm', 'mm'] },\n    { length: [ 'm', 'cm', 'mm'] },\n    { leafLength: [ 'm', 'cm', 'mm'] },\n    { awnLength: [ 'cm', 'mm'] },\n    { infructescenceLength: [ 'm', 'cm', 'mm'] },\n    { juvenileLeafLength: [ 'm', 'cm', 'mm'] },\n    { leafWidth: [ 'm', 'cm', 'mm'] },\n    { petalLength: [ 'cm', 'mm'] },\n    { petalWidth: [ 'cm', 'mm'] },\n    { petioleLength: [ 'cm', 'mm'] },\n    { bractLength: [ 'cm', 'mm'] },\n    { fruitWidth: [ 'cm', 'mm'] },\n    { fruitLength: [ 'cm', 'mm'] },\n    { fruitDiameter: [ 'cm', 'mm'] },\n    { fruitHeight: [ 'cm', 'mm'] },\n    { flowerDiameter: [ 'cm', 'mm'] },\n    { flowerLength: [ 'cm', 'mm'] },\n    { coneDiameter: [ 'cm', 'mm'] },\n    { coneLength: [ 'cm', 'mm'] },\n    { maleConeLength: [ 'cm', 'mm'] },\n    { femaleConeLength: [ 'cm', 'mm'] },\n    { bulbWidth: [ 'cm', 'mm'] },\n    { coneWidth: [ 'cm', 'mm'] },\n    { maleConeWidth: [ 'cm', 'mm'] },\n    { femaleConeWidth: [ 'cm', 'mm'] },\n    { stalkHeight: [ 'm', 'cm', 'mm'] },\n    { stemHeight: [ 'm', 'cm', 'mm'] },\n    { scapeHeight: [ 'm', 'cm', 'mm'] },\n    { stemDiameter: [ 'm', 'cm', 'mm'] },\n    { stipeLength: [ 'm', 'cm', 'mm'] },\n    { tailLength: [ 'm', 'cm', 'mm'] },\n    { leafletLength: [ 'cm', 'mm'] },\n    { leafletWidth: [ 'cm', 'mm'] },\n    { queenLength: [ 'cm', 'mm'] },\n    { queenWingspan: [ 'cm', 'mm'] },\n    { workerLength: [ 'cm', 'mm'] },\n    { workerWingspan: [ 'cm', 'mm'] },\n    { maleLength: [ 'cm', 'mm'] },\n    { maleWingspan: [ 'cm', 'mm'] },\n    { stipeWidth: [ 'm', 'cm', 'mm'] },\n    { wingSpan: [ 'm', 'cm', 'mm'] },\n    { tongueLength: [ 'cm', 'mm'] },\n    { phValue: ['pH']},\n    { weight: [ 'g', 'kg']},\n    { queenWeight: [ 'g']},\n    { workerWeight: [ 'g']},\n    { maleWeight: [ 'g']},\n  ],\n};\n\n//Kuo, M. (2007, January). Key to major groups of mushrooms. Retrieved from the MushroomExpert.Com Web site: http://www.mushroomexpert.com/major_groups.html","export const epithets = [\n    {\n        \"latin\": ['armeniaca'],\n        \"en\": ['from Armenia']\n    },\n    {\n        \"latin\": ['agastache'],\n        \"en\": ['many spikes']\n    },\n    {\n        \"latin\": [\"aster\"],\n        \"en\" : [\"star\"]\n    },\n    {\n        \"latin\" : [\"alba\"],\n        \"en\" : [\"white\"]\n    },\n    {\n        \"latin\" : [\"avium\"],\n        \"en\" : [\"bird\"]\n    },\n    {\n        \"latin\" : [\"nigrum\"],\n        \"en\" : [\"black\"]\n    },\n    {\n        \"latin\" : [\"ater\"],\n        \"en\" : [\"black\"]\n    },\n    {\n        \"latin\": [\"botanikos\"],\n        \"en\" : [\"plant\"]\n    },\n    {\n        \"latin\": [\"capitata\"],\n        \"en\" : [\"having a head\"]\n    },\n    {\n        \"latin\" : [\"chrysus\"],\n        \"en\" : [\"yellow\"]\n    },\n    {\n        \"latin\" : [\"erythro\"],\n        \"en\" : [\"red\"]\n    },\n    {\n        \"latin\" : [\"lactuca\"],\n        \"en\" : [\"milky\"]\n    },\n    {\n        \"latin\" : [\"sylvestris\"],\n        \"en\" : [\"woodland\"]\n    },\n    {\n        \"latin\" : [\"contorta\"],\n        \"en\" : [\"twisted\"]\n    },\n    {\n        \"latin\" : [\"globosa\"],\n        \"en\" : [\"rounded\"]\n    },\n    {\n        \"latin\" : [\"maculata\"],\n        \"en\" : [\"spotted\"]\n    },\n    {\n        \"latin\" : [\"pendula\"],\n        \"en\" : [\"weeping\"]\n    },\n    {\n        \"latin\": [\"pratense\"],\n        \"en\" : [\"of meadows\"]\n    },\n    {\n        \"latin\" : [\"prostrata\"],\n        \"en\" : [\"creeping\"]\n    },\n    {\n        \"latin\" : [\"phyllos\"],\n        \"en\" : [\"leaf\", \"foliage\"]\n    },\n    {\n        \"latin\" : [\"platy\"],\n        \"en\" : [\"broad\", \"flat\"]\n    },\n    {\n        \"latin\" : [\"angustus\"],\n        \"en\" : [\"narrow\"]\n    },\n    {\n        \"latin\" : [\"arena\"],\n        \"en\" : [\"sand\"]\n    },\n    {\n        \"latin\" : [\"argentum\"],\n        \"en\" : [\"silver\"]\n    },\n    {\n        \"latin\" : [\"arvensis\"],\n        \"en\" : [\"in the field\"]\n    },\n    {\n        \"latin\" : [\"brachy-\"],\n        \"en\" : [\"short\"]\n    },\n    {\n        \"latin\" : [\"brachyphyllus\"],\n        \"en\" : [\"short leaved\"]\n    },\n    {\n        \"latin\" : [\"caprae\"],\n        \"en\" : [\"goat\"]\n    },\n    {\n        \"latin\" : [\"chroma\"],\n        \"en\" : [\"colour\"]\n    },\n    {\n        \"latin\" : [\"cilium\"],\n        \"en\" : [\"eyelash\"]\n    },\n    {\n        \"latin\" : [\"coccineus\"],\n        \"en\" : [\"scarlet\"]\n    },\n    {\n        \"latin\" : [\"cordifolius\"],\n        \"en\" : [\"heart-shaped\"]\n    },\n    {\n        \"latin\" : [\"coronatus\"],\n        \"en\" : [\"crowned\"]\n    },\n    {\n        \"latin\" : [\"crassus\"],\n        \"en\" : [\"thick\", \"fat\"]\n    },\n    {\n        \"latin\" : [\"crocos\"],\n        \"en\" : [\"yellow\"]\n    },\n    {\n        \"latin\": [\"cruciferae\"],\n        \"en\" : [\"cross-bearing\"]\n    },\n    {\n        \"latin\" : [\"derma\"],\n        \"en\" : [\"skin\"]\n    },\n    {\n        \"latin\" : [\"digitalis\"],\n        \"en\" : [\"having fingers\"]\n    },\n    {\n        \"latin\" : [\"domus\"],\n        \"en\" : [\"home\"]\n    },\n    {\n        \"latin\" : [\"domestica\"],\n        \"en\" : [\"which lives in the house\"]\n    },\n    {\n        \"latin\" : [\"echinatus\"],\n        \"en\" : [\"prickly\", \"spiny\"]\n    },\n    {\n        \"latin\" : [\"edulis\"],\n        \"en\" : [\"edible\"]\n    },\n    {\n        \"latin\" : [\"elatior\"],\n        \"en\" : [\"taller\"]\n    },\n    {\n        \"latin\" : [\"electro-\"],\n        \"en\" : [\"amber\"]\n    },\n    {\n        \"latin\" : [\"emarginatus\"],\n        \"en\" : [\"having no edges\"]\n    },\n    {\n        \"latin\" : [\"enanti-\"],\n        \"en\" : [\"opposite\", \"against\"]\n    },\n    {\n        \"latin\": [\"endemos\"],\n        \"en\" : [\"native\"]\n    },\n    {\n        \"latin\" : [\"ensatus\"],\n        \"en\" : [\"sword-like\"]\n    },\n    {\n        \"latin\" : [\"erectus\"],\n        \"en\" : [\"upright\"]\n    },\n    {\n        \"latin\" : [\"erica\"],\n        \"en\" : [\"heath\", \"broom\"]\n    },\n    {\n        \"latin\" : [\"erio-\"],\n        \"en\" : [\"wool\", \"woolly\"]\n    },\n    {\n        \"latin\" : [\"erosus\"],\n        \"en\" : [\"indented\", \"jagged\", \"serrated\"]\n    },\n    {\n        \"latin\" : [\"fallax\"],\n        \"en\" : [\"false\"]\n    },\n    {\n        \"latin\" : [\"foeniculum\"],\n        \"en\" : [\"hay\"]\n    },\n    {\n        \"latin\" : [\"filium\"],\n        \"en\" : [\"thread\"]\n    },\n    {\n        \"latin\" : [\"flavus\"],\n        \"en\" : [\"golden yellow\", \"light yellow\"],\n    },\n    {\n        \"latin\" : [\"floridus\"],\n        \"en\" : [\"flowery\"]\n    },\n    {\n        \"latin\" : [\"furcatus\"],\n        \"en\" : [\"forked\"]\n    },\n    {\n        \"latin\" : [\"fuscus\"],\n        \"en\" : [\"dark\", \"dark brown\"]\n    },\n    {\n        \"latin\" : [\"gala\"],\n        \"en\" : [\"milk\"]\n    },\n    {\n        \"latin\" : [\"galum\"],\n        \"en\" : [\"milk\"]\n    },\n    {\n        \"latin\" : [\"glaber\"],\n        \"en\" : [\"smooth; hairless\"]\n    },\n    {\n        \"latin\" : [\"glaucus\"],\n        \"en\" : [\"blue-green\", \"blue-gray\"]\n    },\n    {\n        \"latin\" : [\"glycy-\"],\n        \"en\" : [\"sweet\"]\n    },\n    {\n        \"latin\" : [\"perennis\"],\n        \"en\" : [\"perennial, lasting, yearlong\"]\n    },\n    {\n        \"latin\" : [\"gracile\"],\n        \"en\" : [\"slender\", \"graceful\"]\n    },\n    {\n        \"latin\" : [\"gravis\"],\n        \"en\" : [\"heavy\"]\n    },\n    {\n        \"latin\" : [\"hali-\"],\n        \"en\" : [\"of the sea\", \"salt\"]\n    },\n    {\n        \"latin\" : [\"hetero-\"],\n        \"en\" : [\"diversely or different\"]\n    },\n    {\n        \"latin\" : [\"hirsutus\"],\n        \"en\" : [\"hairy\"]\n    },\n    {\n        \"latin\" : [\"hirsuta\"],\n        \"en\" : [\"hairy\"]\n    },\n    {\n        \"latin\" : [\"hortensis\"],\n        \"en\" : [\"from the garden\"]\n    },\n    {\n        \"latin\" : [\"hydro-\"],\n        \"en\" : [\"water\"]\n    },\n    {\n        \"latin\": [\"hymen\"],\n        \"en\": [\"membrane\"]\n    },\n    {\n        \"latin\" : [\"hypo-\", \"hyp-\"],\n        \"en\" : [\"under\", \"beneath\"]\n    },\n    {\n        \"latin\" : [\"hyper-\"],\n        \"en\" : [\"over\", \"above\"]\n    },\n    {\n        \"latin\" : [\"laevis\"],\n        \"en\" : [\"smooth\"]\n    },\n    {\n        \"latin\" : [\"lateralis\"],\n        \"en\" : [\"side\"]\n    },\n    {\n        \"latin\" : [\"lepis\", \"lepido-\"],\n        \"en\" : [\"scale\", \"rind\", \"husk\", \"flake\"]\n    },\n    {\n        \"latin\" : [\"lepto-\", \"lepti-\"],\n        \"en\" : [\"light\"]\n    },\n    {\n        \"latin\" : [\"mel\"],\n        \"en\" : [\"honey\"]\n    },\n    {\n        \"latin\" : [\"muralis\"],\n        \"en\" : [\"growing on the wall\"]\n    },\n    {\n        \"latin\" : [\"nobilis\"],\n        \"en\" : [\"noble\"]\n    },\n    {\n        \"latin\" : [\"nix\"],\n        \"en\" : [\"snow\"]\n    },\n    {\n        \"latin\" : [\"nucifer\"],\n        \"en\" : [\"bearing nuts\"]\n    },\n    {\n        \"latin\" : [\"officinale\"],\n        \"en\" : [\"of or belonging to the officina (storeroom for medicines)\"],\n        \"wiki\": \"https://en.wikipedia.org/wiki/Officinalis\"\n    },\n    {\n        \"latin\" : [\"officinalis\"],\n        \"en\" : [\"of or belonging to the officina (storeroom for medicines)\"],\n        \"wiki\": \"https://en.wikipedia.org/wiki/Officinalis\"\n    },\n    {\n        \"latin\": [\"oleo\"],\n        \"en\" : [\"oily\"]\n    },\n    {\n        \"latin\" : [\"palustris\"],\n        \"en\" : [\"of the marsh\"]\n    },\n    {\n        \"latin\" : [\"parviflorus\"],\n        \"en\" : [\"small-flowered\"]\n    },\n    {\n        \"latin\" : [\"parvifolius\"],\n        \"en\" : [\"small-leaved\"]\n    },\n    {\n        \"latin\" : [\"pelagicus\"],\n        \"en\" : [\"of the open sea\"]\n    },\n    {\n        \"latin\": [\"persica\"],\n        \"en\" : [\"from Persia\"],\n        \"examples\": [\"Prunus persica\"]\n    },\n    {\n        \"latin\" : [\"petro-\"],\n        \"en\" : [\"rock\", \"stone\"]\n    },\n    {\n        \"latin\" : [\"phyto-\"],\n        \"en\" : [\"plant\"]\n    },\n    {\n        \"latin\" : [\"pomum\"],\n        \"en\" : [\"fruit\"]\n    },\n    {\n        \"latin\" : [\"pratum\"],\n        \"en\" : [\"meadow\"]\n    },\n    {\n        \"latin\" : [\"proto-\"],\n        \"en\" : [\"first\"]\n    },\n    {\n        \"latin\": [\"pteron\"],\n        \"en\" : [\"feather\", \"wing\"]\n    },\n    {\n        \"latin\" : [\"radix\"],\n        \"en\" : [\"root or radish\"]\n    },\n    {\n        \"latin\" : [\"ramus\"],\n        \"en\" : [\"branch\"]\n    },\n    {\n        \"latin\": [\"rapum\"],\n        \"en\" : [\"turnip\"]\n    },\n    {\n        \"latin\" : [\"repandus\"],\n        \"en\" : [\"curved upwards\", \"turned up\"]\n    },\n    {\n        \"latin\" : [\"rhiza\"],\n        \"en\" : [\"root\"]\n    },\n    {\n        \"latin\" : [\"sativus\"],\n        \"en\" : [\"sown\", \"cultivated\"]\n    },\n    {\n        \"latin\" : [\"sativum\"],\n        \"en\" : [\"sown\", \"cultivated\"]\n    },\n    {\n        \"latin\" : [\"sativa\"],\n        \"en\" : [\"sown\", \"cultivated\"]\n    },\n    {\n        \"latin\" : [\"setosus\"],\n        \"en\" : [\"bristly or shaggy\"]\n    },\n    {\n        \"latin\" : [\"silvestris\"],\n        \"en\" : [\"from woodland or forest; wild\"]\n    },\n    {\n        \"latin\" : [\"sylvestris\"],\n        \"en\" : [\"from woodland or forest; wild\"]\n    },\n    {\n        \"latin\" : [\"speciosus\"],\n        \"en\" : [\"showy\"]\n    },\n    {\n        \"latin\" : [\"sperma\"],\n        \"en\" : [\"seed\"]\n    },\n    {\n        \"latin\" : [\"striatus\"],\n        \"en\" : [\"striped\"]\n    },\n    {\n        \"latin\" : [\"strictus\"] ,\n        \"en\" : [\"straight\", \"narrow\", \"erect\"]\n    },\n    {\n        \"latin\" : [\"suber\"],\n        \"en\" : [\"cork\"]\n    },\n    {\n        \"latin\" : [\"sucus\"],\n        \"en\" : [\"juice\"]\n    },\n    {\n        \"latin\" : [\"sulcatus\"],\n        \"en\" : [\"furrowed\"]\n    },\n    {\n        \"latin\" : [\"tenuis\"],\n        \"en\" : [\"thin\", \"slender\", \"fine\"]\n    },\n    {\n        \"latin\" : [\"tinctorius\"],\n        \"en\" : [\"or dyeing\"]\n    },\n    {\n        \"latin\" : [\"tomentosus\"],\n        \"en\" : [\"furry\", \"hairy\"]\n    },\n    {\n        \"latin\" : [\"ulmus\"],\n        \"en\" : [\"elm\"]\n    },\n    {\n        \"latin\" : [\"vernus\"],\n        \"en\" : [\"spring\"]\n    },\n    {\n        \"latin\" : [\"vernalis\"],\n        \"en\" : [\"spring\"]\n    },\n    {\n        \"latin\" : [\"verus\"],\n        \"en\" : [\"true\", \"genuine\"]\n    },\n    {\n        \"latin\" : [\"villosus\"],\n        \"en\" : [\"hairy\", \"shaggy\"]\n    },\n    {\n        \"latin\" : [\"viridis\"],\n        \"en\" : [\"green\"]\n    },\n    {\n        \"latin\" : [\"vulgaris\"],\n        \"en\" : [\"common\"]\n    },\n    {\n        \"latin\" : [\"vulgare\"],\n        \"en\" : [\"common\"]\n    },\n    {\n        \"latin\" : [\"xanthos\"],\n        \"en\" : [\"yellow\"]\n    },\n    {\n        \"latin\" : [\"zygos\"],\n        \"en\" : [\"joined\"]\n    },\n    {\n        \"latin\" : [\"stipula\"],\n        \"en\" : [\"straw, stalk\"]\n    },\n    {\n        \"latin\" : [\"convolvulus\"],\n        \"en\" : [\"wound\"]\n    },\n    {\n        \"latin\" : [\"ranunculus\"],\n        \"en\" : [\"little frog\"]\n    },\n    {\n        \"latin\" : [\"esculenta\"],\n        \"en\" : [\"edible\"]\n    },\n    {\n        \"latin\" : [\"ascus\"],\n        \"en\" : [\"sack, wineskin\"]\n    },\n    {\n        \"latin\" : [\"sclero\"],\n        \"en\" : [\"hard\"]\n    },\n    {\n        \"latin\" : [\"derma\"],\n        \"en\" : [\"skin\"]\n    },\n    {\n        \"latin\" : [\"odora\"],\n        \"en\" : [\"perfumed\"]\n    },\n    {\n        \"latin\" : [\"kantharos\"],\n        \"en\" : [\"tankard\", \"cup\"]\n    },\n    {\n        \"latin\" : [\"pyriforme\"],\n        \"en\" : [\"pear-shaped\"]\n    },\n    {\n        \"latin\" : [\"Lycoperdon\"],\n        \"en\" : [\"wolf's fart\"]\n    },\n    {\n        \"latin\" : [\"Lycopersicon\"],\n        \"en\" : [\"wolf's peach\"]\n    },\n    {\n        \"latin\" : [\"Grifola\"],\n        \"en\" : [\"Something intricate or braided\"]\n    },\n    {\n        \"latin\" : [\"Frondosa\"],\n        \"en\" : [\"Full of leaves\"]\n    },\n    {\n        \"latin\" : [\"calvus\"],\n        \"en\" : [\"bald, without hair\"]\n    },\n    {\n        \"latin\" : [\"thallus\"],\n        \"en\" : [\"a green shoot or twig\"]\n    },\n    {\n        \"latin\" : [\"vasculum\"],\n        \"en\" : [\"duct\"]\n    },\n    {\n        \"latin\" : [\"xylem\"],\n        \"en\" : [\"wood\"]\n    },\n    {\n        \"latin\" : [\"phloios\"],\n        \"en\" : [\"bark\"]\n    },\n    {\n        \"latin\" : [\"parietina\"],\n        \"en\" : [\"on walls\"]\n    },\n    {\n        \"latin\" : [\"eutrophos\"],\n        \"en\" : [\"well nourished\"]\n    },\n    {\n        \"latin\" : [\"askos\"],\n        \"en\" : [\"sac, wineskin\"]\n    },\n    {\n        \"latin\" : [\"Suillus\"],\n        \"en\" : [\"of pigs\"]\n    },\n    {\n        \"latin\" : [\"sus\"],\n        \"en\" : [\"pig\"]\n    },\n    {\n        \"latin\" : [\"collinitus\"],\n        \"en\" : [\"smeared\", \"greased\"]\n    },\n    {\n        \"latin\" : [\"pyrrho\"],\n        \"en\" : [\"fire\"]\n    },\n    {\n        \"latin\" : [\"coris\"],\n        \"en\" : [\"bug\"]\n    },\n    {\n        \"latin\" : [\"boreal\"],\n        \"en\" : [\"(far) northern\"]\n    },\n    {\n        \"latin\" : [\"physcia\"],\n        \"en\" : [\"inflated, sausage-like\"]\n    },\n    {\n        \"latin\" : [\"apis\"],\n        \"en\" : [\"bee\"],\n        species: [ 'Apis mellifera' ]\n    },\n    {\n        \"latin\" : [\"mellifera\"],\n        \"en\" : [\"honey-bearing\"],\n        species: [ 'Apis mellifera' ]\n    },\n    {\n        \"latin\" : [\"instar\"],\n        \"en\" : [\"likeness, form\"]\n    },\n    {\n        \"latin\" : [\"skia\"],\n        \"en\" : [\"shadow\"]\n    },\n    {\n        \"latin\" : [\"oura\"],\n        \"en\" : [\"tail\"]\n    },\n    {\n        \"latin\" : [\"geo\"],\n        \"en\" : [\"earth\"]\n    },\n    {\n        \"latin\" : [\"metron\"],\n        \"en\" : [\"measure\"]\n    },\n    {\n        \"latin\" : [\"pente\"],\n        \"en\" : [\"five\"]\n    },\n    {\n        \"latin\" : [\"tomos\"],\n        \"en\" : [\"section\"]\n    },\n    {\n        \"latin\" : [\"praecox\"],\n        \"en\" : [\"before its time\"]\n    },\n    {\n        \"latin\" : [\"rudus\"],\n        \"en\" : [\"rubble\"]\n    },\n    {\n        \"latin\" : [\"phoinix\"],\n        \"en\" : [\"red\"]\n    },\n    {\n        \"latin\" : [\"ouros\"],\n        \"en\" : [\"tailed\"]\n    },\n    {\n        \"latin\" : [\"coluber\"],\n        \"en\" : [\"snake\"]\n    },\n    {\n        \"latin\" : [\"noctua\"],\n        \"en\" : [\"little owl\"]\n    },\n    {\n        \"latin\" : [\"epidermis\"],\n        \"en\" : [\"over-skin\"]\n    },\n    {\n        \"latin\" : [\"septem\"],\n        \"en\" : [\"seven\"],\n        species: [ 'Coccinella septempunctata' ]      \n    },\n    {\n        \"latin\" : [\"punctus\"],\n        \"en\" : [\"spot\"],\n        species: [ 'Coccinella septempunctata' ]      \n    },\n    {\n        \"latin\" : [\"tussis\"],\n        \"en\" : [\"cough\"],\n        species: [ 'Tussilago farfara' ]      \n    },\n    {\n        \"latin\" : [\"stoechas\"],\n        \"en\" : [\"in rows\"],\n        species: [ 'Lavandula stoechas' ]      \n    },\n    {\n        \"latin\" : [\"ros marinus\"],\n        \"en\" : [\"dew of the sea\"],\n        species: [ 'Rosmarinus officinalis' ]      \n    },\n    {\n        \"latin\" : [\"auriculata\"],\n        \"en\" : [\"with ears\"],\n        species: [ 'Plumbago auriculata' ]      \n    },\n    {\n        \"latin\" : [\"baccata\"],\n        \"en\" : [\"bearing red berries\"],\n        species: [ 'Taxus baccata' ]      \n    },\n    {\n        \"latin\" : [\"pleurotus\"],\n        \"en\" : [\"sideways\"],\n        species: [ 'Pleurotus ostreatus' ]      \n    },\n    {\n        \"latin\" : [\"sema\"],\n        \"en\" : [\"sign\"],\n        genus: [ 'Bombus' ]      \n    },\n];","export const firebaseConfig = {\n    apiKey: \"AIzaSyCA5oDmWevmZy2Ginb9eKcIe72Titk7szM\",\n    authDomain: \"snapdragon-222014.firebaseapp.com\",\n    databaseURL: \"https://snapdragon-222014.firebaseio.com\",\n    projectId: \"snapdragon-222014\",\n    storageBucket: \"snapdragon-222014.appspot.com\",\n    messagingSenderId: \"947213844747\",\n    appId: \"1:947213844747:web:97c1a5e664a670de\"\n};\n","import { utils } from 'utils/utils';\nimport { enums } from 'admin/api/enums';\nimport { firebaseConfig } from 'api/firebase/credentials';\nimport { questions } from 'api/firebase/questions';\n// import { snapLog, logError, logAPIError } from 'ui/helpers/logging-handler';\n\nfirebase.initializeApp(firebaseConfig);\n\nconst storage = firebase.storage();\n\nconst db = firebase.firestore();\n\nconst getSpeciesWhere = async props => {\n\n    try {\n        const { key, operator, value, limit } = props;\n\n        let speciesRef = limit\n                        ? db.collection(`species`).where(key, operator, value).limit(limit)\n                        : db.collection(`species`).where(key, operator, value);\n\n        const querySnapshot = await speciesRef.get();\n\n        const docs = [];\n\n        querySnapshot.forEach(doc => {\n            docs.push(doc.data());\n        });\n\n        return await docs;\n\n    } catch(e) {\n      // logAPIError(e, 'getSpeciesWhere');\n    }\n};\n  \nconst getSpecies = async props => {\n    const item = await getSpeciesWhere(props);\n    return item;\n};\n\nconst getSpeciesNames = async () => {\n\n    try {\n        const speciesPropertiesRef = db.collection(`species`).where(\"collection_property\", \"==\", 'names');\n\n        const querySnapshot = await speciesPropertiesRef.get();\n        \n        const docs = [];\n    \n        querySnapshot.forEach(doc => {\n            docs.push(doc.data());\n        });\n    \n        return await docs;\n\n    } catch(e) {\n      // logAPIError(e, 'getSpeciesNames');\n    }\n};\n\nconst getTaxaNames = async () => {\n\n    try {\n        const taxaPropertiesRef = db.collection(`taxa`).where(\"collection_property\", \"==\", 'names');\n\n        const querySnapshot = await taxaPropertiesRef.get();\n        \n        const docs = [];\n    \n        querySnapshot.forEach(doc => {\n            docs.push(doc.data());\n        });\n    \n        return await docs;\n    } catch(e) {\n      // logAPIError(e, 'getTaxaNames');\n    }\n};\n\nconst getSpeciesByIconicTaxon = async (item, number = 6) => {\n\n    const { iconicTaxon, lichen: isLichen, eolId } = item;\n\n    let querySnapshot, docs = [];\n\n    var species = db.collection(\"species\");\n\n    const random = utils.getRandomInt(2);\n\n    const operator = random === 0 ? '>=' : '<=';\n\n    const randomId = getRandomId();\n    \n    if(isLichen) {\n        querySnapshot = await species.where('lichen', '==', true).where(firebase.firestore.FieldPath.documentId(), operator, randomId).limit(number).get();\n    } else {\n        querySnapshot = await species.where('iconicTaxon', '==', iconicTaxon.toLowerCase()).where(firebase.firestore.FieldPath.documentId(), operator, randomId).limit(number).get();\n    }\n\n    querySnapshot.forEach(doc => {\n        docs.push(doc.data());\n    });\n\n    return docs;\n};\n\nconst getSpeciesByName = async (itemName, force = false) => {\n\n    if(!itemName) return '';\n\n    const items = await getSpecies({ key:'name', operator:'==', value:itemName });\n    \n    return items[0];\n};\n\nconst getTaxaWhere = async props => {\n\n    const { language, key, operator, value, limit } = props;\n  \n    const taxaRef = limit\n                        ? db.collection(`taxa_en`).where(key, operator, value).limit(limit)\n                        : db.collection(`taxa_en`).where(key, operator, value);\n  \n    const querySnapshot = await taxaRef.get();\n  \n    const docs = [];\n  \n    querySnapshot.forEach(doc => {\n      docs.push(doc.data());\n    });\n  \n    return await docs;\n};\n  \nconst getFamiliesByIconicTaxon = async (iconicTaxonRank, iconicTaxonValue, isLichen, config) => {\n    return await getTaxaWhere({ language: config.language, key: 'iconicTaxon', operator: '==', value: iconicTaxonValue, limit: 7 });\n};\n\nconst getTaxonByName = async (config, name) => {\n\n    try {\n                \n        let taxon = {};\n\n        const taxaRef = db.collection(`taxa_en`).where('name', '==', name);\n\n        const querySnapshot = await taxaRef.get();\n        \n        if(querySnapshot.docs.length > 0) {\n            querySnapshot.forEach(doc => {\n                taxon = doc.data();                                \n          });          \n        }\n\n        return taxon;\n\n    } catch (e) {\n      // logAPIError(e, 'getTaxonByName');\n      return e;\n    }\n};\n\nconst getAsyncTraitsByNameAndCollection = async (name, collection = 'traits_en', language) => {\n\n    try {\n    \n    const languageTraits = db.collection(collection).where(\"name\", \"==\", name);\n  \n    const traits = await languageTraits.get();\n  \n    return await traits;\n    \n    } catch(e) {\n      // logAPIError(e, 'getAsyncTraitsByNameAndCollection');\n    }\n};\n\nconst getTraitsBySpeciesName = async (name, language = 'en') => {\n\n    let traits;\n\n    const querySnapshot = await getAsyncTraitsByNameAndCollection(name, 'traits_en', language);\n\n    if(!querySnapshot || !querySnapshot.docs) return new Promise(resolve => resolve({}));\n\n    if(querySnapshot.docs.length > 0) {\n        querySnapshot.forEach(doc => {\n        traits = doc.data();\n      });\n    }\n\n    return await traits;\n};\n\nconst getTraitsByTaxonName = async (name, language = 'en') => {\n\n    let traits;\n\n    const querySnapshot = await getAsyncTraitsByNameAndCollection(name, 'taxa_en', language);\n\n    if(!querySnapshot || !querySnapshot.docs) return new Promise(resolve => resolve({}));\n\n    if(querySnapshot.docs.length > 0) {\n        querySnapshot.forEach(doc => {\n        traits = doc.data();\n      });\n    }\n\n    return await traits;\n};\n\nconst getBirdsong = async xcID => {\n\n    const storageRef = storage.ref();\n    const url = await storageRef.child(`birdsong/${xcID}.mp3`).getDownloadURL();\n    return url;\n};\n\nconst getImage = async image => {\n\n  const storageRef = storage.ref();\n  const url = await storageRef.child(`images/${image}`).getDownloadURL();\n  return url;\n};\n\nconst addSpecies = async species => {\n\n    let docRef;\n\n    if(species.images) {\n        species.images = species.images.map(image => {\n            return {\n                license: image.license || '',\n                photographer: image.photographer || '',\n                rightsHolder: image.rightsHolder || '',\n                source: image.source || '',\n                title: image.title || '',\n                url: image.url || ''\n            }\n        });\n    }\n\n    try {\n        docRef = await db.collection('species').add(species);\n    } catch(e) {\n      // logAPIError(e, 'addSpecies');\n    }\n\n    return docRef;\n};\n\nconst updateSpecies = async species => {\n\n    let speciesDocRef;\n\n    if(species.images) {\n        species.images = species.images.map(image => {\n            const updatedSpecies = {\n                license: image.license || '',\n                photographer: image.photographer || '',\n                rightsHolder: image.rightsHolder || '',\n                source: image.source || '',\n                title: image.title || '',\n                url: image.url || '',\n            };\n            if(image.starred) {\n                updatedSpecies.starred = image.starred;\n            }\n            if(image.provider) {\n                updatedSpecies.provider = image.provider;\n            }\n            return updatedSpecies;\n        });\n    }\n\n    const querySnapshot = await db.collection(\"species\").where(\"name\", \"==\", species.name).get();\n    \n    querySnapshot.forEach(function(doc) {\n        speciesDocRef = doc.ref;\n    });\n\n    return await speciesDocRef.update(species); \n\n};\n\nconst updateSpeciesNames = async (species, names) => {\n\n    let speciesDocRef;\n\n    const querySnapshot = await db.collection(\"species\").where(\"name\", \"==\", species.name).get();\n    \n    querySnapshot.forEach(function(doc) {\n        speciesDocRef = doc.ref;\n    });\n\n    return await speciesDocRef.update({names}); \n\n};\n\nconst getTraitValues = async () => {\n\n    const traits = enums;\n\n    return new Promise(resolve => resolve(enums));\n};\n\nconst deleteSpeciesByName = async name => {\n\n    const speciesRef = db.collection(`species`).where('name', '==', name);\n\n    speciesRef.get().then(function(querySnapshot) {\n        querySnapshot.forEach(function(doc) {\n        doc.ref.delete();\n        });\n    });\n};\n\nconst addTraits = async (name, trait, collection = 'traits_en') => {\n\n    let speciesTraitsRef;\n\n    try {\n\n        const querySnapshot = await db.collection(collection).where(\"name\", \"==\", name).get();\n        \n        if(querySnapshot.empty) {\n            trait.name = name;\n            return await db.collection(collection).add(trait);\n        } else {\n            querySnapshot.forEach(function(doc) {\n                speciesTraitsRef = doc.ref;\n            });\n\n            await speciesTraitsRef.update(trait); \n\n            return 'Update successful';\n        }\n    } catch(e) {\n      // logAPIError(e, 'addTraits');\n      return `Update failed. Error ${e.message}.`;\n    }\n};\n\nconst addSpeciesRelationship = async (type, traits) => {\n\n    try {\n        const batch = db.batch();\n\n        const readyBatch = async () => {\n            \n            return Promise.all(traits.map(async trait => {\n\n                let speciesTraitsRef;\n        \n                const querySnapshot = await db.collection(\"traits_en\").where(\"name\", \"==\", trait.name).get();\n\n                if(querySnapshot.empty) {\n                    trait.name = name;\n                    speciesTraitsRef = await db.collection(`traits_en`).add(trait);\n                } else {\n                    querySnapshot.forEach(function(doc) {\n                        speciesTraitsRef = doc.ref;\n                    });\n                }\n\n                speciesTraitsRef.update({\n                    [type]: firebase.firestore.FieldValue.arrayUnion(trait.update)\n                });\n            }));\n        };\n\n        await readyBatch();\n\n        await batch.commit();\n\n        return 'Relationship added.';\n\n    } catch (e) {\n      // logAPIError(e, 'addSpeciesRelationship');\n      return e.message;\n    }\n\n};\n\nconst addPhotos = async (name, photos) => {\n\n    let speciesDocRef;\n\n    const querySnapshot = await db.collection(\"species\").where(\"name\", \"==\", name).get();\n    \n    querySnapshot.forEach(function(doc) {\n        speciesDocRef = doc.ref;\n    });\n\n    try {\n        return speciesDocRef.update({\n            images: firebase.firestore.FieldValue.arrayUnion(...photos)\n        });\n    } catch (e) {\n      // logAPIError(e, 'addPhotos');\n      return e.message;\n    }\n\n};\n\nconst deleteSpeciesTraitField = async (name, field) => {\n\n    let querySnapshot, speciesTraitsRef;\n  \n    try {\n        try {\n          querySnapshot = await db.collection(\"traits_en\").where(\"name\", \"==\", name).get();\n      \n          querySnapshot.forEach(function(doc) {\n              speciesTraitsRef = doc.ref;\n          });\n        } catch(e) {\n          // logAPIError(e, 'deleteSpeciesTraitField unable to obtain reference to species trait');\n        }\n      \n        var removeField = speciesTraitsRef.update({\n            [field] : firebase.firestore.FieldValue.delete()\n        });\n  \n        return removeField;\n\n      } catch(e) {\n        // logAPIError(e, 'deleteSpeciesTraitField');\n    }    \n  };\n\nconst getRandomSpecies = async number => {\n\n    let querySnapshot, docs = [];\n\n    var species = db.collection(\"species\");\n\n    const random = utils.getRandomInt(2);\n\n    const operator = random === 0 ? '>=' : '<=';\n\n    querySnapshot = await species.where(firebase.firestore.FieldPath.documentId(), operator, getRandomId()).limit(number).get();\n\n    querySnapshot.forEach(doc => {\n        docs.push(doc.data());\n    });\n\n    return docs;\n};\n\nconst getDefinition = (term, glossary, required) => {\n\n    const terms = term.split(',');\n\n    let definitions = [];\n\n    for(let term of terms) {        \n        const definition = glossary.find(definition => definition.term.toLowerCase() === term.trim().toLowerCase() || definition.alt && definition.alt.toLowerCase() === term.trim().toLowerCase());\n        definitions.push(definition);\n    };\n    \n    return definitions.filter(definition => definition);\n};\n\nconst getTraitDefinitions = (glossary, required, trait) => {\n    \n    const traits = glossary.filter(entry => entry.trait).filter(entry => entry.trait.toLowerCase() === trait.toLowerCase());\n\n    return new Promise(resolve => resolve(traits));\n};\n\nconst addTaxon = async props => {\n\n    const { language, taxon } = props;\n  \n    let docRef;\n  \n    try {\n        docRef = await db.collection(`taxa_en`).add(taxon);\n        return 'Taxon saved.';\n    } catch(e) {\n      // logAPIError(e, 'addTaxon');\n    }\n  \n    return docRef;\n};\n\nconst getSpeciesInParallel = async species => {\n\n    try {\n        return Promise.all(species.map(sp => {                    \n            return firestore.getSpeciesByName(sp.name).then(async item => {\n                return await {                         \n                    ...item, description: sp.description || '', time: sp.time || 0, questionIds: sp.questionIds, quickId: sp.quickId || ''\n                }\n            })                    \n        }));\n\n    } catch (e) {\n      // logAPIError(e, 'getSpeciesInParallel');\n    }\n};\n\nconst getSpeciesByNameInParallel = async itemNames => {\n    try {\n        return Promise.all(itemNames.map(name => {                    \n            return firestore.getSpeciesByName(name).then(async item => {\n                return await {                         \n                    ...item\n                }\n            })                    \n        }));\n\n    } catch (e) {\n      // logAPIError(e, 'getSpeciesByNameInParallel');\n    }\n};\n\nconst getQuestionById = (id, name) => {\n\n    return new Promise(resolve => resolve(questions.map(q => {\n        if(parseInt(q.id) === parseInt(id)) {\n            return {\n                ...q,\n                name: name\n            }\n        }\n    })));\n};\n\n\nconst addCollection = async (collection, user) => {\n\n    if(!user) return;\n\n    const collectionRef = await updateCollection(collection);\n\n    if(collectionRef) return;\n    \n    collection.user = user;\n\n    let docRef = null;\n  \n    try {\n        docRef = await db.collection('collections').add(collection);\n    } catch(e) {\n      // logAPIError(e, 'addCollection');\n    }\n  \n    return docRef;\n  };\n\n  const updateCollection = async collection => {\n\n    try {\n        collection.items = []; // we don't want to update items as we have the info we need in species; the rest we get at runtime\n\n        let docRef = null;\n\n        const querySnapshot = await db.collection(\"collections\").where(\"name\", \"==\", collection.name).get();\n        \n        querySnapshot.forEach(function(doc) {\n            docRef = doc.ref;\n        });\n\n        if(docRef) {\n            await docRef.update(collection);\n        }\n\n        return { message: 'Success', success : true };\n\n    } catch(e) {\n      // logAPIError(e, 'updateCollection');\n      return { message: 'Failure', details: e.message, success : false };\n    }\n\n};\n  \n  const getCollectionsWhere = async props => {\n  \n    const { key, operator, value, limit } = props;\n  \n    const collectionRef = limit\n      ? db.collection('collections').where(key, operator, value).limit(limit)\n        : key\n            ? db.collection('collections').where(key, operator, value)\n            : db.collection('collections');\n  \n    const querySnapshot = await collectionRef.get();\n    \n    const docs = [];\n  \n    querySnapshot.forEach(doc => {\n      docs.push(doc.data());\n    });\n  \n    return docs;\n  };\n\n  const getCollections = async => {\n    return getCollectionsWhere({});\n  };\n\n  const addQuestion = async question => {\n\n    let docRef;\n  \n    try {\n        docRef = await db.collection('questions').add(question);\n    } catch(e) {\n      // logAPIError(e, 'getCollectionsWhere');\n    }\n  \n    return docRef;\n  };\n  \n  const getQuestionsWhere = async props => {\n  \n    const { key, operator, value } = props;\n  \n    const collectionRef = key \n            ? db.collection(`questions`).where(key, operator, value)\n            : db.collection(`questions`);\n  \n    const querySnapshot = await collectionRef.get();\n    \n    const docs = [];\n  \n    querySnapshot.forEach(doc => {\n      docs.push(doc.data());\n    });\n  \n    return docs;\n  };\n\n  const addDefinition = async definition => {\n\n    const querySnapshot = await db.collection(\"glossary\").where(\"term\", \"==\", definition.term).get();\n\n    let docRef;\n\n    if(querySnapshot.empty) {\n\n        try {\n            docRef = await db.collection('glossary').add(definition);\n        } catch(e) {\n          // logAPIError(e, 'getQuestionsWhere');\n        }\n      \n        return docRef;        \n\n    } else {\n        throw 'That definition already exists!';\n    }\n\n  };\n  \n  const getDefinitionsWhere = async props => {\n  \n    const { key, operator, value } = props;\n  \n    const collectionRef = key \n            ? db.collection(`glossary`).where(key, operator, value)\n            : db.collection(`glossary`);\n\n    const querySnapshot = await collectionRef.get();\n    \n    const docs = [];\n  \n    querySnapshot.forEach(doc => {\n      docs.push({ ...doc.data(), id: doc.id });\n    });\n  \n    return docs;\n  };\n\n  const getDefinitionById = async id => {\n    return db.collection('glossary').doc(id).get().then(data => {\n        return { ...data.data(), id: data.id };\n    });\n  };\n\n  const getBatchDefinitionsById = async ids => {\n\n    const terms = [];\n\n    try {\n        const batch = db.batch();\n\n        const readyBatch = async () => {\n            \n            return Promise.all(ids.map(async id => {\n\n                const term = await getDefinitionById(id);\n\n                terms.push(term);\n\n            }));\n        };\n\n        await readyBatch();\n\n        await batch.commit();\n\n        return terms;\n\n    } catch (e) {\n      // logAPIError(e, 'getBatchDefinitionsById');\n    }\n  }\n\n  const getDefinitionsByTaxa = taxa => {\n      return getDefinitionsWhere({\n        key: 'taxon',\n        operator: 'in', \n        value: taxa\n    });\n  };\n\n  const updateDefinition = async definition => {\n\n    let docRef;\n\n    const querySnapshot = await db.collection(\"glossary\").where(\"term\", \"==\", definition.term).get();\n    \n    querySnapshot.forEach(function(doc) {\n        docRef = doc.ref;\n    });\n\n    return await docRef.update(definition);\n  };\n\nexport const firestore = {\n\n    getSpecies,\n    getSpeciesNames,\n    getTaxaNames,\n    getSpeciesByName,\n    getSpeciesByIconicTaxon,\n    getFamiliesByIconicTaxon,\n    getTaxonByName,\n    getTraitsBySpeciesName,\n    getTraitsByTaxonName,\n    getBirdsong,\n    getImage,\n    getTraitValues,\n    getRandomSpecies,\n    getDefinition,\n    getSpeciesInParallel,\n    getSpeciesByNameInParallel,\n    getCollections,\n    getCollectionsWhere,\n    getQuestionsWhere,\n    \n    addSpecies,\n    addTraits,\n    addSpeciesRelationship,\n    addPhotos,\n    addTaxon,\n    addCollection,\n    addQuestion,\n    addDefinition,\n    \n    updateSpecies,\n    updateSpeciesNames,\n    updateCollection,\n    updateDefinition,\n  \n    deleteSpeciesByName,\n    deleteSpeciesTraitField,\n\n    getTraitDefinitions,\n    getQuestionById,\n    getDefinitionsWhere,\n    getDefinitionsByTaxa,\n    getDefinitionById,\n    getBatchDefinitionsById\n};\n\nconst getRandomId = () => {\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    let autoId = '';\n    for (let i = 0; i < 20; i++) {\n        autoId += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return autoId;\n};","export const questions = [\n    {\n        id: '1',\n        provider: 'snapdragon',\n        iconicTaxon: 'plantae',\n        rank: 'family',\n        taxon: 'Apiaceae',\n        statement: 'A distinctive feature of the Parsely family is compund terminal umbels.',\n        question: 'How would you describe this type of inflorescence?',\n        answer: 'Having a number of short flower stalks (pedicels), of more or less equal length, which spread from a common point, somewhat like umbrella ribs.',\n        answers: [\n            'Having flowers that do not have a pedicel.',\n            'Having flowers growing in such a fashion that the outermost are borne on longer pedicels than the innermost.',\n            'Having flowers where the oldest (and largest) are located at the top or centre.'\n        ]\n    },    \n    {\n        id: '2',\n        provider: 'snapdragon',\n        iconicTaxon: 'plantae',\n        rank: 'family',\n        taxon: 'Apiaceae',\n        statement: 'Companion planting is the placement of different crops in proximity to the benefit of one or both plants.',\n        question: 'How do species in the parsley family typically act as companions?',\n        answer: 'Their tiny flowers clustered into umbels produce nectar which attracts insects that prey on the pests of neighbouring plants.',\n        answers: [\n            'Provide nitrogen compounds to other plants such as grasses by fixing nitrogen from the air with symbiotic bacteria in their root nodules.',\n            'Attract pests away from neighbouring plants.',\n            'Act as decoys to attract flying pests away from other plants.'\n        ]\n    },\n    {\n        id: '3',\n        provider: 'snapdragon',\n        iconicTaxon: 'plantae',\n        rank: 'family',\n        taxon: 'Lamiaceae',\n        statement: 'Members of the mint family share several characteristics.',\n        question: 'Which quick ID is a good fit?',\n        answer: 'Square stems, opposite leaves, usually aromatic.',\n        answers: [\n            'Square stems, alternate leaves, usually aromatic.',\n            'Hollow stems, opposite leaves, usually aromatic.',\n            'Hollow stems, alternate leaves, usually aromatic.'\n        ]\n    },\n    {\n        id: '4',\n        provider: 'snapdragon',\n        iconicTaxon: 'plantae',\n        rank: 'family',\n        taxon: 'Lamiaceae',\n        statement: 'Members of the mint family have charcteristic flowers.',\n        question: 'Which description best matches their appearance?',\n        answer: 'Bilaterally symmetrical with five united petals and five united sepals.',\n        answers: [\n            'Bilaterally symmetrical with four united petals and four united sepals.',\n            'Radial symmetrical with four united petals and four united sepals.',\n            'Radial symmetrical with five united petals and five united sepals.'\n        ]\n    },\n    {\n        id: '5',\n        provider: 'snapdragon',\n        iconicTaxon: 'plantae',\n        rank: 'family',\n        taxon: 'Lamiaceae',\n        statement: 'Flowers of species in the mint family are bisexual.',\n        question: 'In this case what does bisexual mean?',\n        answer: 'Bearing flowers which all have both male and female structures.',\n        answers: [\n            'Bearing separate flowers of both sexes at the same time.',\n            'Bearing flowers of one sex at one time (consecutively).',\n            'Bearing male, female, and bisexual flowers on the same plant.'\n        ]\n    },\n    {\n        id: '6',\n        provider: 'snapdragon',\n        iconicTaxon: 'plantae',\n        rank: 'family',\n        taxon: 'Lamiaceae',\n        statement: 'Flowers of species in the mint family typically have petals fused into an upper lip and a lower lip.',\n        question: 'How many of these petals do they have?',\n        answer  : '5',\n        answers: [\n            '3',\n            '4',\n            '6'\n        ]\n    },\n    {\n        id: '7',\n        provider: 'snapdragon',\n        iconicTaxon: 'plantae',\n        rank: 'species',\n        taxon: 'Artemisia dracunculus',\n        statement: 'French tarragon seldom produces any flowers (or seeds) but propagates from storage organs.',\n        question: 'Which type of storage organ does Tarragon possess?',\n        answer  : 'Rhizome',\n        answers: [\n            'Bulb',\n            'Corm',\n            'Tuber'\n        ]\n    },\n    {\n        id: '7',\n        provider: 'snapdragon',\n        iconicTaxon: 'plantae',\n        rank: 'family',\n        taxon: 'Asteraceae',\n        statement: 'A distingushing feature of the Asteraceae is the composite flower head.',\n        question: 'What is the composition of this \\'flower?\\'',\n        answer  : 'Disc flowers, ray flowers, or both.',\n        answers: [\n            'Disc flowers, ray flowers, or neither.',\n            'Disc flowers, bracts, or both.',\n            'Ray flowers, bracts, or neither.'\n        ]\n    },\n    {\n        id: '8',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'species',\n        taxon: 'Grifola frondosa',\n        statement: 'Hen of the woods is weakly parasitic on several hardwoods, and saprobic on decaying wood.',\n        question: 'At the base of which tree is it most commonly found?',\n        answer  : 'Oak',\n        answers: [\n            'Beech',\n            'Elm',\n            'Maple'\n        ]\n    },\n    {\n        id: '9',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'species',\n        taxon: 'Grifola frondosa',\n        statement: 'The latin name for Hen of the woods is Grifola frondosa.',\n        question: 'What does the epithet frondosa mean?',\n        answer  : 'Full of leaves',\n        answers: [\n            'From the garden',\n            'Hairy',\n            'On walls'\n        ]\n    },\n    {\n        id: '10',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'species',\n        taxon: 'Laetiporus sulphureus',\n        statement: 'Chicken Of The Woods is a polyore.',\n        question: 'What word can be used to describe the fruiting body of a polypore?',\n        answer  : 'Conk',\n        answers: [\n            'Pileus',\n            'Cap',\n            'Conker'\n        ]\n    },\n    {\n        id: '11',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'species',\n        taxon: 'Laetiporus sulphureus',\n        statement: 'Chicken Of The Woods is parasitic and saprobic in its ecology.',\n        question: 'Which description best fits where it might be found.',\n        answer  : 'Growing in shelves at the base of an oak tree.',\n        answers: [\n            'Growing singly from moss.',\n            'Growing away from the base of an oak tree in a rosette of individual caps.',\n            'Growing in a clump directly from the ground.'\n        ]\n    },\n    {\n        id: '12',\n        provider: 'snapdragon',\n        iconicTaxon: 'aves',\n        rank: 'order',\n        taxon: 'Passeriformes',\n        statement: 'Passerines are distinguished from other orders of birds by the arrangement of their toes.',\n        question: 'Which description is correct?',\n        answer  : '3 toes pointing forward and one back (anisodactyly).',\n        answers: [\n            '2 toes facing forward (digits 2 and 3) and 2 back (zygodactyly).',\n            'All 4 toes point forward (pamprodactyly).',\n            '3 toes all of which point forward (tridactyly).'\n        ]\n    },\n    {\n        id: '13',\n        ref: 'FuupAlHnviuQQVtjvsXH',\n        provider: 'snapdragon',\n        iconicTaxon: 'plantae',\n        rank: 'species',\n        taxon: 'Daucus carota',\n        statement: 'Named in N America for it\\'s similarity to lace.',\n        question: 'To which queen of England is this lace attributed?',\n        answer  : 'Anne',\n        answers: [\n            'Elizabeth',\n            'Mary',\n            'Victoria'\n        ]\n    },\n    {\n        id: '14',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'species',\n        taxon: 'Hydnum repandum',\n        statement: 'The ecology of hedgehog mushroom is mycorrhizal.',\n        question: 'How is the ecology of this fungus manifest?',\n        answer  : 'Colonises roots of a vascular host plant in a (generally) mutualistic relationship.',\n        answers: [\n            'Lives off decayed organic matter.',\n            'Lives off a living host.',\n            'Has symbiotic relationship with roots of various plants (without penetrating host’s cell walls).'\n        ]\n    },\n    {\n        id: '15',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'species',\n        taxon: 'Craterellus tubaeformis',\n        statement: 'Chanterelle and trumpet mushrooms have a distinctive spore-bearing surface.',\n        question: 'Which of these appear on that surface?',\n        answer  : 'False gills',\n        answers: [\n            'Gleba',\n            'Gills',\n            'Pores'\n        ]\n    },\n    {\n        id: '16',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'species',\n        taxon: 'Calvatia gigantea',\n        statement: 'Puffballs have a distinctive fruitbody.',\n        question: 'How would you recognise a puffball?',\n        answer  : 'It\\'s brown, dust-like spores are emitted when the mature fruitbody bursts or is impacted.',\n        answers: [\n            'It has an open cap with spore-bearing gills.',\n            'The spores develop internally in the gleba and are exposed in the form of a foul-smelling gel.',\n            'Spores form on a spongy mass of downward-pointing tubes.'\n        ]\n    },\n    {\n        id: '17',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'species',\n        taxon: 'Calvatia gigantea',\n        statement: 'Puffballs have a distinctive fruitbody.',\n        question: 'How would you recognise a puffball?',\n        answer  : 'It\\'s brown, dust-like spores are emitted when the mature fruitbody bursts or is impacted.',\n        answers: [\n            'It has an open cap with spore-bearing gills.',\n            'The spores develop internally in the gleba and are exposed in the form of a foul-smelling gel.',\n            'Spores form on a spongy mass of downward-pointing tubes.'\n        ]\n    },\n    {\n        id: '18',\n        provider: 'snapdragon',\n        iconicTaxon: 'insecta',\n        rank: 'genus',\n        taxon: 'Bombus',\n        statement: 'Bumblebees form colonies with a single queen.',\n        question: 'How many individuals would typically be found in a nest?',\n        answer  : '50',\n        answers: [\n            '250',\n            '1000',\n            '5000'\n        ]\n    },\n    {\n        id: '19',\n        provider: 'snapdragon',\n        iconicTaxon: 'insecta',\n        rank: 'genus',\n        taxon: 'Bombus',\n        statement: 'Different species of bumblebee in a region often resemble each other in a mutually protective way.',\n        question: 'What name has been given to this natural phenomenon?',\n        answer  : 'Müllerian mimicry',\n        answers: [\n            'Batesian mimicry',\n            'Mertensian mimicry',\n            'Wasmannian mimicry',\n        ]\n    },\n    {\n        id: '20',\n        provider: 'snapdragon',\n        iconicTaxon: 'insecta',\n        rank: 'genus',\n        taxon: 'Bombus',\n        statement: 'Bumblebees have aposematic (warning) coloration, often consisting of contrasting bands of colour.',\n        question: 'What purpose does this serve?',\n        answer  : 'Beneficial to both predator and prey, since both avoid potential harm.',\n        answers: [\n            'Beneficial to a potential predators since it avoids potential harm.',\n            'Beneficial to the bumblee since it avoids potential harm.',\n            'Benefits species ressembling bumblees by warding off potential predators.',\n        ]\n    },\n    {\n        id: '21',\n        provider: 'snapdragon',\n        iconicTaxon: 'insecta',\n        rank: 'genus',\n        taxon: 'Bombus',\n        statement: 'Bumblebees have long hairy tongues.',\n        question: 'How are they put to use?',\n        answer  : 'Feeding and gathering nectar for their young.',\n        answers: [\n            'Feeding and gathering pollen for their young.',\n            'For pollination in return for nectar.',\n            'For pollination in return for pollen.',\n        ]\n    },\n    {\n        id: '22',\n        provider: 'snapdragon',\n        iconicTaxon: 'plantae',\n        rank: 'genus',\n        taxon: 'Bombus',\n        statement: 'Pollen grains are male microgametophytes of seed plants.',\n        question: 'What are gametophytes?',\n        answer  : 'One of the 2 alternating phases in the life cycle of plants and most algae.',\n        answers: [\n            'The diploid multicellular stage in the life cycle of a plant or alga.',\n            'One of the 3 alternating phases in the life cycle of plants and most algae.',\n            'A diploid multicellular organism that develops from a haploid spore.',\n        ]\n    },\n    {\n        id: '23',\n        provider: 'snapdragon',\n        iconicTaxon: 'insecta',\n        rank: 'genus',\n        taxon: 'Bombus',\n        statement: 'Queen bumblebees lay one of two types of egg.',\n        question: 'What do unfertilised eggs which contain chromosomes only from the queen become?',\n        answer  : 'Male bees',\n        answers: [\n            'Male worker bees',\n            'Female worker bees',\n            'Queen bees',\n        ]\n    },\n    {\n        id: '24',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'kingdom',\n        taxon: 'fungi',\n        statement: 'Lichens are complex organisms formed from 2 or 3 species.',\n        question: 'The symbiotic relationship between them is an example of?',\n        answer  : 'Mutualism',\n        answers: [\n            'Parasitism',\n            'Predation',\n            'Competition',\n        ]\n    },\n    {\n        id: '25',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'kingdom',\n        taxon: 'fungi',\n        statement: 'Photosynthesis converts light energy into chemical energy.',\n        question: 'Which of these organisms photosynthesises?',\n        answer  : 'Alga',\n        answers: [\n            'Fungus',\n            'Mycellium',\n            'Apothecium'\n        ]\n    },\n    {\n        id: '26',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'kingdom',\n        taxon: 'fungi',\n        statement: 'Graphis scripta is an example of a crustose lichen.',\n        question: 'How would you describe a crustose lichen?',\n        answer  : 'Grows directly onto the bark; cannot be peeled off.',\n        answers: [\n            'Bushy like a shrub; it is attached to the bark substrate at one point and branches out from there.',\n            'Flat like a leaf, with both a top side and a bottom side (which can be revelead).'\n        ]\n    },\n    {\n        id: '27',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'kingdom',\n        taxon: 'fungi',\n        statement: 'Lichens grow on plants, but not as parasites.',\n        question: 'What term describes the surface of the plant?',\n        answer  : 'Substrate',\n        answers: [\n            'Podetia',\n            'Substratum',\n            'Stratum'\n        ]\n    },\n    {\n        id: '28',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'kingdom',\n        taxon: 'fungi',\n        statement: 'Most lichens are ascolichens (ascomycetes).',\n        question: 'Their spores are produced in fruiting bodies called?',\n        answer  : 'Ascomata',\n        answers: [\n            'Stomata',\n            'Tomato',\n            'Palmata'\n        ]\n    },\n    {\n        id: '29',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'kingdom',\n        taxon: 'fungi',\n        statement: 'Lichens are grouped by the look of their vegetative body parts.',\n        question: 'What is the technical name for this growth form?',\n        answer  : 'Thallus',\n        answers: [\n            'Pileus',\n            'Stipe',\n            'Substrate'\n        ]\n    },\n    {\n        id: '30',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'kingdom',\n        taxon: 'fungi',\n        statement: 'Lichens are grouped by thallus types.',\n        question: 'Which set of names has only valid types?',\n        answer  : 'Fruticose, foliose, crustose, squamulose, leprose',\n        answers: [\n            'Fruticose, foliose, crustose, rugose, farinose',\n            'Tomentose, foliose, crustose, fruticose, farinose',\n            'Leprose, foliose, crustose, fruticose, farinose',\n        ]\n    },\n    {\n        id: '31',\n        provider: 'snapdragon',\n        iconicTaxon: 'fungi',\n        rank: 'kingdom',\n        taxon: 'fungi',\n        statement: 'Lichens have fruiting bodies called ascomata.',\n        question: 'When saucer or cup-shaped what they are called?',\n        answer  : 'Apothecium',\n        answers: [\n            'Cyanobacterium',\n            'Hymenium',\n            'Gymnothecium',\n        ]\n    },\n\n];","export const lichen = [\n    {\n        term: \"Lichen\",\n        definition: \"Composite organism of algae or cyanobacteria (or rarely, both), fungi and yeast living in a mutualistic relationship.\",\n        wiki: \"https://en.wikipedia.org/wiki/Lichen\",\n        level: 2,\n        branch: 'general'\n    },\n    {\n        term: \"Fruticose\",\n        definition: \"Growing like tuft or multiple-branched leafless mini-shrub (beardy), upright or hanging down, flat or round 3D branches.\",\n        wiki: \"https://en.wikipedia.org/wiki/Fruticose_lichen\",\n        level: 2,\n        branch: 'classification'\n    },\n    {\n        term: \"Foliose\",\n        definition: \"Having flat, 2D leaf-like structures.\",\n        wiki: \"https://en.wikipedia.org/wiki/Foliose_lichen\",\n        level: 2,\n        image: {\n            url: 'https://content.eol.org/data/media/58/87/e8/509.25630291.260x190.jpg'\n        },\n        branch: 'classification'\n    },\n    {\n        term: \"Crustose\",\n        definition: \"Forming a crust that strongly adheres to a substrate (crusty).\",\n        wiki: \"https://en.wikipedia.org/wiki/Crustose_lichen\",\n        level: 2,\n        branch: 'classification'\n    },\n    {\n        term: \"Leprose\",\n        definition: \"Having a powdery or granular surface.\",\n        wiki: \"https://en.wikipedia.org/wiki/Leprose_lichen\",\n        level: 2,\n        branch: 'classification'\n    },\n    {\n        term: \"Squamulose\",\n        definition: \"Composed of small, often overlapping squamules( scales).\",\n        wiki: \"https://en.wikipedia.org/wiki/Squamulose_lichen\",\n        level: 2,\n        branch: 'classification'\n    },\n    {\n        term: \"Soredium\",\n        definition: \"Common reproductive structures of lichens.\",\n        wiki: \"https://en.wikipedia.org/wiki/Soredium\",\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: \"Epiphyte\",\n        definition: \"An organism that grows on the surface of a plant and derives its moisture and nutrients from the air, rain, water or surrounding debris.\",\n        wiki: \"https://en.wikipedia.org/wiki/Epiphyte\",\n        branch: 'classification'\n    },\n    {\n        term: \"Gametophyte\",\n        definition: \"One of the two alternating phases in the life cycle of plants and algae. It is the sexual phase (see Sporophyte).\",\n        wiki: \"https://en.wikipedia.org/wiki/Gametophyte\",\n        branch: 'general'\n    },\n    {\n        term: \"Sporophyte\",\n        definition: \"One of the two alternating phases in the life cycle of plants and algae. In seed plants it is the roots, stem, leaves, cones and flowers (see Gametophyte).\",\n        wiki: \"https://en.wikipedia.org/wiki/Sporophyte\",\n        branch: 'general'\n    },\n    {\n        term: \"Thallus\",\n        definition: \"Nonreproductive, undifferentiated tissue, or vegetative body part of a lichen. Usually visually prominent.\", \n        level: 2,\n        branch: 'morphology'\n    },\n    {\n        term: \"Thallus type\",\n        definition: \"Means of distinuguishing lichen e.g. foliose, crustose.\", \n        level: 2,\n        branch: 'general'\n    },\n    {\n        term: \"Squamule\",\n        definition: \"One of the scalelike lobes of the thallus of a lichen.\", \n        level: 2,\n        branch: 'morphology'\n    },\n    {\n        term: \"Podetium\",\n        definition: \"The upright secondary thallus in Cladonia lichens. It is a hollow stalk extending from the primary thallus.\",\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: \"Apothecium\",\n        definition: \"Wide, open, saucer-shaped or cup-shaped fruit body. Sessile and fleshy.\",\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Rhizine',\n        definition: 'Multiceullar, root-like structures which anchor licen to substrate.',\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Erhizinate',\n        definition: 'Without rhizines.',\n        technical: 'true',\n        branch: 'general'\n    },\n    {\n        term: 'Hapter',\n        definition: 'Short, peg-like attachments of the lower surface of lichen to the substrate on which they grow.',\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Soredium',\n        definition: 'Common reproductive structures of lichen.',\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Cortex (lichen)',\n        definition: 'Composed of closely packed fungal hyphae that protects thallus from water loss (evaporation).',\n        branch: 'morphology'\n    },\n    {\n        term: 'Holdfast',\n        definition: 'Means by which a (bushy) lichen is attached to the substrate.',\n        branch: 'morphology'\n    },\n    {\n        term: 'Disc',\n        definition: 'Spore-bearing part of the fruiting body of a lichen.',\n        branch: 'morphology'\n    },\n    {\n        term: 'Lobe',\n        definition: 'Leaf-like part of a leafy (foliose) lichen.',\n        branch: 'morphology'\n    },\n    {\n        term: 'Medulla',\n        definition: 'Fungal part of the thallus situated below the skin like upper cortex.',\n        branch: 'morphology'\n    },\n    {\n        term: 'Mycobiont',\n        definition: 'Fungal component of a lichen.',\n        branch: 'general'\n    },\n    {\n        term: 'Photobiont',\n        definition: 'Photosynthetic partner in a lichen (alga or cyanobacterium).',\n        branch: 'general'\n    },\n    {\n        term: 'Cyanobacteria',\n        definition: 'Phylum of bacteria that obtain their energy through photosynthesis. They produce oxygen.',\n        branch: 'classification'\n    },\n    {\n        term: '(Green) Algae',\n        definition: 'Heterogeneous grouping of eukaryotes photosynthesis',\n        branch: 'classification'\n    },\n    {\n        term: 'Placodioid',\n        definition: 'Crustose lichen which radiates out from its centre.',\n        wiki: 'https://en.wikipedia.org/wiki/Placodioid_lichen',\n        technical: 'true',\n        branch: 'classification'\n    },\n    {\n        term: 'Pruinescence',\n        definition: 'A \"frosted\" or dusty looking coating on top of a surface.',\n        wiki: 'https://en.wikipedia.org/wiki/Pruinescence',\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Lecanorine',\n        definition: 'Shaped like a plate with a surrounding ring similar tissue to main non-fruiting body (after genus Lecanora).',\n        wiki: 'https://en.wikipedia.org/wiki/Lecanorine_lichen',\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Apothecium',\n        definition: 'Wide, open, saucer-shaped or cup-shaped fruit body.',\n        wiki: 'https://en.wikipedia.org/wiki/Ascocarp#Apothecium',\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Ascus',\n        definition: 'Spore-bearing cell produced in ascomycete fungi.',\n        wiki: 'https://en.wikipedia.org/wiki/Ascus',\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Ascomycota',\n        definition: '(Ascomycetes or Sac fungi) One of two main fungi divisions (phylum), characterised by spore-containing ascus. Majority of fungal symbionts in lichens are ascomycetes',\n        wiki: 'https://en.wikipedia.org/wiki/Ascomycota',\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Basidiomycota',\n        definition: '(Basidiomycetes (Mushrooms)) Reproduce sexually via formation of specialised end cells (basidia) bearing external meiospores.',\n        wiki: 'https://en.wikipedia.org/wiki/Basidiomycota',\n        technical: 'true',\n        branch: 'classification'\n    },\n    {\n        term: 'Soredium',\n        definition: 'Powdery (asexual) reproductive structure (propagule) composed of fungal hyphae wrapped around the photobiont.',\n        wiki: 'https://en.wikipedia.org/wiki/Soredium',\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Isidium',\n        definition: 'Vegetative (asexual) reproductive structure. Outgrowths from the thallus.',\n        wiki: 'https://en.wikipedia.org/wiki/Isidium',\n        technical: 'true',\n        branch: 'morphology'\n    },\n    {\n        term: 'Podetium',\n        definition: 'The upright secondary thallus in Cladonia lichens. It is a hollow stalk extending from the primary thallus.',\n        wiki: 'https://en.wikipedia.org/wiki/Podetium',\n        technical: 'true',\n        branch: 'morphology'\n    },\n];","import * as R from 'ramda';\n\nimport { utils } from 'utils/utils';\nimport { firestore } from 'api/firebase/firestore';\nimport { iconicTaxa } from 'api/snapdragon/iconic-taxa';\n\nlet inatListeners = [];\nlet RECORDS_PER_PAGE = 200;\n\nconst unsubscribe = listener => {\n    inatListeners = inatListeners.filter(l => l !== listener);\n};\n\nexport const listenToInatRequests = listener => {\n    inatListeners.push(listener);\n    return unsubscribe;\n};\n\nconst getBasePath = config => {\n    \n    const month = config.guide.season.type === 'all_year' \n            ? ''\n            : config.guide.season.observableMonths.map(month => month.index).join(',');\n\n    const perPage = config.guide.perPage || RECORDS_PER_PAGE;\n\n    const basePath = `https://api.inaturalist.org/v1/observations/species_counts?captive=false&rank=species&per_page=${perPage}&month=${month}`;\n\n    return basePath;\n};\n\nexport const getInatSpecies = async config => {\n\n    const speciesNames = await firestore.getSpeciesNames();\n\n    const snapdragonSpeciesNames = speciesNames[0].value;\n\n   snapLog('snapdragon species', snapdragonSpeciesNames);\n\n    const iconicTaxaKeys = Object.keys(iconicTaxa).join(',');\n\n    const getIconicTaxa = config => {\n      \n      try {\n\n          const iconicTaxa = config.guide.iconicTaxa.map(taxon => taxon.id) || iconicTaxaKeys;\n\n          // Create new taxonic group for reptilia, etc?\n\n          if(iconicTaxa.find(taxon => taxon === 'mammalia')) {\n              iconicTaxa.push('reptilia');\n          }\n\n          const taxa = iconicTaxa.map(taxon => {\n              if(taxon === 'lepidoptera') taxon = 'insecta';            \n              return taxon;\n          });\n\n          return taxa;\n\n      } catch (e) {\n        logError('Error for getIconicTaxa: ', e);\n    }\n    };\n\n    const getUserOrProjectKeyValuePair = config => {\n        if(!config.guide.inatId) return '';\n        const param = config.guide.inatId.param;    \n        const id = config.guide.inatId.id;\n        const parameter = `&${param}=${id}`;\n        return id ? parameter : '';\n    };\n\n    const getAllInatObservations = async (config, snapdragonSpeciesNames) => {\n        let snapdragonSpecies = [];\n        let records = [];\n        let keepGoing = true;\n        let page = 1;\n        while (keepGoing) {\n          try {\n            let recordsFromThisRequest = await getInatObservations(config, page);\n            await records.push.apply(records, recordsFromThisRequest);\n            let matches = recordsFromThisRequest.filter(record => R.contains(record.taxon.name, snapdragonSpeciesNames));\n            await snapdragonSpecies.push.apply(snapdragonSpecies, matches);\n            page = page + 1;\n            let noMoreRecords = recordsFromThisRequest.length < RECORDS_PER_PAGE;\n            let recordsCountReached = snapdragonSpecies.length >= config.guide.noOfRecords;\n           snapLog('snapdragonSpecies', snapdragonSpecies);\n           snapLog('records', records);\n            if (noMoreRecords || recordsCountReached) {\n                keepGoing = false;\n                return snapdragonSpecies;\n            }\n          } catch(e) {\n            logError('getInatObservations', e);\n            return snapdragonSpecies;\n          }\n        }\n    }\n\n    const loadSpeciesInParallel = async observations => {\n        try {\n            return Promise.all(observations.map(observation => {\n                return firestore.getSpeciesByName(observation.taxon.name).then(async item => {\n                    return await {                         \n                        ...item, \n                        observationCount: observation.taxon.observations_count, \n                        iconicTaxon: observation.taxon.iconic_taxon_name\n                    };\n                })                    \n            }));\n\n        } catch (e) {\n          logError('loadSpeciesInParallel: ', e);\n        }\n    };\n\n    const getInatObservations = async (config, page) => {\n\n      try {\n\n        let lat = '', lng = '', placeId = '';\n\n        let radius = config.guide.speciesRange ? parseInt(config.guide.speciesRange) : 10;\n        let inat = '';\n        \n        switch(config.guide.locationType) {\n            case 'place':\n                placeId = config.guide.place.id;\n                break;\n            case 'longLat':\n                lat = config.guide.coordinates.lat;\n                lng = config.guide.coordinates.long;\n                break;\n            case 'inat':\n                lat = '';\n                lng = '';\n                placeId = '';\n                radius = '';\n                inat = `&${config.guide.inatId.param}=${config.guide.inatId.key}`;\n                break;\n        }\n\n        const iconicTaxa = getIconicTaxa(config);\n        const params = config.guide.guideTpe === 'INAT' ? getUserOrProjectKeyValuePair(config) : '';\n        const url = getBasePath(config) + `&page=${page}&iconic_taxa=${iconicTaxa}&place_id=${placeId}&lat=${lat}&lng=${lng}&radius=${radius}${inat}${params}`;\n\n       snapLog('inat species request url', url);\n\n        const recordsFromThisRequest = await fetch(url);\n\n       snapLog('inat recordsFromThisRequest', recordsFromThisRequest);\n\n        const json = await recordsFromThisRequest.json();\n        inatListeners.forEach(listener => listener(\n            { page: json.page, numberOfRequests: Math.ceil(json.total_results/json.RECORDS_per_page) }\n        ));\n        return json ? await json.results : [];\n      } catch(e) {\n        logError('getInatObservations', e);\n        return [];\n      }\n    }\n    \n    let observations;\n\n    try {\n      observations = await getAllInatObservations(config, snapdragonSpeciesNames);\n      observations = observations.filter(observation => R.contains(observation.taxon.name, snapdragonSpeciesNames));\n      observations = R.take(config.guide.noOfRecords, utils.sortBy(observations.filter(item => item), 'observationCount', 'desc'));\n    } catch(e) {\n      logError('getAllInatObservations', e);\n    }\n\n   snapLog('observations', observations);\n\n    if(!observations) return [];\n\n    return await loadSpeciesInParallel(observations);\n}\n\nexport async function getInatPlaceId(place) {\n    \n    const url = `https://api.inaturalist.org/v1/places/autocomplete?q=${place}`;\n    const recordsFromThisRequest = await fetch(url);\n    const json  = await recordsFromThisRequest.json();\n    return json;\n}\n\nexport async function getInatTaxonStats(item, config, placeId) {\n\n    const place = placeId || 'any';\n    const taxonName = item.name;\n    const url = `https://api.inaturalist.org/v1/observations/species_counts?&verifiable=true&taxon_name=${taxonName}&place_id=${place}`;\n    const recordsFromThisRequest = await fetch(url);\n    const json = await recordsFromThisRequest.json();\n    return json;\n}\n\nexport async function getHistogram(item, placeId) {\n\n    const place = placeId || 'any';\n    const taxonName = item.name;\n    const url = `https://api.inaturalist.org/v1/observations/histogram?taxon_name=${taxonName}&place_id=${place}`;\n    const recordsFromThisRequest = await fetch(url);\n    const json = await recordsFromThisRequest.json();\n    return json;\n}\n\nexport async function getAutocompleteBy(q, by) {\n\n    // currently set up for USERS and PROJECTS but PLACES? Not sure\n    // https://api.inaturalist.org/v1/places/autocomplete?q=O%20Parque%20Natural%20da%20Arr%C3%A1bida\n\n    const url = `https://api.inaturalist.org/v1/${by}/autocomplete?q=${q}`;\n    const recordsFromThisRequest = await fetch(url);\n    const json = await recordsFromThisRequest.json();\n    return json;\n}\n\n// https://www.inaturalist.org/observations/danielhartley.json?m1=1&m2=11&iconic_taxa[]=Fungi","import * as R from 'ramda';\n\nexport const iconicTaxa = {\n\n    // kingdom\n    FUNGI: 'Fungi',\n    PLANTAE: 'Plants',\n\n    // phlyum\n    // MOLLUSCA: 'Mollusks',\n\n    // class\n    AVES: 'Birds',\n    AMPHIBIA: 'Amphibians',\n    REPTILIA: 'Reptilians',\n    MAMMALIA: 'Mammals',\n    INSECTA: 'Insects',\n    // ACTINOPTERYGII: 'Ray-finned fishes',\n    ARACHNIDA: 'Arachnids',\n\n    //order\n    LEPIDOPTERA: 'Lepidoptera'\n};\n\nexport const matchTaxonKey = (taxonomy, iconicTaxaKeys) => {\n    let taxon = { rank: '', value: '' };\n    if(!taxonomy) return taxon;\n    if(taxonomy.order && R.contains(taxonomy.order.toLowerCase(), iconicTaxaKeys)) taxon = { rank: 'order', value: taxonomy.order.toLowerCase() };\n    if(taxon.value === '' && taxonomy.class && R.contains(taxonomy.class.toLowerCase(), iconicTaxaKeys)) taxon = { rank: 'class', value: taxonomy.class.toLowerCase() };\n    if(taxon.value === '' && taxonomy.kingdom && R.contains(taxonomy.kingdom.toLowerCase(), iconicTaxaKeys)) taxon = { rank: 'kingdom', value: taxonomy.kingdom.toLowerCase() };\n\n    return taxon;\n}\n\nexport const matchTaxon = (taxonomy, iconicTaxa) => {\n    if(!taxonomy) return false;\n    let iconicTaxaKeys = Object.keys(iconicTaxa).map(key => key.toLowerCase());\n    const taxon = matchTaxonKey(taxonomy, iconicTaxaKeys);\n    return taxon;\n};\n\nexport const findRankByIconicTaxon = (taxonomy, iconicTaxon) => {\n    return Object.keys(taxonomy).find(key => taxonomy[key].toLowerCase() === iconicTaxon.toLowerCase());\n};\n\nexport const matchIcon = (taxonomy, iconicTaxa) => {\n    if(!taxonomy) return '';\n    const rank = matchTaxon(taxonomy, iconicTaxa).value;\n    if(!rank) return ''\n    return matchRank(rank);\n}\n\nexport const matchRank = rank => {\n    let icon;\n    switch(rank.toLowerCase()) {\n        case 'aves':\n            icon = 'fas fa-dove';\n            break;\n        case 'lepidoptera':\n            icon = 'fas fa-barcode';\n            break;\n        case 'amphibia':\n            icon = 'fas fa-frog';\n            break;\n        case 'mammalia':        \n        case 'actinopterygii':\n            icon = 'fas fa-paw';\n            break;\n        case 'reptilia':\n            icon = 'fas fa-registered';\n            break;\n        case 'insecta':\n        case 'arachnida':\n            icon = 'fas fa-bug';\n            break;\n        case 'fungi':\n            icon = './icons/mushroom.svg';\n            break;\n        case 'plantae':\n            icon = 'fas fa-leaf';\n            break;\n    }\n    return icon;\n}","export const infraspecifics = [\n    {\n        name: 'Brassica rapa',\n        subspecies: [\n            {\n                variety: 'chinensis',\n                names: [\n                    {\n                        \"vernacularName\": \"Bok choy\",\n                        \"language\": \"en\"\n                    },\n                    {\n                        \"vernacularName\": \"Pak choi\",\n                        \"language\": \"en\"\n                    }\n                ]\n            },\n            {\n                variety: 'rapa',\n                names: [\n                    {\n                        \"vernacularName\": \"Turnip\",\n                        \"language\": \"en\"\n                    }\n                ]\n            },\n            {\n                variety: 'oleifera',\n                names: [\n                    {\n                        \"vernacularName\": \"Field mustard\",\n                        \"language\": \"en\"\n                    }\n                ]\n            },\n            {\n                variety: 'pekinensis',\n                names: [\n                    {\n                        \"vernacularName\": \"Chinese cabbage\",\n                        \"language\": \"en\"\n                    },\n                    {\n                        \"vernacularName\": \"Wombok\",\n                        \"language\": \"en\"\n                    }\n                ]\n            }\n        ]\n    },\n    {\n        name: 'Brassica oleracea',\n        variety: 'oleracea',\n        subspecies: [\n            {\n                variety: 'oleracea',\n                names: [\n                    {\n                        \"vernacularName\": \"Wild cabbage\",\n                        \"language\": \"en\",\n                        wiki: 'https://en.wikipedia.org/wiki/Brassica_oleracea',\n                        eol: 'http://eol.org/pages/1283630/overview'              \n                    },\n                ]\n            },\n            {\n                variety: 'capitata',\n                group: 'Capitata',\n                form: 'alba',\n                names: [\n                    {\n                        \"vernacularName\": \"Cabbage\",\n                        \"language\": \"en\",\n                        wiki: 'https://en.wikipedia.org/wiki/Cabbage',\n                        eol: 'http://eol.org/pages/38390/overview'\n                    },\n                ]\n            },\n            {\n                variety: 'capitata',\n                group: 'Capitata',\n                form: 'sabauda',\n                names: [\n                    {\n                        \"vernacularName\": \"Savoy cabbage\",\n                        \"language\": \"en\",\n                        \"wiki\": 'https://en.wikipedia.org/wiki/Savoy_cabbage',\n                        eol: 'http://eol.org/pages/5148887/overview'\n                    },\n                ]\n            },\n            {\n                variety: 'capitata',\n                group: 'Capitata',\n                form: 'rubra',\n                names: [\n                    {\n                        \"vernacularName\": \"Red cabbage\",\n                        \"language\": \"en\",\n                        wiki: 'https://en.wikipedia.org/wiki/Red_cabbage'\n                    },\n                ]\n            },\n            {\n                variety: 'capitata',\n                group: 'Capitata',\n                form: 'acuta',\n                names: [\n                    {\n                        \"vernacularName\": \"Cone cabbage\",\n                        \"language\": \"en\"\n                    },\n                ]\n            },\n            {\n                variety: 'viridis',\n                group: 'acephala',\n                names: [\n                    {\n                        \"vernacularName\": \"Collards\",\n                        \"language\": \"en\"\n                    },\n                ]\n            },\n            {\n                variety: 'viridis',\n                group: 'Acephala',\n                names: [\n                    {\n                        \"vernacularName\": \"Kale\",\n                        \"language\": \"en\"\n                    },\n                ]\n            },\n            {\n                variety: 'gemmifera',\n                group: 'Gemmifera',\n                names: [\n                    {\n                        \"vernacularName\": \"Brussels sprouts\",\n                        \"language\": \"en\"\n                    },\n                ]\n            },\n            {\n                variety: 'gongylodes',\n                group: 'Gongylodes',\n                names: [\n                    {\n                        \"vernacularName\": \"Kohlrabi\",\n                        \"language\": \"en\"\n                    },\n                ]\n            },\n            {\n                variety: 'italica',\n                group: 'Italica',\n                names: [\n                    {\n                        \"vernacularName\": \"Broccoli\",\n                        \"language\": \"en\"\n                    },\n                ]\n            },\n            {\n                variety: 'botrytis',\n                group: 'Botrytis',\n                names: [\n                    {\n                        \"vernacularName\": \"Cauliflower\",\n                        \"language\": \"en\"\n                    },\n                ]\n            }\n        ]\n    }\n];","import * as traitEnums from 'api/traits/trait-types';\nimport { lichen } from 'api/glossary/lichen';\n\nexport const nonTaxaGroup = [\n    { LICHEN_FORM: 'Lichen Form' }     \n];\n\nexport const getNonTaxa = (enums) => {\n    // const SD = Object.keys(enums).length ? enums : traitEnums.enums;\n    const SD = enums;\n    return [\n        {\n            group: nonTaxaGroup[0].LICHEN_FORM,\n            id: SD.thallusType.FRUTICOSE,\n            type: SD.nonTaxaType.FORM,\n            definition: lichen.find(l => l.term === 'Fruticose').definition,\n            quickId: 'Free-standing branching tubes',            \n            names: [ { language: \"en\", name: 'Fruticose lichen'}],\n            traits: [\n                { name: SD.name.SUBSTRATE, value: `${SD.substrate.BARK}, ${SD.substrate.SOIL}, ${SD.substrate.ROCKS}` },  \n                { name: SD.name.SUBSTRATE_ADHERANCE, value: SD.level.LOW }\n            ],\n            examples: [ 'Letharia vulpina', 'Evernia prunastri', 'Ramalina polymorpha', 'Roccella phycopsis', 'Ramalina farinacea' ],\n            wiki: 'https://en.wikipedia.org/wiki/Fruticose_lichen',\n            url: '81/9d/a2/542.9769039745.260x190.jpg'\n        },\n        {\n            group: nonTaxaGroup[0].LICHEN_FORM,\n            id: SD.thallusType.FOLIOSE,\n            type: SD.nonTaxaType.FORM,\n            definition: lichen.find(l => l.term === 'Foliose').definition,\n            quickId: 'Leaflike, with flat sheets of tissue not tightly bound',\n            names: [ { language: \"en\", name: 'Foliose lichen'}],\n            traits: [\n                { name: SD.name.SUBSTRATE, value: `${SD.substrate.BARK}, ${SD.substrate.ROCKS}` },\n                { name: SD.name.SUBSTRATE_ADHERANCE, value: SD.level.LOW },\n                { name: SD.name.USAGE, value: SD.usage.FOOD, examples: [ { language: 'en', value: 'Deer, goats, and caribou' } ] },\n                { name: SD.name.USAGE, value: SD.usage.BIRDS_NEST },\n                { name: SD.name.LIFE_SPAN, value: '30-60a' },\n                { name: SD.name.MEDICINAL_PROPERTIES, value: `${SD.medicinalProperties.ANTIBIOTIC}`},\n                { name: SD.name.CHARACTERISTIC, value: SD.characteristic.BIOINDICATOR},\n                { name: SD.name.SUBSTRATE_ADHERANCE, value: SD.level.LOW }\n            ],\n            examples: [ 'Lobaria pulmonaria', 'Xanthoria parietina'  ],\n            genera: [ 'Usnea', 'Cladonia' ],\n            wiki: 'https://en.wikipedia.org/wiki/Foliose_lichen',\n            url: '81/66/25/542.8580717370.260x190.jpg'\n        },\n        {\n            group: nonTaxaGroup[0].LICHEN_FORM,\n            id: SD.thallusType.CRUSTOSE,\n            type: SD.nonTaxaType.FORM,\n            definition: lichen.find(l => l.term === 'Crustose').definition,\n            quickId: 'Crustlike, growing tight against the substrate',\n            names: [ { language: \"en\", name: 'Crustose lichen'}],\n            traits: [\n                { name: SD.name.SUBSTRATE, value: `${SD.substrate.BARK}, ${SD.substrate.ROCKS}` },\n                { name: SD.name.SUBSTRATE_ADHERANCE, value: SD.level.HIGH }\n            ],\n            examples: [ 'Graphis scripta', 'Diploschistes scruposus', 'Caloplaca ochracea', 'Ophioparma ventosa' ],\n            wiki: 'https://en.wikipedia.org/wiki/Crustose',\n            url: '7f/69/15/542.3258067212.260x190.jpg'\n        },\n        // {\n        //     group: nonTaxaGroup[0].LICHEN_FORM,\n        //     id: SD.thallusType.SQUAMULOSE,\n        //     type: SD.nonTaxaType.FORM,\n        //     definition: lichen.find(l => l.term === 'Squamulose').definition,\n        //     quickId: 'Tightly clustered and slightly flattened pebble-like units',\n        //     names: [ { language: \"en\", name: 'Squamulose lichen'}],\n        //     traits: [\n        //         { name: SD.name.SUBSTRATE, value: `${SD.substrate.BARK}, ${SD.substrate.ROCKS}` },\n        //         { name: SD.name.SUBSTRATE_ADHERANCE, value: SD.level.MEDIUM }\n        //     ],\n        //     examples: [ 'Squamarina cartilaginea', 'Vahliella leucophaea', 'Cladonia subcervicornis' ],\n        //     wiki: 'https://en.wikipedia.org/wiki/Squamulose'\n        // },\n    ]\n}","import * as R from 'ramda';\n\nimport { store } from 'redux/store';\nimport { actions } from 'redux/actions/action-creators';\nimport { firestore } from 'api/firebase/firestore';\n\nlet language;\n\nexport const traitValuesHandler = async config => {\n\n    if(language === config.language) return;\n\n    language = config.language;\n\n    if(!R.isEmpty(store.getState().enums)) return;\n\n    const enums = await firestore.getTraitValues();\n\n    actions.boundUpdateEnums(enums);\n};\n","import { utils } from 'utils/utils';\n\nconst getHTML5Location = () => {\n\n  return new Promise(function (resolve, reject) {\n    function success(position) {\n      resolve([position.coords.latitude, position.coords.longitude]);\n    }\n\n    function error(e) {\n      logError('getHTML5Location', e);\n      resolve({\n        '0': 0,\n        '1': 0,\n      });\n    }\n\n    navigator.geolocation.getCurrentPosition(success, error);\n  });\n};\n\nexport const getLocation = (config) => {\n  if(!!config.coordinates && config.coordinates.lat && config.coordinates.long) {\n   snapLog('geolocation config',config);\n    return new Promise(resolve => {\n        resolve(config.coordinates);\n    });\n  } else {\n   snapLog('geolocation config', config);\n    return getHTML5Location();\n  }  \n};\n\nconst listeners = [];\n\nconst parseMapBoxPlace = async (json, config) => {\n  const place = await json;\n  const locality = place.features.find(f => f.place_type[0] === 'locality');\n  const region = place.features.find(f => f.place_type[0] === 'region');\n  const country = place.features.find(f => f.place_type[0] === 'country');\n\n  place.locality = locality ? locality.text : '';\n  place.region = region ? region.text : '';\n  place.country = country ? country.text : '';\n  place.area = place.region || place.country;\n  \n  place.shortLocation = `${place.locality}, ${place.country}`;\n  place.longLocation = `${place.locality}, ${place.region}, ${place.country}`;\n \n  place.summary = config.isLandscapeMode ? `Species from ${place.longLocation}` : `Species from ${place.shortLocation}`;\n  const placePromise = new Promise(resolve => {\n    resolve(place);\n  });\n  const updatedPlace = await placePromise;\n  return await updatedPlace;\n}\n\nconst getMapBoxPlace = async (long, lat, config) => {\n  const token = 'pk.eyJ1IjoiZGFuaGFydGxleSIsImEiOiJjam84Zjd3aGowMDdoM2ttaDAzeDk4bHJ6In0.oEcO6w3DhHUv_mXrFW1clg';  \n  const longitude = long;// || '-9.163009899999999';\n  const latitude = lat;// || '38.7155762';  \n  const language = config.language || 'en';\n  const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/${longitude},${latitude}.json?language=${language}&access_token=${token}`;\n  const response = await fetch(url);\n  const json = await response.json();\n  const place = await parseMapBoxPlace(json, config);\n  listeners.forEach(listener => listener(place));\n  return await place;\n}\n\nexport const getPlace = async (config, force = false) => {\n  if(!!config.place && !force) {\n    const response = new Promise(resolve => {\n      resolve(config.place);\n    });\n    const json = await response;    \n    return await json;\n  } else {    \n   snapLog('getPlace config', config);\n    const coordinates = await getLocation(config);        \n    const latitude = coordinates['0'] || coordinates.lat;\n    const longitude = coordinates['1'] || coordinates.long;\n    config.coordinates = { lat: latitude, long: longitude };\n\n    return getMapBoxPlace(longitude, latitude, config);\n  }\n};\n\nexport const listenToPlaceChange = listener => { \n  listeners.push(listener);\n};\n\nconst IPCountryLookup = async () => {\n  const ACCESS_KEY = '69402a39530c7ae8218dfaf69ef78337';  \n  const url = `http://api.ipstack.com/check?access_key=${ACCESS_KEY}`;\n  try {\n    const response = await fetch(url);\n    const json = await response.json();\n    const { country_code, country_name } = await json;\n    return { country_code, country_name };\n  } catch (error) {\n    console.warn(`ERROR(${err.code}): ${err.message}`);\n  }  \n}\n\nconst LocationLookup = async ip => {\n  const ACCESS_KEY = 'a8563e7b75654ae8b016dc52719dee3b';\n  const url = `https://api.ipgeolocation.io/ipgeo?apiKey=${ACCESS_KEY}&ip=${ip}&fields=city,state_prov,country_name,latitude,longitude&output=json`;\n  const response = await fetch(url);\n  const json = await response.json();\n  const { city, state_prov, country_name, latitude, longitude } = await json; \n  return { city, state_prov, country_name, latitude, longitude };\n}\n\nconst IPLookup = async () => {  \n  const url = 'https://api.ipgeolocation.io/getip';\n  const response = await fetch(url);\n  const json = await response.json();\n  const { ip } = await json; \n  return ip;\n}\n\nexport const getIPLocation = async (config, force = false) => {\n\n     if(!!config.ipLocation && !force) {\n      const response = new Promise(resolve => {\n        resolve(config.ipLocation);\n      });\n      const json = await response;    \n      return await json;\n     } else {\n      const ip = await IPLookup();\n      const { city, state_prov, country_name, latitude, longitude } = await LocationLookup(ip);\n      return { city, state_prov, country_name, latitude, longitude };\n     }\n};\n\nexport async function GoogleFindPlace(place) {\n\n  // https://developers.google.com/places/web-service/search\n\n  const ACCESS_KEY = 'AIzaSyD1osYKD1sRb5Bzqq-OzJ6PgXqLtDt9YvU';\n\n  const url = `https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=${place}&inputtype=textquery&key=${ACCESS_KEY}&fields=name`;\n\n  const response = await fetch(url);\n  const json = await response.json();\n  const { candidates } = await json; \n  return candidates;\n}\n\nlet service;\nlet requireNewSession = true;\nlet isScriptReady = false;\nlet SESSION_TOKEN;\nlet current_term = '';\n\nexport async function GoogleAutocompleteServerSide(place) {\n\n  // https://developers.google.com/places/web-service/search\n\n  const ACCESS_KEY = 'AIzaSyD1osYKD1sRb5Bzqq-OzJ6PgXqLtDt9YvU';\n\n  const url = `https://maps.googleapis.com/maps/api/place/autocomplete/json?input=${place}&inputtype=textquery&key=${ACCESS_KEY}&fields=name`;\n\n  const response = await fetch(url);\n  const json = await response.json();\n  const { predictions } = await json; \n  return predictions;\n}\n\nconst createScriptRequest = (src, callback) => {\n  requireNewSession = false;\n  const script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src = src;\n    document.body.appendChild(script);\n    script.addEventListener(\"load\", () => {\n      isScriptReady = true;\n      callback();\n    });\n}\n\nexport const GoogleAutocomplete_Original = (place, callback) => {\n\n  const getPredictions = () => {\n    \n    if(!isScriptReady) return;\n\n    const displaySuggestions = function(predictions, status) {\n      if (status != google.maps.places.PlacesServiceStatus.OK) {\n        alert(status);\n        return;\n      }\n  \n      callback(predictions);\n    };\n    if(!service) {\n      service = new google.maps.places.AutocompleteService();      \n    }\n    \n    service.getPlacePredictions({ input: place }, displaySuggestions);\n  };\n\n  if(requireNewSession) {\n    const ACCESS_KEY = 'AIzaSyD1osYKD1sRb5Bzqq-OzJ6PgXqLtDt9YvU';\n    const SESSION_TOKEN = utils.createSessionToken();\n\n    const src = `https://maps.googleapis.com/maps/api/js?key=${ACCESS_KEY}&sessiontoken=${SESSION_TOKEN}&libraries=places`;\n\n    createScriptRequest(src, () => {\n      getPredictions();\n    });\n  } else {\n    getPredictions();\n  }\n}\n\nexport const GoogleAutocomplete = (place, callback) => {\n\n  const getPredictions = SESSION_TOKEN => {\n\n    if(!service) {\n        service = new google.maps.places.AutocompleteService();      \n    }\n    \n    service.getPlacePredictions(\n      { \n        input: place,\n        // sessionToken: SESSION_TOKEN\n      }, \n      callback);\n  };\n\n  if(requireNewSession) {\n    SESSION_TOKEN = new google.maps.places.AutocompleteSessionToken();\n    getPredictions(SESSION_TOKEN);\n    current_term = place;\n    requireNewSession = false; //or on expires/error, get a new one\n  } else {\n    if(place !== current_term) {\n      getPredictions(SESSION_TOKEN);\n    }\n    current_term = place;\n  }\n}\n\nexport const GooglePlaceDetails = (placeId, callback) => {\n  \n  var request = {\n    placeId: placeId,\n    // sessionToken: SESSION_TOKEN\n  };\n\n  var service = new google.maps.Geocoder();\n      service.geocode(request, callback);  \n\n  requireNewSession = true;\n}","import { renderTemplate } from 'ui/helpers/templating';\n\nimport modalsTemplate from 'modals.html';\n\nexport const handleWindowResize = () => {\n\n  const setWindowHeight = () => {\n\n      const iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream; \n      const iw = (iOS) ? screen.width : window.innerWidth; \n      const ih = (iOS) ? screen.height : window.innerHeight;\n\n      const verticalHeight = window.innerHeight * 0.01;                \n\n      document.documentElement.style.setProperty('--vh', verticalHeight + 'px');\n      document.documentElement.style.setProperty('--vhGrid', verticalHeight * 100  + 'px');\n      document.documentElement.style.setProperty('--vhRunningBlock', (verticalHeight * 7.5) + 'px');\n      document.documentElement.style.setProperty('--vhRunningBlocks', (verticalHeight * 15) + 'px');\n      document.documentElement.style.setProperty('--vhStandardBlock', (verticalHeight * 10) + 'px');\n      document.documentElement.style.setProperty('--vhHalfStandardBlock', (verticalHeight * 5) + 'px');\n      document.documentElement.style.setProperty('--vhOneAndHalfStandardBlock', (verticalHeight * 15) + 'px');\n      document.documentElement.style.setProperty('--vhDoubleStandardBlock', (verticalHeight * 20) + 'px');\n      document.documentElement.style.setProperty('--vhCarousel', (verticalHeight * 30) + 'px');\n      document.documentElement.style.setProperty('--vhButtonBlock', (verticalHeight * 9) + 'px');\n      document.documentElement.style.setProperty('--vhRow', (verticalHeight * 11) + 'px');\n      document.documentElement.style.setProperty('--vhFixtures', (verticalHeight * 15) + 5 + 'px');\n      document.documentElement.style.setProperty('--vhCalendar', (verticalHeight * 11) + 'px');                \n\n      const fixtures = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--vhFixtures').replace('px', ''));\n      const largeImage = ((verticalHeight * 100) - fixtures) / 3;\n\n      document.documentElement.style.setProperty('--vhLargeImage', largeImage + 'px');\n      document.documentElement.style.setProperty('--vhSmallImageCarousel', verticalHeight * 36 + 'px');           \n      document.documentElement.style.setProperty('--vhExtraSmallImageCarousel', verticalHeight * 36    + 'px');           \n\n      const horizontalWidth = window.innerWidth * 0.01;\n\n      document.documentElement.style.setProperty('--vw', horizontalWidth + 'px');\n\n      document.documentElement.style.setProperty('--vwGrid', horizontalWidth * 100  + 'px');\n      document.documentElement.style.setProperty('--vwGridNegative', (horizontalWidth * -100) + 52  + 'px');\n      document.documentElement.style.setProperty('--vhScrollingTop', (horizontalWidth * 56.25) + (verticalHeight * 10) + 'px');\n  };\n\n  setWindowHeight();\n\n  window.addEventListener('resize', () => {\n      setWindowHeight();\n  });\n\n  snapLog('*** Global test ***');\n\n  if(window.location.origin.indexOf('learn-the-planet') > -1) {\n     snapLog('*** Live site detected ***');\n      if(window.location.protocol != 'https:') {\n          location.href =  location.href.replace(\"http://\", \"https://\");\n         snapLog(' *** Site secured ***');\n      }\n  }\n\n};\n\nexport const loadModalHTML = () => {\n\n  const template = document.createElement('template');\n        template.innerHTML = modalsTemplate;\n\n  const parent = document.querySelector('body');\n\n  renderTemplate({}, template.content, parent);\n};","// Module\nvar code = \"\\n      <div class=\\\"modal fade\\\" id=\\\"imageModal\\\" role=\\\"dialog\\\" aria-labelledby=\\\"imageModalLabel\\\" aria-hidden=\\\"true\\\">\\n        <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n            <div class=\\\"modal-content\\\">\\n                <header class=\\\"modal-header-container\\\">\\n                    <div class=\\\"modal-header\\\">\\n                        <div class=\\\"modal-title js-modal-image-title\\\">\\n                            <span></span><span></span>\\n                        </div>                \\n                        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n                            <span aria-hidden=\\\"true\\\">&times;</span>\\n                        </button>                          \\n                    </div>\\n                </header>\\n                <div class=\\\"modal-rights-attribution js-modal-rights-attribution\\\"></div>\\n                <div class=\\\"modal-body centred-block\\\">\\n                    <div class=\\\"modal-image js-modal-image\\\" style=\\\"flex:auto;\\\"></div>\\n                </div>\\n                <div class=\\\"modal-footer double-centred-block\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n                  <button class=\\\"btn small-text snap-btn fit-width\\\">Close</button>           \\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"modal fade\\\" id=\\\"imageComparisonModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"imageModalLabel\\\" aria-hidden=\\\"true\\\">\\n        <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n            <div class=\\\"modal-content\\\">\\n                <header class=\\\"modal-header-container\\\">\\n                    <div class=\\\"modal-header\\\">\\n                        <div class=\\\"modal-title js-modal-image-title\\\">\\n                        <div class=\\\"modal-rights-attribution js-modal-rights-attribution\\\"></div>\\n                        <span></span><span></span><span class=\\\"hide-empty\\\"></span><span class=\\\"hide-empty\\\"></span>\\n                    </div>\\n                </header>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"modal-image js-modal-image\\\"></div>\\n            </div>\\n            <div class=\\\"modal-footer double-centred-block\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n              <button class=\\\"btn small-text snap-btn fit-width\\\">Close</button>\\n            </div>\\n        </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"modal fade\\\" id=\\\"wikiModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalLongTitle\\\" aria-hidden=\\\"true\\\">\\n        <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\"> \\n            <header class=\\\"modal-header-container\\\">\\n                <div class=\\\"modal-header\\\">\\n                    <div class=\\\"modal-title js-external-page-title\\\"></div>\\n                </div>                       \\n            </header>\\n            <div class=\\\"modal-body js-external-page-body\\\">\\n            </div>\\n            <div class=\\\"modal-footer double-centred-block\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n              <button class=\\\"btn small-text snap-btn fit-width\\\">Close</button>\\n            </div>\\n        </div>\\n        </div>\\n    </div>\\n    \\n    <div class=\\\"modal fade basic-modal\\\" id=\\\"basicModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"basicModalLabel\\\" aria-hidden=\\\"true\\\">\\n        <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n            <div class=\\\"modal-content\\\">\\n                <div class=\\\"modal-header-container\\\">\\n                    <div class=\\\"modal-header\\\">\\n                        <div class=\\\"centred-block justify-space-between js-modal-header-block\\\">\\n                          <div class=\\\"modal-title small-text js-modal-text-title\\\"><header></header></div>\\n                          <div></div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"modal-body\\\">\\n                    <div class=\\\"modal-text js-modal-text\\\"></div>\\n                </div>       \\n                <footer class=\\\"modal-footer double-centred-block js-modal-footer\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n                  <button class=\\\"btn small-text snap-btn fit-width\\\">Close</button>\\n                </footer>             \\n            </div>\\n        </div>\\n    </div>\\n            \\n    <div class=\\\"modal fade basic-modal\\\" id=\\\"glossaryModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"glossaryModalLabel\\\" aria-hidden=\\\"true\\\">\\n        <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n            <div class=\\\"modal-content\\\">\\n                <header class=\\\"modal-header-container\\\">\\n                    <div class=\\\"modal-header\\\">\\n                        <div class=\\\"centred-block justify-space-between js-modal-header-block\\\">\\n                            <div class=\\\"modal-title small-text js-modal-text-title\\\"><h1>Glossary</h1></div>\\n                            <button class=\\\"btn fit-width snap-btn double-margin-right small-text js-quick-fire-filters\\\">Glossary</button>\\n                            <button class=\\\"btn hide-important fit-width snap-btn double-margin-right small-text js-quick-fire-questions\\\">Quick-fire questions</button>\\n                        </div>\\n                    </div>\\n                  </header>\\n                <div class=\\\"modal-body\\\">\\n                    <div class=\\\"modal-text js-modal-text\\\"></div>\\n                </div>       \\n                <footer class=\\\"modal-footer double-centred-block js-modal-footer\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n                  <button class=\\\"btn small-text snap-btn fit-width\\\">Close</button>\\n                </footer>             \\n            </div>\\n        </div>\\n    </div>\\n    \\n    <div class=\\\"modal fade\\\" id=\\\"cardModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"speciesCardLabel\\\" aria-hidden=\\\"true\\\">\\n        <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n            <div class=\\\"modal-content\\\">\\n                <header class=\\\"modal-header-container\\\">\\n                    <div class=\\\"modal-header\\\">\\n                        <div class=\\\"modal-title js-modal-text-title\\\"></div>\\n                    </div>                       \\n                </header>\\n                <div class=\\\"carousel slide\\\">\\n                    <div class=\\\"carousel-inner\\\">\\n                        <div class=\\\"prev landscape js-prev\\\" role=\\\"button\\\">\\n                            <span class=\\\"carousel-control-prev-icon\\\" data-direction=\\\"prev\\\" aria-hidden=\\\"true\\\"></span>\\n                            <span class=\\\"sr-only\\\">Previous</span>\\n                        </div>\\n                        <div class=\\\"modal-body js-modal-body\\\">\\n                            <div class=\\\"modal-text js-modal-text\\\"></div>\\n                        </div>                    \\n                        <div class=\\\"next landscape js-next\\\" role=\\\"button\\\">\\n                            <span class=\\\"carousel-control-next-icon\\\" data-direction=\\\"next\\\" aria-hidden=\\\"true\\\"></span>\\n                            <span class=\\\"sr-only\\\">Next</span>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"modal-footer double-centred-block\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n                  <button class=\\\"btn small-text snap-btn fit-width\\\">Close</button>\\n                </div>\\n            </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"modal fade\\\" id=\\\"badgeListModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"badgeListModalLabel\\\" aria-hidden=\\\"true\\\">\\n        <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n            <div class=\\\"modal-content\\\">\\n                <header class=\\\"modal-header-container\\\">\\n                    <div class=\\\"modal-header\\\">\\n                        <div class=\\\"modal-title js-modal-text-title\\\"></div>\\n                    </div>                       \\n                </header>\\n                <div class=\\\"modal-body js-modal-body\\\">\\n                    <div class=\\\"modal-text js-modal-text\\\"></div>                        \\n                </div>                    \\n                <div class=\\\"modal-footer double-centred-block\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n                  <button class=\\\"btn small-text snap-btn fit-width\\\">Close</button>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"modal fade modal-guide-wrapper\\\" id=\\\"createGuide\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"createGuideModalLabel\\\" aria-hidden=\\\"true\\\">\\n        <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\">\\n            <header class=\\\"modal-header-container\\\">\\n                <div class=\\\"modal-header\\\">\\n                    <div class=\\\"modal-title js-modal-title\\\">\\n                        <header class=\\\"header\\\"></header>\\n                    </div>\\n                </div>\\n            </header>\\n            <div class=\\\"modal-body modal-guide-body\\\">\\n                <div class=\\\"modal-guide-progress standard-block js-modal-guide-progress\\\">\\n                    <div class=\\\"modal-subheader js-options\\\">\\n                      <h1>Select species</h1>\\n                    </div>\\n                    <div class=\\\"hide-important steps js-steps\\\">\\n                        <div class=\\\"completed\\\">Step 1</div>\\n                        <div>Step 2</div>\\n                        <div>Step 3</div>\\n                    </div>\\n                </div>\\n                <div class=\\\"step-action-content js-step-action-content\\\">Step action</div>\\n                <nav aria-label=\\\"navigation for creating new lesson\\\" class=\\\"modal-guide-navigation js-modal-guide-navigation\\\">\\n                    \\n                  <button class=\\\"snap-icon-btn js-left\\\">\\n                    <span class=\\\"arrow-wrapper js-arrow-wrapper\\\"><i class=\\\"far fa-arrow-alt-circle-left\\\"></i></span>\\n                    <span class=\\\"title\\\"></span>\\n                  </button>\\n\\n                    <div class=\\\"centred-block js-centre\\\"><span class=\\\"title\\\">Provenance</span></div>\\n                  \\n                    <button class=\\\"snap-icon-btn right-justify js-right\\\">\\n                      <span class=\\\"title\\\"></span>\\n                      <span class=\\\"arrow-wrapper js-arrow-wrapper\\\"><i class=\\\"far fa-arrow-alt-circle-right\\\"></i></span>\\n                    </button>                        \\n                  </nav>\\n            </div>\\n            <div class=\\\"modal-footer double-centred-block js-create-guide-close-btn\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n              <button class=\\\"btn small-text snap-btn fit-width\\\">Close</button>\\n            </div>\\n        </div>\\n        </div>\\n    </div>\\n\\n    <!-- NEW LESSON MODAL -->\\n\\n    <div class=\\\"modal fade basic-modal\\\" id=\\\"lessonModal\\\" data-backdrop=\\\"static\\\" data-keyboard=\\\"false\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"lessonModalLabel\\\" aria-hidden=\\\"true\\\">\\n        <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n            <div class=\\\"modal-content\\\">\\n                <header class=\\\"modal-header-container\\\">\\n                    <div class=\\\"modal-header\\\">\\n                        <div class=\\\"centred-block justify-space-between js-modal-header-block margin-right\\\">\\n                          <div class=\\\"modal-title small-text js-modal-text-title\\\"><header></header></div>\\n                          <button class=\\\"btn small-text fit-width snap-btn margin-right js-review-progress\\\">Progress</button>\\n                        </div>\\n                    </div>\\n                </header>\\n                <div class=\\\"modal-body\\\">\\n                    <div class=\\\"modal-text js-modal-text\\\">\\n                        <div class=\\\"lesson-spinner double-centred-block\\\">\\n                            <div class=\\\"icon\\\"><i class=\\\"fas fa-sun slow-spin\\\"></i></div>\\n                        </div>\\n                    </div>\\n                </div>       \\n                <footer class=\\\"modal-footer double-centred-block js-modal-footer\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n                  <button class=\\\"btn small-text snap-btn fit-width\\\">Close</button>\\n                </footer>             \\n            </div>\\n        </div>\\n    </div>\";\n// Exports\nmodule.exports = code;","import { store } from 'redux/store';\nimport { types } from 'redux/actions/action-types';\n\nconst makeActionCreator = action => {\n    return function (value, meta) {\n      return { \n        type: action,\n        data: value,\n        meta: meta\n      }\n    }\n  }\n\nconst changeLessonPlans = makeActionCreator(types.CHANGE_LESSON_PLANS);\nconst changeLessonPlan = makeActionCreator(types.CHANGE_LESSON_PLAN);\nconst nextLesson = makeActionCreator(types.NEXT_LESSON);\nconst updateScore = makeActionCreator(types.UPDATE_SCORE);\nconst updateTraitScore = makeActionCreator(types.UPDATE_TRAIT_SCORE);\nconst nextLayout = makeActionCreator(types.NEXT_LAYOUT);\nconst nexItem = makeActionCreator(types.NEXT_ITEM);\nconst endRevision = makeActionCreator(types.END_REVISION);\nconst updateHistory = makeActionCreator(types.UPDATE_HISTORY)\nconst newCollection = makeActionCreator(types.SET_ACTIVE_COLLECTION);\nconst updateCollection = makeActionCreator(types.UPDATE_COLLECTION);\nconst resetCollection = makeActionCreator(types.RESET_COLLECTION);\nconst updateCollections = makeActionCreator(types.UPDATE_COLLECTIONS);\nconst changeCollectionItems = makeActionCreator(types.UPDATE_COLLECTION_ITEMS);\nconst nextRound = makeActionCreator(types.NEXT_ROUND);\nconst nextLevel = makeActionCreator(types.NEXT_LEVEL);\nconst updateConfig = makeActionCreator(types.UPDATE_CONFIG);\nconst stopStartLesson = makeActionCreator(types.STOP_START_LESSON);\nconst selectCollection = makeActionCreator(types.SELECT_COLLECTION);\nconst traitValuesHandler = makeActionCreator(types.UPDATE_LANGUAGE);\nconst updateEnums = makeActionCreator(types.UPDATE_ENUMS);\nconst updateUser = makeActionCreator(types.UPDATE_USER);\nconst updateLesson = makeActionCreator(types.UPDATE_LESSON);\nconst saveLesson = makeActionCreator(types.SAVE_LESSON);\nconst removeSavedLesson = makeActionCreator(types.REMOVE_LESSON);\nconst updateVideoPlayer = makeActionCreator(types.UPDATE_VIDEO_PLAYER);\nconst createQuickFire = makeActionCreator(types.CREATE_QUICKFIRE);\nconst updateQuickFire = makeActionCreator(types.UPDATE_QUICKFIRE);\nconst createGlossary = makeActionCreator(types.CREATE_GLOSSARY);\nconst clickEvent = makeActionCreator(types.CLICK_EVENT);\n\nconst boundchangeLessonPlan = data => store.dispatch(changeLessonPlan(data));\nconst boundchangeLessonPlans = data => store.dispatch(changeLessonPlans(data));\nconst boundNextLesson = data => store.dispatch(boundAsyncNextLesson(data));\n\nconst boundAsyncNextLesson = func => {\n  return function(dispatch) {\n    return func.then(response => {\n      return dispatch(nextLesson(response));\n    })\n  }  \n};\n\nconst boundUpdateScore = data => store.dispatch(updateScore(data));\nconst boundUpdateTraitScore = data => store.dispatch(updateTraitScore(data));\nconst boundNextLayout = data => store.dispatch(nextLayout(data));\nconst boundNextItem = data => store.dispatch(nexItem(data,{delay:500}));\nconst boundEndRevision = data => store.dispatch(endRevision(data));\nconst boundUpdateHistory = data => store.dispatch(updateHistory(data));\nconst boundSetActiveCollection = data => store.dispatch(newCollection(data));\nconst boundUpdateCollection = data => store.dispatch(updateCollection(data));\nconst boundResetCollection = data => store.dispatch(resetCollection(data));\nconst boundUpdateCollections = data => store.dispatch(updateCollections(data));\nconst boundUpdateCollectionItems = data => store.dispatch(changeCollectionItems(data));\nconst boundNextRound = data => store.dispatch(nextRound(data));\nconst boundNextLevel = data => store.dispatch(nextLevel(data));\nconst boundUpdateConfig = data => store.dispatch(updateConfig(data));\nconst boundStopStartLesson = data => store.dispatch(stopStartLesson(data));\nconst boundSelectCollection = data => store.dispatch(selectCollection(data));\nconst boundUpdateLanguage = data => store.dispatch(traitValuesHandler(data));\nconst boundUpdateEnums = data => store.dispatch(updateEnums(data));\nconst boundUpdateUser = data => store.dispatch(updateUser(data));\nconst boundUpdateLesson = data => store.dispatch(updateLesson(data));\nconst boundSaveLesson = data => store.dispatch(saveLesson(data));\nconst boundRemoveSavedLesson = data => store.dispatch(removeSavedLesson(data));\nconst boundUpdateVideoPlayer = data => store.dispatch(updateVideoPlayer(data));\nconst boundCreateQuickFire = data => store.dispatch(createQuickFire(data));\nconst boundUpdateQuickFire = data => store.dispatch(updateQuickFire(data));\nconst boundCreateGlossary = data => store.dispatch(createGlossary(data));\nconst boundClickEvent = data => store.dispatch(clickEvent(data));\n\nexport const actions = {\n    boundchangeLessonPlans,\n    boundchangeLessonPlan,\n    boundNextLesson,\n    boundUpdateScore,\n    boundUpdateTraitScore,\n    boundNextItem,\n    boundNextLayout,\n    boundEndRevision,\n    boundUpdateHistory,\n    boundSetActiveCollection,\n    boundUpdateCollection,\n    boundResetCollection,\n    boundUpdateCollections,\n    boundUpdateCollectionItems,\n    boundNextRound,\n    boundNextLevel,\n    boundUpdateConfig,\n    boundStopStartLesson,\n    boundSelectCollection,\n    boundUpdateLanguage,\n    boundUpdateEnums,\n    boundUpdateLesson,\n    boundSaveLesson,\n    boundRemoveSavedLesson,\n    boundUpdateVideoPlayer,\n    boundUpdateUser,\n    boundCreateQuickFire,\n    boundUpdateQuickFire,\n    boundCreateGlossary,\n    boundClickEvent\n};","const UPDATE_CONFIG = '[UPDATE_CONFIG] change to config';\nconst STOP_START_LESSON = '[STOP_START_LESSON] Pause or play current lesson';\nconst CHANGE_LESSON_PLANS = '[CHANGE_LESSON_PLANS] Edit the set of lesson plans';\nconst CHANGE_LESSON_PLAN = '[CHANGE_LESSON_PLAN] Edit the original lesson plan';\nconst SELECT_COLLECTION = '[SELECT_COLLECTION] Update the current selected collection';\nconst NEXT_ROUND = '[NEXT_ROUND] Go to next round';\nconst NEXT_LESSON = '[NEXT_LESSON] Get (new) lesson plan';\nconst NEXT_LAYOUT = '[NEXT_LAYOUT] Render next layout';\nconst NEXT_ITEM = '[NEXT_ITEM] Get next item';\n\nconst SET_ACTIVE_COLLECTION = '[SET_ACTIVE_COLLECTION] New collection';\nconst UPDATE_COLLECTION = '[UPDATE_COLLECTION] Change collection';\nconst UPDATE_COLLECTIONS = '[UPDATE_COLLECTIONS] Update collections list';\nconst RESET_COLLECTION = '[RESET_COLLECTION] Reset collection to initial state';\n\nconst UPDATE_SCORE = '[UPDATE_SCORE] Check user answer and update running score';\nconst UPDATE_TRAIT_SCORE = '[UPDATE_TRAIT_SCORE] Check user answer and update running score';\nconst END_REVISION = '[END_REVISION] Revision complete';\nconst UPDATE_HISTORY = '[UPDATE_HISTORY] Copy round score to history';\nconst UPDATE_COLLECTION_ITEMS = '[UPDATE_COLLECTION_ITEMS] Change collection items';\nconst NEXT_LEVEL = '[NEXT_LEVEL] Go to next level';\nconst UPDATE_LANGUAGE = '[UPDATE_LANGUAGE] Update the current language';\n\nconst UPDATE_ENUMS = '[UPDATE_ENUMS] Update enums by config language';\nconst UPDATE_USER = '[UPDATE_USER] Update user';\nconst UPDATE_LESSON = '[UPDATE_LESSON] Create new lesson';\n\nconst SAVE_LESSON = '[SAVE_LESSON] Add lesson to saved lessons';\nconst REMOVE_LESSON = '[REMOVE_LESSON] Remove lesson from saved lessons on restarting lesson';\n\nconst UPDATE_VIDEO_PLAYER = '[UPDATE_VIDEO_PLAYER] Update video player state';\n\nconst UPDATE_QUICKFIRE = '[UPDATE_QUICKFIRE] Update quick-fire';\nconst CREATE_QUICKFIRE = '[CREATE_QUICKFIRE] Add quick-fire';\nconst CREATE_GLOSSARY = '[CREATE_GLOSSARY] Add glossary';\n\nconst CLICK_EVENT = '[CLICK_EVENT] User triggered event';\n\nexport const types = {\n    CHANGE_LESSON_PLANS,\n    CHANGE_LESSON_PLAN,\n    NEXT_LESSON,\n    NEXT_LAYOUT,\n    NEXT_ITEM,\n    UPDATE_SCORE,\n    UPDATE_TRAIT_SCORE,\n    END_REVISION,\n    UPDATE_HISTORY,\n    SET_ACTIVE_COLLECTION,\n    UPDATE_COLLECTION,\n    UPDATE_COLLECTION_ITEMS,\n    UPDATE_COLLECTIONS,\n    RESET_COLLECTION,\n    NEXT_ROUND,\n    NEXT_LEVEL,\n    UPDATE_CONFIG,\n    STOP_START_LESSON,\n    SELECT_COLLECTION,\n    UPDATE_LANGUAGE,\n    UPDATE_ENUMS,\n    UPDATE_LESSON,\n    SAVE_LESSON,\n    REMOVE_LESSON,\n    UPDATE_VIDEO_PLAYER,\n    UPDATE_USER,\n    CREATE_QUICKFIRE,\n    UPDATE_QUICKFIRE,\n    CREATE_GLOSSARY,\n    CLICK_EVENT\n};","export const logger = store => next => action => {\n    \n    // console.log('NEXT: ', next);\n    // console.group(action.type)\n    // console.info('dispatching', action)\n    let result = next(action)\n    // console.log('next state', store.getState())\n    // console.groupEnd(action.type)\n\n    // console.clear();\n    // console.log(`^^^ ${action.type}`);\n  \n    return result;\n};","/**\n * Schedules actions with { meta: { delay: N } } to be delayed by N milliseconds.\n * Makes `dispatch` return a function to cancel the timeout in this case.\n */\nexport const timeoutScheduler = store => next => action => {\n    if (!action.meta || !action.meta.delay) {      \n      return next(action)\n    }\n   \n    if(store.getState().item === null) return next(action);\n    \n    let timeoutId = setTimeout(\n      () => {         \n        next(action)\n      },\n      action.meta.delay\n    )\n   \n    return function cancel() {\n      clearTimeout(timeoutId)\n    }\n  };","import { types } from 'redux/actions/action-types';\nimport { config as initialConfig } from 'snapdragon-config/lesson-config';\n\nexport const config = (state = initialConfig, action) => {\n    switch(action.type) {\n        case types.UPDATE_COLLECTION:        \n            return { ...action.data.config, ...{ coordinates: state.coordinates }, ...{ place: state.place } };    \n        case types.UPDATE_CONFIG:\n            return { ...state, ...action.data };\n        case types.UPDATE_LANGUAGE:\n            return { ...state, ...{ language: action.data.lang } };\n        case types.SET_ACTIVE_COLLECTION:\n            return { ...state, ...action.data.lesson.config };\n        default: \n            return state;\n    }\n};\n\nexport const enums = (state = {}, action) => {\n    switch(action.type) {\n        case types.UPDATE_ENUMS:\n            return action.data;\n        default:\n            return state;\n    }\n};\n\nexport const user = (state = null, action) => {\n    switch(action.type) {\n        case types.UPDATE_USER:\n            return action.data;\n        default:\n            return state;\n    }\n};\n\nexport const userAction = (state = null, action) => {\n    switch(action.type) {\n        case types.CLICK_EVENT:\n            return action.data;\n        default:\n            return state;\n    }\n};","const resetScore = ({\n    total = 0,\n    correct = 0,\n    taxon = '',\n    binomial = '',\n    answer = '',\n    success = false,\n    incorrect = 0,\n    question = '',\n    fails = [],\n    passes = [],\n    answers = [],\n    statement = '',\n    mode = '',\n    totalPassPoints = 0,\n    totalPoints = 0\n  } = {}) => ({\n    total, correct, taxon, binomial, answer, success, incorrect, question, fails, passes, answers, statement, mode, totalPassPoints, totalPoints\n  });\n\nexport const progressState = {\n    score: resetScore(),\n    resetScore\n}","import { types } from 'redux/actions/action-types';\n\nexport const lessonPlans = (state = null, action) => {\n    switch(action.type) {\n        case types.CHANGE_LESSON_PLANS:\n            return action.data;\n        default:\n            return state;\n    }\n};\n\nexport const lessonPlan = (state = null, action) => {\n    switch(action.type) {\n        case types.CHANGE_LESSON_PLAN:\n            return action.data || state;\n        case types.NEXT_LESSON:\n            return action.data.lessonPlan || state;\n        case types.SET_ACTIVE_COLLECTION:\n            return action.data.lesson.lessonPlan || state;\n        default:\n            return state;\n    }\n};\n\nexport const layout = (state = null, action) => { \n    switch(action.type) {\n        case types.NEXT_LAYOUT:\n            if(state) {\n                if(action.data.screens.length > 1) { // sometimes BUG here\n                    const prevItemIndex = state.screens[0].name === action.data.screens[0].name ? state.itemIndex : null;                \n                    return { ...action.data, prevItemIndex }\n                } else {\n                    return action.data;\n                }\n            } else {\n                return action.data;\n            }\n        case types.SET_ACTIVE_COLLECTION:\n            return action.data.lesson.layout || state;\n        default: \n            return state;\n    }\n};\n","import * as R from 'ramda';\n\nimport { types } from 'redux/actions/action-types';\n\nconst initialState = { currentRound: 1, rounds: 0, isNextRound: true };\n\nexport const lesson = (state = initialState, action) => {\n\n    switch(action.type) {\n\n        case 'persist/REHYDRATE':\n            return state;\n        \n        case types.UPDATE_LESSON: {\n            return { ...state, ...action.data };\n        }\n\n        case types.NEXT_LAYOUT: {\n            return { ...state, layoutName: action.data.name };\n        }\n\n        case types.NEXT_ITEM: {\n\n            let layoutCounter, isNextRound, isLevelComplete, isLessonComplete = false;;\n\n            layoutCounter = state.layoutCounter ? state.layoutCounter + 1 : 1; \n            \n            layoutCounter = layoutCounter > state.layoutCount ? state.layoutCount : layoutCounter;\n            isNextRound = layoutCounter === state.layoutCount;\n            \n            if(state.layoutName && state.layoutName === 'summary') {\n                isNextRound = true;\n            }\n            isLevelComplete = state.rounds === 0 ? false : state.currentRound === state.rounds;\n    \n            if(state.level && state.level.id && state.levels) {\n                isLessonComplete = isLevelComplete && (state.levels[state.levels.length -1].id === state.level.id);\n            }\n\n            return { ...state, layoutCounter, isNextRound, isLevelComplete, isLessonComplete };\n        }\n\n        case types.NEXT_ROUND: {\n\n            let currentRound = action.data.lesson.currentRound;\n\n            let isLessonComplete = state.rounds === 0 ? false : currentRound === state.rounds;\n\n            let layoutCounter = state.layoutCounter;\n\n            let level = state.level;\n\n            return { ...state, currentRound, layoutCounter, level, isLessonComplete };\n        }\n\n        case types.NEXT_LESSON: {\n\n            let isNextRound = !!state.layoutCount ? state.layoutCounter === state.layoutCount : false;\n            let layoutCounter = 0;\n            let layoutCount = action.data.lesson.layoutCount;\n            \n            return { ...state, ...action.data.lesson, isNextRound, layoutCounter, layoutCount };\n        }\n\n        case types.NEXT_LEVEL: {\n         \n            return { ...state, currentRound: 1 };\n        }\n\n        case types.UPDATE_COLLECTION: {\n\n            if(action.data.config.mode === 'learn-again') {\n                const isNextRound = true;\n                const isLevelComplete = true;\n                return { ...state, currentRound: 1, isNextRound, isLevelComplete };\n\n            } else {\n                return state;\n            }\n        }\n\n        case types.SET_ACTIVE_COLLECTION:\n            return { ...state, ...action.data.lesson.lesson, isNextRound: true };\n\n        default: {\n            return state; \n        }\n    }\n};\n\nexport const lessons = (state = [], action) => {\n\n    switch(action.type) {\n        case types.SAVE_LESSON:\n            const savedLessonNames = state.map(lesson => lesson.name);\n            if(R.contains(action.data.collection.name, savedLessonNames)) {\n                const lessons = state.filter(lesson => lesson.name !== action.data.collection.name);\n                      lessons.push(action.data);\n                return lessons;\n            } else {\n                return [ ...state, action.data ];\n            }\n            case types.REMOVE_LESSON: {\n                return state.filter(lesson => lesson.name !== action.data.name); \n            }\n        default:\n            return state;\n    }\n};","import * as R from 'ramda';\n\nimport { types } from 'redux/actions/action-types';\nimport { progressState } from 'redux/reducers/initial-state/initial-progress-state';\n\nexport const counter = (state = null, action) => {\n    switch(action.type) {\n        case 'persist/REHYDRATE':\n            return action.payload ? { ...action.payload.counter, isLessonRehydrated: true, isLessonPaused: true } : state;\n        case types.RESET_COLLECTION:\n            return { ...state, isLessonSelected: false, isLessonPaused: false };\n        case types.UPDATE_COLLECTION:    \n            return { ...state, isLessonRehydrated: false };\n        case types.NEXT_ROUND:\n            return { index: 0 };\n        case types.NEXT_LESSON:\n            return { index: 0 };\n        case types.NEXT_LEVEL:\n            return { ...state, index: action.data.index };\n        case types.STOP_START_LESSON:\n            const index = (state && state.index) || 0;\n            return { ...action.data, index };\n        case types.UPDATE_SCORE:\n        case types.END_REVISION:\n            let i = (state.index + 1) <= action.data.layoutCount ? (state.index + 1) : state.index;\n            return { index: i };\n        case types.SET_ACTIVE_COLLECTION:\n            return { ...state, ...action.data.lesson.counter, isLessonPaused: !!action.data.lesson.counter.isCustomLessonPausedOverride };\n        default:\n            return state;\n    }\n};\n\nexport const score = (state = progressState.score, action) => {\n    switch(action.type) {\n        case types.UPDATE_SCORE: {\n        \n            const score = { ...state, ...action.data, statement: action.data.statement || '' };\n\n            score.totalPoints = score.totalPoints || 0;\n            score.totalPassPoints = score.totalPassPoints || 0;\n            score.totalFailPoints = score.totalFailPoints || 0;\n\n            score.totalPoints += score.points ? score.points : 0;\n\n            score.total++;\n            if(score.success) {\n                score.totalPassPoints += score.points ? score.points : 0;\n                score.correct++;\n                score.passes.push({ \n                    itemId: score.itemId, \n                    taxon: score.taxon, \n                    binomial: score.binomial, \n                    question: score.question, \n                    statement: score.statement || '',\n                    answer: score.answer,\n                    answers: score.answers,\n                    index: score.total - 1,\n                    success: score.success,\n                    questionText: score.questionText\n                });\n            }\n            else {\n                score.incorrect++;\n                score.totalFailPoints += score.points ? score.points : 0;\n                score.fails.push({ \n                    itemId: score.itemId, \n                    taxon: score.taxon, \n                    binomial: score.binomial, \n                    question: score.question,\n                    statement: score.statement || '', \n                    answer: score.answer,\n                    answers: score.answers,\n                    index: score.total - 1,\n                    success: score.success,\n                    questionText: score.questionText\n                });\n            }\n            score.questionTotal = score.passes.length + score.fails.length;\n            \n            score.passesTotals = R.clone(state.passesTotals) || {};\n            score.failsTotals = R.clone(state.failsTotals) || {};\n\n            if(score.success) {\n                score.passesTotals[score.itemId] = score.passesTotals[score.itemId] ? score.passesTotals[score.itemId] + 1 : 1;\n                if(!score.failsTotals[score.itemId]) {\n                    score.failsTotals[score.itemId] = 0;\n                }\n            } else {\n                score.failsTotals[score.itemId] = score.failsTotals[score.itemId] ? score.failsTotals[score.itemId] + 1 : 1;\n                if(!score.passesTotals[score.itemId]) {\n                    score.passesTotals[score.itemId] = 0;\n                }\n            }\n            \n            return { ...state, ...score};\n        }\n        case types.SELECT_COLLECTION:\n            return R.clone(progressState.score);\n        case types.NEXT_ROUND:\n        case types.NEXT_LEVEL:\n        case types.UPDATE_COLLECTION:\n            return { ...progressState.score, ...{ fails: [], passes: []} };\n        case types.UPDATE_TRAIT_SCORE: {\n            const bonusScores = state.bonusScores || [];\n            bonusScores.push(\n                {\n                    id: action.data.itemId,\n                    name: action.data.binomial,\n                    success: action.data.success,\n                    guid: action.data.guid\n                }\n            );\n            return { ...state, bonusScores: bonusScores };\n        }\n        case types.SET_ACTIVE_COLLECTION:\n            return action.data.lesson.score;\n        case types.NEXT_LESSON: {\n            return { ...state, mode: 'learn'};\n            }\n        default:\n            return state;\n    }       \n};\n\nexport const history = (state = null, action) => {\n    switch(action.type) {\n        case types.UPDATE_HISTORY: {\n          \n            const history = { scores: [] };\n\n            history.scores = state === null \n                ? [action.data] \n                : state.scores[state.scores.length-1].question === action.data.question\n                    ? [...state.scores]\n                    : [...state.scores, action.data];\n\n            let historyCorrect = 0;\n            let historyTotal = 0;\n        \n            history.scores.forEach(score => {\n                historyCorrect += score.correct;\n                historyTotal += score.total;\n            });\n\n            history.correct = historyCorrect;\n            history.total = historyTotal;\n            history.incorrect = history.total - history.correct;\n\n            return history;\n        }\n        case types.SELECT_COLLECTION:\n            return null;   \n        case types.SET_ACTIVE_COLLECTION:\n            return action.data.lesson.history;\n        default:\n            return state;\n    }\n};\n\nexport const videoPlayer = (state = null, action) => {\n    switch(action.type) {\n        case types.UPDATE_VIDEO_PLAYER:\n            return action.data;\n        default:\n            return state;\n    }\n};","import { types } from 'redux/actions/action-types';\n\n\nconst cleanAndReturnIncomingState = state => {\n    const quickFire = state;\n    if(quickFire.onClickFiltersLinkListeners) delete quickFire.onClickFiltersLinkListeners;\n    if(quickFire.onClickGlossaryLinkListeners) delete quickFire.onClickGlossaryLinkListeners;\n    return quickFire;\n};\n\nexport const quickFire = (state = null, action) => {\n    switch(action.type) {\n        case types.CREATE_QUICKFIRE:\n            return cleanAndReturnIncomingState(action.data);\n        case types.UPDATE_QUICKFIRE:\n            return cleanAndReturnIncomingState(action.data);\n        default:\n            return state;\n    }\n}\n\nexport const glossary = (state = null, action) => {\n    switch(action.type) {\n        case types.CREATE_GLOSSARY:\n            return action.data;\n        default:\n            return state;\n    }\n}","import * as R from 'ramda';\n\nimport { types } from 'redux/actions/action-types';\n\nexport const collections = (state = [], action) => {\n    switch(action.type) {\n        case types.SELECT_COLLECTION:\n            const cols = [ ...state ];\n            cols.forEach(col => {\n                if(col.id === action.data.id) {\n                    col.selected = true;\n                } else {\n                    col.selected = false;\n                }\n            });\n            return cols;\n        case types.UPDATE_COLLECTIONS: {            \n            return state ? [ ...state, ...action.data ] : action.data;\n        }\n        case types.UPDATE_COLLECTION: {\n\n            const collections = [ ...state ];\n\n            collections.forEach(collection => {\n                if(collection.id === action.data.collection.id) {\n                    collection = action.data.collection;\n                }\n            });\n\n            return collections;\n        }\n        case types.SET_ACTIVE_COLLECTION: {\n\n            action.data.lesson.collection.isActive = true;\n\n            const isCollectionUpdate = R.contains(action.data.lesson.collection.id, state.map(collection => collection.id));\n            if(isCollectionUpdate) {\n                return [ ...state.filter(collection => collection.id !== action.data.lesson.collection.id), action.data.lesson.collection ];\n            } else {\n                return [ ...state, action.data.lesson.collection ];\n            }\n        }\n        default:\n            return state;\n    }\n};\n\nexport const collection = (state = { id: 0 }, action) => {\n\n    const getNextRound = (action, state) => {        \n\n        let lesson = action.data.lesson;\n        let itemIndex = (lesson.moduleSize * (lesson.currentRound - 1));\n        let nextItem = state.items[itemIndex];\n        \n        if(lesson.isLevelComplete) {\n            itemIndex = 0;\n            nextItem = state.items[itemIndex];\n        }        \n        return { itemIndex, nextItem };\n    };\n\n    const updateCollection = (state, action) => {\n        \n        let collection = { ...state, ...action.data.collection };\n        if(state.id && state.id === action.data.collection.id ) {\n            collection.itemIndex = state.itemIndex;\n        }\n        let nextItem = collection.items[collection.itemIndex];\n        \n        if(action.data.config.mode === 'review') {\n            collection.allItems = action.data.collection.allItems;\n        }\n\n        if(action.data.config.mode === 'learn-again') {\n            collection.itemIndex = 0;\n            collection.nextItem = collection.items[collection.itemIndex];            \n        }\n\n        return { collection, nextItem };\n    };\n    \n    switch(action.type) {\n\n        case 'persist/REHYDRATE': {\n            return state;\n        }\n\n        case types.SELECT_COLLECTION: {\n            return action.data;\n        }\n        case types.UPDATE_COLLECTION_ITEMS: {\n            const collection = R.clone(state);\n            collection.items = action.data.filter(item => !item.isDeselected);\n            return collection;\n        }\n\n        case types.SET_ACTIVE_COLLECTION: {\n            return { \n                ...action.data.lesson.collection, \n                nextItem: action.data.lesson.collection.items[action.data.lesson.collection.itemIndex] };\n        }\n\n        case types.RESET_COLLECTION: {\n            return action.data.collection;\n        }\n\n        case types.UPDATE_COLLECTION: {            \n            const { collection, nextItem } = updateCollection(state, action);\n            return { ...state, ...collection, nextItem };\n        }\n\n        case types.NEXT_LAYOUT: {\n            const layout = action.data;\n            return layout.bonus ? state : state;\n        }            \n\n        case types.NEXT_ITEM: {\n            let itemIndex = action.data;\n            let nextItem = state.items[itemIndex];\n            return { ...state, itemIndex, nextItem };\n        }\n\n        case types.NEXT_ROUND: {\n            const { itemIndex, nextItem } = getNextRound(action, state);\n            return { ...state, itemIndex, nextItem };\n        }\n\n        case types.NEXT_LESSON: {\n            const collection = { ...state, ...action.data.collection };\n            return { ...state, ...collection };\n        }\n\n        case types.NEXT_LEVEL: {\n            return state;\n        }\n\n        default: {\n            return state; \n        }\n    }\n};\n\nexport const bonusLayout = (state = null, action) => {\n\n    switch(action.type) {\n\n        case 'persist/REHYDRATE': {\n            return state;\n        }\n\n        case types.NEXT_LAYOUT: {\n            const layout = action.data;\n\n            if(layout.bonus) {\n                state = layout;\n            }\n            return state;\n        }\n\n        case types.SET_ACTIVE_COLLECTION:\n            return { ...state, ...action.data.lesson.bonusLayout };\n\n        default: {\n            return state; \n        }\n    }\n};","import { combineReducers, createStore, applyMiddleware, compose } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport thunk from 'redux-thunk';\nimport storage from 'redux-persist/lib/storage'; // defaults to localStorage for web and AsyncStorage for react-native\n\nimport { logger } from 'redux/middleware/logger';\nimport { timeoutScheduler } from 'redux/middleware/timeoutScheduler';\n\nimport { config, enums, user, userAction } from 'redux/reducers/config-reducer';\nimport { collections, collection, bonusLayout } from 'redux/reducers/species-reducers';\nimport { counter, score, history, videoPlayer } from 'redux/reducers/progress-reducers';\nimport { lessonPlans, lessonPlan, layout } from 'redux/reducers/layout-reducers';\nimport { lesson, lessons } from 'redux/reducers/lesson-reducers';\nimport { quickFire, glossary } from 'redux/reducers/quick-fire-reducers';\n\nimport hardSet from 'redux-persist/lib/stateReconciler/hardSet'\n\nconst reducer = combineReducers({\n    counter,\n    lessonPlans,\n    lessonPlan,\n    layout,\n    config,\n    lessons,\n    lesson,\n    collection,\n    score,\n    collections,\n    history, \n    videoPlayer,\n    enums,\n    bonusLayout,\n    user,\n    quickFire,\n    glossary,\n    userAction\n});\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n//   stateReconciler: hardSet\n//   blacklist: ['config']\n}\n\nconst persistedReducer = persistReducer(persistConfig, reducer)\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(\n    persistedReducer, \n    composeEnhancers(applyMiddleware(\n        logger,\n        thunk\n    ))\n);\n\nexport const persistor = persistStore(store);\n\nexport const rootReducer = (state, action) => {\n\n    // For this use case we can use purge instead:\n\n    // https://stackoverflow.com/questions/35622588/how-to-reset-the-state-of-a-redux-store/35641992#35641992\n\n    if(action.type === 'INITIALISE_STATE') {\n        state = undefined;\n    }\n\n    return reducer(state, action);\n  }","export const config = {\n    language: 'en',\n    moduleSize: 4,\n    callbackTime: 1500,\n    callbackDelay: 1500,\n    excludeRevision: false,\n    isPortraitMode: false,\n    isLandscapeMode: true,\n    collection: {\n        id: 0\n    },\n    mode: 'learn',\n    languages : [\n        { name: 'Deutsche', lang: 'de' },\n        { name: 'English', lang: 'en' },\n        { name: 'Español', lang: 'es' },\n        { name: 'Français', lang: 'fr' },\n        { name: 'Italiano', lang: 'it' },\n        { name: 'Português', lang: 'pt' }\n    ],\n    guide: {\n        iconicTaxa: null,\n        locationLongLat: '',\n        locationPlace: '',\n        locationType: null,\n        place: {\n            id: 1,\n            name: ''\n        },\n        speciesRange: 10,\n        inatId: { key: '', type: '', param: 'user_id' },\n        season: {},\n        perPage: 200,\n        noOfRecords: 50\n    },    \n};","// Module\nvar code = \"<div>\\n    <input id=\\\"input-species\\\" type=\\\"text\\\" placeholder=\\\"Start typing a latin species name\\\" autofocus>            \\n</div>\\n\\n<div class=\\\"autocomplete-options-container hide-important\\\" id=\\\"snapdragon-species-autocomplete\\\" style=\\\"width:unset;\\\"></div>\";\n// Exports\nmodule.exports = code;","import * as R from 'ramda';\n\nimport autocomplete from 'autocompleter';\n\nimport { firestore } from 'api/firebase/firestore';\nimport { renderTemplate } from 'ui/helpers/templating';\n\nimport editorTemplate from 'ui/create-guide-modal/species-editor-template.html';\n\nconst listenersToAddedSpecies = [];\n\nexport const addListenerToAddedSpecies = listener => {\n    listenersToAddedSpecies.pop();  \n    listenersToAddedSpecies.push(listener);\n};\n\nexport const speciesEditor = (container, selectedSpeciesDisplay, selectedSpecies, savedSpeciesNames, addedSpecies) => {\n\n    const template = document.createElement('template');\n          template.innerHTML = editorTemplate;\n\n    selectedSpeciesDisplay.innerHTML = '';\n\n    renderTemplate({addedSpecies}, template.content, selectedSpeciesDisplay);\n\n    const input = container.querySelector(\"#input-species\");\n          \n    setTimeout(() => {\n        input.focus();\n    }, 500);\n\n    const addSpeciesToList = species => {\n        \n        if(R.contains(species, selectedSpecies)) return;\n\n        selectedSpecies.push(species);\n        addedSpecies.push(species);\n\n        speciesNames = speciesNames.filter(name => name.value !== input.value);\n        input.value = '';\n\n        listenersToAddedSpecies.forEach(listener => listener(species));\n\n        setTimeout(() => {            \n            speciesEditor(container, selectedSpeciesDisplay, selectedSpecies, speciesNames, addedSpecies);\n        }, 200);\n    };\n\n    let speciesNames = savedSpeciesNames || [];\n\n    const init = async () => {\n\n        if(speciesNames.length === 0) {\n\n            speciesNames = await firestore.getSpeciesNames()\n            speciesNames = speciesNames[0].value.map(name => {\n                return {\n                    label: name,\n                    value: name\n                }\n            });\n        }\n\n        autocomplete({\n            input: input,\n            fetch: function(text, update) {\n                text = text.toLowerCase();\n                const suggestions = speciesNames.filter(n => n.value.toLowerCase().startsWith(text) && !R.contains(n.value, selectedSpecies));\n                update(suggestions);\n            },\n            onSelect: function(item) {\n                input.value = item.label;\n                addSpeciesToList(input.value);\n            },\n            minLength: 3,\n            debounceWaitMs: 200,\n            className: 'autocomplete-options-container'\n        });\n\n        input.addEventListener('change', event => {\n            setTimeout(() => {\n                const highlightedText = document.querySelector('.selected');\n                if(highlightedText) {\n                    input.value = highlightedText.innerText;\n                    addSpeciesToList(input.value);\n                }\n            }, 100);\n        });\n    };\n    \n    init();\n\n    container.querySelectorAll('li input').forEach(checkBox => {\n        \n        checkBox.addEventListener('change', event => {\n\n            const removedSpecies = event.target.id;\n\n            speciesNames.push({ label: removedSpecies, value: removedSpecies});\n            selectedSpecies = selectedSpecies.filter(species => species !== removedSpecies);\n                        \n            speciesEditor(container, selectedSpeciesDisplay, selectedSpecies, speciesNames);\n        });\n    })\n};","// Module\nvar code = \"<div class=\\\"guide-text-container hide-empty\\\">\\n    <input id=\\\"input-species\\\" type=\\\"text\\\" placeholder=\\\"Start typing a latin species name\\\" autofocus>            \\n</div>\\n\\n<div class=\\\"autocomplete-options-container hide-important\\\" id=\\\"snapdragon-species-autocomplete\\\" style=\\\"width:unset;\\\"></div>\\n\\n<ul class=\\\"selected-species js-selected-species\\\" data-repeat-species=\\\"{{ selectedSpecies }}\\\">\\n    <li class=\\\"custom-control custom-checkbox\\\">\\n        <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"{{ species.name }}\\\" checked>\\n        <label class=\\\"custom-control-label\\\" for=\\\"{{ species.name }}\\\">{{ species.name }}</label>\\n    </li>\\n</ul>\";\n// Exports\nmodule.exports = code;","import * as R from 'ramda';\n\nimport autocomplete from 'autocompleter';\n\nimport { enums } from 'ui/helpers/enum-helper';\nimport { store } from 'redux/store';\nimport { firestore } from 'api/firebase/firestore';\nimport { renderTemplate } from 'ui/helpers/templating';\nimport { lessonStateHandler } from 'ui/screens/lists/lesson-state-handler';\n\nimport editorTemplate from 'ui/create-guide-modal/species-in-guide-editor-template.html';\n\nexport const speciesInGuideEditor = (config, modal, selectedSpeciesDisplay, createGuide, selectedSpecies, savedSpeciesNames) => {\n\n    const spinner = modal.querySelector('.js-species-search');\n    if(spinner) spinner.classList.add('hide-important');\n\n    const template = document.createElement('template');\n          template.innerHTML = editorTemplate;\n\n    selectedSpeciesDisplay.innerHTML = ''\n\n    renderTemplate({selectedSpecies}, template.content, selectedSpeciesDisplay);\n\n    const getTaxa = (taxa, config, selectedSpecies) => {\n        if(taxa) {           \n            if(config.guide.iconicTaxa) {\n                taxa.innerHTML = config.guide.iconicTaxa.map(i => i.common).join(', ');\n            } else {\n                taxa.innerHTML = [ ...new Set(selectedSpecies.map(ss => ss.iconicTaxon))].join(', ');\n            }\n        }\n    }\n        \n    const speciesCount = modal.querySelector('.js-lesson-taxa-count');\n\n    if(speciesCount) {\n        speciesCount.innerHTML = speciesCount === 1 \n            ? `There is ${selectedSpecies.length} species in this lesson.`\n            : `There are ${selectedSpecies.length} species in this lesson.`;;\n    }\n\n    const taxa = modal.querySelector('.js-lesson-taxa');\n    getTaxa(taxa, config, selectedSpecies);\n\n    const input = modal.querySelector(\"#input-species\");\n    if(config.isLandscapeMode) {\n        setTimeout(() => {\n            input.focus();\n        }, 500);\n    }\n\n    const addSpeciesToList = async species => {\n        \n        if(R.contains(species.name, selectedSpecies.map(ss => ss.name))) return;\n\n        selectedSpecies.push(species);\n\n        config.guide.species = selectedSpecies;\n        config.guide.iconicTaxa = [ ...new Set(selectedSpecies.map(ss => ss.iconicTaxon)) ];\n\n        createGuide.setConfig(config);\n\n        speciesNames = speciesNames.filter(name => name.value !== input.value);\n        input.value = '';\n\n        const { collection } = store.getState();\n\n        lessonStateHandler.changeRequest({\n            requestType: enums.lessonState.ADD_SPECIES_TO_COLLECTION,\n            requestArgs: {\n                updatedConfig: config, updatedCollection: collection\n            }\n        });\n\n        setTimeout(() => {            \n            speciesInGuideEditor(config, modal, selectedSpeciesDisplay, createGuide, selectedSpecies, speciesNames);\n        }, 250);\n    };\n\n    let speciesNames = savedSpeciesNames || [];\n\n    const init = async () => {\n\n        if(speciesNames.length === 0) {\n\n            speciesNames = await firestore.getSpeciesNames()\n            speciesNames = speciesNames[0].value.map(name => {\n                return {\n                    label: name,\n                    value: name\n                }\n            });\n        }\n\n        autocomplete({\n            input: input,\n            fetch: function(text, update) {\n                text = text.toLowerCase();\n                const suggestions = speciesNames.filter(n => n.value.toLowerCase().startsWith(text) && !R.contains(n.value, selectedSpecies.map(ss => ss.name)));\n                update(suggestions);\n            },\n            onSelect: async function(item) {\n                input.value = item.label;\n                const species = await firestore.getSpeciesByName(item.label);\n                addSpeciesToList(species);\n            },\n            minLength: 3,\n            debounceWaitMs: 200,\n            className: 'autocomplete-options-container'\n        });\n\n        input.addEventListener('change', event => {\n            setTimeout(async() => {\n                const highlightedText = document.querySelector('.selected');\n                if(highlightedText) {\n                    input.value = highlightedText.innerText;\n                    const species = await firestore.getSpeciesByName(input.value);\n                    addSpeciesToList(species);\n                }\n            }, 100);\n        });\n    };\n    \n    init();\n\n    modal.querySelectorAll('li input').forEach(checkBox => {\n        \n        checkBox.addEventListener('change', event => {\n\n            const removedSpecies = event.target.id;\n\n            speciesNames.push({ label: removedSpecies, value: removedSpecies});\n            selectedSpecies = selectedSpecies.filter(species => species.name !== removedSpecies);\n            \n            config.guide.species = selectedSpecies;\n            config.guide.iconicTaxa = [ ...new Set(selectedSpecies.map(ss => ss.iconicTaxon)) ];\n\n            createGuide.setConfig(config);\n            \n            speciesInGuideEditor(config, modal, selectedSpeciesDisplay, createGuide, selectedSpecies, speciesNames);\n        });\n    })\n};","// Module\nvar code = \"<div class=\\\"selected-species-container\\\">\\n    <div class=\\\"scrollable open js-selected-species-container\\\"></div>\\n</div>\";\n// Exports\nmodule.exports = code;","import { renderTemplate } from 'ui/helpers/templating';\nimport { speciesInGuideEditor } from 'ui/create-guide-modal/species-in-guide-editor';\nimport { speciesEditor } from 'ui/create-guide-modal/species-editor';\n\nimport speciesPickerTemplate from 'ui/create-guide-modal/species-picker-template.html';\n\nexport const renderSpeciesPicker = (props, parent) => {\n\n      const { config, container, selectedSpecies } = props;\n\n      const template = document.createElement('template');\n            template.innerHTML = speciesPickerTemplate;\n\n      parent.innerHTML = '';\n\n      renderTemplate({}, template.content, parent);\n\n      const selectedSpeciesDisplay = parent.querySelector('.js-selected-species-container');\n            selectedSpeciesDisplay.innerHTML = '';\n\n      if(config) {\n            speciesInGuideEditor(config, container, selectedSpeciesDisplay, props, config.guide.species || []);\n      } else {\n            speciesEditor(parent, selectedSpeciesDisplay, selectedSpecies, [], []);\n      }\n};\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./common.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./common.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./common.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./snapdragon-colours.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./snapdragon-colours.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./snapdragon-colours.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","export const DOM = {\n  \n    leftGrid : document.getElementsByClassName('js-left-grid')[0],\n    leftHeader : document.getElementsByClassName('js-left-header')[0],\n    leftBody : document.getElementsByClassName('js-left-body')[0],\n    leftFooter : document.getElementsByClassName('js-left-footer')[0],\n\n    leftHeaderTxt : document.getElementsByClassName('js-left-txt-header')[0],\n    specimenRptr : document.getElementsByClassName('js-rptr-specimen')[0],\n    \n    rightGrid : document.getElementsByClassName('js-right-grid')[0],\n    rightHeader : document.getElementsByClassName('js-right-header')[0],\n    rightHeaderTxt : document.getElementsByClassName('js-right-txt-header')[0],\n    rightHeaderScoreTxt : document.getElementsByClassName('js-right-txt-score')[0],\n    rightBody : document.getElementsByClassName('js-right-body')[0],\n    rightRptrSummary : document.getElementsByClassName('js-summary')[0],\n    rightBodyBottom : document.getElementsByClassName('js-right-body-bottom')[0],\n    rightFooter : document.getElementsByClassName('js-right-footer')[0]    \n};\n","import { contains } from 'ramda';\n\nimport { utils } from 'utils/utils';\nimport { itemProperties } from 'ui/helpers/data-checking';\nimport { getInatSpecies } from 'api/inat/inat';\nimport { getPlace } from 'geo/geo';\nimport { firestore } from 'api/firebase/firestore';\nimport { enums } from 'ui/helpers/enum-helper';\n\nasync function getItems(collection, config) {\n\n  try {\n\n    if(collection.behaviour === 'dynamic') {\n\n        const collectionIsUnchanged = \n            collection.items && collection.items.length > 0 && collection.items[0].collectionId === collection.id && \n            collection.speciesRange === config.guide.speciesRange;\n\n        if(!!collectionIsUnchanged) {\n            return new Promise(resolve => {\n                resolve(collection.items);\n            });\n\n        } else {\n\n            if(config.guide.guideType === 'LOCATION') {\n  \n              try {\n                const place = await getPlace(config, true);\n\n                config.guide.coordinates = {\n                    long: place.query[0],\n                    lat: place.query[1]\n                };\n              } catch (e) {\n                logError('Error for getPlace: ', e);\n              }\n\n              try {\n                return await getInatSpecies(config);\n              } catch(e) {\n                logErrorg('getInatSpecies in getItems: ', e);\n              }\n            }\n            else { // INAT\n                return await getInatSpecies(config);\n            }            \n        }\n    }\n    else if(collection.behaviour === 'static') { // names only available at this point e.g. 'PICKER';\n        return getSnapdragonSpeciesData(collection.species);\n    }\n  } catch (e) {\n    logError('Error for getItems: ', e);\n    return [];\n  }\n};\n\nconst loadCollection = async (collection, config) => {\n    \n    try {\n        \n        config.collection = { id: collection.id };\n        \n        if(collection.items.length > 0) {\n          // this point is often reached…\n         snapLog(`no collection items in loadCollection, collection: ${collection.name}`);\n          return collection;\n        };\n\n        let items = [];\n\n        try {\n          items = await getItems(collection, config);\n        } catch(e) {\n          logError('getItems in loadCollection', e);\n        }\n\n        if(!items) {\n         snapLog('no items from getItems in loadCollection to filter');\n          return collection;\n        };\n\n        collection.items = items.filter(item => item.name);\n\n        if(collection.nextItem) return; // after refreshing or returning to the page (using rehydrated collection)\n\n        if(contains('lepidoptera', collection.iconicTaxa.map(taxon => taxon.id)) && !contains('insecta', collection.iconicTaxa.map(taxon => taxon.id))) {\n            const insecta = collection.items.filter(i => i.taxonomy.class.toLowerCase() === 'insecta');\n            const lepidoptera = insecta.filter(i => i.taxonomy.order.toLowerCase() === 'lepidoptera');\n            const noninsecta = collection.items.filter(i => i.taxonomy.class.toLowerCase() !== 'insecta');\n            collection.items = [ ...lepidoptera, ...noninsecta ];\n        }\n\n        if(collection.behaviour === 'dynamic') {                    \n            collection.speciesRange = config.guide.speciesRange;\n        }\n\n        let itemReadyCollection;\n\n        if(collection.items) {\n\n            itemReadyCollection = await loadCollectionItemProperties(collection, config);\n            \n            try {\n                return itemReadyCollection;\n            } catch (e) {\n              logError('Error for loadCollectionItemProperties: ', e);\n            }\n\n        } else {\n           snapLog('No results for callbackWhenNoResults');\n            return collection;\n        }\n    } catch (e) {\n      logError('Error for loadCollection: ', e);\n    }\n};\n\nconst loadCollectionItemProperties = async (collection, config) => {\n\n    // collection.items = collection.items.filter(i => i);\n\n    if(collection.behaviour === 'dynamic') {\n        collection.items = utils.sortBy(collection.items.filter(item => item), 'observationCount', 'desc');\n    } else {\n        collection.items.forEach(sp => {\n            if(sp.time) {\n                sp.firstTime = sp.time[0];\n            }\n        });\n        collection.items = utils.sortBy(collection.items, 'firstTime', 'asc');\n    }\n\n    const families = [...new Set(collection.items.map(i => i.taxonomy.family))];\n    const orders = [...new Set(collection.items.map(i => i.taxonomy.order))];\n    const genera = [...new Set(collection.items.map(i => i.taxonomy.genus).filter(g => g))];\n    let familyTaxa = [], orderTaxa = [], genusTaxa = [];\n    let taxa = await firestore.getTaxaNames();\n    taxa = taxa[0].value;\n    const getGenusTaxa = async (genera) => {\n        return Promise.all(genera.map(async (genus) => {\n            const genusTaxon = await firestore.getTaxonByName(config, genus);\n            if(Object.entries(genusTaxon).length > 0 && genusTaxon.constructor === Object)\n                genusTaxa.push(genusTaxon);\n            return genusTaxa;\n        }));\n    };\n    await getGenusTaxa(genera);\n    const getFamilyTaxa = async (families) => {\n        return Promise.all(families.map(async (family) => {\n            const familyTaxon = await firestore.getTaxonByName(config, family);\n            if(Object.entries(familyTaxon).length > 0 && familyTaxon.constructor === Object)\n                familyTaxa.push(familyTaxon);\n            return familyTaxa;\n        }));\n    };\n    await getFamilyTaxa(families);\n    const getOrderTaxa = async (orders) => {\n        return Promise.all(orders.map(async (order) => {\n            const orderTaxon = await firestore.getTaxonByName(config, order);\n            if(Object.entries(orderTaxon).length > 0 && orderTaxon.constructor === Object)\n                orderTaxa.push(orderTaxon);\n            return orderTaxa;\n        }));\n    };\n    await getOrderTaxa(orders);\n    const getFamilyNames = item => {\n        if (item.family && item.family.names) {\n            return item.family.names[0].names ? item.family.names[0].names : item.family.names;\n        }\n        else {\n            return '';\n        }\n    };\n\n    const findRank = (taxa, item, rank) => {\n        const taxonRank = item.taxonomy[rank.name.toLowerCase()];\n        const taxon = taxa.length > 0 ? taxa.find(taxon => taxon.name === taxonRank) : null;\n        return taxon || '';\n    };\n\n    collection.items.forEach(async (item, index) => {\n        const names = item.name.split(' ');\n        item.taxonomy.genus = names[0];\n        item.taxonomy.species = names[1];\n        item.genus = findRank(genusTaxa, item, enums.taxon.GENUS);\n        item.family = findRank(familyTaxa, item, enums.taxon.FAMILY);\n        if (item.family) {\n            item.family.names = getFamilyNames(item);\n            item.family.vernacularName = item.family.names[0];\n        }\n        item.order = findRank(orderTaxa, item, enums.taxon.ORDER);\n        item.snapIndex = index + 1;\n        item.id = item.eolId;\n        item.vernacularNames = itemProperties.getVernacularNames(item, config);\n        item.vernacularName = itemProperties.getVernacularName(item, config);\n        item.name = names.slice(0, 2).join(' ');\n        item.questionIds = item.questionIds || [];\n    });\n    const loadTraitsInParallel = items => {\n        return Promise.all(items.map(async (item) => {\n            const itemTraits = await firestore.getTraitsBySpeciesName(item.name);\n            item.traits = itemTraits || {};\n            return item;\n        }));\n    };\n    await loadTraitsInParallel(collection.items);\n    collection.itemIndex = 0;\n    collection.glossary = [...Array.from(new Set(collection.items.map(item => item.iconicTaxon))), 'common'];\n    return collection;\n};\n\nconst getSnapdragonSpeciesData = async species => {\n    return await firestore.getSpeciesInParallel(species);\n}\n\nexport const collectionHandler = {\n    loadCollection,\n    loadCollectionItemProperties,\n    getSnapdragonSpeciesData\n};\n\n","import * as R from 'ramda';\n\nimport { utils } from 'utils/utils';\nimport { epithets } from 'api/botanical-latin';\n\nconst getVernacularName = (item, config, useShortForm = false, namePart = 'vernacularName') => {\n    try {\n        let shortForm;\n        if(useShortForm) {\n            let englishShortForm = item.names.find(name => name.language === 'en' && name.shortForm);\n            englishShortForm = englishShortForm ? englishShortForm.shortForm : undefined;\n            let languageSortForm = item.names.find(name => name.language === config.language && name.shortForm);\n            languageSortForm = languageSortForm ? languageSortForm.shortForm : undefined;\n            shortForm = languageSortForm || englishShortForm;\n        }\n        if(shortForm) return shortForm;    \n        const englishNames = item.names.filter(name => name.language === 'en');\n        const english = englishNames.length > 0 ? englishNames[0][namePart] : 'Unknown';\n        const names = item.names.filter(name => name.language === config.language);\n        const name = names.length > 0 ? names[0][namePart] : english;\n        const capitalisedNames = name.split(' ');\n        let capitalisedName;\n        if(config.language === 'fr') {        \n            capitalisedName = utils.capitaliseFirst(capitalisedNames.join(' '));\n        } else {\n            capitalisedName = capitalisedNames.map(name => utils.capitaliseFirst(name)).join(' ');\n        }\n        return capitalisedName;\n    } catch(e) {\n        console.error('Failing getting vernacular name for: ', item, 'error: ', e.message);\n        return '';\n    }\n};\n\nconst getGenusName = binomial => {\n    return binomial.split(' ')[0];\n};\n\nconst getSpeciesName = binomial => {\n    return binomial.split(' ')[1];\n};\n\nconst latin = species => {\n    let epithet = epithets.find(e => {        \n        const match = e.latin.find(part => part.toUpperCase() === species.toUpperCase());\n        return match || '';\n    });\n    return epithet ? { ...epithet } : '';\n};\n\nconst getTaxonProp = (taxon, language, prop) => {\n\n    if(!taxon[prop]) return '';\n\n    const propValue = taxon[prop].find(p => p.language === language) ? taxon[prop].find(p => p.language === language) : taxon[prop].find(p => p.language === 'en');\n\n    return propValue || '';\n};\n\nconst getNestedTaxonProp = (taxon, language, prop1, prop2, index) => {\n\n    if(!taxon || !taxon[prop1]) return '';\n\n    const prop1Value = taxon[prop1].find(name => name.language === language) ? taxon[prop1].find(name => name.language === language) : taxon[prop1].find(name => name.language === 'en');\n\n    if(!prop1Value) return '';\n\n    const prop2Value = prop1Value[prop2];\n\n    if(!prop2Value) return '';\n\n    const output = index ? prop2Value[index] : prop2Value;\n\n    return output;\n}\n\nconst trimLatinName = name => {\n\n    let binomial = name;\n\n    if(name.indexOf('.') < 0) {\n        binomial = name.split(' ').map((n,i) => {\n            return i === 0 ? n.slice(0,1).trim() + '.' : n.trim()\n          }).join(' ')\n    }\n    \n    return binomial;\n};\n\nconst familyVernacularNames = (name, language, taxa) => {\n    if(name === '') return;\n    const taxon = taxa.find(taxon => taxon.name.toUpperCase() === name.toUpperCase());\n    if(!taxon) return;\n    return taxon.names.find(name => name.language === language).names;\n};\n\nconst getTrait = (item, name, formatter) => {\n    \n    if(!item.traits) return '';\n\n    let trait;\n\n    for (let [key, obj] of Object.entries(item.traits)) {\n        if(key === name) {\n            trait = obj.value;\n        }\n    }\n\n    if(!trait) return '';\n    if(!formatter) return trait;\n    return formatter(trait);\n}\n\nconst reducer = (acc, curr) => {\n    return acc + curr;\n}\n\nconst getActiveTrait = (item, options) => {\n    const traitValues = options.map(option => { \n        const traitName = option.name;\n        const formatter = option.formatter;\n        return getTrait(item, traitName, formatter);\n    });\n    return traitValues.reduce(reducer, '');\n}\n\nconst vernacularNamesForItems = (items, config) => {\n    let itemNames = items.map(item => item.names);\n    let vernaculars = itemNames.map(itemNames => itemNames.filter(name => \n        { return name.language === config.language || name.language === 'en' }));\n    if(vernaculars.length === 0) return [];\n    vernaculars = vernaculars.map(vernacular => {\n        let name = vernacular.find(v => v.language === config.language);\n        if(!name) name = vernacular.find(v => v.language === 'en');\n        if(!name) return '';\n        return utils.capitaliseFirst(name.vernacularName);\n    }).filter(v => v !== '');\n    return vernaculars;\n};\n\nconst getVernacularNames = (item, config) => {\n    try {\n        const names = item.names.filter(name => name.language === config.language).map(name => utils.capitaliseFirst(name.vernacularName));\n        return names;\n    } catch(e) {\n        console.error('Failing getting vernacular names for: ', item);\n        return '';\n    }\n};\n\nconst answersFromList = (list, toInclude, number) => {\n    const answers = R.take(number - 1, list.filter(item => item !== toInclude));\n    answers.push(toInclude);\n    return utils.shuffleArray(answers);\n};\n\nconst statsReducer = function(obj,elem){\n    obj[elem]=obj[elem] || 0;\n    obj[elem]++;\n    return obj;\n};\n\nconst getFamilyStats = items => {\n    return items.map(item => item.taxonomy.family).reduce(statsReducer,{});\n};\n\nconst getFileNameFromImageUrl = url => {\n\n    const pattern = /[\\w:]+\\.(jpe?g|png|gif|svg)/i;\n\n    var filename = pattern.exec(url)[0];\n\n    return filename;    \n};\n\nconst getRootTraitValue = (traitValue, drop = 'end') => {\n\n    const pattern = /[A-Z]+[^A-Z]*|[^A-Z]+/g;\n\n    const parts = traitValue.match(pattern);\n\n    const dropStarters = ['colour', 'shape'];\n\n    dropStarters.forEach(starter => {\n        if(traitValue.toLowerCase().indexOf(starter) > -1) {\n            drop = 'start';\n        }\n    });\n\n    let rootTraitValue = '';\n\n    if(drop === 'start') {\n        parts.forEach((part,index) => {\n            if(index === parts.length - 1) {\n                rootTraitValue += part;\n            }\n        });\n        rootTraitValue = rootTraitValue.charAt(0).toLowerCase() + rootTraitValue.slice(1);\n    } else {\n        parts.forEach((part,index) => {\n            if(index < parts.length - 1) {\n                rootTraitValue += part;\n            }\n        });\n    }\n    \n    return rootTraitValue;\n};\n\nconst getImageRightsUrl = url => {\n\n    const filename = getFileNameFromImageUrl(url);\n\n    const template = `https://en.wikipedia.org/w/api.php?action=query&prop=imageinfo&iiprop=extmetadata&titles=File:${filename}&format=json`;\n\n    return template;\n}\n\nexport const itemProperties = {\n    getVernacularName,\n    getGenusName,\n    getSpeciesName,\n    latin,\n    getTaxonProp,\n    getNestedTaxonProp,\n    trimLatinName,\n    familyVernacularNames,\n    getTrait,\n    getActiveTrait,\n    vernacularNamesForItems,\n    getVernacularNames,\n    answersFromList,\n    getFamilyStats,\n    getFileNameFromImageUrl,\n    getImageRightsUrl,\n    getRootTraitValue\n};","import { Enum } from 'enumify';\n\nclass lessonState extends Enum {};\nlessonState.initEnum([\n    'CREATE_LESSON',\n    'BEGIN_LESSON',\n    'BEGIN_OR_RESUME_LESSON',\n    'PAUSE_LESSON', \n    'RESUME_LESSON',\n    'NEXT_ROUND',\n    'BEGIN_INTRO',\n    'REVIEW_SUMMARY',\n    'UPDATE_COLLECTION', // required? use set active collection\n    'GET_LESSON_PROGRESS',\n    'ADD_SPECIES_TO_COLLECTION',\n    'SAVE_LESSON_PROGRESS',\n    'RENDER_SPECIES_LIST',    \n]);\n\nclass navigation extends Enum {};\nnavigation.initEnum([\n    'LANDSCAPE_HOME', \n    'SETTINGS', \n    'PORTRAIT_HOME',\n    'GLOSSARY', \n    'EMAIL',\n    'INFO',\n    'LOGIN',\n    'LANGUAGE'\n]);\n\nclass taxon extends Enum {};\ntaxon.initEnum([\n    'KINGDOM',\n    'PHYLUM',\n    'ORDER',\n    'FAMILY',\n    'GENUS',\n    'SPECIES',\n]);\n\nclass guideOption extends Enum {};\nguideOption.initEnum([\n    'LOCATION',\n    'INAT',\n    'PICKER'\n]);\n\nclass nextStep extends Enum {};\nnextStep.initEnum([\n    'NEXT_ITEM',\n    'NEXT_LAYOUT',\n    'NEXT_LESSON',\n    'NEXT_ROUND',\n]);\n\nclass quickFireType extends Enum {};\nquickFireType.initEnum([\n    'DEFINITION',\n    'REVERSE_DEFINITION',\n    'TEXT_ENTRY'\n]);\n\nclass quickFireStep extends Enum {};\nquickFireStep.initEnum([\n    'GLOSSARY',\n    'FILTERS',\n    'QUESTIONS'\n]);\n\nclass userEvent extends Enum {};\nuserEvent.initEnum([\n    'DEFAULT',\n    'START_LESSON',\n    'START_LESSON_REVIEW',\n    'START_TERM_REVIEW',\n    'NAVIGATE_HOME',\n    'EDIT_LESSON',\n    'TOGGLE_SPECIES_LIST'\n]);\n\nexport const enums = {\n    lessonState,\n    navigation,\n    taxon,\n    guideOption,\n    nextStep,\n    quickFireType,\n    quickFireStep,\n    userEvent\n};","import { iconicTaxa, matchIcon, matchRank } from 'api/snapdragon/iconic-taxa';\n\nconst mushroomIcon = '<svg-icon class=\"si-glyph-mushrooms\"><src href=\"./icons/si-glyph-mushrooms.svg\"/></svg-icon>';\n\nexport const renderIcon = (taxonomy, rootNode) => {\n\n    if(taxonomy.kingdom.toLowerCase() === 'fungi') {\n\n        const iconicIconContainer = rootNode.querySelector('.js-iconic-icon');\n\n        iconicIconContainer.innerHTML = `<span class=\"mushroom-icon-header\">${mushroomIcon}</span>`;\n\n    } else {\n\n        const iconicIcon = rootNode.querySelector('.js-iconic-icon i');\n\n        const classes = matchIcon(taxonomy, iconicTaxa).split(' ');\n\n        classes.forEach(c => iconicIcon.classList.add(c));   \n    }\n\n    return rootNode.querySelector('.js-iconic-icon');\n};\n\nexport const returnIcon = item => {\n\n    if(!item.taxonomy) return '';\n\n    if(item.taxonomy.kingdom.toLowerCase() === 'fungi') {\n        return `<span class=\"mushroom-icon-header\">${mushroomIcon}</span>`;\n    } else {\n        return `<i class=\"small-icon ${matchIcon(item.taxonomy, iconicTaxa)}\"></i>`;\n    }\n};\n\nexport const returnTaxonIcon = taxon => {\n\n    if(taxon.toLowerCase() === 'fungi') {\n        return `<span class=\"iconic-taxa-categories-selected\">${mushroomIcon}</span>`;\n\n    } else {\n        return `<span><i class=\"small-icon ${matchRank(taxon)}\"></i></span>`;\n    }\n};","import * as R from 'ramda';\n\nimport { DOM } from 'ui/dom';\nimport { itemProperties } from 'ui/helpers/data-checking';\nimport { imageSlider } from 'ui/screens/common/image-slider';\n\nconst stripImageUrlOfScaleAndPrefix = img => {  \n    const prefix = img.provider === 'inat' ? 'https://static.inaturalist.org/photos/' : 'https://content.eol.org/data/media/';\n    if(!img.url || typeof img.url === 'object') return '';\n    let part = img.url.replace('.260x190.jpg', '');\n        part = part.replace('.98x68.jpg', '');\n        part = part.replace('.jpg', '');\n        part = part.replace(prefix, '');\n\n    if(img.provider === 'inat') {\n      part = part.split('?')[0];\n    }\n\n    return part;\n};\n\nexport const imageUseCases = {\n    SPECIES_LIST: 'Species list',\n    SPECIES_CARD: 'Species card',\n    TAXON_CARD: 'Taxon card',\n    SPECIES_SPECIMENS: 'Species specimens',\n    NON_TAXON_CARD: 'Non-taxon card',\n    VISUAL_MATCH: 'Visual match',\n    MIXED_SPECIMENS: 'Mixed specimens',\n    CAROUSEL: 'Carousel',\n    TEXT_ENTRY: 'Text entry',\n    ACTUAL_SIZE: 'Actual size',\n    SPECIES_GRID: 'Species grid'\n}\n\nexport const denormaliseImages = images => {\n    const denormalisedImages = images.map(image => {\n        image.photographersName = image.photographer ? image.photographer.full_name || '' : '';\n        return image;\n    });\n    return denormalisedImages;\n};\n\nexport const imageMatch = (src1, src2) => {\n    if(!src2) return false;\n    src1 = stripImageUrlOfScaleAndPrefix(src1);\n    src2 = stripImageUrlOfScaleAndPrefix(src2);\n    const isActiveImage = src1 === src2;\n    return isActiveImage;\n};\n\nexport const prepImageForCarousel = (image, index, item, config, useCase) => {\n    let img = { \n        index: index + 1, \n        ...image,\n        url: scaleImage(image, useCase, config).medium,\n        // large: scaleImage({ url:image.src }).large,\n        itemName: item.name,\n        itemCommon: item.itemCommon,\n        rightsHolder: image.rightsHolder || '',\n        photographersName : image.photographer ? image.photographer.full_name || '' : '',\n        provider: image.provider || ''       \n    };\n    if(image.src) {\n        img = { ...img, ...image.src, medium: image.medium };\n    }\n    return img;\n};\n\nexport const prepImagesForCarousel = (item, config, useCase) => {\n    const images = item.images.map((image, index) => { \n        return prepImageForCarousel(image, index, item, config, useCase);\n    });\n    return images;\n};\n\nexport const scaleImage = image => {\n\n    if(!image.url) {\n        return image;\n    }\n\n    image.part = stripImageUrlOfScaleAndPrefix(image);\n\n    if(image.provider === 'inat') {\n        image.small = `https://static.inaturalist.org/photos/${image.part}`;\n        image.medium = image.part.replace('small', 'medium');\n        image.medium = `https://static.inaturalist.org/photos/${image.medium}`;\n        image.large = image.part.replace('small', 'large');\n        image.large = `https://static.inaturalist.org/photos/${image.large}`;\n        return image;\n    } else {\n        image.small = `https://content.eol.org/data/media/${image.part}.98x68.jpg`;\n        image.medium = `https://content.eol.org/data/media/${image.part}.260x190.jpg`;\n        image.large = `https://content.eol.org/data/media/${image.part}.jpg`;\n        return image;\n    }\n    \n};\n\nexport const modalImagesHandler = (images, item, collection, config, displayNameType) => {\n    images.forEach(image => {\n        modalImageHandler(image, item, collection, config, displayNameType);\n    });\n};\n\nconst handleImageSelectionFromList = (image, item, collection, config, displayNameType = 'binomial') => {\n\n    const parent = document.querySelector('#imageModal .js-modal-image');\n    const selectedItem = item || collection.items.find(item => item.name === image.dataset.itemName);\n    let images = R.clone(selectedItem.images.map((image, index) => {\n        selectedItem.vernacularName = itemProperties.getVernacularName(selectedItem, config);\n        image = scaleImage(image, imageUseCases.CAROUSEL, config);\n        return { ...image, itemName: selectedItem.name, itemCommon: selectedItem.vernacularName };\n    }));\n    images = denormaliseImages(images);\n    const selectedItemImage = selectedItem.images.find(i => imageMatch(i,image.dataset));\n    const selectedImage = { dataset: { ...image.dataset, ...selectedItemImage } };\n    imageSlider({ config, images, parent, image: selectedImage, identifier: selectedImage.dataset.itemName.replace(' ', '_') });\n    let displayName = '';\n    switch(displayNameType) {\n        case 'biomial':\n            displayName = selectedItem.name;\n            break;\n        case 'vernacular':\n            displayName = selectedItem.vernacularName;\n            break;\n        case 'withheld':\n            displayName = 'Species name withheld';\n            break;\n        default:\n            displayName = `<span>${selectedItem.vernacularName}</span> <span class=\"latin-name\">${selectedItem.name}</span>`;\n    }\n\n    document.querySelector('#imageModal .js-modal-image-title span:nth-child(1)').innerHTML = displayName;\n};\n\nexport const modalImageHandler = (image, item, collection, config, displayNameType = 'binomial') => {\n    image.addEventListener('click', e => {\n        if(!item) return;\n        handleImageSelectionFromList(image, item, collection, config, displayNameType);        \n    }, true);\n};\n","// https://developer.mozilla.org/en-US/docs/Web/API/console#Outputting_text_to_the_console\n\n// import { object } from \"firebase-functions/lib/providers/storage\";\n\nexport const snapLog = (msg, obj) => {\n\n  console.log('SECRET_KEY: ', process.env.SECRET_KEY);\n\n  let css = 'background: #222; color: #bada55; padding: 5px; margin-right: 5px;';\n  if(Array.isArray(obj)) obj = { obj };\n  obj \n    ? console.log(`%c${msg} %o`, css, obj)\n    : console.log(`%c${msg}: ${obj}`, css)\n};\n\nexport const logError = (source, e) => {\n  let css = 'background: #222; color: #fff; padding: 5px; margin-right: 5px;';\n  let output;\n  if(Array.isArray(source)) source = { source };\n  // if(source === typeof(object)) {\n  //   output = `%cError: ${e.message} at %o`;\n  //   console.log(output, source, css);\n  // } else {\n  //   output = `%cError: ${e.message} at ${source}`;\n  //   console.log(output, css);\n  // }\n};\n\nexport const logAPIError = (call, e) => {\n  let source = `Firebase ${call} error`;\n  logError(source, e);\n};","// https://github.com/jcgregorio/stamp/wiki\n\nvar Stamp = Stamp || {};\n\n(function(ns) {\n\n  // Utilty object to capture the document context of the script\n  // tag that instantiated the Context. Useful for getting access to\n  // assetts in HTML Imports.\n  ns.Context = function() {\n    //this.doc = (document.currentScript||document._currentScript).ownerDocument;\n  };\n\n  // Import the element 'id' from the HTML Import into the current docuemnt.\n  ns.Context.prototype.import = function(id) {\n    return document.importNode(this.doc.querySelector('#'+id).content, true);\n  };\n\n  // Regex to grab double moustache'd content.\n  var re = /{{\\s([\\w\\.\\^]+)\\s}}/g;\n\n  // Returns 'state' after applying address, where address is an array of\n  // string.\n  //\n  // I.e. if the state is {a: {b: [9, 8, 7]}} then the address of [\"a\", \"b\",\n  // 0] would return 9.\n  function filterState(address, state) {\n    var mystate = state;\n    for (var i = 0, len = address.length; i < len; i++) {\n      var a = address[i];\n      if (a in mystate) {\n        mystate = mystate[a];\n      } else if (mystate.hasAttribute && mystate.hasAttribute(a)) {\n        mystate = mystate.getAttribute(a);\n      } else {\n        throw a + \" is not a valid property of \" + JSON.stringify(mystate);\n      }\n    }\n    return mystate;\n  }\n\n  // Replace the content in 'str' from [index, index+count) with 'add'.\n  function ssplice(str, index, count, add) {\n    return str.slice(0, index) + add + str.slice(index + count);\n  }\n\n  // Extracts an address path, i.e. [\"a\", \"b\", \"0\"] from the input string 's',\n  // such as from \"{{a.b.0}}\".\n  let match;\n  function addressOf(s) {\n    if ((match = re.exec(s)) != null) {\n      return match[1].split(\".\");\n    } else {\n      return null;\n    }\n  }\n\n  // Keeps expanding double moustache in the text content until there no more\n  // double moustache instances. Returns null if no templates were found,\n  // otherwise returns the expanded string.\n  function expandString(s, state) {\n    var match;\n    var matches = [];\n\n    // Flush re's cache of the last string it was parsing.\n    re.exec(\"\");\n    // Find all the matches in s.\n    while ((match = re.exec(s)) != null) {\n      matches.push(match);\n    }\n\n    for (var i = matches.length - 1; i >= 0; i--) {\n      match = matches[i];\n      var address = match[1].split(\".\");\n      var m = filterState(address, state);\n      s = ssplice(s, match.index, match[0].length, m);\n    }\n    if (matches.length) {\n      return s;\n    }\n    return null;\n  }\n\n  // Takes an array of nodes and returns an array of cloned nodes in the same\n  // order.\n  function cloneAllNodes(a) {\n    var clones = [];\n    for (var i = 0, len = a.length; i < len; i++) {\n      if (a[i].nodeName == \"TEMPLATE\") {\n        // Template nodes have their contents hoisted up to this level for expansion.\n        clones.push(a[i].content.cloneNode(true));\n      } else {\n        clones.push(a[i].cloneNode(true));\n      }\n    }\n    return clones;\n  }\n\n  // Append all the elements in 'nodes' as children of 'ele'.\n  function appendChildren(ele, nodes) {\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      ele.appendChild(nodes[i]);\n    }\n  }\n\n  // Removes all the children of 'ele'.\n  function removeChildren(ele) {\n    ele.innerHTML = \"\";\n  }\n\n  // Removes all the children of 'ele' and then adds 'nodes' as ele's\n  // children.\n  function replaceChildren(ele, nodes) {\n    ele.innerHTML = \"\";\n    appendChildren(ele, nodes);\n  }\n\n  // Expand all the double moustaches found in the node\n  // 'ele' and all its children against the data in 'state'.\n  //\n  // When descending into nested templates, i.e. a data-repeat- template then\n  // '^' is added to the child state as a way to access the data in the\n  // parent's scope.\n  function expand(ele, state) {\n    if (ele.nodeName === \"#text\") {\n      m = expandString(ele.textContent, state);\n      if (m != null) {\n        ele.textContent = m;\n      }\n      return ele;\n    }\n    if (!Array.isArray(ele)) {\n      ele = [ele];\n    }\n    for (var j = 0, len = ele.length; j < len; j++) {\n      var e = ele[j];\n      var processChildren = true;\n      if (e.nodeName === \"#text\") {\n        m = expandString(e.textContent, state);\n        if (m != null) {\n          e.textContent = m;\n        }\n      } else {\n        if (e.attributes != undefined) {\n          for (var i = e.attributes.length-1; i >= 0; i--) {\n            var attr = e.attributes[i];\n            if (attr.name.indexOf('data-repeat') === 0) {\n              processChildren = false;\n              var parts = attr.name.split('-');\n              if (parts.length !== 3 && parts.length !== 4) {\n                throw \"Repeat format is data-repeat-<name>[-<iterName>]. Got \" + attr.name;\n              }\n              var name = parts[2];\n              var iterName = parts[3];\n              var tpl = [];\n              while (e.firstChild) {\n                tpl.push(e.removeChild(e.firstChild));\n              }\n              var address = [attr.value];\n              if (attr.value.indexOf(\"}}\") !== -1) {\n                address = addressOf(attr.value);\n              }\n              if (address === null) {\n                throw attr.value + \" doesn't contain an address.\";\n              }\n              var childState = filterState(address, state);\n              var instanceState = {\n                \"^\": state,\n              };\n              if (Object.prototype.toString.call( childState) === '[object Array]') {\n                iterName = iterName || \"i\";\n                for (var k = 0; k < childState.length; k++) {\n                  var cl = cloneAllNodes(tpl);\n                  instanceState[name] =  childState[k];\n                  instanceState[iterName] = k;\n                  expand(cl, instanceState);\n                  appendChildren(e, cl);\n                }\n              } else {\n                iterName = iterName || \"key\";\n                var keys = Object.keys(childState).sort();\n                for (var m = 0; m < keys.length; m++) {\n                  var key = keys[m];\n                  var cl = cloneAllNodes(tpl);\n                  instanceState[name] = childState[key];\n                  instanceState[iterName] = key;\n                  expand(cl, instanceState);\n                  appendChildren(e, cl);\n                }\n              }\n              // Remove the data-repeat-* attribute.\n              e.removeAttribute(attr.name);\n            } else {\n              m = expandString(attr.value, state);\n              if (m != null) {\n                var name = attr.name;\n                // Strip trailing \"-\" from attribute names. This allows\n                // setting attributes like src on an img where you would't\n                // want the unexpanded value to be used by the browser.\n                if (name.charAt(name.length-1) == \"-\") {\n                  e.removeAttribute(attr.name);\n                  e.setAttribute(attr.name.slice(0, -1), m);\n                } else {\n                  attr.value = m;\n                }\n              }\n            }\n          }\n        }\n      }\n      if (processChildren) {\n        var childEle = e.firstChild;\n        while (childEle != null) {\n          var nextSibling = childEle.nextSibling;\n          if (childEle.nodeName == \"TEMPLATE\") {\n            // If this is a template we need to expand the content of the\n            // template node, then replace the template node with the expanded\n            // content.\n            var replacement = expand(childEle.content.cloneNode(true), state);\n            while (replacement[0].childNodes.length > 0) {\n              e.insertBefore(replacement[0].firstChild, childEle);\n            }\n            // Finally remove the original element.\n            e.removeChild(childEle);\n          } else {\n            expand(childEle, state);\n          }\n          childEle = nextSibling;\n        }\n      }\n    }\n    return ele;\n  };\n\n  // Expand the template 'ele' with 'state' and then replace all the children\n  // of 'target' with the expanded content.\n  function expandInto(target, ele, state) {\n    replaceChildren(target, expand(ele, state));\n  }\n\n  ns.appendChildren = appendChildren;\n  ns.expand = expand;\n  ns.expandInto = expandInto;\n})(Stamp);\n\nexport const renderTemplate = (context, content, parent, clone) => {\n    const contentClone = clone || document.importNode(content, true);    \n    var ctx = new Stamp.Context();\n    var expanded = Stamp.expand(contentClone, context);\n    Stamp.appendChildren(parent, expanded);\n};\n\n//https://github.com/jcgregorio/stamp/wiki","import * as R from 'ramda';\n\nimport { itemProperties } from 'ui/helpers/data-checking';\nimport { utils } from 'utils/utils';\n\nconst getRandomTrait = (traits, traitsToIgnore) => {    \n\n    const allowedTraits = {};\n\n    for (let [key, obj] of Object.entries(traits)) {\n        if(!R.contains(key.toLowerCase(), traitsToIgnore)) {\n            allowedTraits[key] = obj.unit ? [`${obj.value}${obj.unit}`] : obj.value;\n        }\n    }\n\n    let trait = utils.getRandomObjectProperty(allowedTraits);\n    return trait;\n};\n\nconst getTraitsPoolForUnits = trait => {\n    // create set of numeric answers based on the value\n\n    const traitsPool = [1,2,3,4,5,6,7,8,9];\n\n    if(trait.unit === 'MM'){\n        // months\n        // find distance between first and second and add answers with similar gap\n        // e.g. jan-feb produces aug-sep, nov-dec, etc.\n    }\n\n    return { traitsPool, help: 'Pick the best range'};\n};\n\nconst getTraitsPoolForRoles = trait => {    \n    enumKey = trait.role; // e.g. name of role, but role of predator; (and possibly need to apply logic as below)\n    const traitsPool = ['role1', 'role2', 'role3', 'role4', 'role5', 'role6', 'role7', 'role8', 'role9', 'role10'];\n    return { traitsPool, help: 'symbiosis'};\n};\n\nconst getTraitValues = (trait, traits) => {\n\n    let traitKeyParts = trait.key.split(' ');\n    let enumKey; // e.g map 'leaf variation' to leafVariation\n    \n    traitKeyParts.forEach((part, index) => {\n        if(index === 0) {\n            enumKey = part.toLowerCase();\n        } else {\n            enumKey += utils.capitaliseFirst(part);\n        }\n    });\n\n    const traitValues = traits[enumKey];\n\n    return traitValues;\n};\n\nconst getTraitsPool = (trait, traits) => {\n\n    let traitsPool = [];\n\n    let traitValues = getTraitValues(trait, traits);\n\n    if(!traitValues) {\n        traitValues = traits[itemProperties.getRootTraitValue(utils.toCamelCase(trait.key))];\n        if(traitValues) traitValues.help = trait.key;\n    }\n\n    if(traitValues) {        \n        for (let [key, obj] of Object.entries(traitValues)) {\n            if(!R.contains(key, [ 'type', 'name', 'help'])) {\n                if(key !== trait.key) {\n                    traitsPool.push(obj);\n                }\n            }\n        }\n    }\n\n    let help = traitValues \n            ? traitValues.help || traitValues.name\n            : trait.key;\n\n    return { traitsPool, help };\n};\n\nconst getSetOfTraitAnswers = (pool, trait) => {\n\n    let traitSet = trait.value;\n        traitSet = traitSet.map(t => t.trim());\n        traitSet = utils.shuffleArray(traitSet);\n\n    // take maximum of 2 values from the trait values array\n\n    let traitValues = R.take(2, traitSet);\n\n    let sets = [];\n  \n    if(traitValues.length === 1) {\n        \n        sets = [ ...R.take(5, pool.filter(value => value !== trait.value[0])), trait.value[0] ];\n\n    } else {\n\n        // create a 'set' of all possible unique 2-value combinations\n        \n        pool.forEach(a => {\n            pool.forEach( b => {\n                if(a !== b) {\n                    const exists = sets.filter(s => s === [a,b] || s === [b,a]).length > 0;\n                    if(!exists) { \n                        sets.push([a,b]);\n                    }\n                }\n            })\n        });\n\n        sets = R.take(6, utils.shuffleArray(sets));\n\n        // remove any combination that matches the trait value set (in either order) \n\n        sets = sets.map(set => {\n            if(set[0] !== traitSet[0] && set[1] !== traitSet[1] || set[0] !== traitSet[1] && set[1] !== traitSet[0]) {\n                return set;\n            }\n        }).filter(s => s);\n\n        sets = R.take(5, sets);\n        sets = [ ...sets, traitSet ];\n\n        if(sets.length === 0) {\n            sets = ['a', 'b', trait.value];\n        }\n        \n        sets = sets.map(set => set.join(', '));\n    }\n  \n    return utils.shuffleArray(sets);\n};\n\nconst getTraitByKey = (traits, traitKey) => {\n    return traits[Object.keys(traits).find(key => key === traitKey)];\n}\n\nconst getTraitValueByKey = (traits, traitKey) => {\n    const trait = getTraitByKey(traits, traitKey);\n    if(trait) return trait.value;\n}\n\nconst hasTraitPropeties = traits => {\n    for(var prop in traits) {\n        if (traits.hasOwnProperty(prop)) {\n            return true;\n        }\n    }\n};\n\nconst getLinkedTaxaTraits = traits => {\n    \n    const taxaTraits = [];\n\n    for (let [key, obj] of Object.entries(traits)) {\n        if(obj.type) {\n            taxaTraits.push({ name: key, value: obj.value, type: obj.type });\n        } else if(key === 'lookalikes') {\n            taxaTraits.push({ name: key, value: obj.value, type: 'lookalike' });\n        } else if(key === 'symbionts') {\n            taxaTraits.push({ name: key, value: obj.value, type: 'symbionts' });\n        }\n    }\n\n    return taxaTraits;\n};\n\nconst getTraitsToExclude = () => {\n    return [ \n        'symbionts', 'voice', 'pollination', 'name', \n        'units', 'song', 'uk rank',\n        'colour', 'bark colour', 'height',\n        'physiology', 'description',\n        'usage', 'habitat',\n        'symbiont'\n        //'characteristic'\n    ];\n};\n\nconst handleUnit = unit => {\n\n    unit = unit || '';\n\n    switch(unit) {\n        case 'DD':\n            return ' days';\n        case 'MM':\n            return '';\n        case 'YY':\n            return ' years';\n     default:\n        return unit;   \n    }    \n};\n\nconst convertTraitsToNameValuePairsArray = (traits, traitsToExclude, item) => {\n\n    if(!hasTraitPropeties(traits)) return {};\n    \n    const includedTraits = [];\n\n    for (let [key, obj] of Object.entries(traits)) {\n        if(!R.contains(key, traitsToExclude)) {\n            if(key === 'lookalikes') {\n                obj.forEach(species => {\n                    includedTraits.push({\n                        name: key, \n                        value: [species.lookalike.name],\n                        description: species.description, lookalike: { name: species.lookalike.name, description: species.lookalike.description } \n                    }); \n                });\n            } else if(key === 'relationships') {\n                obj.forEach(species => {\n                    includedTraits.push({ \n                        name: key, value: [species.symbiont.name],\n                    }); \n                });\n            } else {\n                includedTraits.push({ name: key, value: obj.value, unit: handleUnit(obj.unit), type: obj.type || '' });\n            }\n        }\n    }\n    \n    return includedTraits;\n};\n\nconst getNMultiplesFromArray = (arra, arra_size) => {\n\n    if(arra.length === 0) return [];\n\n    var result_set = [], \n        result;\n    \n   \n    for(var x = 0; x < Math.pow(2, arra.length); x++) {\n        result = [];\n        var i = arra.length - 1; \n        do {\n            if((x & (1 << i)) !== 0) {\n                result.push(arra[i]);\n            }\n        } \n        \n        while(i--);\n\n        if(result.length >= arra_size) {\n            result_set.push(result);\n        }\n    }\n\n    return result_set.filter(set => set.length === arra_size);\n};\n\nconst doArraysHaveSameValues = R.compose(R.isEmpty, R.symmetricDifference);\n\nexport const traitsHandler = {\n    getRandomTrait,\n    getTraitsPoolForUnits,  \n    getTraitsPoolForRoles,\n    getTraitValues,\n    getTraitsPool,\n    getSetOfTraitAnswers,\n    getTraitByKey,\n    getTraitValueByKey,\n    getLinkedTaxaTraits,\n    getTraitsToExclude,\n    convertTraitsToNameValuePairsArray,\n    getNMultiplesFromArray,\n\n    doArraysHaveSameValues,\n    hasTraitPropeties,\n};","// Module\nvar code = \"<div class=\\\"snapdragon-container test-card-container js-test-card-container\\\">    \\n    <div class=\\\"card-card js-species-card\\\">\\n        <div id=\\\"card-header\\\" class=\\\"question-container\\\">\\n            \\n            <!-- <div class=\\\"species-header landscape\\\">                        \\n                <img src=\\\"{{ image.small }}\\\" alt=\\\"\\\">\\n            </div> -->\\n\\n            <div class=\\\"iconic-icon double-centred-block js-iconic-icon\\\">\\n                <i class=\\\"\\\"></i>\\n            </div>\\n\\n            <div class=\\\"hide-empty question-header\\\">\\n                <div>\\n                    <div class=\\\"names-container vernacular-name-badge js-names-container\\\">\\n                        <div>\\n                            <span class=\\\"vernacular-name\\\">{{ vernacularName }}</span>\\n                        </div>\\n                        <div>\\n                            <span class=\\\"binomial\\\">{{ name }}</span>\\n                            <span class=\\\"js-names-badge\\\"></span>\\n                            <span class=\\\"portrait bird-song-icon-disabled js-bird-song-player\\\" data-src='player' data-toggle=\\\"modal\\\" data-target=\\\"#basicModal\\\">\\n                                <i class=\\\"fas fa-music\\\"></i>\\n                            </span>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"card-link-container\\\">\\n                <i class=\\\"disabled-icon far fa-arrow-alt-circle-right js-card-link\\\"></i>\\n            </div>\\n            <!-- <div class=\\\"card-link-container\\\">\\n                <div class=\\\"card-link js-card-link\\\">\\n                    <span>Family</span>\\n                    <span>card<i class=\\\"far fa-arrow-alt-circle-right\\\"></i></span>\\n                </div>\\n            </div> -->\\n    \\n        </div>            \\n        <div class=\\\"data-box-container landscape\\\">\\n            <div class=\\\"calendar-container landscape\\\">\\n                <div class=\\\"js-calendar-box\\\"></div>\\n            </div>\\n            \\n            <div class=\\\"inat-box js-inat-box\\\"></div>\\n            <div class=\\\"taxa-container landscape js-taxa-box\\\"></div>            \\n        </div>\\n        <div class=\\\"portrait-grid species-card-images carousel js-test-card-container-images\\\"></div>\\n        <div class=\\\"mixed-content-container scrollable\\\">\\n            <div class=\\\"landscape bird-song\\\">\\n                <div class=\\\"hide-empty\\\">\\n                    <iframe class=\\\"js-bird-song\\\" src='' scrolling='no' frameborder='0' width='80vw' height='115'>                    \\n                    </iframe>\\n                </div>\\n            </div>\\n            <div class=\\\"card-txt-block lookalikes js-lookalikes\\\"></div>\\n            <div class=\\\"js-info-box-details info-details\\\"></div>            \\n        </div>\\n        <div class=\\\"info-box js-info-box\\\"></div>\\n    </div>\\n</div>\";\n// Exports\nmodule.exports = code;","import { DOM } from 'ui/dom';\nimport { store } from 'redux/store';\nimport { renderTemplate } from 'ui/helpers/templating';\nimport { itemProperties } from 'ui/helpers/data-checking';\nimport { imageSlider } from 'ui/screens/common/image-slider';\nimport { getBirdSong } from 'xeno-canto/birdsong';\nimport { lookalikeSpecies } from 'ui/screens/common/look-alikes';\nimport { infoSlider } from 'ui/screens/common/info-slider';\nimport { renderIcon } from 'ui/helpers/icon-handler';\nimport { imageUseCases, prepImagesForCarousel, scaleImage } from 'ui/helpers/image-handler';\nimport { renderInatDataBox } from 'ui/screens/common/inat-box';\nimport { renderCalendar } from 'ui/screens/common/calendar';\nimport { renderTaxaBox } from 'ui/screens/common/taxa-box';\nimport { renderBadge } from 'ui/screens/common/badge';\nimport { enums } from 'ui/helpers/enum-helper';\nimport { firestore } from 'api/firebase/firestore';\n\nimport cardTemplate from 'ui/screens/cards/card-template.html';\n\nexport const renderCard = (collection, mode = 'STAND_ALONE', selectedItem, parent = DOM.rightBody, isInCarousel = true) => {\n\n    if(!selectedItem) return;\n\n    const { layout, config } = store.getState();\n\n    let item;\n\n    const init = async () => {\n\n            const getItemWithProps = async item => {\n\n            if(item.eolId) return new Promise(resolve => resolve(item));\n            \n            const getItem = async item => {\n                return item.family\n                            ? new Promise(resolve => resolve(item))\n                            : await firestore.getSpeciesByName(item.name);\n            };\n\n            const itemWithProps = await getItem(item);\n            \n            itemWithProps.family = await firestore.getTaxonByName(config, itemWithProps.taxonomy[enums.taxon.FAMILY.name.toLowerCase()]) || { names: [ itemWithProps.taxonomy.family ]};\n            itemWithProps.order = await firestore.getTaxonByName(config, itemWithProps.taxonomy[enums.taxon.ORDER.name.toLowerCase()]);\n            itemWithProps.traits = await firestore.getTraitsBySpeciesName(item.name);\n            itemWithProps.vernacularName = itemWithProps.vernacularName || itemProperties.getVernacularName(item, config);\n\n            const names = item.name.split(' ');\n\n            itemWithProps.taxonomy.genus = names[0];                \n            itemWithProps.taxonomy.species = names[1];\n\n            return itemWithProps;\n        };\n    \n        item = selectedItem || collection.nextItem;\n\n        item = await getItemWithProps(item);\n\n        let rootNode;\n    \n        switch(mode) {\n            case 'STAND_ALONE':\n                rootNode = config.isLandscapeMode ? modal.querySelector('.js-modal-text') : document.querySelector('.right-body');\n                break;\n            case 'SWAP_OUT':\n                rootNode = config.isLandscapeMode ? parent : document.querySelector('.js-species-container');\n                break;\n            case 'MODAL':\n                rootNode = document.querySelector('#cardModal');\n                break;\n        }\n    \n        if(mode === 'STAND-ALONE') {        \n            const screen = layout.screens.filter(el => el.name === 'species-card')[0];\n            if(!screen) return;\n        }\n    \n        const prev = document.querySelector('#cardModal .js-prev');\n        const next = document.querySelector('#cardModal .js-next');\n    \n        if(prev) isInCarousel ? prev.classList.remove('hide-important') : prev.classList.add('hide-important');\n        if(next) isInCarousel ? next.classList.remove('hide-important') : next.classList.add('hide-important');\n        \n        const template = document.createElement('template');\n    \n        template.innerHTML = cardTemplate;\n    \n        renderCommonParts(template, config, item, collection, mode, parent, rootNode, isInCarousel);\n    \n        config.isPortraitMode\n            ? renderPortrait(item, config, mode, rootNode)\n            : renderLandscape(item, config, mode, rootNode);\n    };\n\n    init();\n};\n\nconst renderLandscape = (item, config, mode, rootNode) => {\n\n    const src = rootNode.querySelector('.js-bird-song');\n    \n    getBirdSong(item, src, config.isPortraitMode);\n\n    const inatNode = rootNode.querySelector('.js-inat-box');\n\n    renderInatDataBox(inatNode, item, config, mode);\n    \n    renderCalendar(rootNode.querySelector('.js-calendar-box'), item, config);\n\n    lookalikeSpecies(item, config, rootNode);\n};\n\nconst renderPortrait = (item, config, mode, rootNode) => {\n\n    const images = prepImagesForCarousel(item, config, imageUseCases.SPECIES_CARD);\n\n    const parent = rootNode.querySelector('.js-test-card-container-images');\n\n    imageSlider({ config, images, parent, parentScreen: rootNode.querySelector('.card-card'), identifier: item.name.replace(' ', '_') });\n\n    const player = rootNode.querySelector('.js-bird-song-player');\n\n    if(mode =='MODAL') {\n        player.style.display = 'none';\n        return;\n    };\n\n    getBirdSong(item, player, config.isPortraitMode);\n\n    player.addEventListener('click', () => {\n        const iframe = document.createElement('iframe');\n        iframe.id = 'birdsong';\n        iframe.style.border = 0;\n        iframe.src = player.dataset.src;\n        document.querySelector('#basicModal .modal-body').classList.add('bird-song-bg');\n        document.querySelector('#basicModal .js-modal-text-title').innerHTML = `${item.name}`;\n        const elm = document.querySelector('#basicModal .js-modal-text');\n        while (elm.firstChild) {\n            elm.removeChild(elm.firstChild);\n         }\n        elm.appendChild(iframe);\n    });\n};\n\nconst renderCommonParts = (template, config, item, collection, mode, parent, rootNode, isInCarousel) => {\n\n    const image = scaleImage({ url: item.starred || item.images[0].url }, imageUseCases.SPECIES_CARD, config);\n    \n    const clone = document.importNode(template.content, true);\n    \n    parent.innerHTML = '';\n    \n    renderTemplate({ name: item.name, vernacularName: item.vernacularName, image, iconicTaxon: item.iconicTaxon }, template.content, parent, clone);\n    \n    renderTaxaBox(rootNode.querySelector('.js-taxa-box'), { item, familyName: item.taxonomy.family, familyVernacularName: item.family.vernacularName || '' });\n\n    infoSlider(item, rootNode.querySelector('.js-info-box'), mode);\n\n    renderBadge(rootNode.querySelector('.js-names-badge'), item, config);    \n\n    renderIcon(item.taxonomy, rootNode);\n\n    if(mode === 'MODAL') {      \n          \n        rootNode.querySelector('#cardModal .js-modal-text-title').innerHTML = collection.name;\n\n        const prev = rootNode.querySelector('#cardModal .js-prev > span');\n        prev.dataset.id = item.id;\n        prev.dataset.transition = 'prev';\n        prev.dataset.modal = 'cardModal';\n\n        const next = rootNode.querySelector('#cardModal .js-next > span');\n        next.dataset.id = item.id;\n        next.dataset.transition = 'next';\n        next.dataset.modal = 'cardModal';\n        \n        const lines = document.getElementsByTagName('hr');\n\n        Array.from(lines).forEach(hr => hr.style.display = 'none');\n    }\n\n    setTimeout(() => {\n        \n        if(config.isPortraitMode) {\n            // hide attribution for now - space issue various across devices\n            const attributions = document.querySelectorAll('.js-attribution-layer');\n                    attributions.forEach(attribution => attribution.classList.add('hide-important'));\n            const indicators = document.querySelectorAll('.js-carousel-indicators');\n                    indicators.forEach(indicator => indicator.classList.add('hide-important'));\n        }\n    });\n};","// Module\nvar code = \"<!-- <link rel=\\\"stylesheet\\\" href=\\\"https://use.fontawesome.com/releases/v5.8.2/css/all.css\\\" integrity=\\\"sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay\\\" crossorigin=\\\"anonymous\\\"> -->\\n\\n<div class=\\\"snapdragon-container test-card-container js-test-card-container\\\">    \\n    <div class=\\\"portrait-grid non-taxon-card-images carousel js-non-taxon-card-images\\\"></div>    \\n    <div class=\\\"card-card card non-taxon js-non-taxon-card\\\">\\n        <div id=\\\"taxon-card-header\\\" class=\\\"question-container\\\">\\n                \\n                <div class=\\\"species-header js-species-header\\\">                        \\n                    <img src=\\\"{{ image.small }}\\\" alt=\\\"\\\">\\n                </div>\\n\\n                <div class=\\\"hide-empty question-header\\\">\\n                    <div>\\n                        <div class=\\\"names-container js-names-container\\\">\\n                            <div>\\n                                Foliose\\n                            </div>\\n                            <div>\\n                                \\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                \\n                <div class=\\\"card-link-container\\\">\\n                    <i class=\\\"disabled-icon far fa-arrow-alt-circle-right js-card-link\\\"></i>\\n                </div>\\n    \\n\\n        </div>  \\n        <div class=\\\"non-taxa js-non-taxa\\\">                \\n            <div class=\\\"btn-group btn-group-toggle\\\" data-toggle=\\\"buttons\\\" data-repeat-taxon=\\\"{{ group }}\\\">\\n                <label class=\\\"btn btn-secondary\\\" id=\\\"{{ taxon.id }}\\\">\\n                    <input type=\\\"radio\\\" name=\\\"options\\\" id=\\\"{{ taxon.id }}\\\" autocomplete=\\\"off\\\" checked> {{ taxon.id }}\\n                </label>\\n            </div>\\n        </div>            \\n        <div class=\\\"definitions\\\">\\n            <div class=\\\"non-taxa-definition js-non-taxa-definition\\\">\\n                <div></div>\\n            </div>\\n            <div class=\\\"non-taxa-definition \\\">\\n                <div class=\\\"id-box\\\">\\n                    <div>\\n                        <div class=\\\"landscape\\\"></div>\\n                        <div class=\\\"portrait\\\"></div>\\n                    </div>\\n                    <div>\\n                        <div></div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"landscape species-card-wiki\\\">\\n                <span class=\\\"non-taxon-card-wiki js-non-taxon-card-wiki\\\"></span>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n// Exports\nmodule.exports = code;","import * as R from 'ramda';\n\nimport { utils } from 'utils/utils';\nimport { firestore } from 'api/firebase/firestore';\nimport { store } from 'redux/store';\nimport { DOM } from 'ui/dom';\nimport { itemProperties } from 'ui/helpers/data-checking';\nimport { imageSlider } from 'ui/screens/common/image-slider';\nimport * as group from 'api/snapdragon/non-taxa';\nimport { renderWiki } from 'wikipedia/wiki';\nimport { renderWikiModal } from 'wikipedia/wiki-modal';\nimport { renderTemplate } from 'ui/helpers/templating';\nimport { imageUseCases, prepImagesForCarousel, scaleImage } from 'ui/helpers/image-handler';\n\nimport cardTemplate from 'ui/screens/cards/non-taxon-card-template.html';\n\nconst subscriptions = [];\n\nexport const subscribeToNonTaxaSelection = callback => {\n    subscriptions.push(callback);\n};\n\nexport const renderNonTaxonCard = (mode = 'STAND_ALONE', keyTrait, parent = DOM.rightBody, url, isInCarousel = false) => {\n\n    const prev = document.querySelector('#cardModal .js-prev');\n    const next = document.querySelector('#cardModal .js-next');\n\n    if(prev) isInCarousel ? prev.classList.remove('hide-important') : prev.classList.add('hide-important');\n    if(next) isInCarousel ? next.classList.remove('hide-important') : next.classList.add('hide-important');\n    \n\n    const { enums, config } = store.getState();\n\n    const nonTaxa = group.getNonTaxa(enums).filter(nt => nt.group === group.nonTaxaGroup[0].LICHEN_FORM);\n\n    nonTaxa.forEach(nt => {\n        nt.name = itemProperties.getVernacularName(nt, config, false, 'name');\n    });\n\n    const template = document.createElement('template');\n\n    template.innerHTML = cardTemplate;\n    \n    const onChange = items => {\n        subscriptions.forEach(sub => sub(items));\n    };\n\n    const prepImages = (items) => {\n        const itemImagesArray = items.map(item => {\n            return prepImagesForCarousel(item, config, imageUseCases.NON_TAXON_CARD);\n        });\n        const itemImages = utils.shuffleArray([].concat(...itemImagesArray));\n        return R.take(9, itemImages);\n    };\n\n    const callback = async id => {\n\n        const nonTaxon = nonTaxa.find(nt => nt.id === id)\n\n        let items = await firestore.getSpeciesByNameInParallel(nonTaxon.examples);\n            items = items.filter(item => item.images);\n\n        const portraitImagesNode = document.querySelector('.js-non-taxon-card-images');\n\n        const images = prepImages(items);\n\n        if(nonTaxon.type) {\n            document.querySelector('.js-species-header img').src = `https://content.eol.org/data/media/${nonTaxon.url}`;\n        } else {\n            config.isPortraitMode ? imageSlider({ config, images, portraitImagesNode }) : onChange(images);\n        }\n\n        const wikiNode = document.querySelector('.js-non-taxon-card-wiki');\n        const lookup = { name: nonTaxon.name };\n\n        const idNode = document.querySelector('.id-box > div:nth-child(2) > div');\n              idNode.innerHTML = nonTaxon.quickId;\n\n        const definitionNode = document.querySelector('.js-non-taxa-definition div');\n              definitionNode.innerHTML = nonTaxon.definition;\n\n        const nameNode = document.querySelector('.js-non-taxon-card .js-names-container > div:nth-child(1)');\n              nameNode.innerHTML = nonTaxon.id;\n\n        if(mode === 'MODAL') {\n        } else {\n            renderWikiModal(lookup, wikiNode, config);    \n            renderWiki(wikiNode, lookup, config.language);\n        }\n    };\n\n    let rootNode;\n\n    switch(mode) {\n        case 'STAND_ALONE':\n            rootNode = document.querySelector('.right-body');\n            break;\n        case 'SWAP_OUT':\n            rootNode = document.querySelector('.js-taxon-container');\n            break;\n        case 'MODAL':\n            rootNode = document.querySelector('#cardModal');\n            break;\n    }\n\n    parent.innerHTML = '';\n\n    renderTemplate({group: nonTaxa, image: scaleImage({ url })}, template.content, parent);\n\n    if(mode === 'MODAL') {\n        rootNode.querySelector('#cardModal .js-modal-text-title').innerHTML = `Lichen Forms`;\n    }\n\n    rootNode.querySelectorAll('.js-non-taxa .btn.btn-secondary').forEach(form => {\n        form.addEventListener('click', event => {\n            const id = event.target.id;\n            callback(id);\n        });\n    });\n\n    const id = keyTrait || nonTaxa[0].id;\n    document.getElementById(id).click();\n};","// Module\nvar code = \"<div class=\\\"snapdragon-container test-card-container\\\">\\n    <div class=\\\"taxon card-card js-taxon-card\\\">\\n        <div id=\\\"taxon-card-header\\\" class=\\\"question-container\\\">\\n            <div class=\\\"iconic-icon double-centred-block js-iconic-icon\\\">\\n                <i class=\\\"\\\"></i>\\n            </div>\\n\\n            <div class=\\\"hide-empty question-header\\\">\\n                <div>\\n                    <div class=\\\"names-container vernacular-name-badge js-names-container\\\">\\n                        <div>\\n                            <span>{{ vernacularName }}</span>                                \\n                        </div>\\n                        <div>\\n                            <span class=\\\"binomial\\\">{{ name }}</span>\\n                            <span class=\\\"names-badge js-names-badge\\\" data-toggle=\\\"modal\\\" data-target=\\\"#badgeListModal\\\">{{ occurrences }}</span>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        \\n            <div class=\\\"card-link-container\\\">\\n                <i class=\\\"disabled-icon far fa-arrow-alt-circle-right js-card-link\\\"></i>\\n            </div>\\n            <!-- <div class=\\\"card-link-container\\\">\\n                <div class=\\\"card-link js-card-link\\\">\\n                    <span>Test</span>\\n                    <span>Card<i class=\\\"far fa-arrow-alt-circle-right\\\"></i></span>\\n                </div>\\n            </div> -->\\n        </div>  \\n        <div class=\\\"data-box-container sub-header\\\">\\n            <div class=\\\"data-box\\\">\\n                <div class=\\\"taxon-data js-taxon-rank\\\"><span>Rank</span> <span>{{ rank }}</span></div>\\n                <div class=\\\"taxon-data\\\"><span>Species</span> <span>{{ species }}</span></div>\\n                <div class=\\\"taxon-data js-taxon-genus\\\"><span>Genera</span> <span>{{ genera }}</span></div>\\n                <div class=\\\"taxon-data js-taxon-family\\\"><span>Families</span> <span>{{ families }}</span></div>\\n            </div>\\n            <div class=\\\"landscape external-links js-external-links\\\">\\n                <div><a href=\\\"{{ eol }}\\\" target=\\\"_blank\\\" class=\\\"underline-link\\\">EOL</a><span> taxon home page</span> <span class=\\\"names-badge\\\"> <i class=\\\"super fas fa-external-link-alt\\\"></i></span></div>\\n                <div><a href=\\\"{{ wiki }}\\\" class=\\\"underline-link\\\" data-toggle=\\\"modal\\\" data-target=\\\"#wikiModal\\\">Wikipedia page</a></div>\\n            </div>\\n        </div>\\n        <div class=\\\"mixed-content-container\\\">\\n            <div class=\\\"centred-block\\\">\\n                <div class=\\\"id-box-container\\\">\\n                    <div class=\\\"id-box\\\">\\n                        <div>\\n                        </div>\\n                        <div>\\n                            <div class=\\\"taxon-identification\\\">{{ identification }}</div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"taxon-summary\\\">\\n                    <div>{{ summary }}</div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"info-box js-taxon-info-box\\\"></div>\\n    </div>\\n</div>\";\n// Exports\nmodule.exports = code;","import * as R from 'ramda';\n\nimport { store } from 'redux/store';\nimport { DOM } from 'ui/dom';\nimport { itemProperties } from 'ui/helpers/data-checking';\nimport { taxonInfoSlider } from 'ui/screens/common/info-slider';\nimport { renderTemplate } from 'ui/helpers/templating';\nimport { renderIcon } from 'ui/helpers/icon-handler';\nimport { imageUseCases, scaleImage } from 'ui/helpers/image-handler';\n\nimport taxonTemplate from 'ui/screens/cards/taxon-card-template.html';\n\nlet transition;\n\nconst modalCarousel = document.querySelector('#cardModal .carousel');\n\nif(modalCarousel) {\n    modalCarousel.addEventListener('click', event => {    \n        transition = event.target.dataset.transition;\n    });\n}\n\nexport const renderTaxonCard = (collection, mode = 'STAND_ALONE', selectedItem, parent = DOM.rightBody, speciesTaxon, rank, isInCarousel = true) => {\n  \n    try {\n\n        const item = selectedItem || collection.nextItem;\n\n        if(!item) {\n            document.querySelector('#cardModal .close').click();\n        }\n\n        const { config } = store.getState();\n\n        let rootNode;\n\n        switch(mode) {\n            case 'STAND_ALONE':\n                rootNode = document.querySelector('.right-body');\n                break;\n            case 'SWAP_OUT':\n                rootNode = document.querySelector('.js-taxon-container');\n                break;\n            case 'MODAL':\n                rootNode = document.querySelector('#cardModal');\n                break;\n        }\n\n        const template = document.createElement('template');\n              template.innerHTML = taxonTemplate;\n        \n        const clone = document.importNode(template.content, true);\n\n        parent.innerHTML = '';\n\n        rank = rank ? rank.toUpperCase() : 'FAMILY';\n\n        let taxon;\n\n        switch(rank) {\n            case 'ORDER':\n                taxon = item.order;\n                break;\n            case 'FAMILY':\n                taxon = item.family;\n                break;\n            case 'GENUS':\n                taxon  = item.genus;\n                break;\n            default:\n                taxon = item.family;\n                break;\n        };\n\n        const familyStats = itemProperties.getFamilyStats(collection.items);\n        const occurrences = familyStats ? familyStats[taxon.name] : 0;\n        const url = item.images ? item.starred ? item.images[0].url : '' : '';\n        const image = scaleImage({ url }, imageUseCases.TAXON_CARD, config);\n        const vernacularName = taxon.vernacularName || itemProperties.getNestedTaxonProp(taxon, config.language, 'names', 'names', '0').split(',')[0];\n        const identification = taxon.identification ? taxon.identification : taxon.descriptions ? taxon.descriptions[0].identification : '';\n        const summary = taxon.summary ? taxon.summary : taxon.descriptions ? taxon.descriptions[0].summary : '';\n                \n        const context = {\n            rank: rank,\n            name: taxon.name,\n            image,\n            alt: taxon ? taxon.alt : '',\n            vernacularName,\n            species: taxon.species || '--',\n            genera: taxon.genera || '--',\n            families: taxon.families || '--',\n            identification,\n            summary,\n            eol: taxon.eol ? taxon.eol.replace('en', config.language) : '',\n            wiki: taxon.wiki ? taxon.wiki.replace('en', config.language) : '',\n            occurrences: occurrences,\n            toxic: taxon.toxic ? `Toxic species: ${taxon.toxic.members.join(', ')}` : '',\n            notableMembers: taxon.members ? R.take(2, taxon.members).join(', ') : ''\n        }\n\n        renderTemplate(context, template.content, parent, clone);\n\n        taxonInfoSlider(item, taxon.traits, rootNode.querySelector('.js-taxon-info-box'), mode);\n\n        switch(rank) {\n            case 'GENUS': \n                rootNode.querySelector('.js-taxon-genus').classList.add('hide-important');\n                rootNode.querySelector('.js-taxon-family').classList.add('hide-important');\n                break;\n            case 'FAMILY': \n                rootNode.querySelector('.js-taxon-family').classList.add('hide-important');\n                break;\n            case 'ORDER':\n                rootNode.querySelector('.js-taxon-rank').classList.add('hide-important');\n                break;\n        }\n\n        renderIcon(item.taxonomy, rootNode);\n\n        if(mode === 'MODAL') {\n\n            rootNode.querySelector('.js-external-links').classList.add('hide');\n\n            rootNode.querySelector('#cardModal .js-modal-text-title').innerHTML = collection.name;\n\n            const prev = rootNode.querySelector('#cardModal .js-prev > span');\n            prev.dataset.id = item.id;\n            prev.dataset.transition = 'prev';\n            prev.dataset.modal = 'cardModal';\n\n            const next = rootNode.querySelector('#cardModal .js-next > span');\n            next.dataset.id = item.id;\n            next.dataset.transition = 'next';\n            next.dataset.modal = 'cardModal';\n\n            if(prev) isInCarousel ? prev.classList.remove('hide-important') : prev.classList.add('hide-important');\n            if(next) isInCarousel ? next.classList.remove('hide-important') : next.classList.add('hide-important');\n\n        }\n        \n        // if(taxon.toxic) {\n        //     document.querySelector('.js-taxon-toxic-warning').innerHTML = '<i class=\"fas fa-exclamation-triangle\"></i>';\n        // }\n\n        document.querySelector('.js-external-page-title').innerHTML = `${taxon.name}`;\n        document.querySelector('.js-external-page-body').innerHTML = `<iframe class=\"modal-iframe\" title=\"Wikipedia page for ${taxon.name}\" src=\"${context.wiki}\"></iframe>`;\n\n        const membersCount = document.querySelector('#taxon-card-header .js-names-badge');\n\n        if(!context.occurrences || context.occurrences === 0) membersCount.classList.add('hide-important');\n\n        membersCount.addEventListener('click', event => {\n            document.querySelector('#badgeListModal .js-modal-text-title').innerHTML = `Members of the ${taxon.name} family`;\n            const members = collection.items.filter(i => i.taxonomy.family.toLowerCase() === taxon.name.toLowerCase());\n            const list = document.querySelector('#badgeListModal .js-modal-text');\n            list.innerHTML = '';\n            members.forEach(member => {\n                list.innerHTML += `<div>${member.name}</div>`;\n            });\n        });\n\n    } catch(e) {\n\n        console.error(e);\n\n        setTimeout(() => {        \n\n            switch(transition) {\n                case 'next':\n                    document.querySelector('#cardModal .carousel-control-next-icon').click();                   \n                    break;\n                case 'prev':\n                    document.querySelector('#cardModal .carousel-control-prev-icon').click();                    \n                    break;\n            }\n        });\n    }\n};","// Module\nvar code = \"<figure>\\n    <figcaption class=\\\"hide\\\">{{ title }}</figcaption>\\n    <audio\\n        controls\\n        src=\\\"{{ mp3 }}\\\">\\n        Your browser does not support the\\n        <code>audio</code> element.\\n    </audio>\\n</figure>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<ul data-repeat-language=\\\"{{ languageNames }}\\\" class=\\\"scrollable badge-list\\\">\\n    <li class=\\\"capitalise\\\">\\n        <div class=\\\"margin-top uppercase\\\">{{ language.name }}</div>\\n        <ul data-repeat-common=\\\"{{ language.names }}\\\">\\n            <li>{{ common }}</li>\\n        </ul>\\n    </li>\\n</ul>\";\n// Exports\nmodule.exports = code;","import { renderTemplate } from 'ui/helpers/templating';\n\nimport badgeTemplate from 'ui/screens/common/badge-template.html';\n\nexport const renderBadge = (badge, item, config) => {\n\n    let names = [ ...new Set(item.names.map(name => {\n        return {\n            common: name.vernacularName.toLowerCase(),\n            language: name.language\n        }\n    })) ];\n\n    const languageNames = names.reduce(function (r, a) {\n        r[a.language] = r[a.language] || {};\n        r[a.language].name = config.languages.find(language => language.lang === a.language).name;\n        r[a.language].names = r[a.language].names || [];\n        r[a.language].names.push(a.common);\n        return r;\n    }, Object.create(null));\n\n    const occurrences = names.length;\n\n    const template = document.createElement('template');\n\n    if(occurrences === 0) {\n\n        badge.classList.add('hide');\n        \n    } else {\n\n        badge.innerHTML = '';\n\n        template.innerHTML = `<span class=\"names-badge js-names-badge\" data-toggle=\"modal\" data-target=\"#badgeListModal\">${occurrences}</span>`;\n\n        renderTemplate({}, template.content, badge);\n\n        badge.addEventListener('click', event => {\n            \n            document.querySelector('#badgeListModal .js-modal-text-title').innerHTML = 'Common species names';\n\n            const parent = document.querySelector('#badgeListModal .js-modal-text');\n\n            parent.innerHTML = '';\n\n            template.innerHTML = badgeTemplate;\n\n            renderTemplate({ languageNames }, template.content, parent);\n        });\n    }\n}","// Module\nvar code = \"<div class=\\\"calendar-box\\\">\\n        <div data-repeat-row=\\\"{{ data }}\\\" class=\\\"\\\">\\n            <div class=\\\"col\\\" data-repeat-value=\\\"{{ row }}\\\">\\n                <div title=\\\"{{ value.count }}\\\" class=\\\"{{ value.class }}\\\">{{ value.month }}</div>\\n            </div>\\n        </div>\\n</div>\";\n// Exports\nmodule.exports = code;","import { utils } from 'utils/utils';\nimport { getLocation, getPlace } from 'geo/geo';\nimport { getHistogram, getInatPlaceId } from 'api/inat/inat';\nimport { renderTemplate } from 'ui/helpers/templating';\nimport calendarTemplate from 'ui/screens/common/calendar-template.html';\n\nexport const renderCalendar = async (parent, item, config) => {\n\n    const template = document.createElement('template');\n\n    template.innerHTML = calendarTemplate;\n\n    parent.innerHTML = '';\n\n    const place = await getPlace(config);\n\n    const country = place.country.place_name_en || place.country;\n\n    const places = await getInatPlaceId(country);\n\n    if(places.results.length === 0) return;\n\n    const placeId = places.results.find(place => place.display_name === country).id;\n\n    let months = [];\n\n    const getENShortMonth = (ordinal) => {\n        let month;\n        switch(ordinal) {\n            case 1:\n                month = 'J';\n                break;\n            case 2:\n                month = 'F';\n                break;\n            case 3:\n                month = 'M';\n                break;\n            case 4:\n                month = 'A';\n                break;\n            case 5:\n                month = 'M';\n                break;\n            case 6:\n                month = 'J';\n                break;\n            case 7:\n                month = 'J';\n                break;\n            case 8:\n                month = 'A';\n                break;\n            case 9:\n                month = 'S';\n                break;\n            case 10:\n                month = 'O';\n                break;\n            case 11:\n                month = 'N';\n                break;\n            case 12:\n                month = 'D';\n                break;\n        }\n        return month;\n    }\n\n    const getMonth = (ordinal, config) => {\n        let month;\n        switch(config.language) {\n            case 'en':\n                month = getENShortMonth(ordinal);\n                break;\n            default:\n                month = getENShortMonth(ordinal);\n        }\n        return month;\n    }\n\n    getHistogram(item, placeId).then(histogram => {\n        const monthlyStats = histogram.results.month_of_year;\n        for (var month in monthlyStats) {\n            months.push({\n                month: getMonth(parseInt(month), config),\n                index: parseInt(month),\n                count: monthlyStats[month]\n            });\n        }\n\n        utils.sortBy(months, 'count', 'desc').forEach( (month, index) => {\n            if(index < 4 && month.count !== 0) {\n                month.class = 'most-observations';\n            } else {\n                month.class = '';\n            }\n        });\n\n        utils.sortBy(months, 'index', 'asc');\n\n        const data = [];\n        let season = [];\n\n        months.map((month,index) => {\n            if(index < 4) {\n                season.push(month);                \n            }\n            if(index === 3) {\n                data.push(season);\n                season = [];\n            }\n            if(3 < index && index < 8) {\n                season.push(month);                \n            }\n            if(index === 7) {\n                data.push(season);\n                season = [];\n            }\n            if(7 < index && index < 12) {\n                season.push(month);                \n            }\n            if(index === 11) {\n                data.push(season);\n                season = [];\n            }\n        });\n\n        renderTemplate({ data }, template.content, parent);\n\n        const currentMonthIndex = new Date().getMonth();\n\n        const monthNodes = document.querySelectorAll('.calendar-box .col > div');\n    \n        monthNodes.forEach((node, index) => {\n            if(index === currentMonthIndex) {\n                node.classList.add('current-month');\n            }\n        });\n    });\n    \n};","// Module\nvar code = \"<div class=\\\"id-box\\\">\\n  <div>{{ id }}</div>\\n</div>\";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div id=\\\"imageSlider_{{ identifier }}\\\" class=\\\"imageSlider carousel slide\\\" data-ride=\\\"carousel\\\" data-interval=\\\"false\\\">\\n  <div class=\\\"carousel-inner js-carousel-inner no-pointer-events\\\">\\n      <div data-repeat-image=\\\"{{ images }}\\\">\\n        <div class=\\\"carousel-item image-slider-190\\\">\\n            <img \\n                role=\\\"button\\\"\\n                src=\\\"{{ image.medium }}\\\"\\n                data-title=\\\"{{ image.itemName }}\\\"\\n                data-source=\\\"{{ image.source }}\\\"\\n                data-license=\\\"{{ image.license }}\\\"\\n                data-rights-holder=\\\"{{ image.rightsHolder }}\\\"\\n                data-photographers-name=\\\"{{ image.photographersName }}\\\"\\n                data-url=\\\"{{ image.url }}\\\"\\n                data-provider=\\\"{{ image.provider }}\\\"\\n                data-item-name=\\\"{{ image.itemName }}\\\"\\n                data-index=\\\"{{ image.index }}\\\"\\n                alt=\\\"Give {{ image.itemName }} as your answer\\\">\\n        </div>\\n      </div>\\n      <div>\\n        <div class=\\\"attribution-layer js-attribution-layer {{ identifier }}\\\"></div>\\n        <ol class=\\\"carousel-indicators js-carousel-indicators\\\" data-repeat-image=\\\"{{ images }}\\\">\\n          <li data-target=\\\"#carouselExampleIndicators\\\" data-slide-to=\\\"{{ image.index }}\\\"></li>\\n        </ol>        \\n      </div>\\n  </div>        \\n  <a class=\\\"carousel-control-prev\\\" href=\\\"#imageSlider_{{ identifier }}\\\" role=\\\"button\\\" data-slide=\\\"prev\\\" data-slider=\\\"#imageSlider_{{ identifier }}\\\">\\n    <button class=\\\"btn snap-icon-btn carousel-control-prev-icon\\\" data-slider=\\\"#imageSlider_{{ identifier }}\\\"></button>\\n    <button class=\\\"sr-only\\\">Previous</button>\\n  </a>\\n  <div class=\\\"carousel-control-next\\\" href=\\\"#imageSlider_{{ identifier }}\\\" role=\\\"button\\\" data-slide=\\\"next\\\" data-slider=\\\"#imageSlider_{{ identifier }}\\\">\\n    <button class=\\\"btn snap-icon-btn carousel-control-next-icon\\\" data-slider=\\\"#imageSlider_{{ identifier }}\\\"></button>\\n    <button class=\\\"sr-only\\\">Next</button>\\n  </div>\\n  <div class=\\\"description_{{ identifier }} image-description\\\"></div>\\n  <div class=\\\"double-centred-block\\\"></div>\\n  </div>\";\n// Exports\nmodule.exports = code;","import { renderTemplate } from 'ui/helpers/templating';\nimport { scaleImage, imageMatch, imageUseCases, prepImagesForCarousel } from 'ui/helpers/image-handler';\nimport { handleRightsAttribution } from 'ui/screens/common/rights-attribution';\n\nimport imageSliderTemplate from 'ui/screens/common/image-slider-template.html';\n\nconst selectActiveImage = (image, parent, config) => {\n    parent.querySelectorAll('.carousel-item').forEach(i => {\n        const elemSrc = i.querySelector('img').dataset;\n        if(imageMatch(elemSrc, image.dataset || image)) {\n            i.classList.add('active');\n            return;\n        }\n    });    \n    \n    const activeNode = parent.querySelector('.imageSlider.carousel .carousel-item.active img'); \n    \n    const indicators = document.querySelectorAll('.carousel-indicators li');\n          indicators.forEach(i => {\n              if(i.dataset && activeNode.dataset && i.dataset.slideTo === activeNode.dataset.index) {\n                  i.classList.add('active');\n              }\n          });\n\n    let img = image.dataset || image;\n    img.title = img.title || img.itemName;\n    img = scaleImage(img);\n    handleRightsAttribution(img);\n\n    return img;\n};\n\nconst carouselControlHandler = (event, parentScreen = document) => {\n\n    setTimeout(() => {\n\n        const activeNode = parentScreen.querySelector(`${event.target.dataset.slider} .carousel-item.active img`);\n        const image = activeNode.dataset;   \n        \n        handleRightsAttribution(image);    \n\n    }, 750);\n};\n\nexport const imageSlider = sliderArgs => {\n\n    const { config, images, parent, image, parentScreen = document, identifier = '' } = sliderArgs;\n\n    const slider = document.createElement('template');\n          slider.innerHTML = imageSliderTemplate;\n\n    parent.innerHTML = '';\n\n    images.forEach((img, i) => {\n        img.index = i;\n        img.rightsHolder = img.rightsHolder || 'Public domain';\n        img.provider = img.provider || 'eol';\n        img = scaleImage(img);\n    });\n\n    snapLog('imageSlider, image medium values:', images.map(i => i.medium));\n\n    renderTemplate({ images, identifier }, slider.content, parent);\n\n    let next = document.querySelector(`#imageSlider_${identifier} .carousel-control-next-icon`);\n    let prev = document.querySelector(`#imageSlider_${identifier} .carousel-control-prev-icon`);\n\n    if(config.isPortraitMode) {        \n        next.classList.add('concealed');\n        prev.classList.add('concealed');\n    }\n\n    setTimeout(() => {\n        selectActiveImage(image || images[0], parent, config);        \n    },250);\n\n    setTimeout(() => {\n      // next.focus();\n    }, 1000);\n\n    parentScreen.querySelector(`#imageSlider_${identifier} .carousel-control-prev`).addEventListener('click', e => carouselControlHandler(e,parentScreen, config));\n    parentScreen.querySelector(`#imageSlider_${identifier} .carousel-control-next`).addEventListener('click', e => carouselControlHandler(e,parentScreen, config));\n\n    document.addEventListener('swiped-left', function(e) {\n        next.click();\n    });\n\n    document.addEventListener('swiped-right', function(e) {\n        prev.click();\n    });\n};\n\nexport const imageSideBySlider = (slides, parent, config) => {\n\n    const sideBySlider = document.createElement('template');\n          sideBySlider.innerHTML = imageSliderTemplate;\n\n    parent.innerHTML = '';\n    parent.classList.add('slideBySliderContainer');\n\n    document.querySelector(`#imageComparisonModal .js-modal-image-title span:nth-child(3)`).innerHTML = '';\n    document.querySelector(`#imageComparisonModal .js-modal-image-title span:nth-child(4)`).innerHTML = '';\n\n    slides.forEach((slide, index) => {\n\n        const identifier = slide.id.replace(' ', '_') || index + 1;\n\n        const header = document.querySelectorAll(`#imageComparisonModal .js-modal-image-title > span`)[index];\n              header.innerHTML = `<span class=\"common-name\">${slide.images[0].itemCommon}</span><span class=\"latin-name\">${slide.images[0].itemName}</span>`;\n        const item = { name: slide.images[0].itemName, itemCommon: slide.images[0].itemCommon, images: slide.images };\n        const images = prepImagesForCarousel(item, config, imageUseCases.CAROUSEL);\n        \n        snapLog('imageSideBySlider, image medium values:', images.map(i => i.medium));\n\n        renderTemplate({ images, identifier }, sideBySlider.content, parent);\n        \n        const activeNode = document.querySelector(`#imageSlider_${identifier} .carousel-item`);\n              activeNode.classList.add('active');\n        handleRightsAttribution(images[0]);\n\n        const originalImageLink = document.querySelector(`#imageSlider_${identifier} .js-expand`);\n        if(originalImageLink) originalImageLink.classList.add('hide-important');\n    });\n};","// Module\nvar code = \"<div class=\\\"data-box\\\">\\n    <div>\\n        <span class=\\\"js-world\\\">Worldwide</span><span class=\\\"js-taxon-count\\\">---</span>\\n        </div>\\n        <div>\\n            <span class=\\\"js-place\\\">Location</span><span class=\\\"js-place-taxon-count\\\">---</span>\\n        </div>\\n    <div>\\n        <span><a target=\\\"_blank\\\" href=\\\"\\\" class=\\\"underline-link js-taxon-link underline-link-left-margin\\\">iNat</a></span>\\n        <span class=\\\"js-test-card-container-wiki\\\"></span>\\n        <span><a class=\\\"species-card-eol-link js-test-card-container-eol-link underline-link\\\">EOL</a></span>\\n    </div>\\n</div>\";\n// Exports\nmodule.exports = code;","import { renderTemplate } from 'ui/helpers/templating';\nimport { getPlace } from 'geo/geo';\nimport { getInatTaxonStats, getInatPlaceId } from 'api/inat/inat';\nimport { renderWiki } from 'wikipedia/wiki';\nimport { renderWikiModal } from 'wikipedia/wiki-modal';\n\nimport inatBoxTemplate from 'ui/screens/common/inat-box-template.html';\n\nexport async function renderInatDataBox(parent, item, config, mode) {\n\n    const template = document.createElement('template');\n\n    template.innerHTML = inatBoxTemplate;\n\n    parent.innerHTML = '';\n\n    renderTemplate({}, template.content, parent);\n\n    const eolPage = document.querySelector('.js-test-card-container-eol-link');\n    \n    eolPage.setAttribute('href', `http://eol.org/pages/${item.id}/overview`);\n    eolPage.setAttribute('target', '_blank');\n    eolPage.setAttribute('style', 'text-decoration: none');\n\n    setTimeout(()=>{\n        const wikiLink = document.querySelector('.js-test-card-container-wiki');            \n        renderWikiModal(item, wikiLink, config);\n    });    \n\n    const wikiNode = document.querySelector('.js-test-card-container-wiki');\n          wikiNode.innerHTML = '';\n\n    renderWiki(wikiNode, item, config.language);\n    \n    getInatTaxonStats(item, config).then(stats => {\n\n        if(!stats.results) return;\n\n        const taxonId = stats.results.find(stat => stat.taxon.name === item.name).taxon.id;\n        const taxonCount = stats.results.find(stat => stat.taxon.name === item.name).count;\n\n        const taxonLink = `https://www.inaturalist.org/taxa/${taxonId}`;\n\n        parent.querySelector('.js-taxon-count').innerHTML = taxonCount.toLocaleString();\n        parent.querySelector('.js-taxon-link').setAttribute('href', taxonLink);\n    });\n\n    const place = await getPlace(config);\n\n    const country = place.country.place_name_en || place.country;\n\n    const places = await getInatPlaceId(country);\n\n    if(places.results.length === 0) return;\n\n    const placeId = places.results.find(place => place.display_name === country).id;\n    \n    getInatTaxonStats(item, config, placeId).then(stats => {\n\n        if(stats.results.length === 0) return;\n\n        const itemStats = stats.results.find(stat => stat.taxon.name === item.name);\n\n        if(!itemStats) return;\n\n        const placeTaxonCount = itemStats.count;\n        const establishment = itemStats.taxon.preferred_establishment_means;\n\n        document.querySelector('.js-native-container').innerHTML = establishment || '';\n\n        parent.querySelector('.js-world').innerHTML = mode === 'MODAL' ? 'Worldwide' : 'Worldwide sightings';\n        parent.querySelector('.js-place').innerHTML = mode === 'MODAL' ? country : `${country} sightings`;\n        parent.querySelector('.js-place-taxon-count').innerHTML = placeTaxonCount.toLocaleString();\n    });\n}","// Module\nvar code = \"<div data-repeat-detail=\\\"{{ details }}\\\">\\n    <dl class=\\\"info_detail\\\">\\n        <dt>{{ detail.term }}</dt>\\n        <dd><img class=\\\"{{ detail.imgClassName }}\\\" src=\\\"{{ detail.img.url }}\\\" alt=\\\"\\\"></dd>\\n        <dd>{{ detail.definition }}</dd>\\n    </dl>\\n</div>\";\n// Exports\nmodule.exports = code;","import { store } from 'redux/store';\nimport { firestore } from 'api/firebase/firestore';\nimport { linkedTaxa } from 'ui/screens/common/linked-taxa';\nimport { renderTemplate } from 'ui/helpers/templating';\n\nimport idBoxTemplate from 'ui/screens/common/id-box-template.html';\nimport detailsTemplate from 'ui/screens/common/info-detail-slider-template.html';\n\nexport const renderInfoDetails = (item, activeTraitKey, activeTraitValue, description) => {\n\n    const { config, collection, glossary } = store.getState();\n\n    const template = document.createElement('template');\n    const parent = document.querySelector('.js-info-box-details');\n\n\n    if(!parent) return; // hack! currently the case with (non-species) taxon cards (see same below)\n\n    parent.innerHTML = '';\n\n    if(activeTraitKey.toLowerCase().indexOf('description') > -1) {        \n        template.innerHTML = idBoxTemplate;\n        // renderTemplate({ id: activeTraitValue }, template.content, parent);\n        renderTemplate({ id: description }, template.content, parent);\n        const text = document.querySelector('.id-box > div');\n              text.innerHTML = text.innerHTML.replace(/\\r?\\n/g, '<br />');        \n    }\n    else if(activeTraitKey.toLowerCase() === 'relationships' || activeTraitKey.toLowerCase() === 'lookalikes') {\n        const mode = 'MODAL';\n        const isInCarousel = true;\n        linkedTaxa(item, config, parent, mode, isInCarousel, collection, activeTraitValue);\n    } else {\n\n        const details = firestore.getDefinition(activeTraitValue, glossary, collection.glossary); // make dependent on a promise\n\n        if(!parent) return; // hack! taxon info sliders\n\n        if(details && details.length > 0) {            \n            details.forEach(detail => {\n                template.innerHTML = detailsTemplate;\n                detail.imgClassName = detail.img ? detail.img.url === '' ? 'hide-important' : '' : 'hide-important';\n                detail.img = detail.img || { url: '' }; \n            });\n            renderTemplate({ details }, template.content, parent);\n        }\n    }\n};","// Module\nvar code = \"<div id=\\\"traitSlider{{ id }}\\\" class=\\\"info carousel slide\\\" data-ride=\\\"false\\\" data-interval=\\\"false\\\">\\n    <div class=\\\"carousel-inner\\\" data-repeat-trait=\\\"{{ traits }}\\\">\\n      <dl class=\\\"carousel-item\\\">\\n          <div>\\n            <dt>{{ trait.name }}</dt>\\n            <dd>{{ trait.value }} {{ trait.unit }}</dd>\\n          </div>\\n          <div class=\\\"hide-important\\\">{{ trait.description }}</div>\\n      </dl>\\n    </div>\\n    <a class=\\\"carousel-control carousel-control-prev\\\" href=\\\"#traitSlider{{ id }}\\\" role=\\\"button\\\" data-slide=\\\"prev\\\">\\n      <button class=\\\"carousel-control-prev-icon\\\" aria-hidden=\\\"true\\\"></button>\\n      <button class=\\\"sr-only\\\">Previous</button>\\n    </a>\\n    <a class=\\\"carousel-control carousel-control-next\\\" href=\\\"#traitSlider{{ id }}\\\" role=\\\"button\\\" data-slide=\\\"next\\\">\\n      <button class=\\\"carousel-control-next-icon\\\" aria-hidden=\\\"true\\\"></button>\\n      <button class=\\\"sr-only\\\">Next</span>\\n      </a>\\n  </div>\";\n// Exports\nmodule.exports = code;","import { utils } from 'utils/utils';\nimport { traitsHandler } from 'ui/helpers/traits-handler';\nimport { renderTemplate } from 'ui/helpers/templating';\nimport { renderInfoDetails } from 'ui/screens/common/info-detail-slider';\n\nimport infoSliderTemplate from 'ui/screens/common/info-slider-template.html';\n\nconst renderInfoSlider = (item, traits, parent, id) => {\n\n    const slider = document.createElement('template');\n          slider.innerHTML = infoSliderTemplate;\n\n    parent.innerHTML = '';\n\n    traits = traits.filter(t => t.value);\n\n    traits.forEach(trait => {        \n        trait.name = trait.name ? trait.name === 'ph' ? 'pH' : utils.capitaliseFirst(trait.name) : '';\n        if(trait.name.toLowerCase() === 'role') trait.name = trait.type || 'role';\n        trait.name = trait.name === 'Ph value' ? 'pH value' : trait.name; \n        trait.unit = trait.unit ? trait.unit.toLowerCase() === 'colour' ? '' : trait.unit : '';\n        trait.description = trait.value;\n        trait.value = trait.name.toLowerCase() === 'description' ? '< traits >' : trait.value.join(', ');\n    });\n    \n    let description = traits.find(trait => trait.name.toLowerCase() === 'description');\n        description = description ? description.description[0] : '';\n\n    renderTemplate({ id, traits }, slider.content, parent);\n\n    let activeTrait, activeTraitKey, activeTraitValue;\n    \n    activeTrait = parent.querySelector(`#traitSlider${id} .carousel-item:nth-child(1)`);\n    activeTrait.classList.add('active');\n\n    const traitCount = traits.length;\n\n    if(traitCount === 1) {\n        parent.querySelectorAll('.carousel.slide a').forEach(control => {\n            control.setAttribute('disabled', 'disabled');\n            control.classList.add('inactive-icon');\n        });\n    }\n\n    const changeTraitHandler = event => {\n        setTimeout(() => {\n            activeTrait = parent.querySelector(`#traitSlider${id} .carousel-item.active`);\n            activeTraitKey = activeTrait.querySelector('dt').innerHTML;\n            activeTraitValue = activeTrait.querySelector('dd').innerHTML;\n            renderInfoDetails(item, activeTraitKey, activeTraitValue, description);\n        }, 1000);\n    };\n\n    changeTraitHandler();\n\n    parent.querySelector(`#traitSlider${id} .carousel-control-prev`).addEventListener('click', changeTraitHandler);\n    parent.querySelector(`#traitSlider${id} .carousel-control-next`).addEventListener('click', changeTraitHandler);\n}\n\nexport const taxonInfoSlider = (item, traits, parent, mode) => {\n\n    const id = mode === 'MODAL' ? 'taxon_1' : 'taxon_0';\n\n    const convertedTraits = traitsHandler.convertTraitsToNameValuePairsArray(traits, traitsHandler.getTraitsToExclude());\n\n    if(convertedTraits.length > 0) {\n        renderInfoSlider(item, convertedTraits, parent, id);\n    }    \n};\n\nexport const infoSlider = (item, parent, mode) => {\n    \n    if(!traitsHandler.hasTraitPropeties(item.traits)) return;\n\n    let traits = traitsHandler.convertTraitsToNameValuePairsArray(item.traits, traitsHandler.getTraitsToExclude(), item);\n\n    if(item.traits.description) {\n        const description = {\n            name: 'description',\n            value: item.traits.description.value\n        }\n        traits = [ description, ...traits ];\n    }\n    \n    if(traits.length === 0) return;\n    \n    const id = mode === 'MODAL' ? 1 : 0;\n\n    renderInfoSlider(item, traits, parent, id);\n};","// Module\nvar code = \"<div class=\\\"js-relationship-card-list\\\" data-repeat-lookalike=\\\"{{ lookalikes }}\\\">\\n    <div class=\\\"lookalike-card\\\">\\n        <div>{{ lookalike.species }}</div>\\n        <div>{{ lookalike.speciesDescription }}</div>\\n        <!-- <button data-toggle=\\\"{{ lookalike.modal }}\\\" data-target=\\\"#cardModal\\\" class=\\\"snap-icon-btn smaller-text {{ lookalike.className }} js-test-card-container-link\\\" id=\\\"{{ lookalike.lookalike }}\\\">{{ lookalike.lookalike }}</button> -->\\n        <div class=\\\"js-test-card-container-link\\\">\\n            <span data-toggle=\\\"{{ lookalike.modal }}\\\" data-target=\\\"#cardModal\\\" class=\\\"{{ lookalike.className }}\\\" id=\\\"{{ lookalike.lookalike }}\\\">{{ lookalike.lookalike }}</span>\\n        </div>\\n        <div>{{ lookalike.lookalikeDescription }}</div>\\n    </div>\\n</div>    \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"\\n<div class=\\\"js-relationship-card-list\\\" data-repeat-relationship=\\\"{{ relationships }}\\\">\\n    <div class=\\\"relationship-card\\\">\\n        <div class=\\\"cols\\\">\\n            <div>Relationship</div><div>{{ relationship.type }}</div>\\n        </div>\\n        <div class=\\\"cols\\\">\\n            <div class=\\\"js-test-card-container-link\\\">\\n                <span data-toggle=\\\"{{ relationship.modal }}\\\" data-target=\\\"#cardModal\\\" class=\\\"{{ relationship.className }}\\\" id=\\\"{{ relationship.speciesA }}\\\">{{ relationship.speciesA }}</span>\\n            </div>                \\n            <div class=\\\"capitalise\\\">{{ relationship.speciesARole }}</div>\\n        </div>\\n        <div class=\\\"cols\\\">\\n            <div>{{ relationship.speciesB }}</div><div class=\\\"capitalise\\\">{{ relationship.speciesBRole }}</div>\\n        </div>\\n        <div>{{ relationship.description }}</div>\\n    </div>  \\n\\n</div>\";\n// Exports\nmodule.exports = code;","import { itemProperties } from 'ui/helpers/data-checking';\nimport { renderTemplate } from 'ui/helpers/templating';\nimport { renderCard } from 'ui/screens/cards/card';\nimport { firestore } from 'api/firebase/firestore';\n\nimport linkedTaxaLookalikeTemplate from 'ui/screens/common/linked-taxa-lookalike-template.html';\nimport linkedTaxaRelationshipTemplate from 'ui/screens/common/linked-taxa-relationship-template.html';\n\nexport const linkedTaxa = (item, config, parent, mode, isInCarousel, collection, activeTraitValue) => {\n\n    parent.innerHTML = '';\n    const template = document.createElement('template');\n\n    const addLinksToSpeciesCards = async mode => {        \n        \n        if(!isInCarousel) {            \n            const speciesCardLinks = mode === 'MODAL'\n                    ? document.querySelectorAll('#cardModal .js-test-card-container-link')\n                    : document.querySelectorAll('.js-test-card-container-link');\n            \n            speciesCardLinks.forEach(async link => {\n                link.addEventListener('click', async event => {\n                    const name = event.target.id || event.target.dataset.name;\n                    const selectedItem = await firestore.getSpeciesByName(name);\n                    selectedItem.species = itemProperties.getSpeciesName(item.name);\n                    renderCard({ name: 'Local species', items: [ selectedItem ] }, 'MODAL', selectedItem, document.querySelector('#cardModal .js-modal-body'), false);\n                });\n            });\n        }\n    };\n\n    const getLinkedTaxa = async () => {\n\n        const addVernacularName = async taxonName => {\n            const item = await firestore.getSpeciesByName(taxonName);\n            if(!item) return { name: taxonName, display: taxonName, isSpecies: false };\n            const vernacularName = itemProperties.getVernacularName(item, config);\n            return vernacularName ? { name: taxonName, display: taxonName, isSpecies: true } : { name: taxonName, display: taxonName, isSpecies: true };\n        };\n    \n        let relationshipTraits = item.traits ? item.traits.relationships : null;\n\n        let relationships = [];\n\n        if(relationshipTraits) {\n\n            const convertTraitsForDisplay = async () => {\n                return Promise.all(relationshipTraits.map(trait => {\n                    return  {\n                        type: trait.value[0],\n                        speciesA: trait.symbiont.name,\n                        speciesARole: trait.symbiont.role,\n                        speciesB: item.name,\n                        speciesBRole: trait.type,\n                        description: trait.description\n                    };\n                }));\n            };\n\n            relationships = await convertTraitsForDisplay();\n        }\n\n        let lookalikeTraits = item.traits ? item.traits.lookalikes : null;\n\n        let lookalikes = [];\n\n        if(lookalikeTraits) {\n\n            lookalikeTraits = lookalikeTraits.filter(species => species.lookalike.name === activeTraitValue);\n\n            const convertLookalikesForDisplay = async () => {\n                return Promise.all(lookalikeTraits.map(trait => {\n                    return  {\n                        species: item.name,\n                        speciesDescription: trait.description,\n                        lookalike: trait.lookalike.name,\n                        lookalikeDescription: trait.lookalike.description\n                    };\n                }));\n            };\n\n            lookalikes = await convertLookalikesForDisplay();\n        }\n\n        const addDisplayRules = relationships => {\n            for(const relationship of relationships) {\n                if(mode !== 'MODAL') {\n                    relationship.className = 'underline-link';\n                    relationship.modal = 'modal';\n                } else {\n                    relationship.className = '';\n                    relationship.modal = '';\n                }\n            };\n\n            return relationships;\n        };\n\n        if(relationships) {\n            relationships = addDisplayRules(relationships);\n            template.innerHTML = linkedTaxaRelationshipTemplate;\n            renderTemplate({ relationships }, template.content, parent);\n        }\n\n        if(lookalikes) {\n            lookalikes = addDisplayRules(lookalikes);        \n            template.innerHTML = linkedTaxaLookalikeTemplate;\n            renderTemplate({ lookalikes }, template.content, parent);\n        }\n        addLinksToSpeciesCards(mode);\n    }; \n\n    getLinkedTaxa();\n};","// Module\nvar code = \"<span class=\\\"feature-label js-compare-species-label\\\"></span>\\n<span title=\\\"Lookalike species\\\" class=\\\"landscape compare-species-link js-compare-species-link\\\" data-toggle=\\\"modal\\\" data-target=\\\"#imageComparisonModal\\\" data-slides=\\\"{{ slides }}\\\">\\n    <i class=\\\"fas fa-clone\\\"></i>\\n</span>\\n<span title=\\\"Lookalike species\\\" class=\\\"portrait compare-species-link js-compare-species-link\\\">\\n    <i class=\\\"fas fa-clone\\\"></i>\\n</span>\";\n// Exports\nmodule.exports = code;","import { itemProperties } from 'ui/helpers/data-checking';\nimport { renderTemplate } from 'ui/helpers/templating';\nimport { imageSideBySlider } from 'ui/screens/common/image-slider';\nimport { imageUseCases, scaleImage } from 'ui/helpers/image-handler';\nimport { firestore } from 'api/firebase/firestore';\n\nimport audioMediaTemplate from 'ui/screens/common/audio-media-template.html';\nimport visualComparisonTemplate from 'ui/screens/common/look-alikes-link-template.html';\n\nexport const lookalikeSpecies = (item, config, rootNode = document) => {\n    \n    const lookalikes = item.traits.lookalikes || item.traits['look-alikes'];\n\n    if(lookalikes) {\n        \n        const matchTemplate = document.createElement('template');\n              matchTemplate.innerHTML = visualComparisonTemplate;\n        const lookalikeParent = rootNode.querySelector('.js-lookalikes');\n\n        const slides = [];\n        const names = [];\n        const scientificNames = [];\n\n        let species;\n\n        async function renderLookalikes() {\n\n            const readyLookalikesForRendering = async () => {\n\n                species = [ ...lookalikes.map(lookalike => lookalike.lookalike), { name: item.name, description: lookalikes[0].description } ];\n\n                for (let lookalike of species) {\n\n                    const lookalikeItem = await firestore.getSpeciesByName(lookalike.name);\n\n                    if(!lookalikeItem) return;\n                    \n                    lookalikeItem.vernacularName = itemProperties.getVernacularName(lookalikeItem, config);\n                    names.push(lookalikeItem.vernacularName);\n                    scientificNames.push(lookalikeItem.name);\n    \n                    const images = lookalikeItem.images.map((img, index) => { \n\n                        const url = scaleImage({ url: img.url }, imageUseCases.CAROUSEL, config);\n\n                        return { \n                                index: index + 1, \n                                src: { ...img, url: url.medium },\n                                url: url.medium,\n                                itemName: lookalikeItem.name, \n                                itemCommon: lookalikeItem.vernacularName };\n                    });\n    \n                    slides.push({ id: lookalikeItem.name, images });\n                };\n            };\n\n            await readyLookalikesForRendering();\n\n            if(slides.length === 0) return;\n\n            lookalikeParent.innerHTML = '';\n\n            renderTemplate({slides, names: names.join(', ')}, matchTemplate.content, lookalikeParent);\n\n            const speciesComparisonLink = rootNode.querySelector('.js-compare-species-link');\n\n            speciesComparisonLink.classList.remove('hide');\n\n            const getTrait = async (itemName, parent) => {\n    \n                const item = await firestore.getSpeciesByName(itemName);\n                item.traits = await firestore.getTraitsBySpeciesName(item.name);\n                    \n                if(item.taxonomy.class.toLowerCase() === 'aves') {\n    \n                    if(item.traits && Object.keys(item.traits).length === 0) return;\n    \n                    const xcID = item.traits['song'].value;\n    \n                    if(!xcID) return;\n        \n                    const mp3 = await firestore.getBirdsong(xcID);\n    \n                    const template = document.createElement('template');\n                          template.innerHTML = audioMediaTemplate;\n                    \n                    renderTemplate({ mp3, title: item.name }, template.content, parent);\n                }\n            }\n    \n            speciesComparisonLink.addEventListener('click', () => {\n    \n                const parent = document.querySelector('#imageComparisonModal .js-modal-image');\n                            \n                imageSideBySlider(slides, parent, true, config);\n                    \n                species.forEach(lookalike => {\n                    const identifier = `.description_${lookalike.name.replace(' ', '_')}`;\n                    const description = document.querySelector(identifier);\n                          description.innerHTML = lookalike.description;                    \n                    getTrait(lookalike.name, document.querySelector(`${identifier} + div`));\n                });\n                \n            });\n        }\n\n        renderLookalikes();   \n    }\n};","// Module\nvar code = \"<div class=\\\"attribution-layer\\\">\\n    <div class=\\\"rights-link js-rights-link\\\">\\n        <div class=\\\"rights-link-copyright double-centred-block js-copyright\\\">\\n            <i class=\\\"fas fa-copyright\\\"></i>\\n        </div>\\n        <div></div>\\n        <div class=\\\"rights-link-copyright double-centred-block\\\">            \\n            <a href=\\\"{{ large }}\\\" target=\\\"_blank\\\">\\n              <span class=\\\"sr-only\\\">Opens in new window</span>\\n              <i class=\\\"fas fa-external-link-alt\\\"></i>\\n            </a>\\n        </div>\\n    </div>\\n    <div class=\\\"rights-attribution hide-important js-rights-attribution\\\">        \\n        <div class=\\\"rights-link-copyright double-centred-block js-copyright\\\">\\n            <i class=\\\"fas fa-copyright\\\"></i>\\n        </div>        \\n        <div class=\\\"double-centred-block\\\">\\n            <a href=\\\"{{ source }}\\\" target=\\\"_blank\\\">\\n                <span class=\\\"centred-block\\\">\\n                    <span class=\\\"sr-only\\\">Opens in new window</span>\\n                    <span class=\\\"underline-link half-margin-right\\\">{{ author }}</span>\\n                    <i class=\\\"super active-icon fas fa-external-link-alt\\\"></i>\\n                </span>\\n            </a>\\n    </div>\\n    </div>\\n</div>\";\n// Exports\nmodule.exports = code;","import { scaleImage } from 'ui/helpers/image-handler';\nimport { renderTemplate } from 'ui/helpers/templating';\n\nimport rightsAttributionTemplate from 'ui/screens/common/rights-attribution-template.html';\n\nexport const handleRightsAttribution = image => {\n\n    const template = document.createElement('template');\n          template.innerHTML = rightsAttributionTemplate;\n\n    let text;\n\n    switch(image.license) {\n        case 'http://creativecommons.org/licenses/publicdomain/':\n            text = 'CC PD';\n            break;\n        case 'http://creativecommons.org/licenses/by/2.0/':        \n            text = 'CC 2.0';\n            break;\n        case 'http://creativecommons.org/licenses/by-sa/2.0/':\n            text = 'CC BY SA 2.0';\n            break;\n        case 'http://creativecommons.org/licenses/by-nc/2.0/':\n            text = 'CC BY NC 2.0';\n            break;\n        case 'http://creativecommons.org/licenses/by-nc-sa/2.0/':\n            text = 'CC BY NC-SA 2.0';\n            break;\n        case 'http://creativecommons.org/licenses/by/3.0/':        \n            text = 'CC 3.0';\n            break;\n        case 'http://creativecommons.org/licenses/by-sa/3.0/':\n            text = 'CC BY SA 3.0';\n            break;\n        case 'http://creativecommons.org/licenses/by-nc-sa/3.0/':\n            text = 'CC BY NC-SA 3.0';\n            break;        \n        case 'http://creativecommons.org/licenses/by/4.0/':        \n            text = 'CC 4.0';\n            break;\n        case 'http://creativecommons.org/licenses/by-nc/4.0/':\n            text = 'CC BY NC 4.0';\n            break;\n        case 'http://creativecommons.org/licenses/by-nc-sa/4.0/':\n            text = 'CC BY NC-SA 4.0';\n            break;\n        case 'http://creativecommons.org/licenses/by-sa/4.0/':\n            text = 'CC BY SA 4.0';\n            break;\n        default: \n            text = image.license || '';\n            break;\n    };\n\n    const licence = { text, url: image.medium };\n    const title = image.title;\n    const author = image.rightsholder || image.rightsHolder || 'Public domain';\n    const source = image.source || '';\n    const identifier = `${image.itemName.replace(' ', '_')}`;\n    const large = image.large || scaleImage(image).large;\n    \n    let parent = document.querySelector(`.js-attribution-layer.${identifier}`);\n        parent = parent || document.querySelector(`.js-attribution-layer`);\n        parent.innerHTML = '';\n\n    renderTemplate({title,author,source,licence,large}, template.content, parent);\n\n    const rightsAttribution = parent.querySelector('.js-rights-attribution .js-copyright');\n    const rightsLink = parent.querySelector('.js-rights-link .js-copyright');\n    const indicators = document.querySelector(`.carousel-indicators`);\n\n    const showAttribution = event => {\n        rightsAttribution.parentElement.classList.add('hide-important');\n        rightsLink.parentElement.classList.remove('hide-important');\n        indicators.classList.remove('hide-important');\n        rightsLink.removeEventListener('click', showLink), true;\n        rightsLink.addEventListener('click', showLink, true);\n    };\n\n    rightsAttribution.removeEventListener('click', showAttribution, true);\n    rightsAttribution.addEventListener('click', showAttribution, true);\n\n    const showLink = event => {\n        rightsAttribution.parentElement.classList.remove('hide-important');\n        rightsLink.parentElement.classList.add('hide-important');\n        indicators.classList.add('hide-important');\n        rightsAttribution.removeEventListener('click', showAttribution, true);\n        rightsAttribution.addEventListener('click', showAttribution, true);\n    };\n\n    rightsLink.removeEventListener('click', showLink), true;\n    rightsLink.addEventListener('click', showLink, true);\n\n};","// Module\nvar code = \"<span>\\n    <span class=\\\"uppercase small-text js-native-container\\\"></span>\\n    <span class='rank'>{{ trait }}</span>\\n    <span class=\\\"lookalikes js-lookalikes\\\"></span>\\n    <!-- <span class=\\\"portrait bird-song-icon-disabled js-bird-song-player\\\" data-src='player' data-toggle=\\\"modal\\\" data-target=\\\"#basicModal\\\"> -->\\n        <!-- <i class=\\\"fas fa-music\\\"></i> -->\\n    <!-- </span> -->\\n    <span class=\\\"badge badge-light js-subspecies-badge\\\" data-toggle=\\\"modal\\\" data-target=\\\"#badgeListModal\\\">{{ subSpeciesCount }}</span> <span class=\\\"sr-only\\\">species of this family in the collection</span>\\n</span>\\n\\n<span class=\\\"hide-empty\\\">{{ familyVernacularName }}</span>\\n<span class=\\\"latin hide-empty\\\">{{ familyName }}</span>\\n\";\n// Exports\nmodule.exports = code;","import { itemProperties } from 'ui/helpers/data-checking';\nimport { infraspecifics } from 'api/snapdragon/infraspecifics';\nimport { store } from 'redux/store';\nimport { renderTemplate } from 'ui/helpers/templating';\nimport taxaBoxTemplate from 'ui/screens/common/taxa-box-template.html';\n\nexport const renderTaxaBox = async (parent, taxaBoxArgs) => {\n\n    const enums = store.getState().enums;\n\n    parent.innerHTML = '';\n\n    let { item, familyName, familyVernacularName } = taxaBoxArgs;\n\n    const options = [\n        { name: enums.name.RANK, formatter: trait => `UK # ${trait[0]}` },\n        { name: enums.name.HOW_EDIBLE, formatter: trait => trait[0] }\n    ];\n\n    let trait = itemProperties.getActiveTrait(item, options);\n    \n    const specific = infraspecifics.find(specific => specific.name === item.name);\n    const subSpeciesCount = specific ? specific.subspecies.length : 0;\n\n    const template = document.createElement('template');\n\n    template.innerHTML = taxaBoxTemplate;\n\n    renderTemplate({ subSpeciesCount, familyName, familyVernacularName, trait }, template.content, parent);\n\n    const subspeciesBadge = parent.querySelector('.js-subspecies-badge');\n\n    if(subSpeciesCount === 0) {\n\n        subspeciesBadge.classList.add('hide');\n        \n    } else {\n\n        const members = specific.subspecies;\n\n        subspeciesBadge.addEventListener('click', event => {\n            document.querySelector('#badgeListModal .js-modal-text-title').innerHTML = `Cultivars of ${item.name}`;            \n            const list = rootNode.querySelector('#badgeListModal .js-modal-text');\n            let html = '<div class=\"modal-list scrollable\">';\n            members.forEach(member => {\n                html += `<div><span>subspecies: ${member.name}</span>`;\n                html += `<ul>`;\n                member.names.forEach(name => {\n                    if(name.language === config.language)\n                        html += `<li>name: ${name.vernacularName}</li>`;\n                });\n                html += `</ul></div>`;\n            });\n            html += '</div>';\n            list.innerHTML = html;\n        });\n    }\n}","// Module\nvar code = \"<div class=\\\"home-scrolling-container js-home-scrolling-container\\\">\\n    <div class=\\\"title standard-block double-centred-block\\\">{{ video.title }}</div>\\n    <div class=\\\"video\\\">\\n        <div style=\\\"min-height: 1px;\\\"></div>\\n        <iframe\\n            type=\\\"text/html\\\"\\n            id=\\\"embedded-video\\\"\\n            width=\\\"100%\\\"\\n            src=\\\"https://www.youtube.com/embed/{{ video.id }}?enablejsapi=1&playsinline=1&start={{ video.playAt }}\\\"\\n            frameborder=\\\"0\\\"\\n            allowfullscreen>\\n        </iframe>   \\n    </div>\\n    <div class=\\\"scrollable\\\">\\n        <div class=\\\"one-and-half-standard-block centred-block justify-space-between padding-left\\\">\\n            <div class=\\\"centred-block\\\">\\n                <div class=\\\"margin-right\\\">\\n                    <img width=\\\"48px\\\" height=\\\"48px\\\" src=\\\"{{ video.src }}\\\" alt=\\\"\\\">\\n                </div>\\n                <div class=\\\"vertical-centred-block\\\">\\n                    <div><span class=\\\"hide margin-right\\\" >Created by:</span><span class=\\\"emphasis\\\">{{ video.presenter }}</span></div>\\n                    <!-- <div>\\n                        <span class=\\\"hide margin-right\\\">{{ video.webLabel }}:</span>\\n                        <a class=\\\"underline-external-link\\\" href=\\\"{{ video.webUrl }}\\\" target=\\\"_blank\\\">Channel</a>\\n                        <span class=\\\"names-badge\\\"> <i class=\\\"fas fa-external-link-alt\\\"></i></span>\\n                    </div> -->\\n                    <div><span class=\\\"hide margin-right\\\" >Location:</span><span class=\\\"font-size-small\\\">{{ video.location }}</span></div>\\n                </div>\\n            </div>\\n            <!-- <div class=\\\"centred-block justify-end padding-right js-lesson-links\\\">\\n            </div> -->\\n        </div>        \\n    </div>\\n</div>\";\n// Exports\nmodule.exports = code;","import * as R from 'ramda';\n\nimport { renderTemplate } from 'ui/helpers/templating';\nimport { videoHandler } from 'ui/screens/lists/video-handler';\n\nimport videoTemplate from 'ui/screens/home/home-lesson-intro-video-template.html';\n\nexport const videoSetup = (collection, videoPlayer, parent, startTime) => {\n\n    parent.innerHTML = '';\n   \n    const template = document.createElement('template');\n          template.innerHTML = videoTemplate;\n\n    collection.video.webLabel = collection.video.links[1].label;\n    collection.video.webUrl = collection.video.links[1].url;\n\n    const activeLesson = videoPlayer.find(record => record.collectionId === collection.id) || { collectionId: collection.id, startAt: collection.video.startAt || 0 };\n          activeLesson.playAt = activeLesson.pausedAt || activeLesson.startAt;\n\n    renderTemplate({ video: { ...collection.video, playAt: activeLesson.playAt, location: collection.video.location || '' } }, template.content, parent);\n\n    const timeBeforeVideoPlayerReady = 1000;\n\n    setTimeout(() => {\n\n        videoHandler.readyPlayer();\n\n        let checkInt;\n\n        const checkCurrentTime = player => {\n\n            checkInt = setInterval(function() {\n               const time = Math.floor(player.getCurrentTime());               \n               const match = matchSpeciesTime(time, collection);\n               if(!!match) {\n                   videoHandler.onSpeciesTimeMatchListeners.map(listener => listener(collection, match));\n               }\n               if(!collection.notes) return;\n               const noteMatch = collection.notes.find(note => R.contains(time, note.time));\n               if(noteMatch) {\n                   videoHandler.onNoteTimeMatchListeners.map(listener => listener(collection, noteMatch));\n               }\n            }, 1000);\n        };\n\n        const onPlayerStateChangeCallback = player => {\n\n            if(!typeof player.getPlayerState === 'function' || player.getPlayerState === undefined) return;\n\n            const playerState = player.getPlayerState();\n\n            switch(playerState) {\n                case videoHandler.states.find(state => state.value === 'playing').key: // 1\n                    checkCurrentTime(player);\n                    break;\n                case videoHandler.states.find(state => state.value === 'paused').key: // 2\n                    clearInterval(checkInt);\n                    checkInt = null;\n                    break;\n                default:\n                    checkCurrentTime(player);\n            }\n        };\n\n        videoHandler.subscribeToPlayerStateChange(onPlayerStateChangeCallback);\n\n        if(startTime) {\n            setTimeout(() => {\n                videoHandler.playVideoFrom(startTime);\n            }, 1000);\n        }        \n\n    }, timeBeforeVideoPlayerReady);\n        \n    const video = document.getElementsByTagName('iframe')[0];\n    const videoWidth = video.offsetWidth;\n          video.height = videoWidth * 9/16;\n  \n};\n\nexport const matchSpeciesTime = (time, collection) => {\n  const species = collection.items ? collection.items.filter(sp => sp.time) : collection.species.filter(sp => sp.time);\n  const match = species.find(sp => R.contains(time, sp.time));\n  return match;\n}\n","import { contains, clone } from 'ramda';\n\nimport { firestore } from 'api/firebase/firestore';\nimport { progressState } from 'redux/reducers/initial-state/initial-progress-state';\nimport { actions } from 'redux/actions/action-creators';\nimport { store } from 'redux/store';\nimport { enums } from 'ui/helpers/enum-helper';\nimport { renderSpeciesList } from 'ui/screens/lists/species-list';\nimport { collectionHandler  } from 'ui/helpers/collection-handler';\nimport { lessonStateHelper } from 'ui/screens/lists/lesson-state-helper';\n\nconst changeRequest = async args => {\n\n  const { requestType, requestArgs } = args;\n\n  const { config, collection, collections, counter } = store.getState();\n\n  switch(requestType) {\n\n    case enums.lessonState.PAUSE_LESSON:\n      if(config.isLandcapeMode) return;      \n      changeLessonState(requestType, collection, config);\n    break;\n    \n    case enums.lessonState.UPDATE_COLLECTION:\n      updateCollection(requestArgs);\n    break;\n    \n    case enums.lessonState.SAVE_LESSON_PROGRESS:\n      saveCurrentLesson(collection);\n    break;\n    \n    case enums.lessonState.GET_LESSON_PROGRESS:\n      const { collectionToLoad, updatedCounter, guide } = requestArgs;\n      return await getUserLessonProgressState(collectionToLoad, { ...config, guide }, collections, updatedCounter);\n    \n    case enums.lessonState.ADD_SPECIES_TO_COLLECTION:\n      return await addExtraSpeciesSelection(requestArgs);\n    \n    case enums.lessonState.RENDER_SPECIES_LIST:\n      renderLessonSpeciesList(requestArgs);\n    break;\n    \n    case enums.lessonState.BEGIN_OR_RESUME_LESSON:\n      const { id } = requestArgs;\n      beginOrResumeLesson(id);\n    break;\n\n    case enums.lessonState.NEXT_ROUND:\n      const { lesson } = requestArgs; \n      changeLessonState(enums.lessonState.NEXT_ROUND, collection, lesson);\n    break;\n  }\n};\n\nconst beginOrResumeLesson = async (selectedLessonCollectionId, requestedlessonState)  => {\n\n  const { collections, collection: currentCollection, config } = store.getState();\n\n  const collectionToLoad = lessonStateHelper.getCollectionToLoad(currentCollection, collections, selectedLessonCollectionId);\n\n  const { collection, score, lesson } = await getUserLessonProgressState(collectionToLoad, config, collections);\n\n  const lessonState = !!requestedlessonState ? requestedlessonState : (score && score.collectionId === collection.id) \n          ? enums.lessonState.RESUME_LESSON\n          : enums.lessonState.BEGIN_LESSON;\n\n  changeLessonState(lessonState, collection, lesson); \n};\n\nconst renderLessonSpeciesList = async requestArgs => {\n\n  const { lesson: collectionToLoad, container } = requestArgs;\n\n  const { config, collections } = store.getState();\n\n  const { collection } = await getUserLessonProgressState(collectionToLoad, config, collections);\n\n  setTimeout(() => {\n    renderSpeciesList(collection, { callingParentContainer: container });\n  });\n};\n\nconst getUserLessonProgressState = async (collectionToLoad, config, collections, newLessonCounter) => {\n\n  const { counter: stateCounter, lessons, lesson: savedLesson } = store.getState();\n\n  const counter = newLessonCounter || stateCounter;\n\n  const userLessonState = lessonStateHelper.getUserLessonState(lessons, collectionToLoad, progressState, counter, savedLesson, newLessonCounter);\n\n  await collectionHandler.loadCollection(userLessonState.collection, config, userLessonState.counter, collections);\n\n  setActiveCollection(userLessonState);\n\n  return userLessonState;\n};\n\nconst changeLessonState = async (lessonState, collection, lesson) => {    \n\n  switch(lessonState) {\n      case enums.lessonState.BEGIN_LESSON: {\n            actions.boundStopStartLesson({ index: 0, isLessonPaused: false });\n          break;\n      }\n      case enums.lessonState.PAUSE_LESSON: {\n\n        if(collection.items) {\n          const { index } = lessonStateHelper.getLatestCounter(collection);\n          actions.boundStopStartLesson({ index, isLessonPaused: true, log: { index: index, collection: collection.id  } });\n        }\n\n        break;\n      }\n      case enums.lessonState.RESUME_LESSON: {\n          actions.boundStopStartLesson({ ...lessonStateHelper.getLatestCounter(collection), isLessonPaused: false });\n          break;\n      }\n      case enums.lessonState.NEXT_ROUND: {\n          if(lesson.isLevelComplete) {\n            actions.boundNextLevel({ index: 0, lesson });\n          } else if(lesson.isNextRound) {\n              actions.boundNextRound({ index: 0, lesson: { ...lesson, currentRound: lesson.currentRound + 1 } });\n          };\n          break;      \n      }\n  }\n  return lesson;\n};\n\nconst addExtraSpeciesSelection = async requestArgs => {\n\n  const { config, collection } = requestArgs;\n\n  if(!collection) return;\n\n  if(!collection.items) return;\n\n  const extraSpecies = config.guide.species.filter(s => !contains(s.name, collection.items.map(i => i.name)));\n\n  const items = await collectionHandler.getSnapdragonSpeciesData(extraSpecies);\n\n  const collectionExtension = await collectionHandler.loadCollectionItemProperties({ items }, config);\n  collection.items = [ ...collection.items, ...collectionExtension.items];\n  const lesson = {\n      collection,\n      counter: { ...store.getState().counter, index: 0 },\n      lesson: { currentRound: 1, rounds: 0, isNextRound: true },\n      layout: null,\n      history: null,\n      score: clone(progressState.score)\n  };\n\n  setActiveCollection(lesson);\n};\n\nconst updateCollection = requestArgs => {\n  const { config, collection } = requestArgs;\n  actions.boundUpdateCollection({ config, collection }); // or use setActive-Collection?\n};\n\nconst setActiveCollection = lesson => {\n  lesson.counter = lesson.counter || { };\n  actions.boundSetActiveCollection({ lesson });\n  const { user } = store.getState();\n  firestore.addCollection(lesson.collection, user);\n};\n\nconst recordUserAction = action => {\n  actions.boundClickEvent(action);\n};\n\nconst saveCurrentLesson = async collection => {\n\n  const { counter, lessonPlan, lessonPlans, layout, lesson, score, history, bonusLayout, enums, config } = store.getState();\n  \n  config.collection.id = collection.id;\n\n  const savedLesson = { \n      name: collection.name,\n      config, collection, counter, lessonPlan, lessonPlans, layout, lesson, score: clone(score), history, bonusLayout, enums\n  };\n\n  actions.boundSaveLesson(savedLesson);\n\n  return savedLesson;\n};\n\nexport const lessonStateHandler = {\n  changeRequest,\n  recordUserAction\n};","import * as R from 'ramda';\n\nimport { enums } from 'ui/helpers/enum-helper';\nimport { persistor } from 'redux/store';\nimport { actions } from 'redux/actions/action-creators';\nimport { store } from 'redux/store';\nimport { config as initialConfig } from 'snapdragon-config/lesson-config';\n\nconst getIsReviewingLesson = (userAction, config) => {\n\n    let isNotReviewingLesson = true;\n  \n    if (userAction) {\n        if (config.isLandscapeMode) {\n            isNotReviewingLesson = isNotReviewingLesson && (userAction.name === enums.userEvent.START_LESSON.name || userAction.name === enums.userEvent.TOGGLE_SPECIES_LIST.name);\n        }\n        else {\n            isNotReviewingLesson = isNotReviewingLesson && (userAction.name === enums.userEvent.START_LESSON.name);\n        }\n    }\n  \n    return !isNotReviewingLesson;\n};\n\nconst overrideLesson = (userAction, config) => {\n    return !getIsReviewingLesson(userAction, config);\n};\n\nconst purgeLesson = () => {\n    persistor.purge();\n    window.location.reload(true);\n};\n\nconst clearGuide = () => {\n    const config = store.getState().config;\n    config.guide = initialConfig.guide;\n    actions.boundUpdateConfig(config);\n};\n\nconst getCollectionToLoad = (currentCollection, collections, selectedLessonCollectionId)  => {\n\n    const id = parseInt(selectedLessonCollectionId);\n  \n    let resume = true;\n        resume = resume && currentCollection.id > 0;\n        resume = resume && currentCollection.id === id;\n  \n    const collection = resume ? currentCollection : collections.find(c => c.id === id);\n  \n    return collection;\n};\n\nconst getLatestCounter = collection => { \n    const { counter, lessons } = store.getState();\n    const log = counter.log;\n    const index = log ? log.index : \n                lessons.find(l => l.collection.id === collection.id)\n                    ? lessons.find(l => l.collection.id === collection.id).counter.index\n                    : counter.index;\n  \n    return { index };\n};\n\nconst getUserLessonState = (lessons, collectionToLoad, progressState, counter, savedLesson, newLessonCounter) => {\n\n    let restoredLesson = lessons.find(l => l.name === collectionToLoad.name);\n\n    let lesson;\n  \n    if(restoredLesson) {\n      lesson = restoredLesson;\n      if(lesson.lesson.isNextRound) {\n        lesson.score = R.clone(progressState.score);\n      }\n    } else {\n      lesson = { \n        collection: collectionToLoad, \n        counter: { ...counter, index: 0 },\n        lesson: savedLesson || { currentRound: 1, rounds: 0, isNextRound: true },\n        layout: null,\n        history: null,\n        score: R.clone(progressState.score)\n      };\n    }\n\n    if(newLessonCounter) {\n        lesson.counter.isCustomLessonPausedOverride = true;\n    }\n\n    return lesson;\n};\n  \nexport const lessonStateHelper = {\n    getIsReviewingLesson,\n    overrideLesson,\n    purgeLesson,\n    clearGuide,\n    getCollectionToLoad,\n    getLatestCounter,\n    getUserLessonState\n};","// Module\nvar code = \"<div>\\n    <div>{{ note.tag }}</div>\\n    <div>{{ note.description }}</div>\\n</div>\";\n// Exports\nmodule.exports = code;","import { renderTemplate } from 'ui/helpers/templating';\nimport { snapLog, logError, logAPIError } from 'ui/helpers/logging-handler';\n\nimport definitionTemplate from 'ui/screens/lists/species-list-definition-insert.html';\n\nlet currentlyActiveRow = null;\nlet currentlyActiveSpecies;\n\nexport const onSpeciesChangeHandler = species => {\n\n    try {\n\n        const id = species.id || species.eolId;\n        const tr = document.querySelector(`#id_${id}`);\n\n        currentlyActiveRow = tr;\n        currentlyActiveSpecies = species;\n        \n    } catch(e) {\n      logError(onSpeciesChangeHandler, e);\n    }\n};\n\nexport const openNoteHandler = (note, time) => {\n\n    if(Math.floor(note.time) !== time) return;\n\n    let parent = document.getElementById('insertParent');\n\n    if(parent) parent.remove();\n\n    const template = document.createElement('template');\n          template.innerHTML = definitionTemplate;\n\n    const insert = document.createElement('div');\n          insert.setAttribute('id', 'insertParent');\n\n    if(note.colCount) {\n        insert.classList.add(`col-count-${note.colCount}`);\n        insert.innerHTML = note.description.replace(/\\r?\\n/g, '<br />');\n    }\n\n    if(!currentlyActiveRow) {\n        // first row, before any species have been matched\n        currentlyActiveRow = document.querySelector('.js-list-item'); // first by default\n    }\n\n    currentlyActiveRow.parentElement.insertBefore(insert, currentlyActiveRow);\n\n    if(!note.colCount) {        \n        parent = document.getElementById('insertParent');\n        parent.innerHTML = '';\n        renderTemplate({ note }, template.content, parent);\n        const noteText = document.querySelector('#insertParent > div:nth-child(1) > div:nth-child(2)');\n              noteText.innerHTML =noteText.innerHTML.replace(/\\r?\\n/g, '<br />');\n    }    \n};\n","import { contains } from 'ramda';\n\nimport { enums } from 'ui/helpers/enum-helper';\nimport { utils } from 'utils/utils';\nimport { DOM } from 'ui/dom';\nimport { store } from 'redux/store';\nimport { renderCard } from 'ui/screens/cards/card';\nimport { renderTaxonCard } from 'ui/screens/cards/taxon-card';\nimport { renderNonTaxonCard } from 'ui/screens/cards/non-taxon-card';\nimport { modalImageHandler } from 'ui/helpers/image-handler';\nimport { buildTable } from 'ui/screens/lists/species-table';\nimport { videoHandler } from 'ui/screens/lists/video-handler';\nimport { videoSetup } from 'ui/screens/home/home-lesson-intro-video';\nimport { lessonStateHandler } from 'ui/screens/lists/lesson-state-handler';\nimport { onSpeciesChangeHandler, openNoteHandler } from 'ui/screens/lists/species-list-definition-insert';\n\nexport const renderSpeciesList = (lesson, args) => {\n\n  const init = async () => {\n\n    const { callingParentContainer, isInCarousel = false } = args;\n\n    const { config, history, enums: traitEnums, collections  } = store.getState();    \n\n    // to ensure we have latest item list if species has been added\n    const collection = collections.find(c => c.id === lesson.id);\n\n    const openAccordionHandler = (species, accordion) => {\n        \n        accordion.innerHTML = `<i class=\"fas fa-chevron-up\" data-name=\"${species.name}\"></i>`;\n        \n        openSpeciesDescriptionHandler(collection, species, true, false);\n\n        const closeAccordionHandler = event => {\n            // remove current close accordion handler\n            accordion.removeEventListener('click', closeAccordionHandler);\n            // change direction of chevron       \n            accordion.innerHTML = `<i class=\"fas fa-chevron-down\" data-name=\"${species.name}\"></i>`;\n            // attach new open accordion listener\n            accordion.addEventListener('click', event => {\n                openAccordionHandler(species, accordion);\n            });\n            // remove the species description - handled in group action\n            const description = document.querySelector('.species-description');\n            if(description) {\n                description.parentNode.removeChild(description);\n            }\n        };\n\n        // attach close accordion handler\n        accordion.addEventListener('click', closeAccordionHandler);\n    };\n\n    const userClickHandlers = () => {\n\n        const listItemImages = document.querySelectorAll('.table-row img');\n\n              listItemImages.forEach(itemImage => {                 \n                  const item = collection.items.find(item => item.name === itemImage.dataset.itemName)\n                  modalImageHandler(itemImage, item, collection, config); \n              });\n\n        const accordions = document.querySelectorAll('.js-accordion');\n\n              accordions.forEach(accordion => {\n                  const accordionHandler = event => {\n                      const species = collection.items.find(item => item.name === event.currentTarget.dataset.name);\n                      if(species) {\n                        openAccordionHandler(species, accordion);\n                      }\n                  };\n                  accordion.addEventListener('click', accordionHandler);\n              });\n\n        const youtubeIcons = document.querySelectorAll('.js-youtube');\n              youtubeIcons.forEach(icon => {                  \n                  icon.addEventListener('click', event => {       \n\n                    event.stopPropagation();\n\n                    const activeIcon = event.currentTarget;\n                          activeIcon.classList.add('youtube-green-fg');\n                    const speciesName = activeIcon.dataset.name;\n\n                    const species = { ...collection.items.find(item => item.name == speciesName), ...collection.species.find(item => item.name == speciesName) };\n\n\n                    openSpeciesDescriptionHandler(collection, species, true);\n\n                    if(species && species.time) {\n\n                        videoHandler.isVideoPlayerReady(collection.video.id)\n                            ? videoHandler.playVideoFrom(species.time[0])\n                            : videoSetup(collection, store.getState().videoPlayer || [], DOM.rightBody, species.time[0]);\n                    }\n\n                    updateVideoPlayer(collection, species);\n                  });\n              });\n\n        const cardModal = document.querySelector('#cardModal .js-modal-body');\n\n        setTimeout(() => {\n            \n            const speciesCardLinks = document.querySelectorAll('.js-test-card-container-link');\n                  speciesCardLinks.forEach((link, index) => {                \n                      link.addEventListener('click', event => {                    \n                        const name = event.target.dataset.name;\n                        document.querySelector('#cardModal .prev > span').dataset.card = 'species-card';\n                        renderCard(collection, 'MODAL', collection.items.find(i => i.name === name), cardModal, isInCarousel);\n                      });\n                  });\n\n            const traitCardLinks = document.querySelectorAll('.js-key-trait-link');\n                  traitCardLinks.forEach(link => {\n                    link.addEventListener('click', event => {\n                        const keyTrait = event.target.dataset.keyTrait;\n                        const url = event.target.dataset.url;\n                        renderNonTaxonCard('MODAL', keyTrait, cardModal, url);\n                    });\n                  });\n\n            const taxonCardLinks = document.querySelectorAll('.js-taxon-card-link');\n                  taxonCardLinks.forEach(link => {\n                    link.addEventListener('click', event => {\n                        const taxon = event.target.dataset.family || event.target.dataset.order;\n                        const name = event.target.dataset.name;\n                        const rank = event.target.dataset.rank;\n                        document.querySelector('#cardModal .prev > span').dataset.rank = rank;\n                        document.querySelector('#cardModal .prev > span').dataset.card = 'taxon-card';\n                        document.querySelector('#cardModal .next > span').dataset.rank = rank;\n                        document.querySelector('#cardModal .next > span').dataset.card = 'taxon-card';\n                        renderTaxonCard(collection, 'MODAL', collection.items.find(i => i.taxonomy[rank] === name), cardModal, taxon, rank, isInCarousel);\n                    });\n                  });\n\n            document.querySelectorAll('.mushroom-icon').forEach(icon => {\n                icon.innerHTML = '<svg-icon class=\"si-glyph-mushrooms\"><src href=\"./icons/si-glyph-mushrooms.svg\"/></svg>';\n            });\n\n            const nthChild = config.isLandscapeMode ? 5 : 3;\n            const taxonIcons = document.querySelectorAll(`.table-row.js-list-item td:nth-child(${nthChild}) > span`);\n\n            if(!history) return;\n\n            const noWrongAnswersForThisSpecies = [];\n            history.scores.map(score => score.failsTotals).forEach(totals => {\n                for (let [key, anyWrongAnwers] of Object.entries(totals)) {\n                    if(anyWrongAnwers == false) {\n                        noWrongAnswersForThisSpecies.push(parseInt(key));\n                    }\n                }\n            });\n\n            taxonIcons.forEach(icon => {\n                if(contains(parseInt(icon.id), noWrongAnswersForThisSpecies)) {\n                    icon.classList.add('correct');\n                }\n            });\n        });\n    };\n\n    if(!!collection.notes && !!collection.notes.time) {\n        collection.notes.forEach(n => sp.firstTime = n.time[0]);\n        collection.notes = utils.sortBy(collection.notes, 'firstTime', 'asc');\n    }\n\n    const table = await buildTable(collection, { config, enums: traitEnums, overrideParent: callingParentContainer });\n\n    if(!table.isReady) return;\n\n    userClickHandlers();\n\n    const btnBeginLesson = callingParentContainer.querySelector('.js-btn-current-lesson-begin');\n          btnBeginLesson.addEventListener('click', () => {\n            lessonStateHandler.changeRequest({\n                requestType: enums.lessonState.BEGIN_OR_RESUME_LESSON,\n                requestArgs: {\n                  id: collection.id\n                }\n              });\n          });\n\n    const openSpeciesDescriptionHandler = (collection, species, enableScroll = true, activateYoutubeIcon = true) => {\n\n        try {\n\n            const parent = document.getElementById('insertParent');\n            if(parent) parent.remove();\n\n            const { accordions } = closeOpenAccordions(species.name);\n\n            const activeAccordion = accordions.find(accordion => accordion.dataset.name === species.name);\n            \n            if(activeAccordion) {\n                activeAccordion.innerHTML = `<i class=\"fas fa-chevron-up\" data-name=\"${species.name}\"></i>`;\n\n                if(activateYoutubeIcon) {\n                  const activeYouTubeIcon = activeAccordion.parentElement.parentElement.querySelector('.js-youtube');\n                        activeYouTubeIcon.classList.add('youtube-green-fg');\n              }\n            }\n\n            // if(activateYoutubeIcon) {\n            //     const activeYouTubeIcon = activeAccordion.parentElement.parentElement.querySelector('.js-youtube');\n            //           activeYouTubeIcon.classList.add('youtube-green-fg');\n            // }\n\n            let description = species.description;\n                description = !!description ? description : (species.traits.description && species.traits.description.value) ? species.traits.description.value[0] : '';\n\n            if(description) {\n\n                const id = species.id || species.eolId;\n                const tr = document.querySelector(`#id_${id}`);\n                \n                const td = document.createElement('td');\n\n                const text = document.createElement('div');\n                      text.classList.add('inserted-td');\n                      text.innerHTML = description.replace(/\\r?\\n/g, '<br />');\n\n                td.appendChild(text);\n\n                const insert = document.createElement('div');\n                      insert.classList.add('table-row');\n                      insert.classList.add('species-description');\n                      insert.appendChild(td);\n\n                tr.parentElement.insertBefore(insert, tr.nextSibling);\n\n                const scrollIntoView = (rowHeight, noOfRows) => {\n\n                    const scroll = document.querySelector('.scrollable');\n                    const standardBlock = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--vhStandardBlock').replace('px', ''));\n                    const unit = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--vh').replace('px', ''));\n                    const top = (standardBlock * 2) + (rowHeight * (noOfRows - 1)) - ( 2 * unit);\n\n                    scroll.scrollTop = top;\n                };\n\n                if(enableScroll) {\n                    config.isLandscapeMode \n                        ? tr.previousElementSibling.scrollIntoView()\n                        : scrollIntoView(tr.offsetHeight, species.snapIndex);\n                }\n            }\n        } catch(e) {\n          logError(openSpeciesDescriptionHandler, e);\n        }\n    };\n\n    videoHandler.onSpeciesTimeMatch((collection, species) => {\n\n        openSpeciesDescriptionHandler(collection, species);\n        updateVideoPlayer(collection, species);\n        onSpeciesChangeHandler(species);\n    });\n\n    videoHandler.onNoteTimeMatch((collection, note) => {        \n        openNoteHandler(note, videoHandler.getPlayerTime());\n    });\n  };\n\n  init();\n};\n\nlet currentIndex = 0;\n\nconst carouselControlHandler = event => {\n\n    const { collection } = store.getState();\n    \n    let transition = event.target.dataset.transition;\n    let modal = event.target.dataset.modal;\n    let card = event.target.dataset.card;\n    let rank =  event.target.dataset.rank;\n\n    switch(transition) {\n        case 'prev':\n            currentIndex--;\n            currentIndex = currentIndex === -1 ? collection.items.length -1 : currentIndex;\n            break;\n        case 'next':\n            currentIndex++;\n            currentIndex = currentIndex === collection.items.length -1 ? 0 : currentIndex;\n            break;\n    }\n\n    let nextItem = collection.items.find((item,index) => index === currentIndex);\n\n    const parent = document.querySelector(`#${modal} .js-modal-body`);\n    \n    switch(card) {\n        case 'species-card':\n            renderCard(collection, 'MODAL', nextItem, parent, isInCarousel);\n            break;\n        case 'taxon-card':\n            renderTaxonCard(collection, 'MODAL', nextItem, parent, null, rank, isInCarousel);\n            break;    \n    }    \n};\n\nconst prev = document.querySelector('#cardModal .js-prev');\nconst next = document.querySelector('#cardModal .js-next');\n\nif(prev) prev.addEventListener('click', carouselControlHandler);\nif(next) next.addEventListener('click', carouselControlHandler);\n\nconst prevTaxon = document.querySelector('#cardModal .js-prev');\nconst nextTaxon = document.querySelector('#cardModal .js-next');\n\nif(prevTaxon) prevTaxon.addEventListener('click', carouselControlHandler);\nif(nextTaxon) nextTaxon.addEventListener('click', carouselControlHandler);\n\nconst updateVideoPlayer = (collection, species) => {\n        \n    const playerRecords = store.getState().videoPlayer || [];\n    \n    let activeLesson = playerRecords.find(p => p.collectionId === collection.id); \n    \n    if(!activeLesson) {\n        activeLesson = { collectionId: collection.id };\n        playerRecords.push(activeLesson);\n    };\n\n    activeLesson.speciesName = species.name;\n    activeLesson.pausedAt = species.time ? species.time[0] : 0;\n\n    videoHandler.saveVideoState(playerRecords);    \n};\n\nconst closeOpenAccordions = speciesName => {\n\n    const accordions = Array.from(document.querySelectorAll('.js-accordion'));\n    const openAccordions = accordions.filter(accordion => accordion.dataset.name !== speciesName);\n        \n    openAccordions.forEach(inactiveAccordion => {\n        \n        if (inactiveAccordion.innerHTML.indexOf('fa-chevron-up') > -1) {\n            \n            inactiveAccordion.click();\n            inactiveAccordion.innerHTML = `<i class=\"fas fa-chevron-down\" data-name=\"${speciesName}\"></i>`;\n            \n            const inActiveYouTubeIcon = inactiveAccordion.parentElement.parentElement.querySelector('.js-youtube');\n                  inActiveYouTubeIcon.classList.remove('youtube-green-fg');\n        }\n    });\n\n    const parent = document.querySelector('.species-table tbody');\n    const currentDescriptions = document.querySelectorAll('.species-description');\n            currentDescriptions.forEach(tr => parent.removeChild(tr));\n\n    return { accordions };\n};","// Module\nvar code = \"<table id=\\\"species_list_id_{{ id }}\\\" class=\\\"species-table js-species-list\\\" style=\\\"width: 100%;\\\">\\n    <tbody data-repeat-item=\\\"{{ itemImages }}\\\">\\n        <tr class=\\\"table-row master js-list-item\\\" id=\\\"id_{{ item.id }}\\\">\\n            <td id=\\\"{{ item.name }}\\\" data-snap-index=\\\"{{ item.snapIndex }}\\\">\\n              <button class=\\\"btn snap-icon-btn double-centred-block\\\">\\n                <img \\n                    id=\\\"{{ item.name }}\\\" \\n                    src=\\\"{{ item.small }}\\\" \\n                    alt=\\\"Open gallery to more photos of {{ item.name }}\\\" \\n                    data-toggle=\\\"modal\\\" \\n                    data-item-name=\\\"{{ item.name }}\\\" \\n                    data-target=\\\"#imageModal\\\" \\n                    data-id=\\\"{{ item.name }}\\\"                                 \\n                    data-url=\\\"{{ item.url }}\\\" \\n                    data-rights-holder=\\\"{{ item.rightsHolder }}\\\" \\n                    data-title=\\\"{{ item.name }}\\\"\\n                    data-license=\\\"{{ item.license }}\\\"                                \\n                    data-source=\\\"{{ item.source }}\\\"\\n                    data-provider=\\\"{{ item.provider }}\\\">\\n              </button>\\n            </td>\\n            <td>\\n                <button data-toggle=\\\"modal\\\" data-name=\\\"{{ item.name }}\\\" data-vernacular-name=\\\"{{ item.vernacularName }}\\\" data-id=\\\"{{ item.id }}\\\" data-type=\\\"speciesCardLink\\\" data-target=\\\"#cardModal\\\" class=\\\"snap-link-btn underline-link js-test-card-container-link\\\">{{ item.vernacularName }}</button>\\n                <span class=\\\"no-underline-link latin-name\\\">\\n                    <button data-toggle=\\\"modal\\\" data-name=\\\"{{ item.name }}\\\" data-url=\\\"{{ item.url }}\\\" data-rank=\\\"genus\\\" data-genus=\\\"{{ item.genus }}\\\" data-target=\\\"#cardModal\\\" class=\\\"{{ item.genusLinkClass }}\\\">{{ item.genus }}</button> <span>{{ item.species }}</span>\\n                </span>\\n            </td>\\n            <td class=\\\"wide-screen\\\">\\n                <button data-toggle=\\\"modal\\\" data-name=\\\"{{ item.taxonomy.family }}\\\" data-url=\\\"{{ item.url }}\\\" data-rank=\\\"family\\\" data-family=\\\"{{ item.taxonomy.family }}\\\" data-target=\\\"#cardModal\\\" class=\\\"no-underline-link {{ item.familyLinkClass }}\\\">{{ item.taxonomy.family }}</button>\\n                <button data-toggle=\\\"modal\\\" data-name=\\\"{{ item.taxonomy.order }}\\\" data-url=\\\"{{ item.url }}\\\" data-rank=\\\"order\\\" data-order=\\\"{{ item.taxonomy.order }}\\\" data-target=\\\"#cardModal\\\" class=\\\"no-underline-link {{ item.orderLinkClass }} js-order-link\\\">{{ item.taxonomy.order }}</button>\\n            </td>\\n            <td class=\\\"{{ item.iconicTaxon }} {{ item.hasTaxonClassName }}\\\">\\n                <span id=\\\"{{ item.id }}\\\" name=\\\"{{ item.name }}\\\"><i class=\\\"{{ item.iconicTaxonIcon }}\\\"></i></span>\\n                <span class=\\\"mushroom-icon {{ item.hideFungiIcon }}\\\"></span>\\n            </td>\\n            <td class=\\\"{{ item.hasVideoClassName }}\\\">\\n                <button data-name=\\\"{{ item.name }}\\\" class=\\\"snap-icon-btn fit-width js-youtube\\\" aria-label=\\\"start video from the species {{ item.name }}\\\">\\n                    <i class=\\\"fab fa-youtube youtube-icon\\\" data-name=\\\"{{ item.name }}\\\"></i>\\n                </button>\\n            </td>\\n            <td class=\\\"{{ item.hasVideoClassName }}\\\">\\n                <button data-name=\\\"{{ item.name }}\\\" class=\\\"snap-icon-btn fit-width accordion-icon js-accordion\\\" aria-label=\\\"video commentary for the species {{ item.name }}\\\">\\n                  <i data-name=\\\"{{ item.name }}\\\" class=\\\"fas fa-chevron-down\\\"></i>\\n                </button>\\n            </td>\\n        </tr>\\n    </tbody>\\n</table>\\n<button class=\\\"btn snap-action-btn portrait btn-current-lesson-begin js-btn-current-lesson-begin\\\">Quiz</button>\";\n// Exports\nmodule.exports = code;","import { utils } from 'utils/utils';\nimport { itemProperties } from 'ui/helpers/data-checking';\nimport { renderTemplate } from 'ui/helpers/templating';\nimport { imageUseCases, scaleImage } from 'ui/helpers/image-handler';\nimport { iconicTaxa, matchIcon } from 'api/snapdragon/iconic-taxa';\n\nimport speciesTemplate from 'ui/screens/lists/species-table-template.html';\n\nexport const buildTable = (collection, args) => {\n\n  try {\n\n    const { config, enums, overrideParent } = args;\n\n    const template = document.createElement('template');\n\n    const wide = window.matchMedia(\"(min-width: 1024px)\").matches;\n\n    const getTraitName = (item, enums) => {\n        let traitName = '';        \n        let keyTratLinkClass = 'capitalise underline-link js-key-trait-link';\n        item.taxonomy.phylum = item.taxonomy.phylum || '';\n        if(item.taxonomy) {\n            switch(item.taxonomy.phylum.toLowerCase()) {\n                case 'ascomycota':\n                    traitName = item.taxonomy.order.toLowerCase() === 'pezizales'\n                        ? enums.name.HOW_EDIBLE\n                        : enums.name.THALLUS_TYPE;\n                    if(item.taxonomy.order.toLowerCase() === 'pezizales') keyTratLinkClass = 'js-key-trait-link';\n                    break;\n                case 'basidiomycota':\n                    traitName = enums.name.HOW_EDIBLE;\n                    keyTratLinkClass = 'js-key-trait-link';\n                    break;\n                default:\n                    traitName = '-';\n            }        \n        } else {\n            keyTratLinkClass = 'js-key-trait-link';\n        }\n        return { traitName, keyTratLinkClass };\n    }\n\n    const getOrderLinkClass = item => {\n        let orderLinkClass;\n        if(item.taxonomy && item.taxonomy.order) {\n            orderLinkClass = item.order\n                ? 'snap-link-btn underline-link js-taxon-card-link' \n                : 'snap-no-link-btn no-underline-link js-taxon-card-link';\n        } else { orderLinkClass = 'snap-no-link-btn no-underline-link js-taxon-card-link'; }\n        return orderLinkClass;\n    };\n\n    const getIconicTaxonIcon = item => {\n        let iconicTaxonIcon, hideFungiIcon;\n        if(item.iconicTaxon.toLowerCase() === 'fungi') {\n            iconicTaxonIcon = 'hide';\n            hideFungiIcon = '';\n        } else {\n            iconicTaxonIcon = matchIcon(item.taxonomy, iconicTaxa);\n            hideFungiIcon = 'hide';\n        }\n        return { iconicTaxonIcon, hideFungiIcon };\n    };\n\n    const itemImages = collection.items.map(item => { \n\n        let image = item.images.find(i => i.starred) || utils.shuffleArray(item.images)[0];\n            image = scaleImage(image, imageUseCases.SPECIES_LIST, config);\n\n        const { traitName, keyTratLinkClass } = getTraitName(item, enums);\n        const { iconicTaxonIcon, hideFungiIcon } = getIconicTaxonIcon(item);\n\n        const itemImage = {\n            id: item.id,\n            name: item.name,\n            itemName: item.name,\n            genus: item.taxonomy.genus,\n            species: item.taxonomy.species,\n            genusLinkClass: item.genus\n                ? 'snap-link-btn underline-link js-taxon-card-link' \n                : 'snap-no-link-btn no-underline-link js-taxon-card-link',\n            shortName: itemProperties.trimLatinName(item.name),\n            taxonomy: item.taxonomy,\n            iconicTaxon: item.iconicTaxon,\n            vernacularName: item.vernacularName,\n            snapIndex: item.snapIndex,\n            license: image.license,\n            url: image.url,\n            small: image.small,\n            rightsHolder: image.rightsHolder || 'Public domain',\n            source: image.source,\n            shortName: itemProperties.trimLatinName(item.name),\n            keyTrait: utils.capitaliseFirst(itemProperties.getActiveTrait(item, [{ name: traitName, formatter: trait => trait[0] }])) || '',\n            keyTratLinkClass: keyTratLinkClass,\n            familyLinkClass: item.family\n                                ? 'snap-link-btn underline-link js-taxon-card-link' \n                                : 'snap-no-link-btn no-underline-link js-taxon-card-link',\n            orderLinkClass: getOrderLinkClass(item),\n            taxonomy: item.taxonomy || { family: '', order: ''},\n            iconicTaxonIcon,\n            hideFungiIcon, \n            hasVideoClassName: !collection.hasVideo ? 'hide-column' : '',\n            hasTaxonClassName: collection.hasVideo ? 'hide-column' : '',\n            provider: image.provider || ''\n        };\n\n        return itemImage;\n    });\n\n    template.innerHTML = speciesTemplate;\n\n    let parent = config.isPortraitMode\n            ? overrideParent\n            : document.querySelector(`.js-species-container[data-container-id=\"${collection.id}\"]`);\n        parent.innerHTML = '';\n\n    renderTemplate({ id: collection.id, itemImages }, template.content, parent);\n\n    const table = parent.querySelector(`table#species_list_id_${collection.id}`);\n\n    const keyTraits = table.querySelectorAll('.js-key-trait-link');\n\n    keyTraits.forEach(vn => {\n        const keyTrait = vn.dataset.keyTrait;\n        const span = document.createElement('span');\n        switch(keyTrait) {                \n            case enums.howEdible.CHOICE:\n                span.innerHTML = '<span class=\"icon choice\"></span>';\n                vn.append(span);\n                break;\n            case enums.howEdible.EDIBLE:\n                span.innerHTML = '<span class=\"icon edible\"></span>';\n                vn.append(span);\n                break;\n            case enums.howEdible.INEDIBLE:\n                span.innerHTML = '<span class=\"icon inedible\"></span>';\n                vn.append(span);\n                break;\n            case enums.howEdible.POISONOUS:\n            case enums.howEdible.DEADLY:\n                span.innerHTML = '<span class=\"icon toxic\"></span>';\n                vn.append(span);\n                break;\n        }\n    });\n\n    const tbody = table.querySelector('.species-table tbody');\n\n    if(!tbody) return;\n    \n    const caption = document.createElement('caption');\n          caption.innerHTML = `Species in ${collection.name}`;\n          caption.classList.add('visually-hidden');\n\n    const thead = document.createElement('thead');\n\n    table.insertBefore(thead, tbody);\n    table.insertBefore(caption, thead);\n\n    const headerRow = document.createElement('tr');\n          headerRow.classList.add('table-header');\n    const imageHeader = document.createElement('th');\n    const speciesHeader = document.createElement('th');\n    const familyHeader = document.createElement('th');\n    const traitNameHeader = document.createElement('th');\n    const iconicTaxonHeader = document.createElement('th');\n\n    const accordionHeader = document.createElement('th');\n          accordionHeader.classList.add('not-sortable');\n\n    speciesHeader.innerHTML = '<span>Species</span';\n    familyHeader.innerHTML = '<span>Family</span><span>Order</span>';\n    traitNameHeader.innerHTML = '<span></span>';\n    iconicTaxonHeader.innerHTML = '<span><i class=\"fas fa-sliders-h\"></i></span>';\n    imageHeader.innerHTML = overrideParent ? '' : '<span><i class=\"fas fa-undo\"></i></span>';\n    if(wide) {        \n        headerRow.appendChild(imageHeader);\n        headerRow.appendChild(speciesHeader);    \n        headerRow.appendChild(familyHeader);\n        if(collection.behaviour === 'dynamic') {\n            headerRow.appendChild(iconicTaxonHeader);\n        }\n    } else {\n        headerRow.appendChild(imageHeader);    \n        headerRow.appendChild(speciesHeader);\n        if(collection.behaviour === 'dynamic') {\n            headerRow.appendChild(iconicTaxonHeader);\n        }\n    }\n    if(collection.behaviour === 'static') {\n        headerRow.appendChild(accordionHeader);\n    }\n\n    if(!tbody.querySelector('.table-header')) {\n        thead.appendChild(headerRow);\n    }\n\n    const sortableCalback = () => {};\n\n    utils.makeSortable(document, sortableCalback, wide);\n\n    return new Promise(resolve => resolve({isReady: true}));\n\n  } catch(e) {\n    logError('buildTable', e);\n    return new Promise(resolve => resolve({isReady: false}));\n  }\n}\n","import { actions } from 'redux/actions/action-creators';\n\nconst onSpeciesTimeMatchListeners = [];\nconst onNoteTimeMatchListeners = [];\n\nconst onSpeciesTimeMatch = listener => {    \n    while(onSpeciesTimeMatchListeners.length > 0) {\n        onSpeciesTimeMatchListeners.pop();\n    }\n    onSpeciesTimeMatchListeners.push(listener);\n};\n\nconst onNoteTimeMatch = listener => {    \n    while(onNoteTimeMatchListeners.length > 0) {\n        onNoteTimeMatchListeners.pop();\n    }\n    onNoteTimeMatchListeners.push(listener);\n};\n\nconst onSpeciesPlayRequestListeners = [];\n\nconst onSpeciesPlayRequest = listener => {\n    onSpeciesPlayRequestListeners.push(listener);\n};\n\nconst onPlayerReadyListeners = [];\nconst onPlayerStateChangeListeners = [];\n\nconst subscribeToPlayerStateChange = listener => {\n    while(onPlayerStateChangeListeners.length > 0) {\n        onPlayerStateChangeListeners.pop();\n    }\n    onPlayerStateChangeListeners.push(listener);\n};\n\nlet player, isPlayerReady = false;\n\nconst readyPlayer = () => {\n\n    const onPlayerReady = event => {\n        player = event.target;\n        isPlayerReady = true;\n    };\n    \n    const onPlayerStateChange = event => {\n        player = event.target;\n        if(player) {\n            onPlayerStateChangeListeners.forEach(listener => listener(player));\n        }\n     };\n    \n    new YT.Player('embedded-video', {\n        playerVars: { 'autoplay': 1 },\n        events: {\n        'onReady': onPlayerReady,\n        'onStateChange': onPlayerStateChange\n        }\n    });\n};\n\nconst playVideoFrom = time => {\n\n    if(! typeof player.getPlayerState === 'function' || player.getPlayerState === undefined) return;\n    if(! typeof player.seekTo === 'function' || player.seekTo === undefined) return;\n\n    player.seekTo(time + 1);\n    const state = player.getPlayerState();\n    if(state === states[0].key || state === states[2].key) {\n        player.playVideo();\n    }\n};\n\n// -1 – unstarted\n//  0 – ended\n//  1 – playing\n//  2 – paused\n//  3 – buffering\n//  5 – video cued\n\nconst states = [ { key: -1, value: 'unstarted' }, { key: 1, value: 'playing' }, { key: 2, value: 'paused' }, { key: 3, value: 'buffering' } ];\n\nconst setVideoState = (videoPlayer, lesson) => {\n\n    let state = '';\n\n    const activeLesson = videoPlayer.find(record => record.collectionId === lesson.id);\n    \n    if(activeLesson) {\n        if(lesson.id === activeLesson.collectionId) {\n        state = activeLesson.pausedAt ? `Video paused at ${activeLesson.speciesName}` : ''; \n        }\n    } else {\n        state = '';\n    }\n\n    return state;\n\n};\n\nconst isVideoPlayerReady = videoId => {\n    if(isPlayerReady) {\n        const doIdsMatch = videoId === player.getVideoData().video_id;\n        return isPlayerReady && doIdsMatch;\n    } else {\n        return false;\n    }\n};\n\nconst destroyPlayer = () => {\n\n    while(onPlayerStateChangeListeners.length > 0) {\n        onPlayerStateChangeListeners.pop();\n    }\n\n    while(onSpeciesTimeMatchListeners.length > 0) {\n        onSpeciesTimeMatchListeners.pop();\n    }\n\n    if (!player) {\n\n      } else {\n        player.stopVideo();\n        player.destroy();\n        player = null;  // Clear out the reference to the destroyed player\n      }\n};\n\nconst saveVideoState = player => {\n    actions.boundUpdateVideoPlayer(player);\n};\n\nconst getPlayerTime = () => {\n    return Math.floor(player.getCurrentTime());\n};\n\nexport const videoHandler = {\n    readyPlayer,\n    onSpeciesTimeMatchListeners,\n    onNoteTimeMatchListeners,\n    onSpeciesTimeMatch,\n    onNoteTimeMatch,\n    onSpeciesPlayRequestListeners,\n    onSpeciesPlayRequest,\n    onPlayerReadyListeners,\n    subscribeToPlayerStateChange,\n    playVideoFrom,\n    states,\n    setVideoState,\n    destroyPlayer,\n    saveVideoState,\n    isVideoPlayerReady,\n    getPlayerTime\n};","export const renderWikiModal = (item, wikiLink, config) => {\n    if(wikiLink) {\n        wikiLink.addEventListener('click', event => {\n            document.querySelector('.js-external-page-title').innerHTML = `${item.name}`;\n            const entry = document.querySelector('.species-card-wiki-entry').innerText;\n            const style = `\n                <style type='text/css'>\n                body {\n                    font-family: PT Sans', 'Roboto', arial,sans-serif;\n                }\n                a {\n                    text-decoration: none;\n                    border: solid 1px;\n                    border-top: none;\n                    border-left: none;\n                    border-right: none;\n                    color: black;\n                    cursor: pointer;\n                }\n            </style>`;\n            const wiki = `<header>${style}</header><p>${entry}</p><p><a href='https://en.wikipedia.org/wiki/Salvia_officinalis' target='_blank'>Wikipedia page</a></p>`;\n\n            document.querySelector('.js-external-page-body').innerHTML = config.isPortraitMode\n                ? `<iframe class=\"modal-iframe\" title=\"Wikipedia page for the species ${item.name}\" src=\"data:text/html,${wiki}\"></iframe>`          \n                : `<iframe class=\"modal-iframe\" title=\"Wikipedia page for the species ${item.name}\" src=\"${wikiLink.querySelector('span').dataset.src}\"></iframe>`;\n                \n            document.querySelector('#wikiModal').focus();\n        });\n    }\n};","import * as R from 'ramda';\nimport { utils } from 'utils/utils';\n\nlet root = '';\n\nconst formatUrl = (name, root, encode) => {\n    let binomial = name;\n    if(name.indexOf(' ') > 0) {\n        let ranks = name.split(' ');\n        binomial = ranks[0] + ' ' + ranks[1];\n        if(binomial.indexOf('Speckled wood') > -1) {\n            binomial += ' ' + ranks[2];\n        }\n    }    \n    return root + encode(binomial);\n};\n\nasync function fetchWiki(name, missingMessage) {\n    \n    if(name === undefined) {\n        return missingMessage;  \n    }\n\n    const url = formatUrl(name, root, utils.encodeQuery);\n    const config = { \n        method: 'GET'\n    };\n    \n    try { \n        const response = await fetch(url, config);\n        const data = await response.json();        \n        return R.flatten(data);        \n    } catch (e) {\n        const errorPromise = new Promise((resolve, reject) => {\n            resolve(missingMessage)\n        });\n        return errorPromise;\n    }    \n};\n\nconst cleanEntry = str => {\n    let cleaned = str;\n    cleaned = cleaned.replace('( or UK: , US: )', '');\n    cleaned = cleaned.replace('(;', '(');\n    cleaned = cleaned.replace('()', '');\n    cleaned = cleaned.replace('( ', '(');\n    cleaned = cleaned.replace('  ', ' ');\n    return cleaned;\n};\n\nconst wikiLink = entry => {\n    const src = cleanEntry(entry).replace('.wikipedia', '.m.wikipedia');\n    return `<span data-toggle=\"modal\" data-target=\"#wikiModal\" data-src=\"${src}\" class=\"underline-link\">Wiki modal</span>`;    \n};\n\nconst formatWiki = (entry) => {\n\n    const exceptions = ['Tarragon', 'Apple'];\n\n    if(R.contains(entry[0], exceptions)) {\n        return `<li class=\"species-card-wiki-entry\">'${cleanEntry(entry[2])}'</li>`;\n    }\n\n    if(!entry) return '';\n    let html = '';\n    if(entry.length === 1) {\n        html += wikiLink(entry[0]);\n    }\n    if(entry[1]) html += `<li class=\"species-card-wiki-entry\">'${cleanEntry(entry[1])}'</li>`;\n    if(entry[2])\n        if(entry[2].indexOf('https')!== -1) html += wikiLink(entry[2]);\n        else html += `<li class=\"species-card-wiki-entry\">'${cleanEntry(entry[2])}'</li>`;\n    if(entry[3]) \n        if(entry[3].indexOf('https')!== -1)\n        html += wikiLink(entry[3]);\n        else html += `<li class=\"species-card-wiki-entry\">'${cleanEntry(entry[3])}'</li>`;\n    return html;\n};\n\nasync function renderWiki(wikiNode, item, language) {\n    const binomial = item.name;\n    const wikiSearchTerm = item.names ? item.names.filter(name => name.language === language).find(name => name.wikiSearchTerm) : null;\n    const searchTerm = wikiSearchTerm ? wikiSearchTerm.vernacularName : (item.searchTerms \n                            ? item.searchTerms.filter(term => term.language === language)[0].searchTerm \n                            : binomial);\n    root = `https://${language}.m.wikipedia.org/w/api.php?action=opensearch&format=json&origin=*&limit=1&search=`;\n    const exceptions = [ 'Artemisia dracunculus', 'Malus domestica', 'Zingiber officinale'];\n    if(R.contains(item.name, exceptions)) {\n        root = `https://${language}.m.wikipedia.org/w/api.php?action=opensearch&format=json&origin=*&limit=2&redirects=resolve&search=`;\n    }    \n    wikiNode.innerHTML = \"\";\n\n    const entry = await fetchWiki(searchTerm);\n\n    if(entry && entry[2]) {\n        wikiNode.innerHTML = formatWiki(entry.slice(1));\n    } else {\n        if(!binomial) return '';\n        const genus = binomial.split(' ')[0];\n        const genusEntry = await fetchWiki(genus);\n        if(genusEntry[2] !== '')\n            wikiNode.innerHTML = formatWiki(genusEntry.slice(1));\n        else if (language !== 'en') {\n            renderWiki(wikiNode, binomial, 'en');\n        }\n    }\n}\n\nexport {\n    formatUrl, \n    formatWiki,\n    renderWiki\n};","export const getBirdSong = (item, node, portrait) => {\n\n    if(item.taxonomy.class.toUpperCase() === 'AVES') {\n\n        const endpoint = `https://cors-anywhere.herokuapp.com/http://www.xeno-canto.org/api/2/recordings?query=${item.name} q:A`;\n\n        async function fetchAsync (endpoint) {\n\n            let response = await fetch(endpoint);\n            \n            let data = await response.json();\n            \n            return data;\n        }\n\n        const loadPlayer = id => {\n            const url = `https://www.xeno-canto.org/${id}/embed?simple=1`;\n            portrait ? node.dataset.src = url : node.src = url;\n            if(portrait) {\n                node.classList.remove('bird-song-icon-disabled');\n                node.classList.add('bird-song-icon');\n            } else {\n                node.parentElement.classList.add('bird-song-spacing');\n            }\n        };\n\n        const playerId = item.traits.song.value[0];\n            \n        if(playerId) {\n            loadPlayer(playerId);\n        } else {\n            fetchAsync(endpoint).then(data => {        \n                const recording = data.recordings[0];\n                loadPlayer(recording.id);\n            });\n        }\n    } else {\n        node.style.display = 'none';\n        document.querySelector('.bird-song').style.display = 'none';\n    }\n}"],"sourceRoot":""}