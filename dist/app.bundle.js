/*! For license information please see app.bundle.js.LICENSE.txt */
!function(e){function webpackJsonpCallback(n){for(var a,i,s=n[0],c=n[1],l=n[2],u=0,d=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(t,i)&&t[i]&&d.push(t[i][0]),t[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(o&&o(n);d.length;)d.shift()();return r.push.apply(r,l||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,n=0;n<r.length;n++){for(var a=r[n],i=!0,s=1;s<a.length;s++){var o=a[s];0!==t[o]&&(i=!1)}i&&(r.splice(n--,1),e=__webpack_require__(__webpack_require__.s=a[0]))}return e}var n={},t={app:0},r=[];function __webpack_require__(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,t){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,n){if(1&n&&(e=__webpack_require__(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(__webpack_require__.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)__webpack_require__.d(t,r,function(n){return e[n]}.bind(null,r));return t},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="";var a=window.webpackJsonp=window.webpackJsonp||[],i=a.push.bind(a);a.push=webpackJsonpCallback,a=a.slice();for(var s=0;s<a.length;s++)webpackJsonpCallback(a[s]);var o=i;r.push(["./src/index.js","vendors~admin~app~wiki","vendors~admin~app~dan","vendors~admin~app","vendors~app","admin~app~utils~wiki","admin~app"]),checkDeferredModules()}({"./node_modules/css-loader/dist/cjs.js!./src/ui/css/snapdragon-media.css":function(e,n,t){(n=t("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,'/* iPhone 5, ?? */\n\n@media (max-width: 320px) and (max-height: 568px) {\n    .imageSlider .active.carousel-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n}\n\n@media (min-width: 320px) {\n}\n@media (min-width: 414px) {\n    .test-card-question .question-question {\n        font-size: 1.2rem;\n    }\n    .rights-link, .rights-attribution {\n        grid-template-columns: 4rem auto 4rem;\n    }\n}\n\n/* iPHONE 6,7,8 */\n\n@media (max-width:375px) and (min-height:667px) {\n    .autocomplete {\n        height: 8rem !important;\n    }\n}\n\n/* Galaxy S5 */\n\n@media (min-width:360px) {\n    .names-container .vernacular-name {\n        max-width: 13.5rem;\n    }\n}\n\n/* @media (min-width:414px) {\n    .youtube-icon, .accordion-icon {\n        font-size: 1.4rem;\n    }\n    .species-table .youtube-icon, .accordion-icon {\n        font-size: 1.2rem;\n    }\n} */\n\n/* iPHONE 6,7,8 PLUS, iPHONE X, GALAXY S9/S9+ */\n\n/* @media  (max-width:414px) and (min-height:736px),\n        (max-width:375px) and (min-height:812px),\n        (max-width:360px) and (min-height:740px) {\n            body {\n                font-size: 1em;\n            }\n} */\n\n@media (max-height:568px) {\n    .test-card .help-txt {\n        display: none;\n    }\n}\n\n@media (min-height: 667px) {\n    .quick-fire .quick-fire-branches .btn-secondary, .quick-fire .quick-fire-branches .btn-secondary:not(:disabled):not(.disabled).active {\n        font-size: .9rem;\n        padding: .5rem;\n    }\n}\n\n@media (min-width: 576px) {\n}\n\n@media (min-width: 600px) {\n    .test-card-question .question-question {\n        font-size: 1.4rem;\n    }\n    .modal-subheader {\n        font-size: 1.2em;\n    }\n    .table-header th:nth-child(1) {\n        min-width: 105px;\n    }\n    \n    .master.table-row td:nth-child(1) {\n        width: 105px;\n    }\n    \n    .table-row img {\n        width: 98px;\n        height: 69px;\n    }\n}\n\n/* NEXUS 6 */\n\n@media (width: 412px) and (max-height: 732px) {\n    .youtube-icon {\n        font-size: 1.5rem !important;\n    }\n}\n\n/* NEXUS 7 */\n\n@media (width: 600px) and (max-height: 960px) {\n    \n    .block {\n        font-size: 1.3rem;\n    }    \n    .test-card-question .question-statement, .test-card-question .question-provider-question {\n        font-size: 1rem;\n    }\n    body {\n        font-size: 1.2em;\n    }\n    .snapdragon-intro > div {\n        font-size: 1.2rem;\n    }\n    .youtube-icon {\n        font-size: 1.8rem !important;\n    }\n    .lesson-name, .lesson-name .underline-link {\n        font-size: 1rem;\n    }\n}\n\n@media (min-height:812px) {\n}\n\n@media (max-width: 768px) {\n    .landscape {\n        display: none !important;\n    }\n    .portrait-grid {\n        display: grid;        \n    }\n}\n\n@media (min-height: 640px) {   \n    .modal-title {\n        line-height: 1.5;\n    } \n}\n\n@media (min-width: 768px) {\n\n  h1 {\n    font-size: 1.6rem;\n  }\n\n  h2 {\n    font-size: 1.3rem;\n  }\n\n  h3 {\n    font-size: 1rem;\n  }\n\n  .modal h1 {\n    font-size: 1.2rem;\n  }\n\n  h2 {\n    font-size: 1rem;\n  }\n\n  h3 {\n    font-size: .8rem;\n  }\n\n    .quick-fire .quick-fire-branches .btn-secondary, .quick-fire .quick-fire-branches .btn-secondary:not(:disabled):not(.disabled).active {\n        font-size: .9rem;\n        padding: .5rem;\n    }\n\n    .quick-fire-branches span {\n        font-size: .6rem;\n    }\n    \n    .autocomplete-options-container{\n        top: calc(\n            var(--vhRunningBlock, 7.5vh) + \n            5px +\n            var(--vhStandardBlock, 10vh) +\n            var(--vhStandardBlock, 10vh)\n            + .25rem\n        ) !important;\n    }\n\n    .species-search .icon {\n        font-size: 5.5rem;\n        height: calc(var(--vhStandardBlock, 30vh) * 2);\n    }\n\n    .autocomplete-options-container.autocomplete {\n        height: 15rem !important;\n    }\n\n    .squares {\n        height: calc( (var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhDoubleStandardBlock,20vh));\n    }\n\n    .imageSlider .carousel-item {\n        height: var(--vhSmallImageCarousel);\n        min-height: var(--vhSmallImageCarousel);\n    }\n\n    .score-summary-row {\n        display: flex;\n    }\n\n    #imageModal .imageSlider .carousel-item, #imageComparisonModal .imageSlider .carousel-item {        \n        height: calc( (var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - 300px ); /* see below (hack) */\n    }\n\n    .image-description {\n        padding: 1rem 4rem;\n        margin-top: -300px; /* see above (hack) */\n        color: black; /* to compensate for layer above (hack) */\n    }\n\n    .imageSlider .carousel-control-next, .imageSlider .carousel-control-prev {\n        top: 15%;\n        top: calc(\n            (var(--vh, 1vh) * 75 * .5) -\n            (var(--vh, 1vh) * 7.5) -\n            .5rem\n            - 100px /* see above (hack) */\n        );\n    }\n\n    .modal-image .carousel-inner > div:nth-child(1) {\n        height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhRunningBlock));\n    }\n\n    .carousel-indicators {\n        position: absolute;\n        left: .5rem;\n        right: .5rem;\n        padding: .5rem;\n        text-align: left;\n        margin-left: 4rem !important;\n        margin-right: 4rem !important;\n    }\n\n    .carousel-indicators li {\n        margin-bottom: 0;\n    }\n\n    .test-card-question .question-statement, .test-card-question .question-provider-question {\n        font-size: .9rem;\n    }\n\n    .species-picker-actions ul {\n        column-count: 2;\n    }  \n\n    .guide-header-container > div:nth-child(2) {\n        flex-direction: row;\n    }\n\n    .iconic-taxa-categories svg {\n        width: 2rem;\n        height: 2rem;\n    }\n\n    .iconic-taxa-categories-selected svg {\n        width: 1rem;\n        height: 1rem;\n    }\n\n    .iconic-taxa-categories i {\n        font-size: 1.5rem;\n    }\n\n    .inat.snap-switch .inat-entry {\n        display: flex;\n        align-items: center;\n        margin: 0 0 0 1rem;\n    }\n\n    .inat.snap-switch input[type="text"] {\n        margin: 0 .5rem 0 0;\n        color: var(--snap-text-medium-dark);\n        padding: 0 .1rem;\n    }\n\n    .modal-guide-wrapper .location.snap-switch {\n        width: 100%;\n        margin-top: 2rem;\n    }\n\n    .location-option.place > button {\n        margin-left: .25rem;\n    }\n\n    #inat-place::placeholder {\n        color: var(--gray);\n        font-size: 1rem;\n    }\n\n    .inat.snap-switch .inat-entry, .inat.snap-switch input[type="text"] {\n        width: 12rem;\n        width: fit-content;\n        padding: 0 .25rem;\n    }  \n\n    .range-slider {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    .range-slider > span:nth-child(2) {\n        width: fit-content;\n        border: .05rem solid var(--snap-border-lightest);\n        padding: .5rem;\n    }\n\n    .range-limits {\n        display: initial;\n    }\n\n    .inat-location-elsewhere {\n        display: grid;\n        grid-template-columns: 1fr .25rem 1fr;\n    }\n\n    .location-filter-options {\n      padding: 2rem;\n      grid-template-columns: 1fr 1fr;\n    }\n    \n    .traits-names-txt {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        padding: 1rem;\n        border-bottom: 1px solid var(--snap-border-lightest);\n    }\n\n    .iconic-icon {\n        font-size: 2rem;\n    }\n\n    .question-container .mushroom-icon-header svg {\n        width: 1.8rem;\n        height: 1.8rem;\n        fill: var(--snap-iconic-icon-header);\n    }\n\n    .species-header {\n        text-align: right;\n    }\n\n    .test-card-question .help-txt {\n        margin: 1rem .5rem;\n        font-family: serif;\n        font-weight: bold;\n        letter-spacing: .05rem;\n    }\n\n    div.text-entry {\n        margin: 1rem 0;\n        padding: 0.5rem;\n    }\n\n    .text-entry input {\n        width: 75%;\n        padding: 0.5rem;\n        border: 0.05rem solid var(--snap-border-light);\n    }\n\n    .video {\n        top: -2px;\n    }\n\n    .table-row {\n        font-size: .8rem;\n    }\n\n    .table-row td:nth-child(3) {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n        justify-content: center;\n    }\n\n    .species-list .scrollable {\n        bottom: 0;\n        top: 0;      \n    }\n        \n    .right-grid .header, .right-grid .footer {\n        justify-content: flex-start;\n        padding-right: 1rem;\n    }\n\n    .right-grid .footer > ul, .left-grid .footer > ul {\n        max-width: 50%;\n        text-transform: none;\n        justify-content: space-between;\n    }\n\n    .snapdragon-intro > div:nth-child(1) {\n        margin: 0rem 2.4rem 0 2.4rem !important;\n    }\n\n    .snapdragon-intro {\n        height: initial;  \n        padding: 2rem;\n    }\n\n    .lesson-icon {\n        width: 80px;\n        height: 80px;\n        object-fit: none;\n    }\n\n    .lesson-list-carousel-item {\n        align-items: center;\n        display: grid;\n        grid-template-columns: 1fr 3fr 1fr;\n    }\n\n    .lesson-list-carousel-item > div:nth-child(3) {\n        justify-content: center;\n        margin: 0;\n    }\n\n    .lesson-list-carousel-item > div:nth-child(3) > div {\n        display: flex;\n    }\n\n    body {\n        max-width: 1200px;\n    }\n\n    .left-grid {\n        width: 458px;\n        grid-area: left;\n    }\n\n    .right-grid {\n        width: 742px;\n        grid-area: right;\n    }\n\n    .grid {\n        grid-template-columns: 1fr 1fr;\n        grid-template-areas: "right left";\n    }\n\n    .left-grid {\n        display: grid;\n    }  \n\n    .pool {\n        max-width: 70%;\n    }\n\n    .bird-song, .taxon-identification, .taxon-summary {\n        margin: 1rem 4rem 0 4rem;\n    }\n\n    .strips {\n        cursor: pointer;\n        width: initial;\n        overflow-y: auto;\n        padding: .5rem;\n    }\n\n    .strip {\n        min-width: initial;\n        margin: .75rem .5rem .75rem 0;\n        padding: .75rem;\n    }\n\n    body {\n        font-size: .9em;\n    }\n\n    .home-scrolling-container .scrollable {\n        position: relative; \n        top: 0;\n    }\n\n    .mixed-content-container {\n        top: calc(\n              var(--vhStandardBlock, 10vh)\n            + var(--vhCalendar,11vh));\n        height: calc(\n              var(--vh, 1vh) * 100\n            - var(--vhRunningBlocks,15vh)\n            - var(--vhDoubleStandardBlock,20vh) \n            - var(--vhCalendar,11vh) \n            - 1.5rem);\n      }\n\n      .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n      }\n    \n      iframe {\n          width: 100%;\n          border: 0;\n      }\n\n      #badgeListModal .modal-dialog {\n        width: 30vw;\n        margin: calc( var(--vhRunningBlock) + var(--vhStandardBlock) + 5px + .5rem ) auto auto auto;\n      }\n\n      #badgeListModal .modal-body {\n        height: calc(var(--vhDoubleStandardBlock, 20vh) * 2);\n      }\n\n      #wikiModal .modal-dialog {\n        max-width: 900px;\n        margin: auto;\n      }\n\n      #wikiModal iframe {\n          height: 100%;\n      }\n    \n      #imageModal .modal-dialog {\n        max-width: 600px;\n        margin: auto;\n      }\n        \n      #imageModal .modal-title span {\n          display: flex;\n          flex-direction: row;\n      }\n    \n      #imageModal .modal-title span > span:nth-child(1) {\n          margin: 0 .5rem 0 0;\n      }\n    \n      #iNatWidgetModal .modal-dialog {\n          max-width: 45vw;\n      }\n      \n      #iNatWidgetModal .modal-header {\n          display: inline;\n      }\n    \n      #cardModal .feature-types {\n          width: 100%;\n          margin: 0;\n      }\n\n      .info-details {\n        padding: 1rem 4rem;\n      }\n\n      .info.carousel.slide .carousel-item div dt, .info.carousel.slide .carousel-item div dd {\n          padding: .5rem;\n      }\n\n    .non-taxon.card img {\n        height: 5.5rem;\n        width: 5.5rem;\n      }\n\n    .response-update {\n        left: 0;\n        right: 0;\n        justify-content: flex-end;\n    }\n\n    .strip:hover, .strip:focus, .strip:focus-within {\n        box-shadow: 0 2px 8px transparent;\n        border: 1px solid var(--snap-border-light);\n    }\n\n    .strip:hover button, .strip:focus button, .strip:focus-within button {\n      color: var(--snap-text-medium-dark);\n    }\n\n    .strip {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .strip > div:nth-child(2) {\n        margin-top: .5rem;\n    }\n\n    .strip-single-line {\n        padding: 1.5rem;\n    }\n\n    .portrait, .portrait-grid {\n        display: none !important;\n    }  \n\n    .header > div:nth-child(2) {\n        max-width: initial;\n        text-transform: initial;\n    }\n\n    .non-taxa {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n    }\n\n    .non-taxa .btn-group {\n        width: 12rem;\n        flex-direction: column;\n        margin: 0 .5rem;\n    }\n\n    .non-taxa .btn.btn-secondary {\n        height: 3rem;\n        cursor: pointer !important;\n    }\n\n    .non-taxon-card-wiki {\n        margin: 0 .5rem 0 0;\n    }\n\n    .modal-header-container {\n        padding-bottom: 4px;\n        border-bottom: 1px solid var(--snap-border-light);\n    }\n}\n\n@media (min-width: 1024px) {\n\n    .left-grid {\n        width: 391px;\n    }\n\n    .right-grid {\n        width: 633px;\n    }\n\n    .squares {\n        padding-top: 2rem;\n    }\n\n    .squares > div {\n        width: 190px;\n        height: 150px;\n    }\n\n    .table-header th:nth-child(2), .table-row td:nth-child(2) {\n        flex: 5;\n    }\n    \n    .table-header th:nth-child(3), .table-row td:nth-child(3) {\n        flex: 5;\n        font-size: .8rem;\n        line-height: 2;\n        padding-left: 1rem;\n    }\n    \n    .table-header th:nth-child(4), .table-row td:nth-child(4) {\n        flex: 2;\n    }\n\n    .table-header th:nth-child(3) span:nth-child(2):after {\n        margin-left: .355rem;\n    }\n\n    .table-header th:nth-child(3):after {\n        display: none;\n    }\n\n    .species-list .table-header th:nth-child(3) span:after {\n        display: inline-block;\n        width: 0;\n        height: 0;\n        margin-left: .255rem;\n        vertical-align: middle;\n        content: "";\n        border-top: .3rem solid;\n        border-right: .3rem solid transparent;\n        border-bottom: 0;\n        border-left: .3rem solid transparent;\n        cursor: default;\n    }\n\n    .species-list .table-header th:nth-child(4):after, .species-list .table-header th:nth-child(5):after {\n        display: inline-block;\n        width: 0;\n        height: 0;\n        margin-left: .255rem;\n        vertical-align: middle;\n        content: "";\n        border-top: .3rem solid;\n        border-right: .3rem solid transparent;\n        border-bottom: 0;\n        border-left: .3rem solid transparent;\n        cursor: default;\n    }\n\n    .table-header th:nth-child(3) {\n        flex-direction: column;\n        display: flex;\n        align-items: start;\n    }\n\n    .table-header th:nth-child(3) span {\n        flex: 1;\n        line-height: initial;\n    }\n\n    .table-header th:nth-child(5), .table-row td:nth-child(5),\n    .table-header th:nth-child(6), .table-row td:nth-child(6) {\n        flex: 1;\n        display: flex;\n        align-items: center;\n    }\n\n    .narrow-screen {\n        display: none !important;\n    }\n\n    .names-container .vernacular-name {\n        max-width: none;\n      }\n}\n\n@media (max-width: 1024px) {    \n    .wide-screen {\n      display: none !important;\n    }\n}\n\n@media (min-width: 1112px) {\n\n    .left-grid, .tiles-container {\n        width: 450px;\n    }\n\n    .squares > div {\n        height: calc( ((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhDoubleStandardBlock,20vh)) / 3);\n        width: 225px; \n    }\n\n    .squares {\n        padding-top: 1rem;\n    }\n    \n    .squares > div img {\n        padding: .5rem;\n    }\n\n    .right-grid {\n        width: 662px;\n    }\n}\n\n@media (min-width: 1200px) {\n    \n    .left-grid, .tiles-container {\n        width: 458px;\n    }\n\n    .right-grid {\n        width: 742px;\n    }\n\n    .squares > div {\n        width: 229px;\n    }\n}',""]),e.exports=n},"./node_modules/css-loader/dist/cjs.js!./src/ui/css/snapdragon.css":function(e,n,t){(n=t("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,'* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nhtml {\n  height: var(--vhGrid, 100vh);\n}\n\nbody {\n  /* width: var(--vwGrid, 100vh);\n  max-width: var(--vwGrid, 100vh); */\n  height: var(--vhGrid, 100vh);\n  /* font-size: .8em; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: \'Open Sans\', sans-serif;\n  color: var(--snap-text-dark);\n  margin: auto;\n  background-color: var(--snap-main-background);\n}\n\nbutton {\n  width: 100%;\n  letter-spacing: .03rem;\n}\n\nbutton[disabled] {\n  opacity: .38; /* why  38%? google material design */\n  pointer-events: none;\n}\n\ninput[type="text"] {\n  padding: .5rem;\n  width: 100%;\n  border-color: var(--snap-border-lightest);\n  border-style: solid;\n}\n\nfigure {\n  margin: .5rem 0 0;\n}\n\na:hover {\n  text-decoration: none;\n}\n\nul {\n  margin: 0;\n  padding: 0;\n}\n\nli {\n  list-style-type: none;\n  margin: 0 0 .5rem 0;\n}\n\nprogress {\n  margin: 0 !important;\n  width: 100%;\n  border: 0;\n  background: var(--snap-progress-bg);\n  max-height: 5px;\n}\n\nprogress::-webkit-progress-bar {\n  background-color: var(--snap-progress-bg);\n}\nprogress::-webkit-progress-value {\n  background-color: var(--snap-text-black);\n}\nprogress::-moz-progress-bar {\n  background-color: var(--snap-progress-bar);\n}\n\n.progress-icon {\n  color: var(--snap-progress-bar) !important;\n  cursor: pointer;\n}\n\n.no-progress {\n  background-color: var(--snap-progress-bg);\n}\n\n.inline-progress-container progress {\n  width: 95px;\n  height: 3px;\n  left: 0;\n  top: 2.5rem;\n}\n\nhr {\n  margin: 0;\n}\n\n.font-size-small {\n  font-size: .7rem;\n}\n\n.desaturate {\n  opacity: .6;\n  filter: grayscale(80%);\n}\n\n.no-progress {\n  background-color: var(--snap-progress-bg);\n}\n\n\n\n.btn-collection {\n  background-color: var(--snap-portrait);\n  color: var(--snap-text-dark);\n}\n\n.btn-language {\n  background-color: var(--snap-landscape);\n  color: var(--snap-text-medium-dark);\n}\n\n.btn.btn-non-taxa {\n  width: 15rem;\n  background-color: var(--snap-non-taxa);\n  float: left;\n}\n\n.non-taxa-definition {\n  padding: 0 0.5rem;\n}\n\n.icon::after\n{\n  display: inline-block;\n  font-style: normal;\n  font-variant: normal;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  font-family: "Font Awesome 5 Free";\n}\n\n.icon.active::after {\n  font-weight: 900;\n  content: "\\f00c";\n  padding: 0 0.5rem 0 0;\n  margin: 0 0 0 -1.5rem;\n  color: rgb(99, 127, 91);\n}\n\n.icon.choice::after {\n  font-weight: 900;\n  content: "\\f2e7";\n  padding: 0 0 0 0.25rem;\n  color: rgb(99, 127, 91);\n}\n\n.icon.edible::after {\n  font-weight: 900;\n  content: "\\f2e7";\n  padding: 0 0 0 0.25rem;\n  color: var(--snap-inactive);\n}\n\n.icon.inedible::after {\n  font-weight: 900;\n  content: "\\f056";\n  padding: 0 0 0 0.25rem;\n  color: var(--snap-inactive);\n}\n\n.icon.toxic::after {\n  font-weight: 900;\n  content: "\\f071";\n  padding: 0 0 0 0.25rem;\n  color: var(--snap-alert);\n}\n\n.dropdown-menu {\n  margin: 0.15rem 0 0 0;\n  padding: 0;\n  color: var(--snap-text-dark);\n  border: .05rem solid var(--snap-border-light);\n  left: inherit !important;\n}\n\n.non-taxa .dropdown-menu {\n  width: 15rem !important;\n  background-color: var(--snap-dd-non-taxa-bg-intial);\n}\n\n.non-taxa a.dropdown-item.active {\n  background-color: var(--snap-dd-non-taxa-bg-active);\n}\n\na.dropdown-item {\n  color: var(--snap-text-medium-dark);\n  padding: 0.5rem 0 0.5rem 1rem;\n  cursor: pointer;\n}\n\n.dropdown-menu.show {\n  top: -.25rem !important;\n}\n\n.non-taxa a.dropdown-item:hover {\n  background-color: var(--snap-dd-non-taxa-bg-hover);\n}\n\n.underline-external-link {\n  color: var(--snap-link) !important;\n  text-decoration: none;\n  border-bottom: solid .05rem !important;\n  color: inherit;\n  cursor: pointer;\n}\n\n.lesson-title {\n  line-height: 1.6;\n}\n\n.toUpperCase {\n  text-transform: uppercase;\n}\n\n.home, .settings, .nav-info, .list, .glossary, .email, .login, .email > a, .language {\n  cursor: pointer;\n  color: var(--snap-text-dark);\n  font-size: 1.4rem;\n}\n\na.icon:hover {\n  color: var(--snap-text-light);\n}\n\n.email span {\n  font-size: .8rem;\n}\n\n.glossary svg {\n  vertical-align: middle;\n}\n\n.grid-header {\n  background-color: rgb(153, 172, 149);\n  background-color: var(--snap-portrait);\n  display: flex;\n  align-items: center;\n  color: var(--snap-text-dark);\n  width: 100%;\n  border-radius: 0.25rem 0.25rem 0 0;\n  letter-spacing: 0.07rem;\n  text-transform: uppercase;\n}\n\n.grid-header > div {\n  padding: 0 0.5rem;\n}\n\n.hover-box {\n  border: .05rem solid rgba(48, 94, 37,.8);\n  padding: .25rem;\n  margin: 0 0 0 -.25rem;\n  border-radius: 0.25rem;\n}\n\n.nav-icons .active-icon, .active-icon {\n  color: white;\n}\n\n.nav-icons .inactive-icon {\n  color: var(--snap-inactive);\n  cursor: not-allowed;\n}\n\n.info-box .inactive-icon {\n  display: none;\n}\n\n.disabled-icon {\n  cursor: initial;\n  opacity: .38; /* why  38%? google material design */\n  pointer-events: none;\n}\n\n.scrollable.card {\n  text-align: left;\n}\n\n.score-summary-container {\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh));\n}\n\n.snapdragon-container {\n  justify-content: flex-start;\n  position: relative;\n}\n\n.test-card-question.standard-block, .lesson-list-header.centred-block {\n  border-bottom: .03rem solid var(--snap-border-medium);\n}\n\n.home-container {\n  position: relative;\n  display: grid;\n  grid-template-rows: var(--vhStandardBlock) auto;\n}\n\n.feature-types {\n  background-color: var(--snap-content-background);\n}\n\n.species.card {\n  margin: 0;\n}\n\n.non-taxa {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n}\n\n.non-taxa .btn-group {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 .5rem;\n  justify-content: space-evenly;\n  background-color: var(--snap-landscape);\n}\n\n.non-taxa .btn.btn-secondary {\n  height: initial;\n}\n\n.non-taxa .species-header {\n  padding: 0 1.25rem 0 0;\n}\n\n.non-taxon.card img {\n  height: 4rem;\n  width: 4rem;\n}\n\n.non-taxon .btn.btn-secondary {\n  width: 100%;\n  background-color: var(--snap-landscape);\n  border-radius: unset;\n}\n\n.non-taxa-definition {\n  display: flex;\n  align-items: center;\n  padding: 0 2rem;\n}\n\n.non-taxon .definitions {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  height: 100%;\n  text-align: left;\n}\n\n.species.card-small {\n  padding: 0.5rem;\n}\n\n.card.radio-buttons-container {\n  margin: 0 0 0.5rem 0;\n}\n\n.binomial {\n  font-style: italic;\n  text-transform: initial;\n}\n\n.lesson-plans .table-row.species-background:nth-child(n) {\n  background-color: var(--snap-species-highlight-background);\n}\n\n.lesson-plans .table-row.taxon-background:nth-child(n) {\n  background-color: var(--snap-taxon-card-background);\n}\n\n.snapdragon-options {\n  padding: 0 .5rem;\n}\n\n.grid {\n  display: grid;\n  grid-auto-flow: column;\n  width: 100%;\n  height: var(--vhGrid, 100vh);\n  font-size: .8rem;\n}\n\n.left-grid, .right-grid {\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-flow: column;\n  grid-template-rows: var(--vhRunningBlock, 7.5vh) 5px auto var(--vhRunningBlock, 7.5vh);\n}\n\n.left-body, .right-body {\n  display: grid;\n  grid-auto-flow: row;\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh));  \n  background-color: var(--snap-content-background);\n}\n\n.header, .footer {\n  display: flex;\n  align-items: center;\n  padding: 0 0.5rem;\n  letter-spacing: 0.1rem;\n  text-transform: uppercase;\n  color: var(--snap-text-medium-dark);\n}\n\n.header > div:nth-child(2) {\n  max-width: 50%;\n  font-size: .9rem;  \n}\n\n.footer {\n  bottom: 0;\n}\n\n.left-grid .footer .nav-icons, .right-grid .footer .nav-icons {\n  flex: auto;\n  justify-content: space-evenly;\n}\n\n.left-grid .footer .nav-icons li, .right-grid .footer .nav-icons li {\n  margin: 0 !important;\n}\n\n.footer-round, .footer-score span {\n  color: var(--snap-text-medium-dark);\n  padding: 0.75rem;\n}\n\n.left-grid .header, .left-grid .footer {\n  justify-content: flex-end;\n  background-color: var(--snap-portrait);\n}\n\n.right-grid .header, .right-grid .footer {\n  justify-content: center;\n  background-color: var(--snap-landscape);\n}\n\n.header-text {\n  color: var(--snap-text-dark-medium-dark);\n}\n\n.scrollable {\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;  \n}\n\n/* .txt-specimen-species {\n  margin: 0 0 0 1rem;\n} */\n\n.answer {\n  padding: 1rem;\n  text-transform: capitalize;\n  cursor: pointer;\n}\n\n.answer button {\n  width: 10rem;\n}\n\n.squares {\n  display: grid;\n  grid-auto-flow: row;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr 1fr;\n}\n\n.tiles {\n  display: grid;\n  height: 50%;\n  grid-auto-flow: column;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n}\n\n.squares > div {\n  display: grid;\n  justify-self: center;\n  height: 140px;\n  width: 224px;\n}\n\n.squares img, .tiles img {\n  cursor: pointer;\n  height: inherit;\n  width: inherit;\n  object-fit: cover;\n}\n\n.traits.squares img {\n  object-fit: scale-down;\n}\n\n.traits.squares > div.multiple {\n  grid-template-columns: 1fr 1fr;\n  cursor: pointer;\n  width: 80%;\n}\n\n.square, .tile {\n  border-radius: 0.2rem;\n  cursor: pointer;\n}\n\n.strips {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  cursor: pointer;\n  height: calc( (var(--vh, 1vh) * 100) \n    - var(--vhFixtures, 15vh) \n    - var(--vhStandardBlock, 10vh)\n    - var(--vhStandardBlock, 10vh)\n    - var(--vhStandardBlock, 10vh)\n    - var(--vhButtonBlock, 9vh)\n    );\n}\n\n.strip {\n  background: #fff;\n  border: 1px solid transparent;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0,0,0,.2);\n  margin: .5rem .25rem;\n  padding: .75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.strip > div::first-letter {\n  text-transform: capitalize;\n}\n\n  .strip > * {\n    pointer-events: none;\n  }\n\n  .pointer-events-none {\n    pointer-events: none !important;\n  }\n  \n  .pointer-events-initial {\n    pointer-events: initial !important;\n  }\n\n.strips .strip.snap-success {\n  background-color: var(--snap-success-medium);\n  box-shadow: 0 2px 8px rgba(0,0,0,.8);\n}\n\n.strips .strip.snap-alert {\n  background-color: var(--snap-alert-medium);\n  box-shadow: 0 2px 8px rgba(0,0,0,.8);\n  border: none;\n}\n\n.strip.snap-success > div.disabled {\n  color: var(--gray-dark) !important;\n}\n\n.strip div {\n  text-align: center;\n}\n\n.names-container .vernacular-name {\n  max-width: 12rem;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: inline-block;\n}\n\n.names-container.definition .vernacular-name {\n  margin-top: 1.25rem;\n}\n\n.align-left {\n  text-align: left;\n}\n\n.snapdragon.card {\n  border: 0;\n}\n\n.snapdragon.card.align-left {\n  color: var(--snap-text-medium-dark);\n  padding: 0.5rem;\n}\n\n.snapdragon.card.align-left .feature-label {\n  letter-spacing: 0.03rem;\n  width: fit-content;\n  display: inline-table;\n}\n\n.taxon-highlight {\n  background-color: var(--snap-taxon-card-background);\n  padding: 0.5rem;\n  margin: -0.5rem -0.5rem 0 -0.5rem;\n  display: flex;\n  justify-content: right;\n}\n\n.taxon-highlight > div:nth-child(1) {\n  flex: 1;\n  align-self: center;\n}\n\n.taxon-highlight > div:nth-child(2) {\n  align-self: center;\n}\n\n.taxon-highlight img {\n  height: 5.5rem;\n  width: 5.5rem;\n  margin: 0 0 0 1rem;\n  object-fit: cover;\n}\n\n.latin-name {\n  font-style: italic;\n  font-family: serif;\n  text-transform: initial;\n}\n\n.common-name {\n  font-style: normal;\n  text-transform: capitalize;\n}\n\n.taxon-header {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  text-align: left;\n}\n\n.species-header img {\n  filter: grayscale(80%);\n  object-fit: scale-down;\n  max-height: var(--vhStandardBlock, 10vh);\n}\n\n.species-header > div:nth-child(1) {\n  display: flex;\n  flex-direction: column;\n  padding: 0.25rem 1rem 0 0;\n}\n\n.card-link-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.card-link-container i {\n  font-size: 2rem;\n  cursor: pointer;\n  color: var(--snap-iconic-icon-header);\n}\n\n.card-link-container i:hover {\n  color: var(--snap-text-medium-light);\n}\n\n.block-container {\n  position: relative;\n  justify-content: flex-start;\n}\n\n.species-common-name {  \n  text-transform: capitalize;\n}\n\n.data-box-container {\n  height: var(--vhCalendar, 11vh);\n  display: grid;\n  grid-template-columns: 2fr 2fr 3fr;\n  grid-gap: .5rem;\n  border-bottom: .03rem solid var(--snap-dd-non-taxa-bg-hover);\n  font-size: .8rem;\n}\n\n.mixed-content-container {\n  top: calc(\n      var(--vhStandardBlock, 10vh)\n    + var(--vhSmallImageCarousel,23vh));\n  height: calc(\n        var(--vh, 1vh) * 100\n      - var(--vhFixtures,15vh)\n      - var(--vhSmallImageCarousel,23vh)\n      - var(--vhDoubleStandardBlock,20vh)      \n      - .5rem);\n}\n\n.taxon.card-card .mixed-content-container {\n  height: calc(\n        var(--vh, 1vh) * 100\n      - var(--vhFixtures,15vh)\n      - var(--vhDoubleStandardBlock,20vh) \n      - var(--vhCalendar)\n      - 5px);\n      padding: .5rem;\n}\n\n.taxon.card-card .mixed-content-container .centred-block {\n  flex-direction: column;\n  height: 100%;\n  align-items: flex-start;\n  justify-content: space-evenly;\n}\n\n.taxon.card-card .data-box-container {\n  grid-template-columns: 1fr 2fr;\n  padding: 0 .5rem;\n}\n\n.inat-box .data-box {\n  color: var(--snap-text-medium-light);\n  height: 100%;\n  border-left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  border-right: 1px solid var(--snap-border-lightest);\n  font-size: .8rem\n}\n\n.inat-box .data-box > div:nth-child(1), .inat-box .data-box > div:nth-child(2) {\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  grid-gap: .25rem;\n}\n\n.inat-box .data-box > div:nth-child(2) > div:nth-child(1) {\n  padding: 0 0.5rem 0 0;\n}\n\n.inat-box .data-box > div > div:nth-child(2) > div {\n  text-align: center;\n}\n\n.taxon-data > span:nth-child(1) {\n  min-width: 50%;\n}\n\n.data-box .taxon-data:nth-child(1) > span {\n  text-transform: uppercase;\n} \n\n.taxon-data {\n  display: flex;\n  flex-direction: row;\n}\n\n.latin {\n  font-style: italic;\n  font-family: serif;\n}\n\n.taxon-members {\n  font-style: italic;\n}\n\n.family-img {\n  filter: grayscale(80%);\n}\n\n.family-name {\n  text-transform: uppercase;\n}\n\n.history div {\n  margin: 0 0 1rem 0;\n}\n\n.clickable {\n  cursor: pointer;\n}\n\n.btn {\n  font-size: inherit;\n  padding: .5rem;\n  border: none;\n}\n\n.btn:hover {\n  opacity: .8;  \n}\n\n.btn.focus, .btn:focus {\n  box-shadow: none;\n}\n\nbtn:disabled {\n  pointer-events: none;\n}\n\n.btn-placeholder.btn {\n  color: var(--snap-text-dark);\n}\n\n.snap-btn {\n  background-color: var(--snap-list-header-background);\n  color: var(--snap-text-black);\n  letter-spacing: .05rem;\n  border: 1px solid var(--snap-portrait);\n  padding: .25rem .75rem;\n}\n\n.snap-btn:active {\n  color: green !important;\n}\n\n.snap-btn:focus:not(:focus-visible), .snap-icon-btn:focus:not(:focus-visible) {\n  color: var(--snap-youtube-green) !important;\n  outline: none;\n  border: 1px solid var(--snap-youtube-green);\n}\n\n.snap-icon-btn {\n  color: var(--snap-text-dark);\n  background-color: transparent;\n  border: 1px solid transparent;\n  padding: 0 .5rem;\n}\n\n.snap-icon-btn:focus, .snap-icon-btn:hover {\n  color: var(--snap-youtube-green);\n  outline: none;\n}\n\n.snap-link-btn, .snap-no-link-btn {\n  color: var(--snap-text-dark);\n  background-color: transparent;\n  border: none;\n  font-size: .7rem;\n  width: intrinsic;           /* Safari/WebKit uses a non-standard name */\n  width: -moz-max-content;    /* Firefox/Gecko */\n  width: -webkit-max-content; /* Chrome */\n}\n\n.snap-no-link-btn {\n  pointer-events: none;\n}\n\n.snap-action-btn {\n  background-color: var(--snap-tertiary-background);\n  color: var(--snap-text-light);\n  letter-spacing: .05rem;\n  border: 1px solid var(--snap-non-taxa) !important;\n  padding: .5rem .75rem;\n}\n\n.snap-action-btn:focus {\n  outline: none;\n  color: var(--snap-text-black);\n}\n\n.snap-action-btn.snap-success {\n  color: var(--snap-text-light) !important;\n  background-color: var(--snap-success) !important;\n  border: 0.05rem solid var(--snap-success);\n}\n\n.snap-action-btn.snap-alert {\n  color: var(--snap-text-light) !important;\n  background-color: var(--snap-alert) !important;\n  border: 0.05rem solid var(--snap-alert);\n}\n\n.btn-tertiary {\n  color: var(--snap-text-light);\n  background-color: var(--snap-tertiary-background) !important;\n  border: 1px solid var(--snap-border-light);\n  cursor: pointer !important;\n}\n\n.btn-tertiary:focus {\n  outline: none;\n  color: var(--snap-text-black);\n}\n\n.dropdown-toggle::after {\n  vertical-align: 0.2rem;\n  margin-left: 0.2rem;\n}\n\n.course-description {\n  margin: 1rem 0;\n}\n\n.course-description span {\n  margin: 0 0 0.5rem 0;\n}\n\n.course-description span:nth-child(1) {\n  background-color: lightblue;\n  padding: 0.25rem;\n}\n\n.course-description .snap-alert {\n  width: 50%;\n}\n\n.species-count {\n  vertical-align: super;\n}\n\n.clear-lesson button {\n  float: left;\n}\n\n.collection span {\n  padding: 0 0.5rem;\n  cursor: pointer;\n}\n\n.dropdown div {\n  white-space: nowrap;\n}\n\n.single-tile {\n  display: flex;\n  flex-direction: column;\n  margin: 2rem 1rem;\n}\n\n.image-border {\n  text-align: center;\n  margin: 0 0 2rem 0;\n  border: .05rem solid;\n  border-radius: .2rem;\n  padding: 1rem;\n}\n\n.blocks {\n  flex: auto;\n  flex-direction: column;\n  padding: 2rem;\n}\n\n.block {\n  font-size: 1rem;\n  display: inline-block;\n  cursor: pointer;\n  width: fit-content;\n  background-color: var(--snap-block-light);\n  color: var(--snap-text-dark);\n  margin: 0 .5rem 0 0;\n  padding: .25rem .5rem;\n  letter-spacing: .1rem;\n  border-radius: .2rem;\n  border: .05rem solid var(--snap-text-dark);\n}\n\n.pool .block {\n  margin: 0 .5rem .5rem 0;\n}\n\n.block + hr {\n  margin: .5rem 0 0 0;\n}\n\n.pool {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.pool .block.active {\n  color: var(--snap-text-light);\n  background-color: rgb(128, 128, 128);\n}\n\n.pool .block.correct {\n  color: var(--snap-text-light);\n  background-color: var(--snap-success);\n}\n\nspan.correct {\n  color: rgb(2, 107, 26);\n}\n\n.block.snap-success, .block.snap-alert {\n  color: var(--snap-text-light) !important;\n  background-color: var(--snap-success) !important;\n  border: none;\n}\n\n.block.snap-alert {\n  background-color: var(--snap-alert) !important;\n}\n\n.snap-alert-fg {\n  color: var(--snap-alert);\n}\n\n.btn.snap-alert {\n  padding: 0.175rem 0.75rem;\n}\n\n.block.white {\n  color: var(--snap-text-dark);\n}\n\n.blocks button {\n  margin: 2rem 0 0 0;\n}\n\n.delay-slider {\n  margin: 1rem 0;\n}\n\n.delay-slider > div input {\n  flex: auto;\n  margin: 0 .5rem;\n}\n\n.response-update {\n  flex: initial;\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  bottom: 0.5rem;\n  right: .5rem;\n  left: .5rem;\n}\n\n.action-update {\n  width: 100%;\n}\n\n.action-update button {\n  width: 100%;\n}\n\n.answer-container .icon-container {\n  position: relative;\n  display: inline-block;\n}\n\n.answer-container .icon {\n  font-size: 1.5rem;\n  position: absolute;\n  top: -0.9rem;\n}\n\n.taxa svg {\n  margin: 0 .25rem 0 0;\n}\n\n.taxa .si-glyph-mushrooms svg {\n  margin: 0;\n}\n\n.species-answer {\n  display: none;\n}\n\n.species-question,\n.species-answer,\n.btn-placeholder {\n  text-align: center;\n  border: 1px solid var(--snap-border-light);\n}\n\n.species-question.btn,\n.btn-placeholder.btn {\n  color: var(--snap-text-dark);\n  background-color: var(--snap-block-light);\n}\n\nbutton:disabled {\n  cursor: initial !important;\n}\n\n.species-answer {\n  text-align: center;\n  color: var(--snap-text-dark);\n  background-color: var(--snap-block-light);\n  border-left: 1px solid var(--snap-border-light);\n  border-right: 1px solid var(--snap-border-light);\n  border-bottom: 1px solid var(--snap-border-light);\n}\n\n.answer-box-success .icon {\n  color: var(--snap-success);\n}\n\n.answer-box-alert .icon {\n  color: var(--snap-alert);\n}\n\n.species-card-images,\n.non-taxon-card-images {\n  /* height: initial; */\n  display: grid;\n  grid-template-columns: 1fr;\n  cursor: pointer;\n}\n\n.non-taxon-card-images {\n  margin: 0;\n}\n\n.trait.card li span:nth-child(1) {\n  width: 25%;\n  text-align: left;\n}\n\n.trait.card li span:nth-child(2) {\n  width: 75%;\n  text-align: left;\n}\n\n.toggle-content,\n.toggle-content * {\n  display: none;\n}\n\n.toggle-content.is-visible,\n.toggle-content.is-visible * {\n  display: initial;\n}\n\n.btn-secondary:not(:disabled):not(.disabled).active {\n  background-color: var(--snap-text-light);\n  color: var(--snap-text-dark);\n}\n\n.non-taxon .btn-secondary:not(:disabled):not(.disabled).active {\n  background-color: var(--snap-species-header-background);\n}\n\n.rb.btn-group {\n  display: flex;\n  flex-direction: column;\n}\n\n.rb.btn-group .btn.btn-secondary.active {\n  color: var(--snap-success);\n  background-color: inherit;\n  border: none;\n}\n\n.btn-secondary:not(:disabled):not(.disabled):active {\n  color: var(--snap-text-medium-dark);\n  background-color: initial;\n  border: none;\n}\n\n.rb.btn-group .btn:hover {\n  color: rgb(100, 100, 100);\n}\n\n.btn.btn-secondary.disabled.active {\n  opacity: 1;\n}\n\n.rb.btn-group label {\n  margin: 0 0 .5rem 0;\n}\n\n.rb.btn-group input[type=radio] {\n  box-sizing: border-box;\n  padding: 0;\n  position: absolute;\n  clip: rect(0,0,0,0);\n  pointer-events: none;\n}\n\n.btn.btn-secondary {\n  color: var(--snap-text-medium-dark);\n  background-color: var(--white);\n  border: 0;\n  width: fit-content;\n  border: none;\n}\n\n.btn.btn-secondary:hover {\n  transition: none;\n}\n\n.btn.btn-secondary.disabled .collectionName, .btn.btn-secondary.active .guideName {\n  border: none;  \n}\n\n.left-grid,\n.species-card-wiki-entry,\n.collection-preview,\n.collection button,\n.collections-skills {\n  display: none;\n}\n\n.species-table td .portrait input {\n  height: 1.15rem;\n  width: 1.15rem;\n}\n\n.badge {\n  vertical-align: text-top;\n  cursor: pointer;\n}\n\n.badge-light {\n  color: inherit;\n  background-color: transparent;\n  margin: -0.25rem 0 0 0.25rem;\n  padding: 0.4rem 0.4rem 0.3rem 0.4rem;\n}\n\n.badge-list {\n  height: 100%;\n  padding: 1rem;\n  background-color: var(--snap-snap-action-btn);\n}\n\n.question-images {\n  display: grid;\n  height: 8rem;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  grid-gap: 0.5rem;\n}\n\n.layer-container {\n  cursor: pointer;\n  background-size: cover;\n  background-position: center;\n}\n\n.layer {\n  height: 100%;\n  width: 100%;\n  color: rgb(101, 132, 37, 0);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.layer > div {\n  text-align: center;\n}\n\n.feature-label {\n  color: var(--snap-text-green);\n}\n\n.lesson-option-headers {\n    height: 2.5rem;\n    display: flex;\n    align-items: center;\n    color: var(--snap-text-dark);\n    letter-spacing: 0.03rem;\n    padding: 0;\n    width: fit-content;\n}\n\n.faded {\n  color: var(--snap-border-lightest);\n}\n\n.compare-species-link {\n  cursor: pointer;\n}\n\n.imageSlider .carousel-inner {\n  display: flex;\n  flex-direction: column;\n  background-color: rgba(211, 214, 173, 0.4);\n}\n\n.imageSlider .carousel-inner > div {\n  width: inherit;\n}\n\n.imageSlider .carousel-control-next, .imageSlider .carousel-control-prev {\n  top: 40%;\n  height: 20%;\n  width: 10%;\n  background-color: rgba(211, 214, 173, 0.2);\n  opacity: 0.5;\n}\n\n.carousel-control-next button, .carousel-control-prev button {\n  background-color: transparent !important;\n  border: none !important;\n}\n\n.carousel-control-next[disabled="disabled"],\n.carousel-control-prev[disabled="disabled"] {\n  pointer-events: none;\n}\n\n.imageSlider .carousel.slide {\n  background-color: var(--snap-text-dark-medium-dark);\n}\n\n.imageSlider .carousel-inner > div:nth-child(1), .imageSlider .carousel-item {\n  height: var(--vhExtraSmallImageCarousel);\n  min-height: var(--vhExtraSmallImageCarousel);\n}\n\n.species-card-images .carousel-item-next, .species-card-images .carousel-item-prev, .species-card-images .carousel-item.active {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.imageSlider .carousel-item-next, .imageSlider .carousel-item-prev, .imageSlider .carousel-item.active {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  pointer-events: all;\n}\n\n.info-box .carousel-item-next, .info-box .carousel-item-prev, .info-box .carousel-item.active {\n  display: grid;\n}\n\n.carousel-item.active button {\n  width: initial;\n}\n\n.imageSlider .carousel-item > div {\n  height: 90%;\n  background-size: inherit;\n  background-repeat: no-repeat;\n  background-position: center;  \n}\n\n#imageSlider_card-card .carousel-item > div, #imageSlider_card-card .carousel-item > div {\n  pointer-events: none;\n}\n\n.imageSlider .carousel-item > div.contain-image {\n  background-size: contain;\n}\n\n.imageSlider .carousel-control-next-icon,\n.imageSlider .carousel-control-prev-icon {\n  width: 1.5rem;\n  height: 1.5rem;\n  background-color: transparent;\n  border: none;\n}\n\n#imageSlider1 {\n  flex: 1;\n}\n\n#imageSlider2 {\n  flex: 1;\n}\n\n#imageSlider3 {\n  flex: 1;\n}\n\n.info-box .carousel.slide {\n  float: right;\n  width: 100%;\n  background-color: var(--snap-species-header-background);\n}\n\n.info.carousel.slide .carousel-item div dt, .info.carousel.slide .carousel-item div dd {\n  padding: .25rem 0;\n  text-align: center;\n  margin: 0 15%;\n  height: var(--vhHalfStandardBlock, 5vh);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.info.carousel.slide .carousel-item div dt, .info.carousel.slide .carousel-item div dd {\n  background-color: rgba(128, 128, 128, 0.3);\n}\n\n.info.carousel.slide .carousel-item div dd {\n  background-color: rgba(128, 128, 128, 0.1);\n  text-transform: lowercase;\n}\n\n.info.carousel-control .carousel-control-next-icon {\n  color: black;\n}\n\n.carousel-control-prev-icon {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23000\' viewBox=\'0 0 8 8\'%3E%3Cpath d=\'M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z\'/%3E%3C/svg%3E");\n}\n\n.carousel-control-next-icon {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23000\' viewBox=\'0 0 8 8\'%3E%3Cpath d=\'M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z\'/%3E%3C/svg%3E");\n}\n\n.bird-song div:nth-child(2) {\n  background-color: rgb(142, 160, 119);\n}\n\n.bird-song-bg {\n  background-color: var(--snap-collection-active);\n}\n\n.bird-song-icon {\n  color: rgba(0, 0, 0, 1);\n  margin-left: -.5rem;\n}\n\n.bird-song-icon-disabled {\n  color: rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n  margin-left: -.5rem;\n}\n\niframe#birdsong {\n  width: 1px;\n  min-width: 260px;\n}\n\n.rank {\n  border-radius: 0.24rem;\n  display: inline-block;\n  vertical-align: text-top;\n}\n\n.radio-buttons.disabled label {\n  color: rgb(100,100,100);\n}\n\n.visual-match .description div:empty,\n.visual-match .description span:empty {\n  display: none;\n}\n\ndiv.hide-empty:empty,\nspan.hide-empty:empty {\n  display: none !important;\n}\n\n.visual-match .description {\n  background-color: rgb(200, 197, 172);\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n}\n\n.visual-match .description span {\n  flex: 1;\n  padding: 0.5rem;\n}\n\n.comparison-description {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0 0.5rem;\n}\n\n.species-search .icon {\n  font-size: 2.5rem;\n  height: calc(var(--vhStandardBlock, 30vh) * 1.5);\n  color: rgb(90, 147, 252);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.species-search .icon i:not(.slow-spin) {\n  color: var(--snap-active);\n}\n\n.question-container .icon {\n  color: rgb(90, 147, 252);\n  font-size: 1.8rem;\n}\n\n.slow-spin {\n  -webkit-animation: fa-spin 6s infinite linear;\n  animation: fa-spin 6s infinite linear;\n}\n\na.collection-disabled {\n  color: grey;\n  pointer-events: none;\n}\n\n.attribution-layer {\n  color: var(--snap-text-light);\n}\n\n.rights-attribution {\n  display: grid;\n  grid-template-columns: 2rem auto;\n  height: var(--vhRunningBlock);\n  background-color: rgb(166, 177, 155);\n  font-size: .7rem;\n}\n\n.rights-attribution .underline-link {\n  color: white !important;\n}\n\n.rights-link-copyright {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  z-index: 25;\n}\n\n.rights-link-copyright .underline-link {\n  line-height: 1.5;\n}\n\n.rights-link-copyright i {\n  color: white;\n  font-size: 1.1rem;\n}\n\n.rights-link-copyright i.fas.fa-copyright {\n  font-size: 1.3rem;\n}\n\n.rights-link {\n  height: var(--vhRunningBlock);\n  grid-template-columns: 2rem auto 2rem;\n  background-color: rgb(166, 177, 155);\n  display: grid;\n}\n\n.rights-link > div:nth-child(1), .rights-link > div:nth-child(3) {\n  cursor: pointer;\n}\n\n.rights-attribution > div > div:nth-child(1) {\n  margin: 0 0.5rem 0 0;\n}\n\n.rights-attribution > div > div:nth-child(2) {\n  flex: 1;\n}\n\n.rights-attribution span {\n  vertical-align: baseline;\n  margin: 0 0 0 0.25rem;\n}\n\n.greek {\n  vertical-align: super;\n}\n\n.dropdown.collections {\n  display: flex;\n}\n\n.range-slider-control {\n  display: flex;\n  justify-content: space-between;\n}\n\n.carousel-indicators {\n  height: var(--vhRunningBlock);\n  bottom: 0;\n  margin: 0 !important;\n  margin-left: 2.5rem !important;\n  margin-right: 2.5rem !important;\n  align-items: center;\n}\n\n.carousel-indicators li {\n  background-color: var(--snap-text-medium-dark);\n  width: 1rem;\n  height: 0.25rem;\n  margin-bottom: 0;\n}\n\n.carousel-indicators .active {\n  background-color: white;\n}\n\n.question-header {\n  display: flex;\n  background-color: var(--snap-species-header-background);\n  color: var(--snap-dark);\n  justify-content: center;\n}\n\n.card-link {\n  cursor: pointer;\n  color: rgb(128, 121, 49);\n}\n\n.calendar-container {\n  display: flex;\n  align-items: center;\n  border-right: 1px solid var(--snap-border-lightest);\n  justify-content: center;\n}\n\n.calendar-box .row {\n  display: grid;\n  grid-auto-flow: row;\n}\n\n.calendar-box .col {\n  display: grid;\n  grid-auto-flow: column;\n}\n\n.calendar-box .col div {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.4rem;\n  height: 1.4rem;\n}\n\n.most-observations {\n  color: var(--orange);\n}\n\n.current-month {\n  border: 0.05rem solid rgba(108, 117, 125,.8);\n}\n\n.floating-card > span:nth-child(1) {\n  background: #fff;\n  border: none;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0,0,0,.2);\n  display: inline-block;\n  font-weight: 300;\n  margin: .5rem;\n  padding: .8rem 1.1rem;\n}\n\n.home-container .snapdragon-header {\n  text-transform: uppercase;\n  color: var(--snap-text-medium-light);\n  font-size: 1.6rem;\n  letter-spacing: .25rem;\n  border-bottom: 1px solid var(--snap-border-lightest);\n}\n\n.home-container .snapdragon-header a, .home-container .snapdragon-header a:visited {\n  color: var(--snap-text-medium-light);\n}\n\n.home-container .snapdragon-tag, .home-container .summary-scores, .trait-card-summary-container .summary-scores {\n  justify-content: center;\n  font-style: italic;\n  display: flex;\n  color: var(--snap-link);\n  letter-spacing: .03rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.trait-card-summary-container .summary-scores {\n  padding: 0 1rem;\n}\n\n.home-guide .taxa {\n  color: var(--snap-collection-active);\n}\n\n.home-guide .taxa > span {\n  margin-right: .25rem;\n}\n\n.summary-scores .summary-progress {\n  margin: 1rem 0 0 0;\n  position: relative;\n}\n\n.summary-scores .summary-progress span {\n  margin: 0 0 0 .5rem;\n}\n\n.summary-scores .summary-progress span.above {\n  position: relative;\n  bottom: .5rem;\n}\n\n.summary-scores .summary-progress span.below {\n  position: relative;\n  top: .5rem;\n}\n\n.summary-scores span {\n  margin: 0 .25rem 0 0;\n}\n\n.summary-scores span:nth-child(2) {\n  vertical-align: super;\n}\n\n.trait-line {\n  margin-top: 2rem;\n}\n\n.trait-line .small-icon {\n  font-size: 1rem !important;\n  margin: 0 !important;\n}\n\n.trait-icon, .trait-icon > span {\n  margin: 0 !important;\n}\n\n.trait-icon svg g g {\n  fill: var(--snap-link);\n}\n\n.home-container .snapdragon-tag .inat-widget span:nth-child(1) {\n  font-style: initial;\n}\n\n.home-container .vernacular-language {\n  font-size: 1rem;\n}\n\n.delete-guide-link > span.active {\n  color: var(--snap-alert) !important; \n  pointer-events: initial;\n}\n\n.delete-guide-link > span.disabled {\n  color: var(--secondary) !important;\n  pointer-events: none;\n}\n\n.delete-guide-link input {\n  cursor: pointer;\n  width: 1rem;\n  height: 1rem;\n  vertical-align: text-bottom;\n}\n\n.home-container .snapdragon-tag > div .underline-link {\n  text-transform: initial;\n}\n\n.home-container .snapdragon-tag > div .super-text {\n  display: inline-block;\n  margin: .5rem 0 0 .25rem;\n  vertical-align: top;\n  color: var(--secondary);\n  font-style: italic;\n}\n\n.snapdragon-create-guide {  \n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  color: var(--snap-link);\n}\n\n.snapdragon-create-guide > div:nth-child(1) {\n  letter-spacing: .05rem;\n  text-transform: uppercase;\n}\n\n.snapdragon-create-guide .for-text {\n  vertical-align: middle;\n}\n\n.snapdragon-create-guide .toggle-links {\n  display: flex;\n  justify-content: flex-end;\n  margin: .5rem .25rem 0 0;\n}\n\n.edit-guide-link, .save-guide-link, .margin-right {\n  margin: 0 .5rem 0 0;\n}\n\n.swap-in-card {\n  display: initial;\n}\n\n.swap-out-card {\n  display: none !important;\n}\n\n.no-pointer-events {\n  pointer-events: none;\n}\n\n.snapdragon-intro {\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhStandardBlock,20vh) - var(--vhRunningBlock));\n  top: calc(var(--vhStandardBlock));  \n}\n\n.snapdragon-intro > h3, .snapdragon-intro > h4, .snapdragon-intro > h5 {\n  line-height: 2;\n  font-size: 1rem;\n  margin: 1.2rem 2.4rem 0 2.4rem !important;\n}\n\n.snapdragon-intro .youtube-icon {\n  font-size: 1rem;\n}\n\n.lesson-list {\n  position: relative;\n  background-color: var(--snap-block-light);\n}\n\n.lesson-list-header {\n  padding: 0 !important;\n  background-color: var(--snap-list-header-background);\n  justify-content: space-between;\n}\n\n.lesson-list-header > div:nth-child(1) {\n  display: flex;\n  align-items: center;\n}\n\n.lesson-list-header > div:nth-child(1) > div {\n  color: var(--snap-text-medium-light);\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n  padding-right: 1rem;\n}\n\n.lesson-list-header > div:nth-child(2) {  \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.lesson-list-header > div:nth-child(2) > div {  \n  height: calc( var(--vh) * 5);\n  width: calc( var(--vh) * 5);\n}\n\n.lesson-list-header > div:nth-child(1) {\n  padding-left: .5rem !important;\n}\n\n.lesson-list-header > div[data-toggle-state="off"]:nth-child(1) > div:nth-child(1) {\n  display: none;\n}\n\n.lesson-list-header > div[data-toggle-state="on"]:nth-child(1) > div:nth-child(2) {\n  display: none;\n}\n\n.lesson-list-header i {\n  font-size: 1rem;\n  vertical-align: super;\n  color: var(--snap-text-medium-light);\n  cursor: pointer;\n}\n\n.lesson-list-carousel-item {\n  display: flex;\n  /* width: 100%; */\n  /* justify-content: space-between; */\n  margin: .25rem 0;\n}\n\n.lesson-list-carousel-item > div:nth-child(3) {\n  justify-content: left;\n  font-size: 1.3rem;\n  cursor: pointer;\n  align-items: center;\n  display: flex;\n  margin-right: .5rem;\n}\n\n.lesson-list-item {\n  padding: 1rem .5rem;\n  pointer-events: none;\n  flex-grow: 2;\n}\n\n.lesson-review, .lesson-terms-review {\n  pointer-events: initial;  \n  line-height: 3;\n}\n\n.lesson-review i {\n  font-size: .9rem;\n  color: var(--snap-collection);\n}\n\n.lesson-review i.fa-sync, .lesson-list-item i.fa-sync {\n  font-size: 1rem;\n  color: var(--snap-active);\n}\n\n.lesson-list > div > div:nth-child(1) {\n  justify-content: space-between;\n  /* top: 0; */\n  /* z-index: 30;\n  width: 100%; */\n}\n\n.lesson-list div.lesson-list-carousel-item:nth-of-type(2n) {\n  background-color: var(--snap-lesson-row-green);\n}\n\n.lesson-list div.lesson-list-carousel-item:nth-of-type(2n+1) {\n  background-color: var(--snap-lesson-row-green);\n}\n\n.lesson-list .scrollable {\n  width: 100%;  \n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhStandardBlock, 10vh));\n  flex-direction: column;\n  top: var(--vhStandardBlock, 10vh);\n  border-top: 1px solid var(--snap-border-lightest);\n}\n\n.lesson-list .scrollable .btn input[type=radio] {\n  position: absolute;\n  clip: rect(0,0,0,0);\n}\n\n.youtube-green-fg {\n  color: var(--snap-youtube-green);\n}\n\n.button-block {\n  height: var(--vhButtonBlock, 9vh);\n  margin: 0 !important;\n}\n\n.running-block {\n  height: var(--vhRunningBlock, 9vh);\n}\n\n.calendar-block {\n  height: var(--vhCalendar, 11vh);\n}\n\n.modal-footer.double-centred-block {\n  background-color: var(--snap-portrait);\n  text-transform: uppercase;\n  cursor: pointer;\n}\n\n.video {\n  position: sticky;\n  position: -webkit-sticky; \n  top: 0; \n  margin: 0;\n  padding: 0;\n  padding-top: .4rem;\n  border-top: 1px solid var(--snap-border-light);\n  position: relative;\n  height: 0;\n  padding-top: 56.25%;\n  width:100%;\n}\n\n.video iframe {\n  position: absolute;\n  top: 0; left: 0;\n  border: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.home-scrolling-container {\n  position: relative;\n}\n\n.home-scrolling-container .scrollable {\n  top: calc( var(--vhScrollingTop));\n}\n\n.form-check {\n  pointer-events: initial !important;\n  display: flex;\n  align-items: center;\n}\n\n.form-check-input {\n  margin-top: 0;\n}\n\n.lesson-list .btn-group label.form-check-label {\n  background-color: initial;\n  cursor: pointer;\n}\n\n/* .lesson-review > div {\n  font-size: .7em;\n} */\n\n.main-header {\n  font-size: 1.4rem;\n  text-transform: uppercase;\n  letter-spacing: .25rem;\n}\n\n.fa, .fab, .fal, .far, .fas {\n  line-height: 1.5;\n}\n\n#insertParent {\n  /* background-color: var(--snap-container-background);   */\n  font-size: .8rem;\n  padding: 1rem;\n}\n\n.col-count-2 {\n  column-count: 2;\n}\n\n.col-count-3 {\n  column-count: 3;\n}\n\n#insertParent > div > div:nth-child(1) {\n  font-style: italic;\n  font-size: .9rem;\n}\n\n.border-bottom {\n  border-bottom: .03rem solid var(--snap-border-medium);\n}\n\n/* .title {\n  padding: 0 .5rem;\n} */\n\n.lesson-companion {\n  display: flex;\n    align-items: center;\n    justify-content: center;\n    font-style: italic;\n    font-size: 1.1em;\n    height: var(--vhStandardBlock, 10vh);\n}\n\n.score-summary {\n  top: calc(var(--vhStandardBlock));\n  padding: .5rem 1.5rem;\n}\n\n.score-summary.scrollable.review-summary {\n  bottom: 1rem;\n}\n\n.continue-link {\n  margin-top: .5rem;  \n}\n\n.highlighted-for-review-row {\n  background-color: var(--snap-content-background) !important;\n  border-top: 1px solid var(--snap-btn-auxillary);\n  border-right: 1px solid var(--snap-btn-auxillary);\n  border-bottom: 1px solid var(--snap-btn-auxillary);\n  border-left: 1px solid var(--snap-btn-auxillary);\n}\n\n.score-summary-row {\n  border-bottom: .3rem solid var(--snap-content-background);\n  padding: 1rem 0;\n}\n\n.score-summary-row-title {\n  padding: .5rem 0 0 0;\n}\n\n.score-summary-row.species {\n  background-color: var(--snap-header-background);\n  border: none;\n  display: flex;\n  width: 100%;\n}\n\n.score-summary-row.header {\n  cursor: pointer;\n  background-color: initial;\n  font-size: initial;\n  letter-spacing: initial;\n  background-color: var(--snap-row-background);\n}\n\n.score-summary-row > div:nth-child(1), .score-summary-row > div:nth-child(3) {\n  width: 5rem;\n  min-width: 5rem;\n}\n\n.score-summary-row > div:nth-child(1) i, .score-summary-row > div:nth-child(3) i {\n  font-size: 1.2rem;\n}\n\n.score-summary-row > div {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.score-summary-row > div:nth-child(2) {\n  flex: auto;\n  align-items: flex-start;\n  max-width: 100%;\n}\n\n.score-summary-row.in-columns {\n  flex-direction: column;\n  padding: 0;\n}\n\n.score-summary-row.in-columns > div {  \n  display: flex;\n  flex-direction: row;\n  width: 100%;\n}\n\n.score-summary-row.in-columns > div > div {\n  padding: 1rem 0;\n}\n\n.score-summary-row.in-columns > div > div:nth-child(1), .score-summary-row.in-columns > div > div:nth-child(3) {\n  width: 6rem;\n  display: flex;\n  justify-content: center;\n}\n\n.score-summary-row.in-columns > div > div:nth-child(2) {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  border-bottom: .03rem solid var(--snap-dd-non-taxa-bg-hover);\n}\n\n.score-summary-row.in-columns > div > div:nth-child(2) > div {\n  font-size: .8rem;\n}\n\n.score-summary-row.in-columns > div > div:nth-child(2) > div:nth-child(1) {\n  padding: .5rem;\n}\n\n.score-summary-row.in-columns div[data-is-true="true"] > div:nth-child(2) {\n  color: var(--snap-success);\n}\n\n.score-summary-row.in-columns div[data-is-true="true"] > div:nth-child(2) {\n  border: solid 1px var(--snap-progress-bar);\n  padding: .3rem;\n  display: inline-block;\n}\n\n.score-summary-row.in-columns div[data-is-wrong-answer="true"] {\n  color: var(--snap-alert); \n}\n\nimg[data-has-image="false"] {\n  display: none;\n}\n\n.score-summary-row > div:nth-child(1) i {\n  display: none;\n}\n\n.score-summary-row > div[data-is-true="true"]:nth-child(1) i:nth-child(1) {\n  display: initial;\n  color: rgb(52, 105, 23,.5);\n  font-size: .8rem;\n  font-size: 1.5rem;\n}\n\n.score-summary-row > div:nth-child(1)[data-is-true="false"] i:nth-child(2) {\n  display: initial;\n  color: var(--snap-alert);\n  color: rgba(183, 12, 21,.5);\n  font-size: 1.5rem;\n}\n\n.score-summary-row img {\n  width: 98px;\n  height: 68px;\n}\n\n.score-summary-row.title > span {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.score-summary-footer {\n  justify-content: flex-end;\n  align-items: flex-start;\n}\n\n.concealed {\n  opacity: 0;\n}\n\n.fa, .fab, .fal, .far, .fas {\n  line-height: 1.5 !important;\n}\n\n.autocomplete {\n  height: 5rem !important;\n  position: absolute !important;\n}\n\n.login.icon > i:nth-child(2) {\n  color: var(--snap-text-light);\n}\n\n.login.icon[data-is-logged-in="true"] > i:nth-child(1) {\n  display: none;\n}\n\n.login.icon[data-is-logged-in="false"] > i:nth-child(2) {\n  display: none;\n}\n\n.quick-fire {\n  position: relative;\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh));\n  display: flex;\n  flex-direction: column;\n}\n\n/* .quick-fire .score {\n  bottom: 5rem;\n  position: absolute;\n} */\n\n.quick-fire .strips {\n  height: initial;\n}\n\ninput[type="number"].big {\n  width: 4rem;\n  padding: .5rem;\n}\n\ninput[type="number"].medium {\n  width: 3rem;\n  padding: .25rem;\n  font-size: .8rem;\n}\n\n.quick-fire-taxa {\n  column-count: 2;\n}\n\n.quick-fire label, .quick-fire-taxa label {\n  cursor: pointer;\n}\n\n.quick-fire-taxa span, .quick-fire-branches span {\n  font-size: .6rem;\n  vertical-align: super;\n  display: inline-block;\n  padding: 0 .125rem;\n  min-width: 1.5rem;\n  text-align: left;\n}\n\n.quick-fire-branches span {\n  font-size: .6rem;\n}\n\n.quick-fire .btn-group {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.quick-fire .btn-group >.btn {\n  background-color: var(--snap-snap-action-btn);\n  margin: 0 0 .5rem 0;\n  border-radius: .25rem !important;\n  letter-spacing: .03rem;\n  width: fit-content;\n  width: max-content;\n  cursor: pointer !important;  \n}\n\n.quick-fire .quick-fire-branches.btn-group >.btn {\n  background-color: var(--snap-btn-filter-off);\n  border: 1px solid var(--snap-border-lightest);\n}\n\n.quick-fire .quick-fire-options .btn-secondary {\n  border: 1px solid var(--snap-collection-active);\n}\n\n.quick-fire .quick-fire-options .btn-secondary:not(:disabled):not(.disabled).active {\n  color: var(--snap-text-light);\n  background-color: var(--snap-tertiary-background);\n  border: 1px solid var(--snap-border-light);\n}\n\n.quick-fire .quick-fire-branches .btn-secondary {\n  font-size: .7rem;\n}\n\n.quick-fire .quick-fire-branches .btn-secondary:not(:disabled):not(.disabled).active {\n  font-size: .7rem;\n  background-color: var(--snap-btn-filter-on);\n  color: var(--snap-text-dark-medium-dark);\n  border: 1px solid var(--snap-border-light);\n}\n\n.quick-fire .btn {  \n  cursor: pointer !important;\n}\n\n.quick-fire-text-entry > div{\n  width: 100%;\n}\n\n.quick-fire .custom-checkbox .custom-control-input:checked ~ .custom-control-label::before {\n  background-color: var(--snap-btn-blue);\n}\n\n.quick-fire-summary-row.card {\n  background-color: var(--snap-row-background);\n  text-align: left;\n  cursor: pointer;\n}\n\n.quick-fire-summary-row .card-header {\n  border-bottom: 0;\n}\n\n.quick-review-tabs span {\n  pointer-events: none;\n}\n\n.nav-link {\n  color: var(--snap-text-medium-dark);\n  letter-spacing: .03rem;\n}\n\n.nav-pills .nav-link.active, .nav-pills .show>.nav-link {\n  color: var(--snap-text-light);\n  color: var(--snap-text-medium-dark);\n  background-color: var(--snap-collection-light);\n}\n\n.nav-pills .nav-item:nth-child(1) .nav-link.active, .nav-pills .nav-item:nth-child(1) .show>.nav-link {\n  background-color: var(--snap-success-medium);\n}\n\n.nav-pills .nav-item:nth-child(2) .nav-link.active, .nav-pills .nav-item:nth-child(2) .show>.nav-link {\n  background-color: var(--snap-alert-medium);\n}\n\n.nav-pills .nav-link {\n  border-radius: 0;\n  position: relative;\n}\n\n.quick-fire .nav-link.active.show {\n  display: block;\n}\n\n.quick-fire .nav-item a:hover {\n  color: var(--snap-text-medium-dark);\n  background-color: var(--snap-btn-hover);\n}\n\n.quick-fire .nav-item:nth-child(1) a:hover {\n  background-color: var(--snap-success-light);\n}\n\n.quick-fire .nav-item:nth-child(2) a:hover {\n  background-color: var(--snap-alert-light);\n}\n\n.quick-fire .accordions-container {\n  height: calc(\n     (var(--vh, 1vh) * 100) \n    - var(--vhFixtures, 15vh)\n    - var(--vhDoubleStandardBlock,20vh)\n    - var(--vhStandardBlock,10vh) \n    - 1rem\n    );\n    top: calc(\n        var(--vhDoubleStandardBlock,20vh)\n      + var(--vhStandardBlock,10vh) \n    );\n}\n\n.correct-answer-color {\n  color: var(--snap-success); \n}\n\n.incorrect-answer-color {\n  color: var(--snap-alert);\n}\n\n.low-relief-block {\n  border: 1px solid var(--snap-success-light) !important;\n  background-color: var(--snap-species-highlight-background);\n}\n\n.horizontal-buttons {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: .5rem;\n}\n\n.lesson-spinner {\n  font-size: 5rem;\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh)); \n}\n\n.image-slider-190 img {\n  height: 190px;\n  min-height: 190px;\n}\n\n.lesson-icon{\n  width: 98px;\n  height: 68px;\n  object-fit: none;\n}\n\n.location-filter-options {\n  padding: .5rem;\n  grid-template-rows: 1fr 1fr;\n  display: grid;\n}\n\n.skip-link {\n  position: absolute;\n  top: -40px;\n  left: 0;\n  background: #000000;\n  color: white;\n  padding: 8px;\n  z-index: 100;\n}\n\n.skip-link:focus {\n  top: 0;\n}',""]),e.exports=n},"./node_modules/css-loader/dist/cjs.js!./src/ui/css/species-list.css":function(e,n,t){(n=t("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,'.species-table {\n  border-right: 1px solid var(--snap-btn-auxillary);\n  border-left: 1px solid var(--snap-btn-auxillary);\n  border-bottom: 1px solid var(--snap-btn-auxillary);\n}\n\n.species-table td:last-child {\n  margin-right: .5rem;\n}\n\n.table-header {\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  border: 0;\n  height: var(--vhRunningBlock,7.5vh);\n  z-index: 10;\n  align-items: center;\n  top: 0;\n  background-color: var(--snap-btn-auxillary);\n  color: var(--snap-text-light);\n  font-size: 1.1em;\n  letter-spacing: .01rem;\n}\n\n.table-header th {\n  cursor: pointer;\n  font-weight: initial;\n}\n\n.table-row {\n    display: flex;\n    flex-direction: row;\n    height: var(--vhRow, 12.5vh);\n    font-size: .9em;\n  }\n  \n  .table-row-chevron {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n  }\n\n  tr.master:nth-child(2n + 1) {\n    background-color: var(--snap-content-background);\n  }\n \n  .table-row img, table input {\n    cursor: pointer;\n  }\n  \n  .table-row img {\n    width: 64px;\n    height: 64px;\n    object-fit: none;\n    padding: .5rem;\n  }\n\n  .table-row img:hover {\n    opacity: .8;\n  }\n  \n\n  .table-row img:focus {\n    border: 1px solid black;\n  }\n  \n  .table-row .lp-level {\n    padding: 0 0 0 0.5rem;\n  }\n\n  .inserted-td {\n    font-size: .9rem;\n    white-space: normal;\n    text-align: left;\n    padding: .5rem;\n  }\n\n  th {\n    text-align: initial;\n  }\n\n\n  .table-header th:nth-child(1) {\n    min-width: 80px;\n  }\n\n  .species-list .table-header th:nth-child(2):after,\n  .species-list .table-header th:nth-child(3):after {\n    display: inline-block;\n    width: 0;\n    height: 0;\n    margin-left: 0.255rem;\n    vertical-align: middle;\n    content: "";\n    border-top: 0.3rem solid;\n    border-right: 0.3rem solid transparent;\n    border-bottom: 0;\n    border-left: 0.3rem solid transparent;\n    cursor: default;\n  }\n  \n  .table-header th:nth-child(1) > span,\n  .table-footer td:nth-child(1) > span {\n    height: 1px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .table-header th:nth-child(2) {\n    flex: 3;\n    align-items: flex-start;\n  }\n  \n  .master.table-row td:nth-child(1) {\n    width: 80px;\n    display: flex;\n    align-items: center;\n  }\n\n  .species-description > td:nth-child(1) {\n    width: 100%;\n  }\n\n  .table-row td:nth-child(2) {\n    flex: 3;\n    display: flex;\n    align-items: flex-start;\n    flex-direction: column;\n    justify-content: center;\n  }\n\n  .table-header th:nth-child(3),\n  .table-row td:nth-child(3),\n  .table-header th:nth-child(4),\n  .table-row td:nth-child(4) {\n    flex: 1;\n    display: flex;\n    align-items: center;\n  }\n\n  .table-header th:nth-child(5), .table-row td:nth-child(5) {\n    flex: 1;\n    display: flex;\n    align-items: center;\n  }\n\n  .table-header th:nth-child(6), .table-row td:nth-child(6) {\n      flex: 1;\n      display: flex;\n      align-items: center;\n  }\n\n  .hide-column {\n    flex: 0 !important;\n    display: none !important;\n  }\n\n .species-table .mushroom-icon svg {\n  width: 1rem;\n  height: 1rem;\n  margin-top: .3rem;\n }\n\ndiv.species-description {\n  background-color: var(--snap-species-highlight-background);\n  border-top: .5px solid var(--snap-youtube-green);\n  border-bottom: .5px solid var(--snap-youtube-green);\n  padding: 1rem;\n  color: rgba(0, 0, 0, .85);\n  height: initial;\n}\n\n.species-description > td {\n  width: 100%;\n}\n\n.youtube-icon, .accordion-icon {\n  font-size: 1.8rem;\n  cursor: pointer;\n}\n\ntable .youtube-icon, .accordion-icon {\n  font-size: 1.2rem;\n}\n\n.species-container {\n  position: relative;\n  width: 100%;\n}\n\n.lesson-list-action-icons {\n  right: .5rem;\n  bottom: 1.5rem;\n}\n \n.species-table .underline-link {\n    text-transform: initial;\n    display: initial;\n}  \n\n.btn-current-lesson-begin {\n  width: calc(var(--vwGrid) - 1rem);\n  margin: .5rem;\n}',""]),e.exports=n},"./src/api/traits/traits-for-tests.js":function(e,n,t){"use strict";t.r(n),t.d(n,"getTraitsForTests",(function(){return i}));var r=t("./src/utils/utils.js"),a=t("./src/ui/helpers/traits-handler.js");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var i=function getTraitsForTests(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(void 0===n.traits||0===Object.keys(n.traits).length&&n.traits.constructor===Object)return{};var i=[].concat(_toConsumableArray(a.traitsHandler.getTraitsToExclude()),_toConsumableArray(t),["lookalikes","relationships"]).filter((function(e){return e})),s=a.traitsHandler.getRandomTrait(n.traits,i);if(0===Object.keys(s).length&&s.constructor===Object)return{};var o=s.unit?a.traitsHandler.getTraitsPoolForUnits(s):s.role?a.traitsHandler.getTraitsPoolForRoles(s):a.traitsHandler.getTraitsPool(s,e),c=o.traitsPool,l=o.help,u=s.unit?s.value.join("-"):s.value.join(",");s.value=s.value.map((function(e){return r.utils.capitaliseFirst(e)}));var d=a.traitsHandler.getSetOfTraitAnswers(c,s),m={question:"Match the trait",help:l=l||s.key,trait:s};return{question:u,answers:d,overrides:m,typedItemTraits:n.traits}}},"./src/img/powered_by_google_on_white_hdpi.png":function(e,n,t){"use strict";t.r(n),n.default="img/powered_by_google_on_white_hdpi.png"},"./src/index.js":function(e,n,t){"use strict";t.r(n);t("./node_modules/babel-polyfill/lib/index.js"),t("./node_modules/bootstrap/js/dist/carousel.js"),t("./node_modules/bootstrap/js/dist/modal.js"),t("./node_modules/bootstrap/js/dist/dropdown.js"),t("./src/ui/css/snapdragon-colours.css"),t("./src/ui/css/snapdragon.css"),t("./src/ui/css/common.css"),t("./src/ui/css/snapdragon-media.css"),t("./src/ui/css/species-list.css");var r=t("./src/utils/utils.js"),a=t("./src/redux/store.js"),i=t("./src/ui/setup/next-lesson.js"),s=t("./src/ui/setup/next-layout.js"),o=t("./src/ui/setup/next-item.js"),c=t("./src/ui/fixtures/headers.js"),l=t("./src/ui/fixtures/score.js"),u=t("./src/ui/screens/home/home.js"),d=t("./src/ui/fixtures/navigation.js"),m=t("./src/redux/subscriptions.js"),p=t("./src/redux/actions/action-creators.js"),f=t("./src/api/traits/trait-types.js"),g=t("./src/ui/helpers/location-helper.js"),h=t("./src/api/firebase/firestore.js"),v=t("./src/ui/fixtures/login.js"),b=t("./src/ui/helpers/cookie-handler.js"),y=t("./src/ui/screens/cards/test-card-modal-handler.js"),x=t("./src/media-helper.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}!function onLoadHandler(){setTimeout(_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var e,n,t,j,k,w,S,_,T;return regeneratorRuntime.wrap((function _callee2$(L){for(;;)switch(L.prev=L.next){case 0:if(Object(x.handleWindowResize)(),b.cookieHandler.hasUserBeenAwayTooLong()?(a.persistor.purge(),window.location.reload(!0)):b.cookieHandler.setLastVisitedCookie(Date()),L.prev=3,firebase.auth(),"danhartleybcn@gmail.com","sarcarsnap1929",e=a.store.getState(),n=e.config,t=e.counter,j=e.lessonPlan,k=e.collections,j,n.isPortraitMode=window.matchMedia("(max-width: 767px)").matches,n.isLandscapeMode=!n.isPortraitMode,w=t?_objectSpread({},t):{index:null,isLessonPaused:!0},p.actions.boundUpdateConfig(n),p.actions.boundStopStartLesson(w),!k||0!==k.length){L.next=19;break}return L.next=17,h.firestore.getCollections();case 17:S=L.sent,p.actions.boundUpdateCollections(S);case 19:return m.subscription.add(c.renderHeaders,"collection","flow"),Object(d.renderNavigation)(),m.subscription.add(d.renderNavigation,"collection","flow"),Object(d.renderLoginChanges)(),m.subscription.add(d.renderLoginChanges,"user","flow"),m.subscription.add(v.renderLoggedIn,"user","flow"),m.subscription.add(u.renderHome,"counter","flow"),m.subscription.add(o.nextItem,"layout","flow"),m.subscription.add(i.nextLesson,"counter","flow"),m.subscription.add(s.nextLayout,"counter","flow"),m.subscription.add(l.renderScore,"score","flow"),m.subscription.add(f.traitValuesHandler,"config","localisation"),_=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var e;return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.initialiseConfig)(n);case 2:e=t.sent,p.actions.boundUpdateConfig(e);case 4:case"end":return t.stop()}}),_callee,this)})));return function updateConfig(){return e.apply(this,arguments)}}(),n.guide.locationType||_(),L.next=35,h.firestore.getDefinitionsByTaxa(["common","plantae","aves","fungi","insecta"]);case 35:T=L.sent,T=r.utils.sortAlphabeticallyBy(T,"term"),p.actions.boundCreateGlossary(T),Object(x.loadModalHTML)(),y.lessonModalHandler.onCloseModal(),L.next=45;break;case 42:L.prev=42,L.t0=L.catch(3),console.log("home page error: ",L.t0);case 45:case"end":return L.stop()}}),_callee2,this,[[3,42]])}))))}()},"./src/redux/observe-store.js":function(e,n,t){"use strict";t.r(n),t.d(n,"observeStore",(function(){return r}));var r=function observeStore(e,n,t,r,a){var i=null,s=!1;function handleChange(){var r=n(e.getState());if(s=r!==i,i&&Object.is(i.index,0)){var o=!0;o=(o=o&&Object.is(r.index,i.index))&&Object.is(r.isLessonPaused,i.isLessonPaused),s=!o}if(i&&r)switch(a){case"screen-species-card":case"screen-taxon-card":case"screen-non-taxon-card":case"species-vernaculars":case"mixed-specimen-images":case"mixed-specimen-question":case"screen-common-to-latin":case"screen-genus-completion":case"screen-latin-to-common":case"media-match":s=(r.nextItem&&r.nextItem.name)!==(i.nextItem&&i.nextItem.name)}s&&t(i=r)}handleChange.domain=r,handleChange.calledBy=t.name;var o=e.subscribe(handleChange);return s&&handleChange(),{unsubscribe:o,name:t.name}}},"./src/redux/subscriptions.js":function(e,n,t){"use strict";t.r(n),t.d(n,"subscription",(function(){return m}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/ui/screens/lists/lesson-state-helper.js"),i=t("./src/redux/store.js"),s=t("./src/redux/observe-store.js"),o=t("./src/ui/helpers/function-lookups.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c=[],l=function remove(e){return e&&(e.unsubscribe(),c=c.filter((function(n){return n.name!==e.name}))),c},u=function getByName(e){return c.find((function(n){return n.name===e}))},d=function getByRole(e){return c.filter((function(n){return n.role===e}))},m={add:function add(e,n,t,r){var a=e,o=Object(s.observeStore)(i.store,(function select(e){return e[n]}),a,n,r);if(!u(o.name))return c.push(_objectSpread(_objectSpread({},o),{},{role:t})),o},remove:l,removeByName:function removeByName(e){var n=u(e);if(n)return l(n)},getByName:u,getByRole:d,getAll:function getAll(){return c},removeSubs:function removeSubs(){d("screen").forEach((function(e){return m.remove(e)}))},addSubs:function addSubs(e,n){e&&e.screens.forEach((function(t,s){var c=Object(o.funcByName)(t.name),l=function checkRequired(e,n){var t=e.userAction,i=e.config,s=!0;return!!(s=a.lessonStateHelper.getIsReviewingLesson(t,i,s))||!r.contains(n.name,["screen-species-card","screen-taxon-card","screen-non-taxon-card","species-vernaculars","mixed-specimen-images","mixed-specimen-question","screen-common-to-latin","screen-genus-completion","screen-latin-to-common","media-match"])}(i.store.getState(),e);c&&l?n.isPortraitMode&&1!==s&&"summary"!==t.name||m.add(c,t.domain,"screen",e?e.name:""):(m.remove(m.getByName("nextItem")),m.remove(m.getByName("traitValuesHandler")))}))}}},"./src/snapdragon-config/lesson-plans.js":function(e,n,t){"use strict";t.r(n),t.d(n,"lessonPlans",(function(){return g}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/snapdragon-config/screen-layouts.js"),i=t("./src/snapdragon-config/plans/landscape/landscape-custom.js"),s=t("./src/snapdragon-config/plans/landscape/landscape-fungi.js"),o=t("./src/snapdragon-config/plans/landscape/landscape-static.js"),c=t("./src/snapdragon-config/plans/portrait/portrait-static.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l=_objectSpread(_objectSpread({},r.clone(o.landscapeStatic)),{},{id:5});l.levels[0].bonusLayouts&&l.levels[0].bonusLayouts[0].types.push("song");var u=_objectSpread(_objectSpread({},r.clone(c.portraitStatic)),{},{id:105});u.levels[0].layouts.push(a.layouts.mediaMatch);var d=_objectSpread(_objectSpread({},r.clone(s.landscapeFungi)),{},{id:103,portrait:!0});d.levels[0].bonusLayouts=[_objectSpread(_objectSpread({},a.layouts.traitPropertyMatch),{},{types:["definition"]})];var m=_objectSpread(_objectSpread({},r.clone(s.landscapeLichens)),{},{id:104,portrait:!0}),p=_objectSpread(_objectSpread({},r.clone(i.landscapeCustom)),{},{id:101,portrait:!0}),f=_objectSpread(_objectSpread({},r.clone(i.landscapeCustom2)),{},{id:102,portrait:!0}),g=[i.landscapeCustom,i.landscapeCustom2,o.landscapeStatic,o.landscapeStaticTaxonGroup,o.landscapeStaticProviderQuestionsOnly,s.landscapeFungi,s.landscapeLichens,l,p,f,c.portraitStatic,c.portraitStaticTaxonGroup,d,m,u]},"./src/snapdragon-config/plans/landscape/landscape-custom.js":function(e,n,t){"use strict";t.r(n),t.d(n,"landscapeCustom",(function(){return a})),t.d(n,"landscapeCustom2",(function(){return i}));var r=t("./src/snapdragon-config/screen-layouts.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a={id:1,name:"Lesson 1",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[r.layouts.mixedSpecimenImages,r.layouts.latinToCommonMatch,r.layouts.commonEntry,r.layouts.commonToLatinMatch,r.layouts.textCompleteGenus,r.layouts.genusEntry,r.layouts.textCompleteSpecies,r.layouts.speciesEntry,r.layouts.speciesGenusEntry,r.layouts.familyMatch,r.layouts.familyStripsMatch],bonusLayouts:[_objectSpread(_objectSpread({},r.layouts.traitPropertyMatch),{},{types:["definition"]})]}]},i={id:2,name:"Lesson 2",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[r.layouts.mixedSpecimenImages,r.layouts.familyMatch,r.layouts.familyStripsMatch],bonusLayouts:[_objectSpread(_objectSpread({},r.layouts.traitPropertyMatch),{},{types:["definition"]})]}]}},"./src/snapdragon-config/plans/landscape/landscape-fungi.js":function(e,n,t){"use strict";t.r(n),t.d(n,"landscapeFungi",(function(){return i})),t.d(n,"landscapeLichens",(function(){return s}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/snapdragon-config/screen-layouts.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i={id:3,name:"Lesson 3",portrait:!1,default:!1,levels:[{id:1,name:"Level 1",layouts:[a.layouts.mixedSpecimenImages,a.layouts.latinToCommonMatch,a.layouts.commonEntry,a.layouts.commonToLatinMatch,a.layouts.textCompleteGenus,a.layouts.genusEntry,a.layouts.textCompleteSpecies,a.layouts.speciesEntry,a.layouts.propertyTrait(a.layouts.mixedTraitImages,["capShape"]),a.layouts.propertyTrait(a.layouts.mixedTraitImages,["gillAttachment"]),a.layouts.speciesGenusEntry],bonusLayouts:[_objectSpread(_objectSpread({},a.layouts.traitPropertyMatch),{},{types:["lookalikes","definition"]})]}]},s=_objectSpread(_objectSpread({},r.clone(i)),{},{id:4});s.levels[0]={id:1,name:"Level 1",description:"Species recognition",layouts:[a.layouts.mixedSpecimenImages]}},"./src/snapdragon-config/plans/landscape/landscape-static.js":function(e,n,t){"use strict";t.r(n),t.d(n,"landscapeStatic",(function(){return a})),t.d(n,"landscapeStaticTaxonGroup",(function(){return i})),t.d(n,"landscapeStaticProviderQuestionsOnly",(function(){return s}));var r=t("./src/snapdragon-config/screen-layouts.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a={id:10,name:"Lesson 1",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[r.layouts.mixedSpecimenImages,r.layouts.latinToCommonMatch,r.layouts.commonEntry,r.layouts.commonToLatinMatch,r.layouts.textCompleteGenus,r.layouts.genusEntry,r.layouts.textCompleteSpecies,r.layouts.speciesEntry,r.layouts.propertyTrait(r.layouts.mixedTraitImages,["capShape","gillAttachment","leafShape","leafDivision","inflorescence","leafMargin"]),r.layouts.speciesGenusEntry,r.layouts.familyMatch,r.layouts.familyStripsMatch],bonusLayouts:[_objectSpread(_objectSpread({},r.layouts.traitPropertyMatch),{},{types:["lookalikes","definition"]})]}]},i={id:11,name:"Lesson 11",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[r.layouts.mixedSpecimenImages,r.layouts.speciesIdentificationMatch,r.layouts.latinToCommonMatch,r.layouts.commonEntry,r.layouts.commonToLatinMatch,r.layouts.textCompleteGenus,r.layouts.genusEntry,r.layouts.textCompleteSpecies,r.layouts.speciesEntry,r.layouts.speciesGenusEntry]}]},s={id:12,name:"Lesson 12",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[],bonusLayouts:[]}]}},"./src/snapdragon-config/plans/portrait/portrait-static.js":function(e,n,t){"use strict";t.r(n),t.d(n,"portraitStatic",(function(){return a})),t.d(n,"portraitStaticTaxonGroup",(function(){return i}));var r=t("./src/snapdragon-config/screen-layouts.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a={id:110,name:"Lesson 110",portrait:!0,default:!0,levels:[{id:1,name:"Level 1",layouts:[r.layouts.mixedSpecimenImages,r.layouts.latinToCommonMatch,r.layouts.commonEntry,r.layouts.commonToLatinMatch,r.layouts.textCompleteGenus,r.layouts.genusEntry,r.layouts.textCompleteSpecies,r.layouts.speciesEntry,r.layouts.propertyTrait(r.layouts.mixedTraitImages,["capShape","gillAttachment","leafShape","leafDivision","inflorescence","leafMargin"]),r.layouts.speciesGenusEntry,r.layouts.familyMatch,r.layouts.familyStripsMatch],bonusLayouts:[_objectSpread(_objectSpread({},r.layouts.traitPropertyMatch),{},{types:["definition"]})]}]},i={id:111,name:"Lesson 111",portrait:!0,default:!0,levels:[{id:1,name:"Level 1",layouts:[r.layouts.mixedSpecimenImages,r.layouts.latinToCommonMatch,r.layouts.commonEntry,r.layouts.commonToLatinMatch,r.layouts.textCompleteGenus,r.layouts.genusEntry,r.layouts.textCompleteSpecies,r.layouts.speciesEntry,r.layouts.speciesGenusEntry],bonusLayouts:[_objectSpread(_objectSpread({},r.layouts.traitPropertyMatch),{},{types:["lookalikes","definition"]})]}]}},"./src/snapdragon-config/screen-layouts.js":function(e,n,t){"use strict";t.r(n),t.d(n,"layouts",(function(){return le}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/snapdragon-config/screen-panels.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=a.panels.specimenImages,s=a.panels.speciesCard,o=a.panels.vernaculars,c=a.panels.scientifics,l=a.panels.text,u=a.panels.leaf,d=a.panels.leafName,m=a.panels.family,p=a.panels.familyStrips,f=a.panels.taxon,g=a.panels.nonTaxon,h=a.panels.textComplete,v=a.panels.cultivar,b=a.panels.cultivarCard,y=a.panels.epithets,x=a.panels.definitions,j=a.panels.specimenCommonMatch,k=a.panels.specimenLatinMatch,w=a.panels.definitionCard,S=a.panels.traitProperty,_=a.panels.symbioticProperty,T=a.panels.lookalikeProperty,L=a.panels.traitImages,q=a.panels.nonTaxonSpecimenTiles,O=a.panels.mixedSpecimenQuestions,A=a.panels.mixedSpecimensLeft,C=a.panels.mixedSpecimensRight,E=a.panels.history,I=a.panels.summary,P=a.panels.birdsong,M=(a.panels.mediaPlayers,a.panels.mixedTraitLeft),H=a.panels.mixedTraitRight,N=a.panels.providerHorizontalStripQuestions,R=a.panels.speciesIdentification,G={name:"screen-mixed-species-match",type:"test",score:1,kind:"VMC",points:3,given:"Given species name",requirement:"Select species image",screens:[_objectSpread({},i),_objectSpread({},O)]},D={name:"screen-species-card",type:"revision",score:0,kind:"S",points:0,given:"Given species summary",requirement:"Study species",screens:[_objectSpread({},i),_objectSpread({},s)]},F={name:"screen-taxon-card",type:"revision",score:0,kind:"F",points:0,given:"Study",requirement:"Family summary",screens:[_objectSpread({},i),_objectSpread({},f)]},z={name:"screen-non-taxon-card",type:"revision",score:0,kind:"GR",points:0,given:"Group summary",requirement:"Study",screens:[_objectSpread({},q),_objectSpread({},g)]},B={name:"screen-definition-card",type:"revision",score:0,kind:"G",points:0,given:"Given glossary",requirement:"Study definitions",screens:[_objectSpread({},i),_objectSpread({},w)]},U={name:"screen-latin-to-common",type:"test",score:1,points:1,kind:"MC",given:"Given latin name",requirement:"Select common name",screens:[_objectSpread({},i),_objectSpread({},o)]},$={name:"screen-common-to-latin",type:"test",score:1,points:1,kind:"MC",given:"Given common name",requirement:"Select latin name",screens:[_objectSpread({},i),_objectSpread({},c)]},K={name:"screen-species-identification",type:"test",score:1,points:1,kind:"MC",given:"Given species name",requirement:"Select identification",screens:[_objectSpread({},i),_objectSpread({},R)]},V={name:"screen-genus-completion",type:"test",score:1,points:1,kind:"MC",given:"Given species name",requirement:"Select genus name",screens:[_objectSpread({},i),_objectSpread(_objectSpread({},h),{},{type:"text-complete-genus"})]},Q={name:"screen-specimens-common-match",type:"test",score:1,points:1,kind:"VMC",given:"Given specimenImages images",requirement:"Select common name",screens:[_objectSpread({},i),_objectSpread({},j)]},W={name:"screen-specimens-latin-match",type:"test",score:1,points:1,kind:"VMC",given:"Given specimenImages images",requirement:"Select latin name",screens:[_objectSpread({},i),_objectSpread({},k)]},Y={name:"trait-property-match",type:"test",score:1,points:1,kind:"MC",bonus:!0,given:"Given traitImages images",requirement:"Select trait value",screens:[_objectSpread({},L),_objectSpread({},S)]},X={name:"lookalike-property-match",type:"test",score:1,points:1,kind:"MC",bonus:!0,given:"Given traitImages images",requirement:"Select trait value",screens:[_objectSpread({},L),_objectSpread({},T)]},J={name:"symbiotic-property-match",type:"test",score:1,points:1,kind:"MC",given:"Given specimenImages images",requirement:"Select symbiotic match",screens:[_objectSpread({},i),_objectSpread({},_)]},Z={name:"screen-species-to-family",type:"test",score:1,points:2,kind:"MC",given:"Species name",requirement:"List families",screens:[_objectSpread({},i),_objectSpread({},m)]},ee={name:"screen-cultivar-to-species",type:"test",score:1,points:2,kind:"MC",given:"Cultivar name",requirement:"List species",screens:[_objectSpread({},i),_objectSpread({},v)]},ne={name:"screen-family-to-description",type:"test",score:1,points:2,kind:"MC",given:"Family description",requirement:"List families",screens:[_objectSpread({},i),_objectSpread({},p)]},te={name:"screen-genus-entry",type:"test",score:1,points:2,kind:"T",given:"Given species name",requirement:"Enter genus name",screens:[_objectSpread({},i),_objectSpread(_objectSpread({},l),{},{taxon:"genus"})]},re={name:"screen-species-entry",type:"test",score:1,points:2,kind:"T",given:"Given genus name",requirement:"Enter species name",screens:[_objectSpread({},i),_objectSpread(_objectSpread({},l),{},{taxon:"species"})]},ae={name:"screen-binomial-entry",type:"test",score:1,points:4,kind:"T",given:"Given common name",requirement:"Enter latin name",screens:[_objectSpread({},i),_objectSpread(_objectSpread({},l),{},{taxon:"name"})]},ie={type:"test",score:1,points:3,kind:"T",screens:[_objectSpread({},u),_objectSpread({},d)]},se={name:"screen-species-completion",type:"test",score:1,points:2,kind:"MC",given:"Given genus name",requirement:"Select species name",screens:[_objectSpread({},i),_objectSpread(_objectSpread({},h),{},{type:"text-complete-species"})]},oe={name:"screen-common-entry",type:"test",score:1,points:2,kind:"T",given:"Species latin name",requirement:"Enter common name",screens:[_objectSpread({},i),_objectSpread(_objectSpread({},l),{},{taxon:"vernacular"})]},ce={name:"screen-epithets",type:"test",score:1,points:1,kind:"MC",given:"Epithet",requirement:"List epithet definitions",screens:[_objectSpread({},i),_objectSpread({},y)]},le={mixedSpeciesMatch:G,speciesRevision:D,taxonRevision:F,nonTaxonRevision:z,definitionRevision:B,latinToCommonMatch:U,commonToLatinMatch:$,textCompleteGenus:V,multiSpecimenCommonMatch:Q,multiSpecimenLatinMatch:W,traitPropertyMatch:Y,lookalikePropertyMatch:X,symbioticPropertyMatch:J,familyMatch:Z,cultivarMatch:ee,familyStripsMatch:ne,genusEntry:te,speciesEntry:re,speciesGenusEntry:ae,textCompleteSpecies:se,commonEntry:oe,leafEntry:ie,glossaryTerms:{name:"screen-definitions",type:"test",score:1,points:1,kind:"T",given:"Given glossary term",requirement:"Select definition",screens:[_objectSpread({},i),_objectSpread({},x)]},latinEpithets:ce,cultivars:{name:"screen-cultivars",type:"test",score:1,points:1,kind:"T",given:"List of cultivars",requirement:"List of species",screens:[_objectSpread({},i),_objectSpread({},b),_objectSpread({},v)]},mixedSpecimenImages:{name:"mixed-specimen-images",type:"test",score:1,points:2,kind:"T",given:"Specimen images",requirement:"Select species image",screens:[_objectSpread({},A),_objectSpread({},C)]},history:E,summary:I,mediaMatch:{name:"media-match",type:"test",score:1,points:2,kind:"T",given:"Species song",requirement:"Select species",screens:[_objectSpread({},i),_objectSpread({},P)]},mixedTraitImages:{name:"mixed-trait-images",type:"test",kind:"T",score:1,points:2,given:"Trait images",requirement:"Select trait image",screens:[_objectSpread({},M),_objectSpread({},H)]},providerHorizontalStrip:{name:"provider-horizontal-strip",type:"test",score:1,screens:[_objectSpread({},i),_objectSpread({},N)]},speciesIdentificationMatch:K,propertyTrait:function propertyTrait(e,n){var t=r.clone(e);return t.screens[0].traits=n,t.screens[1].traits=n,t}}},"./src/snapdragon-config/screen-panels.js":function(e,n,t){"use strict";t.r(n),t.d(n,"panels",(function(){return r}));var r={specimenImages:{name:"specimen-images",domain:"collection"},history:{name:"history",domain:"history"},speciesCard:{name:"species-card",domain:"collection"},definitionCard:{name:"definition-card",domain:"collection"},scientifics:{name:"species-scientifics",domain:"collection",taxon:"name"},vernaculars:{name:"species-vernaculars",domain:"collection",taxon:"name"},text:{name:"text-entry",domain:"collection"},summary:{name:"summary",domain:"history"},leaf:{name:"leaf-image",domain:"collection"},leafName:{name:"leaf-text",domain:"collection"},epithets:{name:"epithet",domain:"collection"},definitions:{name:"definition",domain:"bonusLayout"},family:{name:"family",domain:"collection"},familyStrips:{name:"family-strips",domain:"collection"},taxon:{name:"taxon-card",domain:"collection"},nonTaxon:{name:"non-taxon-card",domain:"collection"},nonTaxonSpecimenTiles:{name:"non-taxon-specimen-tiles",domain:"collection"},textComplete:{name:"text-complete",domain:"collection",question:"Complete the latin name"},cultivarCard:{name:"cultivar-card",domain:"collection"},cultivar:{name:"cultivar-match",domain:"collection"},specimenCommonMatch:{name:"visual-match",domain:"collection",type:"vernacular"},specimenLatinMatch:{name:"visual-match",domain:"collection",type:"binomial"},traitProperty:{name:"trait-property",domain:"bonusLayout"},lookalikeProperty:{name:"lookalike-property",domain:"bonusLayout"},symbioticProperty:{name:"symbiotic-property",domain:"collection"},mixedSpecimenQuestions:{name:"mixed-specimen-questions",domain:"collection"},mixedSpecimensLeft:{name:"mixed-specimen-images",domain:"collection"},mixedSpecimensRight:{name:"mixed-specimen-question",domain:"collection"},birdsong:{name:"birdsong",domain:"bonusLayout"},mediaPlayers:{name:"media-players",domain:"collection"},traitImages:{name:"trait-images",domain:"bonusLayout"},mixedTraitLeft:{name:"mixed-trait-images",domain:"collection"},mixedTraitRight:{name:"mixed-trait-question",domain:"collection"},providerHorizontalStripQuestions:{name:"provider-horizontal-strip-questions",domain:"collection"},speciesIdentification:{name:"species-identification",domain:"collection",taxon:"name"}}},"./src/snapdragon-config/snapdragon-iconic-taxa.js":function(e,n,t){"use strict";t.r(n),t.d(n,"iconicTaxa",(function(){return r}));var r={all:[{id:"fungi",common:"Fungi & Lichens"},{id:"amphibia",common:"Amphibians"},{id:"mammalia",common:"Mammals"},{id:"plantae",common:"Plants"},{id:"lepidoptera",common:"Butterflies & Moths"},{id:"insecta",common:"Insects"},{id:"aves",common:"Birds"},{id:"reptilia",common:"Reptiles"}]}},"./src/snapdragon-engine/bonus/bonus-test-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"bonusHandler",(function(){return c}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/snapdragon-engine/bonus/tests/trait-test.js"),i=t("./src/snapdragon-engine/bonus/tests/birdsong-test.js"),s=t("./src/snapdragon-engine/bonus/tests/lookalike-test.js"),o=t("./src/snapdragon-engine/bonus/tests/definition-test.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var c={getTests:function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(e,n,t,c,l){var u,d,m,p,f,g,h,v,b;return regeneratorRuntime.wrap((function _callee3$(y){for(;;)switch(y.prev=y.next){case 0:if(u=e.items.map((function(e,t){return r.contains(t,n)?_objectSpread(_objectSpread({},e),{},{itemIndex:t}):null})).filter((function(e){return e})),d=function addLayoutToTest(e){return e.map((function(e){return e.itemIndex=e.item?e.item.itemIndex:0,e=_objectSpread(_objectSpread(_objectSpread({},e),v),{},{lessonName:c,levelName:l})}))},m=function getTraitTypeTests(e){return new Promise((function(n){return n(Object(a.getTraitTests)(e))}))},p=function getTraitTypeBirdsongTests(e,n){return new Promise((function(t){return t(Object(i.getBirdsongTests)(e,n))}))},f=function getTraitTypeLookalikeTests(e){return Object(s.getLookalikeTests)(e)},g=function getDefinitionTypeTests(e){return Object(o.getDefinitionTests)(e)},h=[],[],[],[],!(v=t.find((function(e){return"trait-property-match"===e.name})))){y.next=20;break}if(!v.types){y.next=16;break}return b=function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var n,t,r;return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.types.map(function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee(n){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next="traits"===t.t0?3:"song"===t.t0?4:"lookalikes"===t.t0?5:"definition"===t.t0?6:7;break;case 3:return t.abrupt("return",m(u));case 4:return t.abrupt("return",p(u,e));case 5:return t.abrupt("return",f(u));case 6:return t.abrupt("return",g(u));case 7:case"end":return t.stop()}}),_callee,this)})));return function(e){return n.apply(this,arguments)}}());case 2:return n=a.sent,a.next=5,Promise.all(n);case 5:return t=a.sent,r=t.map((function(e){return e=e.filter((function(e){return e.question})),d(e)})),a.abrupt("return",r);case 8:case"end":return a.stop()}}),_callee2,this)})));return function getResolvedPromises(){return n.apply(this,arguments)}}(),y.next=13,b();case 13:h=y.sent,y.next=20;break;case 16:h=m(u),p(u,e),f(u),g(u);case 20:return y.abrupt("return",r.flatten(h));case 21:case"end":return y.stop()}}),_callee3,this)})));return function getTests(n,t,r,a,i){return e.apply(this,arguments)}}()}},"./src/snapdragon-engine/bonus/tests/birdsong-test.js":function(e,n,t){"use strict";t.r(n),t.d(n,"getBirdsongTests",(function(){return i}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/utils/utils.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=function getBirdsongTests(e,n){return void 0===e?[]:e.map((function(t){if(t.taxonomy.class&&"aves"!==t.taxonomy.class.toLowerCase())return[];var r=s(t,e,n),a=r.question,i=r.answers,o=r.overrides;return a?{item:t,question:a,answers:i,overrides:o}:{}}))},s=function getBirdsongTest(e,n,t){if(e.traits&&0!==Object.keys(e.traits).length){var i=function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({name:"song"},e.traits.song),s=r.take(3,t.items.filter((function(n){return n.name.toLowerCase()!==e.name.toLowerCase()})));s.push(e);var o=a.utils.shuffleArray(s.map((function(e){return e.name})));return{question:e.name,answers:o,overrides:{question:"Match the birdsong",vernacularName:"Common name",binomial:"Latin name",trait:i}}}}},"./src/snapdragon-engine/bonus/tests/definition-test.js":function(e,n,t){"use strict";t.r(n),t.d(n,"getDefinitionTests",(function(){return o}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/utils/utils.js"),i=t("./src/redux/store.js"),s=(t("./src/api/firebase/firestore.js"),t("./src/api/snapdragon/iconic-taxa.js"));function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}var o=function getDefinitionTests(e){return void 0===e?[]:e.map((function(e){return c(e)}))},c=function(){var e=function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e){var n,t,o,c,l,u,d,m,p,f,g,h,v;return regeneratorRuntime.wrap((function _callee$(b){for(;;)switch(b.prev=b.next){case 0:return n=i.store.getState(),t=n.config,o=n.collection,c=n.glossary,t.isPortraitMode,l=4,u=Object(s.matchTaxon)(e.taxonomy,s.iconicTaxa).value,d=c.filter((function(e){return r.contains(e.taxon,[u,"common"])})),d=a.utils.shuffleArray(d),m=e.terms?a.utils.shuffleArray(e.terms)[0]:e.genus&&e.genus.terms?e.genus.terms[o.itemIndex]?e.genus.terms[o.itemIndex]:e.family&&e.family.terms?a.utils.shuffleArray(e.family.terms)[0]:null:null,p=m?d.find((function(e){return e.term.toLowerCase()===m.toLowerCase()})):d[0],f=r.take(l-1,r.take(l,a.utils.shuffleArray(d)).filter((function(e){return e.term.toLowerCase()!==p.term.toLowerCase()}))).map((function(e){return a.utils.capitaliseFirst(e.definition)})),g=p.definition,h=a.utils.shuffleArray([g].concat(_toConsumableArray(f))),v=t.isLandscapeMode?"Select the correct answer":"Select correct answer",b.abrupt("return",{question:g,answers:h,overrides:{question:p.term,help:v,binomial:e.name,vernacularName:e.vernacularName}});case 12:case"end":return b.stop()}}),_callee,this)})));return function getDefinitionTest(n){return e.apply(this,arguments)}}()},"./src/snapdragon-engine/bonus/tests/lookalike-test.js":function(e,n,t){"use strict";t.r(n),t.d(n,"getLookalikeTests",(function(){return a})),t.d(n,"getItemLookalikes",(function(){return i}));var r=t("./src/api/firebase/firestore.js");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var a=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(e){var n,t;return regeneratorRuntime.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return n=function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}return n.abrupt("return",new Promise((function(e){return e([])})));case 2:return n.abrupt("return",Promise.all(e.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var n,t,r,a;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s(e);case 2:if(n=i.sent,t=n.question,r=n.answers,a=n.overrides,t){i.next=8;break}return i.abrupt("return",new Promise((function(e){return e({})})));case 8:return i.abrupt("return",{item:e,question:t,answers:r,overrides:a});case 9:case"end":return i.stop()}}),_callee,this)})));return function(n){return e.apply(this,arguments)}}())));case 3:case"end":return n.stop()}}),_callee2,this)})));return function init(){return n.apply(this,arguments)}}(),r.next=3,n();case 3:return t=r.sent,r.abrupt("return",t);case 5:case"end":return r.stop()}}),_callee3,this)})));return function getLookalikeTests(n){return e.apply(this,arguments)}}(),i=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(e){var n,t,a;return regeneratorRuntime.wrap((function _callee6$(i){for(;;)switch(i.prev=i.next){case 0:if(e.traits&&0!==Object.keys(e.traits).length){i.next=2;break}return i.abrupt("return",{});case 2:if(n=e.traits.lookalikes){i.next=5;break}return i.abrupt("return",new Promise((function(e){return e([])})));case 5:if(0!==(t=n.map((function(e){return e.lookalike.name}))).length){i.next=8;break}return i.abrupt("return",{});case 8:return a=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(e){return regeneratorRuntime.wrap((function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.firestore.getSpeciesByName(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),_callee4,this)})));return function(n){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),_callee5,this)})));return function getLookalikes(){return e.apply(this,arguments)}}(),i.next=11,a();case 11:return t=(t=i.sent).filter((function(e){return e})),i.abrupt("return",t);case 14:case"end":return i.stop()}}),_callee6,this)})));return function getItemLookalikes(n){return e.apply(this,arguments)}}(),s=function getLookalikeTest(e){return function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){var n,t,r;return regeneratorRuntime.wrap((function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i(e);case 2:return n=a.sent,t=n.length>0?e.name:null,r=[t].concat(_toConsumableArray(n.map((function(e){return e.name})))),a.abrupt("return",{question:t,answers:r,overrides:{question:"Avoid look-alikes",help:"(Pick one correct image)",binomial:"Latin name",vernacularName:"Common name",trait:{name:"lookalikes",lookalikes:n}}});case 6:case"end":return a.stop()}}),_callee7,this)})));return function init(){return n.apply(this,arguments)}}()()}},"./src/snapdragon-engine/bonus/tests/trait-test.js":function(e,n,t){"use strict";t.r(n),t.d(n,"getTraitTests",(function(){return i}));var r=t("./src/redux/store.js"),a=t("./src/api/traits/traits-for-tests.js"),i=function getTraitTests(e){return void 0===e?[]:e.map((function(e){var n=r.store.getState().enums,t=Object(a.getTraitsForTests)(n,e),i=t.question,s=t.answers,o=t.overrides;return i?{item:e,question:i,answers:s,overrides:o}:{}}))}},"./src/snapdragon-engine/lesson-plan-handler.js":function(e,n,t){"use strict";function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t.r(n),t.d(n,"getNextRoundLayouts",(function(){return r}));var r=function getNextRoundLayouts(e,n,t){t.activeLevelCount=e.levels.filter((function(e){return e.layouts.length>0})).length;var r=t.level.id;return t.isLevelComplete&&(r++,t.level=e.levels.find((function(e){return e.id===r}))),function goToNextLevelThatHasLayouts(e,r){var a=[],i="",s="";return function iterateOverLevelsCheckingForAvailableLayouts(r,o){var c=r;if(!(a.length>0)){var l=e.levels.find((function(e){return e.id===o+c}));l&&(t.level=l,t.level=l,i=t.name,s=t.level.name,a=function getLayouts(e,n){switch(n){case"learn":return e.bonusLayouts=e.bonusLayouts||[],[].concat(_toConsumableArray(e.layouts.filter((function(e){return e}))),_toConsumableArray(e.bonusLayouts));case"review":return e.reviewLayouts||[];default:return e.layouts}}(function getCurrentLevelFromLessonPlan(e,n){return e.levels.find((function(e){return e.id===n}))}(e,o+c),n.mode),iterateOverLevelsCheckingForAvailableLayouts(++c,o))}}(0,r),{lessonName:i,levelName:s,layouts:a}}(e,r).layouts}},"./src/snapdragon-engine/lesson-planner.js":function(e,n,t){"use strict";t.r(n),t.d(n,"lessonPlanner",(function(){return c}));var r=t("./src/snapdragon-engine/round-planner.js"),a=t("./src/snapdragon-config/screen-layouts.js"),i=t("./src/snapdragon-engine/lesson-plan-handler.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}var s=a.layouts.summary,o=a.layouts.history,c={createLessonPlan:function(){var e=function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e,n,t,a){var c,l;return regeneratorRuntime.wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:if(a.moduleSize=a.moduleSize||t.moduleSize||n.moduleSize,a.currentRound=a.currentRound||1,c=t.items.length/a.moduleSize,c=t.items.length%a.moduleSize==0?c:1===c?1:Math.floor(c)+1,a=void 0===a.level?_objectSpread(_objectSpread(_objectSpread({},a),e),{},{level:{id:1},rounds:c}):a,l=Object(i.getNextRoundLayouts)(e,n,a),void 0!==a.level){u.next=8;break}return u.abrupt("return",new Promise((function(e){return e(null)})));case 8:return u.next=10,Object(r.createNextRound)(e,l,[s,o],t,a);case 10:return u.abrupt("return",u.sent);case 11:case"end":return u.stop()}}),_callee,this)})));return function createLessonPlan(n,t,r,a){return e.apply(this,arguments)}}()}},"./src/snapdragon-engine/pool-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"getPoolItems",(function(){return c}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/utils/utils.js"),i=t("./src/api/snapdragon/iconic-taxa.js"),s=t("./src/api/firebase/firestore.js"),o=t("./src/ui/helpers/logging-handler.js");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}var c=function(){var e=function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e){var n,t,u,d,m,p,f,g,h=arguments;return regeneratorRuntime.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:5,v.prev=1,t=e.nextItem,"static"!==e.behaviour){v.next=7;break}if(!((u=e.items.filter((function(e){return e.name!==t.name})))&&u.length>0)){v.next=7;break}return v.abrupt("return",l(u,t,n));case 7:return Object(i.findRankByIconicTaxon)(t.taxonomy,t.iconicTaxon),v.next=10,s.firestore.getSpeciesByIconicTaxon(t);case 10:if(d=v.sent,"fungi"===t.iconicTaxon.toLowerCase()&&(m=t.lichen,d=m?d.filter((function(e){return e.lichen})):d.filter((function(e){return!e.lichen}))),p=a.utils.shuffleArray(d.filter((function(e){return e.name.toLowerCase()!==t.name.toLowerCase()}))),f="reptilia"===t.iconicTaxon.toLowerCase()||"amphibia"===t.iconicTaxon.toLowerCase(),p){v.next=18;break}c(e),v.next=27;break;case 18:if(!(p.length<n)||f){v.next=22;break}c(e),v.next=27;break;case 22:return(g=r.take(n,p)).push(t),v.next=26,g;case 26:return v.abrupt("return",v.sent);case 27:v.next=32;break;case 29:v.prev=29,v.t0=v.catch(1),Object(o.logError)("renderMixedSpecimenImagesAndQuestion init",v.t0);case 32:case"end":return v.stop()}}),_callee,this,[[1,29]])})));return function getPoolItems(n){return e.apply(this,arguments)}}(),l=function getItemsFromCollection(e,n,t){var i=r.take(t,a.utils.shuffleArray(e));return a.utils.shuffleArray([].concat(_toConsumableArray(i),[n]))}},"./src/snapdragon-engine/provider/provider-test-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"providerHandler",(function(){return s}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/api/firebase/firestore.js");function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var i=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(e){return regeneratorRuntime.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(e.questionIds){n.next=2;break}return n.abrupt("return",new Promise((function(e){return e(null)})));case 2:return n.abrupt("return",Promise.all(e.questionIds.map(function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee(n){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.firestore.getQuestionById(n,e.name);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),_callee,this)})));return function(e){return n.apply(this,arguments)}}())));case 3:case"end":return n.stop()}}),_callee2,this)})));return function getItemLayouts(n){return e.apply(this,arguments)}}(),s={getLayouts:function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(e,n){var t,a,s,o;return regeneratorRuntime.wrap((function _callee4$(c){for(;;)switch(c.prev=c.next){case 0:if(!e.species){c.next=16;break}if(t=e.species.filter((function(e){return r.contains(e.name,n)})),!((a=t.filter((function(e){return e.questions}))).length>0)){c.next=5;break}return c.abrupt("return",Promise.all(a.map((function(e){return e.questions}))));case 5:if(!(s=e.items.filter((function(e){return r.contains(e.name,n)})).map((function(e){return{name:e.name,questionIds:e.questionIds}})))){c.next=13;break}return o=s.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(e){return regeneratorRuntime.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(!e.questionIds){n.next=4;break}return n.next=3,i(e);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),_callee3,this)})));return function(n){return e.apply(this,arguments)}}()),c.next=10,Promise.all(o);case 10:return c.abrupt("return",c.sent);case 13:return c.abrupt("return",new Promise((function(e){return e(null)})));case 14:c.next=17;break;case 16:return c.abrupt("return",[]);case 17:case"end":return c.stop()}}),_callee4,this)})));return function getLayouts(n,t){return e.apply(this,arguments)}}()}},"./src/snapdragon-engine/round-plan-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"roundHandler",(function(){return r}));var r={getRoundItems:function getRoundItems(e,n,t){var r=(e-1)*n,a=r+n;return t.slice(r,a)}}},"./src/snapdragon-engine/round-planner.js":function(e,n,t){"use strict";t.r(n),t.d(n,"createNextRound",(function(){return d}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/ui/dom.js"),i=t("./src/utils/utils.js"),s=t("./src/snapdragon-engine/round-plan-handler.js"),o=t("./src/snapdragon-engine/bonus/bonus-test-handler.js"),c=t("./src/snapdragon-engine/provider/provider-test-handler.js"),l=t("./src/ui/screens/multichoice/landscape/mixed-trait/mixed-trait-handler.js"),u=t("./src/snapdragon-config/screen-layouts.js");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var d=function createNextRound(e,n,t,d,m){return function(){var p=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var p,f,g,h,v,b,y,x,j,k,w,S,_,T,L;return regeneratorRuntime.wrap((function _callee3$(q){for(;;)switch(q.prev=q.next){case 0:if(e.layouts=[],p=m.moduleSize,f=m.name,g=m.level.name,h=(m.currentRound-1)*p,v=d.items.length-h,b=p>v?v:p,y=s.roundHandler.getRoundItems(m.currentRound,p,d.items.map((function(e){return e.name}))),n.forEach(function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(n,t){var a,s;return regeneratorRuntime.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if("mixed-trait-images"!==n.name){t.next=8;break}return t.delegateYield(regeneratorRuntime.mark((function _callee(){var t,s,o,c,u,m,p,h;return regeneratorRuntime.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:if(t=d.items.find((function(e){return e.name===y[a]})),s=l.mixedTraitHandler.getMatchingTrait(i.utils.shuffleArray(n.screens[1].traits),t.traits),o=s.requiredTraitValues,c=s.trait){v.next=4;break}return v.abrupt("return",{v:void 0});case 4:return v.next=6,l.mixedTraitHandler.fetchTraits(c,o,d.glossary);case 6:if(u=v.sent,m=u.traits,(p=u.requiredTraits)&&m){v.next=11;break}return v.abrupt("return",{v:void 0});case 11:n.trait=c,n.traits=m,n.requiredTraits=p,h=["n/a","none"],!!p.find((function(e){return!r.contains(e.term.toLowerCase(),h)}))&&e.layouts.push(_objectSpread(_objectSpread({},n),{},{lessonName:f,levelName:g,speciesName:y[a]}));case 17:case"end":return v.stop()}}),_callee,this)}))(),"t0",3);case 3:if("object"!==_typeof(s=t.t0)){t.next=6;break}return t.abrupt("return",s.v);case 6:t.next=9;break;case 8:e.layouts.push(_objectSpread(_objectSpread({},n),{},{lessonName:f,levelName:g,speciesName:y[a]}));case 9:a++;case 10:if(a<b){t.next=1;break}case 11:case"end":return t.stop()}}),_callee2,this)})));return function(e,t){return n.apply(this,arguments)}}()),1!==m.level.id){q.next=16;break}return q.next=12,c.providerHandler.getLayouts(d,y);case 12:x=q.sent,x=r.flatten(x).filter((function(e){return e})),(j=x.map((function(e){return _objectSpread(_objectSpread({},u.layouts.providerHorizontalStrip),{},{lessonName:"Lesson 1",levelName:"Level 1",speciesName:e.name||e.taxon,provider:e})})))&&(e.layouts=[].concat(_toConsumableArray(e.layouts),_toConsumableArray(j)));case 16:if(k=e.layouts.filter((function(e){return e.bonus})),w=e.layouts.filter((function(e){return!e.bonus})).map((function(e,n){return e.itemIndex=void 0===e.itemIndex?i.utils.calcItemIndex(h,b,n):e.itemIndex,_objectSpread({},e)})),S=_toConsumableArray(new Set(e.layouts.map((function(e){return e.itemIndex})).filter((function(e){return void 0!==e})))),e.layouts=w,1!==m.level.id){q.next=26;break}if(!k){q.next=26;break}return q.next=24,o.bonusHandler.getTests(d,S,k,f,g);case 24:_=q.sent,e.layouts=[].concat(_toConsumableArray(e.layouts),_toConsumableArray(_));case 26:return w=e.layouts.map((function(e,n){return e.roundProgressIndex=n+1,_objectSpread({},e)})),e.portrait?{name:"summary",screens:[{name:"summary",domain:"history",parent:a.DOM.rightBody}],lessonName:f,levelName:g,layoutIndex:e.layouts.length,itemIndex:0}:{name:"summary",screens:_toConsumableArray(t),lessonName:f,levelName:g,layoutIndex:e.layouts.length,itemIndex:0},e.layouts.push({name:"summary",screens:[{name:"summary",domain:"history",parent:a.DOM.rightBody}],lessonName:f,levelName:g,layoutIndex:e.layouts.length,itemIndex:0}),T=e.layouts.map((function(e){return e.score||0})),L=T.reduce((function(e,n){return e+n})),e.layouts.map((function(e){return e.roundScoreCount=L})),m.questionCount=e.layouts.filter((function(e){return"test"===e.type})).length,m.layoutCount=e.layouts.length,m.layoutNames=e.layouts.map((function(e){return e.name})),q.abrupt("return",{updatedLessonPlan:e,updatedCollection:d,updatedLesson:m});case 36:case"end":return q.stop()}}),_callee3,this)})));return function init(){return p.apply(this,arguments)}}()()}},"./src/ui/create-guide-modal/categories-template.html":function(e,n){e.exports='<div class="iconic-taxa-categories js-iconic-taxa-categories">\n    <div class="double-centred-block" id="aves"><div>\n      <button class="snap-icon-btn" aria-label="birds"><i class="fas fa-dove" aria-hidden="true"></i></button>\n      <div>Birds</div></div>\n    </div>\n    <div class="double-centred-block" id="amphibia"><div>\n      <button class="snap-icon-btn" aria-label="amphibians"><i class="fas fa-frog" aria-hidden="true"></i></button>\n      <div>Amphibians</div></div>\n    </div>\n    <div class="double-centred-block" id="mammalia"><div>\n      <button class="snap-icon-btn" aria-label="mammals"><i class="fas fa-paw" aria-hidden="true"></i></button>\n      <div>Mammals</div></div>\n    </div>\n    <div class="double-centred-block" id="insecta"><div>\n      <button class="snap-icon-btn" aria-label="insects"><i class="fas fa-bug" aria-hidden="true"></i></button>\n      <div>Insects</div></div>\n    </div>\n    <div class="double-centred-block" id="fungi"><div>\n      <button class="snap-icon-btn" aria-label="fungi and lichens"><svg-icon class="si-glyph-mushrooms"><src href="./icons/si-glyph-mushrooms.svg"/></svg></button>\n        <div class="small-text">Fungi & Lichens</div></div>\n      </div>\n    <div class="double-centred-block" id="plantae"><div>\n      <button class="snap-icon-btn" aria-label="plants"><i class="fas fa-leaf" aria-hidden="true"></i></button>\n      <div>Plants</div></div>\n    </div>    \n    <div class="double-centred-block" id="reptilia"><div>\n      <button class="snap-icon-btn" aria-label="reptiles"><i class="far fa-registered" aria-hidden="true"></i></button>\n      <div>Reptiles</div></div>\n    </div>\n    <div class="double-centred-block" id="lepidoptera"><div>\n      <button class="snap-icon-btn" aria-label="butterflies and moths"><i class="fas fa-barcode" aria-hidden="true"></i></button>\n      <div class="small-text">Butterflies & Moths</div></div>\n    </div>\n</div>\n<div class="hide-important guide-bottom-actions">\n    <span>Know what you want?</span>\n    <span class="underline-link species-picker-link js-species-picker-link">Species picker</span>\n</div>'},"./src/ui/create-guide-modal/categories.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderCategories",(function(){return l}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/ui/helpers/class-behaviour.js"),i=t("./src/snapdragon-config/snapdragon-iconic-taxa.js"),s=t("./src/ui/helpers/templating.js"),o=t("./src/ui/create-guide-modal/categories-template.html"),c=t.n(o),l=function renderCategories(e,n){var t=n.getConfig();t.guide.iconicTaxa=t.guide.iconicTaxa||i.iconicTaxa.all;var o=document.createElement("template");o.innerHTML=c.a;var l=e.querySelector(".js-actions");l.innerHTML="",Object(s.renderTemplate)({},o.content,l);var u=l.querySelectorAll(".js-iconic-taxa-categories > div > div:nth-child(1)");t.guide.iconicTaxa&&u.forEach((function(e){var n=e.parentElement.id;r.contains(n,t.guide.iconicTaxa.map((function(e){return e.id})))&&e.classList.add("iconic-taxa-selected")})),setTimeout((function(){var n=e.querySelector("#fungi > div");n&&a.elem.hasClass(n,"iconic-taxa-selected")&&n.querySelector("g g").classList.add("svg-icon-selected")}),250),t.guide.hasChanged=!1,u.forEach((function(e){e.addEventListener("click",(function(e){t.guide.hasChanged=!0;var r=e.currentTarget,a=r.parentElement.id,i=r.parentElement.innerText;t.guide.iconicTaxa.find((function(e){return e.id===a}))?("fungi"===a&&r.querySelector("g g").classList.remove("svg-icon-selected"),t.guide.iconicTaxa.length>1&&(r.classList.remove("iconic-taxa-selected"),t.guide.iconicTaxa=t.guide.iconicTaxa.filter((function(e){return e.id!==a})))):("fungi"===a&&r.querySelector("g g").classList.add("svg-icon-selected"),r.classList.add("iconic-taxa-selected"),t.guide.iconicTaxa.push({id:a,common:i})),n.setConfig(t),n.saveStep("TAXA",t)}))})),n.saveStep("TAXA"),document.querySelector(".js-right .js-arrow-wrapper").innerHTML='<i class="far fa-arrow-alt-circle-right"></i>'}},"./src/ui/create-guide-modal/common/actions-template.html":function(e,n){e.exports='<div class="{{ className }}">\n        <div class="actions js-actions"></div>\n        <div class="save-your-changes js-save-your-changes"></div>\n    </div>\n<div class="chosen js-chosen">\n    <div class="prop-value-block"><span></span><span class="selected-text"></span></div>\n</div>'},"./src/ui/create-guide-modal/common/save-guide.js":function(e,n,t){"use strict";t.r(n),t.d(n,"saveGuide",(function(){return a}));var r=t("./src/ui/helpers/icon-handler.js"),a=function saveGuide(e,n){var t=document.querySelector(".js-chosen span:nth-child(2)"),a=function handleSaveEvent(){switch(n){case"SPECIES":break;case"LOCATION":e.guide.locationType&&(t.innerHTML="place"===e.guide.locationType?e.guide.locationPlace:(e.isLandscapeMode,e.guide.locationLongLat));break;case"TAXA":t.innerHTML="";var a="";e.guide.iconicTaxa.length>0?(e.guide.iconicTaxa.forEach((function(e){var n=Object(r.returnTaxonIcon)(e.id);a+=n})),t.innerHTML=a):t.innerHTML="All species";break;case"INAT":e.guide.inatId.key?t.innerHTML=e.guide.inatId.key||"":t.innerHTML=""}};return a}},"./src/ui/create-guide-modal/common/snapdragon-switch.js":function(e,n,t){"use strict";t.r(n),t.d(n,"switchHandler",(function(){return r}));var r=function switchHandler(e,n,t){if(e){var r={position:"left"===n?"right":"left"},a=e.querySelector("div"),i=e.parentElement.querySelector(".txt-left"),s=e.parentElement.querySelector(".txt-right"),o=function switcher(){switch(r.position){case"left":a.parentElement.classList.add("right"),a.parentElement.classList.remove("left"),i.classList.remove("selected"),s.classList.add("selected"),r.position="right";break;case"right":a.parentElement.classList.add("left"),a.parentElement.classList.remove("right"),i.classList.add("selected"),s.classList.remove("selected"),r.position="left"}t(r.position)};o(),e.addEventListener("click",(function(e){o()}))}}},"./src/ui/create-guide-modal/create-guide.js":function(e,n,t){"use strict";t.r(n),t.d(n,"createGuideHandler",(function(){return v})),t.d(n,"onCreateCustomLesson",(function(){return y}));var r=t("./src/redux/actions/action-creators.js"),a=t("./src/redux/store.js"),i=t("./src/ui/helpers/templating.js"),s=t("./src/ui/create-guide-modal/species-search-options.js"),o=t("./src/ui/create-guide-modal/location.js"),c=t("./src/ui/create-guide-modal/inat-user.js"),l=t("./src/ui/create-guide-modal/categories.js"),u=t("./src/ui/create-guide-modal/species-picker.js"),d=t("./src/ui/create-guide-modal/common/save-guide.js"),m=t("./src/ui/create-guide-modal/species-search.js"),p=t("./src/ui/helpers/enum-helper.js"),f=t("./src/ui/create-guide-modal/common/actions-template.html"),g=t.n(f);function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function CreateGuide(e){var n=this;!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,CreateGuide),this.listeners=[],this.steps=[{number:1,title:"Species Picker",description:"Provenance",nextStep:"",disabled:!0,className:"species-actions",nextSteps:[{id:p.enums.guideOption.LOCATION.name,step:"Location"},{id:p.enums.guideOption.INAT.name,step:"Location"},{id:p.enums.guideOption.PICKER.name,step:"Picker"}]},{number:2,title:"Species Picker",description:"Location",nextStep:"Taxa",prevStep:"Provenance",disabled:!0,className:"location-actions"},{number:2,title:"Species Picker",description:"Picker",nextStep:"Species",prevStep:"Provenance",disabled:!0,className:"location-actions"},{number:3,title:"Species Picker",description:"Taxa",nextStep:"Species",disabled:!0,className:"taxa-actions"},{number:4,title:"Species Picker",description:"Species",nextStep:"View Guide",disabled:!0,className:"filter-actions"}],this.currentStep=this.steps.find((function(n){return n.number==e})),this.modal=document.getElementById("createGuide"),this.modal&&(this.modalTitle=this.modal.querySelector(".js-modal-title header"),this.navigationContainer=this.modal.querySelector(".js-modal-guide-navigation"),this.progressSteps=this.modal.querySelectorAll(".js-modal-guide-progress > div > div"),this.previousStepActionArrow=this.modal.querySelector(".js-left"),this.previousStepActionTxt=this.modal.querySelector(".js-left .title"),this.optionsTxt=this.modal.querySelector(".js-centre .title"),this.nextStepActionArrow=this.modal.querySelector(".js-right"),this.nextStepActionTxt=this.modal.querySelector(".js-right .title"),this.progressSteps.forEach((function(e,t){e.innerHTML=n.steps[t].description})),this.config=this.config||a.store.getState().config,this.getConfig=function(){return n.config},this.setConfig=function(e){n.config=e,r.actions.boundUpdateConfig(e)},this.getCurrentStep=function(){return n.currentStep},this.setCurrentStep=function(e){n.currentStep=n.steps.find((function(n){return n.number===e}))},this.user=a.store.getState().user)}return function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(CreateGuide,[{key:"addStepActions",value:function addStepActions(e){var n=this;if(e){var t=this.modal.querySelector(".js-step-action-content");t.innerHTML="";var r=document.createElement("template");r.innerHTML=g.a;var a=this.steps.find((function(e){return e.number===n.currentStep.number})).description;Object(i.renderTemplate)({className:e.className},r.content,t);var d=this.modal.querySelector(".js-options > h1");switch(a){case"Provenance":d.innerHTML="How do you want to select your species?",Object(s.renderSpeciesSearchOptions)(this);break;case"Location":switch(d.innerHTML="Filter species by location and season.",this.option){case p.enums.guideOption.LOCATION.name:Object(o.renderLocation)(this.modal,this);break;case p.enums.guideOption.INAT.name:Object(c.renderInatUser)(this.modal,this);break;case p.enums.guideOption.PICKER.name:this.modal.querySelector(".js-chosen").classList.add("hide-important"),document.querySelector(".js-step-action-content .location-actions").classList.add("species-picker-actions"),Object(u.renderSpeciesPicker)({container:this.modal,config:this.config,setConfig:this.setConfig},this.modal.querySelector(".js-actions")),this.modal.querySelector(".js-options > h1").innerHTML="Add species by name."}break;case"Taxa":d.innerHTML="Filter species by taxa.",Object(l.renderCategories)(this.modal,this);break;case"Species":setTimeout((function(){Object(m.speciesSearch)(n)}))}}}},{key:"goToNextStep",value:function goToNextStep(e,n){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.currentStep=a||this.steps.find((function(n){return n.number===e})),r===p.enums.guideOption.PICKER.name&&"NEXT"===n&&(this.currentStep=this.steps[2]),this.direction=n,this.option=r||this.option,this.startLesson&&(this.currentStep={number:0}),this.modalTitle)if(this.modalTitle.innerText=this.currentStep.title,this.nextStepActionTxt.innerHTML=this.currentStep.nextStep,this.progressSteps.forEach((function(e,n){if(e.classList.remove("active"),n+1===t.currentStep.number){e.classList.add("active");for(var r=0;r<n;r++)t.progressSteps[r].classList.add("completed")}})),this.addStepActions(this.steps.find((function(e){return e.number===t.currentStep.number}))),1===this.currentStep.number)this.navigationContainer.classList.remove("progress-container"),this.optionsTxt.classList.remove("hide-important"),this.previousStepActionTxt.classList.add("hide-important"),this.previousStepActionArrow.classList.add("arrow-wrapper-hidden"),this.nextStepActionArrow.classList.add("arrow-wrapper-hidden");else{this.navigationContainer.classList.add("progress-container"),this.optionsTxt.classList.add("hide-important"),this.previousStepActionArrow.classList.remove("arrow-wrapper-hidden"),this.nextStepActionArrow.classList.remove("arrow-wrapper-hidden"),this.nextStepActionArrow.dataset.number=this.currentStep.number,this.previousStepActionTxt.classList.remove("hide-important");var i=this.currentStep.prevStep?this.steps.find((function(e){return e.description===t.currentStep.prevStep})):this.steps.find((function(e){return e.number===t.currentStep.number-1}));4===this.getCurrentStep().number?this.previousStepActionTxt.innerHTML=this.option===p.enums.guideOption.PICKER.name?this.steps[2].description:this.steps[3].description:this.previousStepActionTxt.innerHTML=i.description}}},{key:"saveStep",value:function saveStep(e,n){Object(d.saveGuide)(n||this.getConfig(),e)()}}]),CreateGuide}(),v=function createGuideHandler(e){var n=new h(e);n.goToNextStep(e,"NEXT");n.nextStepActionArrow.addEventListener("click",(function handleNextStepAction(e){n.startLesson=4===parseInt(n.nextStepActionArrow.dataset.number),n.startLesson?n.nextStepActionArrow.setAttribute("data-dismiss","modal"):n.nextStepActionArrow.removeAttribute("data-dismiss");var t=n.steps.find((function(e){return e.description===n.getCurrentStep().nextStep}));t&&n.goToNextStep(t.number,"NEXT"),n.listeners.push({element:n.nextStepActionArrow,handler:handleNextStepAction})}),!0);n.previousStepActionArrow.addEventListener("click",(function handlePreviousStepAction(e){var t;t=n.getCurrentStep()&&4===n.getCurrentStep().number?n.option===p.enums.guideOption.PICKER.name?2:3:n.getCurrentStep().number-1,n.goToNextStep(t,"PREVIOUS",n.option),n.listeners.push({element:n.previousStepActionArrow,handler:handlePreviousStepAction})}),!0),n.callOnCreateCustomListeners=function(e){b.forEach((function(n){return n(e)})),b.pop()}},b=[],y=function onCreateCustomLesson(e){b.pop(),b.push(e)}},"./src/ui/create-guide-modal/inat-user-template.html":function(e,n){e.exports='<div>\n    <div class="inat snap-switch running-block">\n        <div class="embedded-switch">\n            <div class="txt-left"><span>iNaturalist User</span></div>\n            <div class="snap-switch-slider left js-snap-switch-slider">\n                <div></div>\n            </div>\n            <div class="txt-right"><span>Project</span></div>        \n        </div>\n    </div>\n\n    <div class="location-option inat-entry">\n        <div class="input-container standard-block bottom-aligned">\n            <form id="inatForm" action="#">\n                <input id="inat-identity" type="text" placeholder="Start typing a user or project Id.">\n            </form>\n        </div>\n    </div>\n\n    <div class="location-option chosen-guide-filter js-chosen-inat standard-block">\n        <div>Learn more about <a href="https://www.inaturalist.org/" target="_blank" class="underline-link">iNaturalist</a>.</div>\n    </div>\n</div>'},"./src/ui/create-guide-modal/inat-user.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderInatUser",(function(){return c}));var r=t("./src/ui/create-guide-modal/common/snapdragon-switch.js"),a=t("./src/ui/helpers/inat-autocomplete.js"),i=t("./src/ui/helpers/templating.js"),s=t("./src/ui/create-guide-modal/inat-user-template.html"),o=t.n(s),c=function renderInatUser(e,n){var t=n.getConfig(),s=document.createElement("template");s.innerHTML=o.a,"-----"!==t.guide.inatId.key&&("inat"!==t.guide.locationType&&(t.guide.locationType="inat",n.setConfig(t)),n.saveStep("INAT"));var c,u=e.querySelector(".js-actions");u.innerHTML="",Object(i.renderTemplate)({},s.content,u),document.querySelector(".js-chosen > div > span:nth-child(2)").innerHTML+='<div class="delete-guide-link js-toggle-filter"><input class="hide" type="checkbox"></div>';var d="user_id"===t.guide.inatId.param?"left":"right",m="users",p=u.querySelector("#inat-identity");p.focus();p.addEventListener("keypress",(function handlerInatIdentityInput(e){p.removeEventListener("keypress",handlerInatIdentityInput),c=Object(a.inatAutocomplete)(p,m,"inat-autocomplete-options-container","")})),p.addEventListener("click",(function(e){e.preventDefault()})),p.addEventListener("keyup",(function(e){e.preventDefault("e.keyCode: ",e.keyCode)})),document.getElementById("inatForm").addEventListener("submit",(function(e){e.preventDefault(),""!==p.value&&l(u,t,n,c)})),t.isPortraitMode&&p.addEventListener("focusout",(function(e){document.querySelector(".inat-autocomplete-options-container")&&(setTimeout((function(){l(u,t,n,c)})),e.preventDefault())}));var f=u.querySelector(".snap-switch-slider");Object(r.switchHandler)(f,d,(function switchCallback(e){m="left"===e?"users":"projects";var r="left"===e?"iNat user ID":"iNat project ID",a="left"===e?"user_id":"project_id";t.guide.inatId.type=r,t.guide.inatId.param=a,n.setConfig(t)}))},l=function saveInatId(e,n,t,r){var a=e.querySelector("#inat-identity");n.isLandsapeMode&&(a.value="",a.focus());var i=a.value,s=a.name;n.guide.inatId.key=i,n.guide.inatId.id=s,""!==i&&(n.guide.locationType="inat",t.setConfig(n),t.saveStep("INAT"),e.querySelector("#inat-identity").value="")}},"./src/ui/create-guide-modal/location-template.html":function(e,n){e.exports='<div class="border-bottom">\n    <div class="running-block vertical-centred-block location-option html5-location">\n        <div class="html5-location-place"><button class="btn snap-action-btn js-set-location-btn"></button><span class="landscape"></span></div>\n    </div>\n    <div class="standard-block location-option place bottom-aligned">\n        <form id="locationForm" action="#">\n          <div class="standard-block">\n            <label for="#inat-place" class="extra-small-text">Location</label>\n            <input id="inat-place" type="text" placeholder="Or start typing the name of a place.">\n            <input class="hide" type="submit" value="">\n          </div>\n        </form>\n    </div>\n    <div class="location-option margin-top range">\n        <div class="range-slider">\n            <div class="js-range"></div>\n            <div>\n              <span class="range-limits">0km</span>\n              <span class="margin-right" style="width: 100%;"><input class="set-range-input js-set-range-input" type="range" min="0" max="250" value="10"></span>\n              <span class="range-limits"> 250km</span>\n              <span class="saved js-range-saved"></span>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="location-filter-options">            \n    <div>\n      <div class="black-text">Species by season</div>\n      <div class="season snap-switch margin-top margin-bottom">\n          <div class="embedded-switch">\n              <div class="txt-left"><span>{{ observableMonths }}</span></div>\n              <div class="snap-switch-slider left js-snap-switch-slider">\n                  <div></div>\n              </div>\n              <div class="txt-right"><span>All Year</span></div>\n          </div>\n      </div>  \n    </div>\n    <div>\n      <div class="black-text">Species by observation count</div>\n      <div class="margin-top margin-bottom">\n        <span>\n          Top <input min="1" max="500" required class="medium half-margin-right js-location-no-of-records" type="number" value="{{ noOfRecords }}"> most observed.\n        </span>\n      </div>\n    </div>\n</div>'},"./src/ui/create-guide-modal/location.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderLocation",(function(){return l}));var r=t("./src/ui/helpers/templating.js"),a=t("./src/geo/geo.js"),i=t("./src/ui/helpers/inat-autocomplete.js"),s=t("./src/ui/create-guide-modal/common/snapdragon-switch.js"),o=t("./src/ui/create-guide-modal/location-template.html"),c=t.n(o);t("./src/img/powered_by_google_on_white_hdpi.png");function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var l=function renderLocation(e,n){var t=n.getConfig();n.saveStep("LOCATION");var o,l=t.guide.locationPlace,d=document.createElement("template");d.innerHTML=c.a;var m=e.querySelector(".js-actions");if(m.innerHTML="",t.guide.season.observableMonths=t.guide.season.observableMonths||t.season.observableMonths,t.guide.season.observableMonths){var p=t.guide.season.observableMonths.map((function(e){return e.name})),f="".concat(p[0],"-").concat(p[p.length-1]),g=t.guide.noOfRecords;Object(r.renderTemplate)({observableMonths:f,noOfRecords:g},d.content,m)}var h=e.querySelector(".js-set-location-btn");function _handleSetLocationLongLat(){return(_handleSetLocationLongLat=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var r;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return e.stopPropagation(),h.innerHTML="Updating location",i.next=4,Object(a.getPlace)(t,!0);case 4:r=i.sent,t.guide.locationType="longLat",t.place=r,t.guide.locationLongLat=r.longLocation,h.innerHTML="Use your current location",n.setConfig(t),n.saveStep("LOCATION");case 11:case"end":return i.stop()}}),_callee,this)})))).apply(this,arguments)}h.innerHTML="Use your current location",h.addEventListener("click",(function handleSetLocationLongLat(e){return _handleSetLocationLongLat.apply(this,arguments)}));var v=e.querySelector("#inat-place");v.placeholder=t.isLandscapeMode?"Or start typing the name of a place you are interested in.":"Or start typing the name of a place.",v.focus();v.addEventListener("keypress",(function handleLocationPlaceInput(e){v.removeEventListener("keypress",handleLocationPlaceInput),o=Object(i.inatAutocomplete)(v,"places","autocomplete-options-container","place")})),v.addEventListener("click",(function(e){e.preventDefault()})),v.addEventListener("keyup",(function(e){e.preventDefault("e.keyCode: ",e.keyCode)})),document.getElementById("locationForm").addEventListener("submit",(function(e){e.preventDefault(),""!==v.value&&u(t,v,l,n)})),t.isPortraitMode&&v.addEventListener("focusout",(function(e){document.querySelector(".autocomplete-options-container")&&(setTimeout((function(){u(t,v,l,n)})),e.preventDefault())}));var b=t.guide.speciesRange,y=e.querySelector(".js-range");y.innerHTML="Include species within ".concat(b,"km."),e.querySelector(".js-set-range-input").value=b;e.querySelector(".js-set-range-input").addEventListener("change",(function updateSlider(e){b=e.target.value,t.guide.speciesRange=b,y.innerHTML="Include species within ".concat(b,"km."),n.setConfig(t)})),n.nextStepActionArrow.addEventListener("click",(function(e){o&&o.destroy()}));var x=m.querySelector(".js-snap-switch-slider"),j="months"===t.guide.season.type?"left":"right";Object(s.switchHandler)(x,j,(function switchCallback(e){var t=n.getConfig(),r=t.guide.season.type;t.guide.season.type="right"===e?"all_year":"months",n.setConfig(t),t.guide.season.type!==r&&n.saveStep("SEASON")}));var k=document.querySelector(".js-location-no-of-records");k.addEventListener("change",(function(e){var t=n.getConfig();t.guide.noOfRecords=parseInt(k.value),n.setConfig(t)}))},u=function saveLocation(e,n,t,r){var i=n.value,s=n.name;e.guide.locationType="longLat",e.guide.place.name=i,e.guide.locationLongLat=i,e.guide.locationType="longLat",e.guide.locationLongLat=i;return Object(a.GooglePlaceDetails)(s,(function callback(t){if(t&&t.length>0){var a=t[0].geometry.location.lat(),i=t[0].geometry.location.lng();e.guide.coordinates={lat:a,long:i},n.value="",r.setConfig(e),r.saveStep("LOCATION")}})),t}},"./src/ui/create-guide-modal/species-search-options-template.html":function(e,n){e.exports='<menu>\n  <ul class="custom-lesson-menu-options" data-repeat-option="{{ options }}">\n    <li data-option="{{ option.id }}">\n        <button class="icon snap-icon-btn arrow-wrapper"><span class="small-text">{{ option.text }}</span><i class="far fa-arrow-alt-circle-right"></i></button>\n    </li>\n  </ul>\n</menu>\n\n<hr class="double-margin-top double-margin-bottom">\n\n<div class="js-language-selection-container"></div>\n\n<h3 class="standard-block centred-block js-persistence-warning">\n    <span><i class="fas fa-exclamation"></i> You are not currently logged in. Your collection will not be availble outside this browser.</span>\n</h3>'},"./src/ui/create-guide-modal/species-search-options.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderSpeciesSearchOptions",(function(){return c}));var r=t("./src/ui/helpers/templating.js"),a=t("./src/ui/helpers/enum-helper.js"),i=t("./src/ui/screens/common/language-selection.js"),s=t("./src/ui/create-guide-modal/species-search-options-template.html"),o=t.n(s),c=function renderSpeciesSearchOptions(e){e.modal.querySelector(".js-modal-title > header").innerHTML="Create your own lesson";var n=[{text:"By location and season",id:a.enums.guideOption.LOCATION.name},{text:"From iNaturalist observations",id:a.enums.guideOption.INAT.name},{text:"Using a name-based search",id:a.enums.guideOption.PICKER.name}],t=document.createElement("template");t.innerHTML=o.a;var s=e.modal.querySelector(".js-actions");s.innerHTML="";var c=e.getConfig();Object(r.renderTemplate)({options:n},t.content,s);var l=function handleNextStepAction(n){var t=n.currentTarget.dataset.option,r=e.steps.find((function(n){return n.number===e.getCurrentStep().number})).nextSteps.find((function(e){return e.id===t})).step,a=e.steps.find((function(e){return e.description===r}));e.startLesson=!1,e.goToNextStep(e.getCurrentStep().number+1,"NEXT",t,a),e.listeners=[],e.listeners.push({element:e.nextStepActionArrow,handler:handleNextStepAction})};document.querySelectorAll(".custom-lesson-menu-options li").forEach((function(e,n){e.addEventListener("click",l,!0)})),Object(i.languagePicker)(c,document.querySelector(".js-language-selection-container"),(function(n){e.setConfig(n)}));var u=e.modal.querySelector(".js-persistence-warning");e.user&&u.classList.add("hide-important")}},"./src/ui/create-guide-modal/species-search-template.html":function(e,n){e.exports='<div>\n    <div class="species-search js-species-search">\n        <div><div class="icon"><i class="fas fa-sun slow-spin"></i></div></div>\n        <h2 class="standard-block">This search is based on observations recorded by the public on <a class="underline-link" target="_blank" href="https://www.inaturalist.org/">iNaturalist</a>.</h2>\n    </div>\n    <div>\n        <div class="hide-empty request-feedback js-request-feedback">Contacting iNaturalist</div>\n    </div>\n</div>'},"./src/ui/create-guide-modal/species-search.js":function(e,n,t){"use strict";t.r(n),t.d(n,"speciesSearch",(function(){return h}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/redux/store.js"),i=t("./src/ui/helpers/templating.js"),s=t("./src/api/inat/inat.js"),o=t("./src/ui/helpers/enum-helper.js"),c=t("./src/ui/screens/lists/lesson-state-handler.js"),l=t("./src/ui/screens/lists/lesson-state-helper.js"),u=t("./src/ui/create-guide-modal/species-in-guide-editor.js"),d=t("./src/ui/helpers/logging-handler.js"),m=t("./src/ui/create-guide-modal/species-search-template.html"),p=t.n(m),f=t("./src/ui/create-guide-modal/species-summary-template.html"),g=t.n(f);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var h=function speciesSearch(e){var n=e.config,t=e.modal,m=e.option,f=a.store.getState().collections,h=document.createElement("template");h.innerHTML=p.a;var v=t.querySelector(".js-step-action-content");Object(i.renderTemplate)({},h.content,v);var b=document.querySelector(".js-request-feedback"),y=0,x=setInterval((function(){y=y===n.guide.iconicTaxa.length?0:y,b.innerHTML="Fetching ".concat(n.guide.iconicTaxa[y].common," from iNaturalist "),y++}),2e3),j=t.querySelector(".js-right"),k=j.querySelector("i");k.classList.add("snap-inactive");var w=t.querySelector(".js-left .js-arrow-wrapper").querySelector("i");w.classList.add("snap-inactive");var S=function renderLessonSummary(a){try{if(a&&a.items&&0===a.items.length)return void(b.innerHTML="No species were found. Try widening your parameters.");clearTimeout(x),h.innerHTML=g.a,b.innerHTML="",a.taxa=a.guide.iconicTaxa.map((function(e){return e.common})).join(", "),Object(i.renderTemplate)({collection:a},h.content,b),t.querySelector(".icon i").classList.remove("slow-spin"),setTimeout((function(){j.addEventListener("click",(function(t){setTimeout(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!n.guide.species){t.next=4;break}return a.items=a.items.filter((function(e){return r.contains(e.name,n.guide.species.map((function(e){return e.name})))})),t.next=4,c.lessonStateHandler.changeRequest({requestType:o.enums.lessonState.ADD_SPECIES_TO_COLLECTION,requestArgs:{updatedConfig:n,updatedCollection:a}});case 4:4===parseInt(j.dataset.number)&&(e.callOnCreateCustomListeners(a),l.lessonStateHelper.clearGuide());case 5:case"end":return t.stop()}}),_callee,this)}))))}))})),T.innerHTML="New collection species";var s=t.querySelector(".js-edit-species");s.addEventListener("click",(function(r){var i=t.querySelector(".js-selected-species-container");i.classList.add("open"),i.classList.remove("hide-important"),i.innerHTML="",s.classList.add("hide-important"),Object(u.speciesInGuideEditor)(n,t,i,e,a.items);var l=t.querySelector("#js-input-collection-name");l.classList.remove("hide-important"),l.addEventListener("focusout",(function(e){var t=e.target.value;n.guide.name=t,a.name=t,c.lessonStateHandler.changeRequest({requestType:o.enums.lessonState.UPDATE_COLLECTION,requestArgs:{collection:a,config:n}})}))})),k.classList.remove("snap-inactive"),w.classList.remove("snap-inactive")}catch(e){Object(d.logError)(renderLessonSummary,e)}},_=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var r,a,i,l,u,d;return regeneratorRuntime.wrap((function _callee2$(m){for(;;)switch(m.prev=m.next){case 0:return r={index:0,isLessonPaused:!0},m.next=3,c.lessonStateHandler.changeRequest({requestType:o.enums.lessonState.GET_LESSON_PROGRESS,requestArgs:{collectionToLoad:t,updatedCounter:r,guide:e.getConfig().guide}});case 3:a=m.sent,(i=a.collection).guide=n.guide,i.isPrivate=!0,S(i),l=function OrdinalSuffixOf(e){var n=e%10,t=e%100;return 1==n&&11!=t?e+"st":2==n&&12!=t?e+"nd":3==n&&13!=t?e+"rd":e+"th"},d=function callback(e){b?b.innerHTML="Making ".concat(l(e.page)," request of ").concat(e.numberOfRequests):u(callback)},u=Object(s.listenToInatRequests)(d);case 11:case"end":return m.stop()}}),_callee2,this)})));return function initLesson(e){return t.apply(this,arguments)}}();switch(n.guide.guideType=m,m){case o.enums.guideOption.LOCATION.name:_(_objectSpread(_objectSpread({},f.find((function(e){return e.guideType===m}))),{},{name:n.guide.place.name,taxa:n.guide.iconicTaxa.map((function(e){return e.common})).join(", "),guide:n.guide,language:n.language,id:f.length+100010}));break;case o.enums.guideOption.INAT.name:_(_objectSpread(_objectSpread({},f.find((function(e){return e.guideType===m}))),{},{name:"".concat(n.guide.inatId.key,"'s observations"),taxa:n.guide.iconicTaxa.map((function(e){return e.common})).join(", "),iconicTaxa:n.guide.iconicTaxa,id:f.length+1e4}));break;case o.enums.guideOption.PICKER.name:(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var e,t,r,i;return regeneratorRuntime.wrap((function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:if(e=a.store.getState(),t=e.collection,r=!1,t.items&&(r=t.items.map((function(e){return e.name})).every((function(e){return n.guide.species.map((function(e){return e.name})).includes(e)}))),!r){s.next=9;break}return i=t,s.next=7,c.lessonStateHandler.changeRequest({requestType:o.enums.lessonState.ADD_SPECIES_TO_COLLECTION,requestArgs:{updatedConfig:n,updatedCollection:i}});case 7:s.next=10;break;case 9:i=_objectSpread(_objectSpread({},f.find((function(e){return e.guideType===m}))),{},{species:n.guide.species,id:f.length+10010,name:"Your new lesson",hasVideo:!1,video:{},terms:[]});case 10:_(i);case 11:case"end":return s.stop()}}),_callee3,this)})));return function initPicker(){return e.apply(this,arguments)}})()()}var T=t.querySelector(".js-options > h1");T.innerHTML="Requesting species images and traits"}},"./src/ui/create-guide-modal/species-summary-template.html":function(e,n){e.exports='<div class="lesson-list-item one-and-half-standard-block vertical-evenly-spaced-block">\n    \x3c!-- <div class="lesson-name" id="js-collection-name">\n        <span>{{ collection.name }}</span>\n    </div> --\x3e\n    <div class="lesson-name hide-important" id="js-input-collection-name">\n      <label for="#new-collection-name" class="extra-small-text">lesson name</label>\n      <input id="new-collection-name" type="text" value="{{ collection.name }}">\n    </div>\n    <div class="lesson-taxa"><span class="js-lesson-taxa-count">{{ collection.items.length }}</span> <span class="js-lesson-taxa">{{ collection.taxa }}</span></div>\n</div>\n<div class="edit-species centred-block half-standard-block js-edit-species">\n    <button class="snap-btn fit-width">Edit lesson</button>\n</div>\n\n<div class="selected-species-container">\n    <div class="scrollable js-selected-species-container"></div>\n</div>'},"./src/ui/css/snapdragon-media.css":function(e,n,t){var r=t("./node_modules/css-loader/dist/cjs.js!./src/ui/css/snapdragon-media.css");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("./node_modules/style-loader/lib/addStyles.js")(r,a);r.locals&&(e.exports=r.locals)},"./src/ui/css/snapdragon.css":function(e,n,t){var r=t("./node_modules/css-loader/dist/cjs.js!./src/ui/css/snapdragon.css");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("./node_modules/style-loader/lib/addStyles.js")(r,a);r.locals&&(e.exports=r.locals)},"./src/ui/css/species-list.css":function(e,n,t){var r=t("./node_modules/css-loader/dist/cjs.js!./src/ui/css/species-list.css");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("./node_modules/style-loader/lib/addStyles.js")(r,a);r.locals&&(e.exports=r.locals)},"./src/ui/fixtures/glossary-template.html":function(e,n){e.exports='<div class="snapdragon-container">\n    <dl data-repeat-item="{{ glossary }}" class="definition card scrollable">\n      <dt>{{ item.term }}</dt><dd>{{ item.definition }}</dd>\n    </dl>\n</div>\n    '},"./src/ui/fixtures/headers.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderHeaders",(function(){return i}));var r=t("./src/redux/store.js"),a=t("./src/ui/dom.js"),i=function renderHeaders(e){a.DOM.leftHeaderTxt.innerHTML="Learn the planet",a.DOM.rightHeaderTxt.innerHTML="Learn the planet",setTimeout((function(){var e=r.store.getState(),n=e.layout,t=e.lessonPlan,a=document.querySelector(".js-right-grid progress");if(t){var i=t.layouts.filter((function(e){return"test"===e.type})).length;a.max=i,a.value=n.roundProgressIndex||a.value}}))}},"./src/ui/fixtures/language-template.html":function(e,n){e.exports='<div class="large-text centred-block standard-block">Language preference</div>\n\n<div class="standard-block">\n    <div>Your selection will affect the vernacular names of species only.</div>\n    <br>\n    <div>It will not apply to lessons in progress.</div>\n    <br>\n</div>\n\n<div class="double-standard-block js-language-selection-container"></div>'},"./src/ui/fixtures/language.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderLanguagePicker",(function(){return c}));var r=t("./src/redux/store.js"),a=(t("./src/ui/dom.js"),t("./src/ui/helpers/templating.js")),i=t("./src/ui/screens/common/language-selection.js"),s=t("./src/ui/fixtures/language-template.html"),o=t.n(s),c=function renderLanguagePicker(){var e=r.store.getState().config,n=document.querySelector("#basicModal .js-modal-text");n.innerHTML="";var t=document.createElement("template");t.innerHTML=o.a,Object(a.renderTemplate)({},t.content,n),document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Vernacular language",Object(i.languagePicker)(e,document.querySelector(".js-language-selection-container"),(function(e){actions.boundUpdateConfig(e)}))}},"./src/ui/fixtures/login-template.html":function(e,n){e.exports='<div class="modal-content">\n    <div class="snapdragon-container">        \n\n        <div class="large-text centred-block standard-block">User access</div>\n\n        <form id="login-form">\n            <div class="standard-block centred-block">\n                <input id="login-email" type="text" placeholder="Email">\n            </div>\n            <div class="standard-block centred-block">\n                <input id="login-password" type="text" placeholder="Password">\n            </div>\n            <button id="js-login-btn" class="btn snap-action-btn">Log in</button>\n        </form>\n        <div class="standard-block centred-block hide-important js-logged-in">You are now logged in.</div>\n        <div class="standard-block vertical-centred-block hide-important js-not-logged-in">\n            <span class="standard-block centred-block">Please check your email and password.</span>\n            <span class="standard-block centred-block js-message"></span>\n        </div>\n    </div>\n</div>'},"./src/ui/fixtures/login.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderLogin",(function(){return l})),t.d(n,"renderLoggedIn",(function(){return u}));t("./src/ui/dom.js");var r=t("./src/redux/actions/action-creators.js"),a=t("./src/ui/helpers/templating.js"),i=t("./src/ui/fixtures/login-template.html"),s=t.n(i),o=t("./src/ui/fixtures/logout-template.html"),c=t.n(o),l=function renderLogin(e){var n=firebase.auth();document.querySelector("#basicModal .js-modal-text").innerHTML="";var t=document.createElement("template");if(e){t.innerHTML=c.a,Object(a.renderTemplate)({email:e.email},t.content,document.querySelector("#basicModal .js-modal-text")),document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Snapdragon logout";var i=document.querySelector(".js-modal-footer");setTimeout((function(){document.querySelector("#logout-form").addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector("#js-logout-btn");t.setAttribute("disabled","disabled"),n.signOut().then((function(){r.actions.boundUpdateUser(null),t.innerHTML="Success",setTimeout((function(){i.click()}),2500)}))}))}),500)}else{t.innerHTML=s.a,Object(a.renderTemplate)({},t.content,document.querySelector("#basicModal .js-modal-text")),document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Snapdragon login";var o=document.querySelector(".js-modal-footer");setTimeout((function(){var e=document.querySelector("#login-email");e.focus();var t=document.querySelector("#login-password");document.querySelector("#login-form").addEventListener("submit",(function(a){a.preventDefault();var i=document.querySelector("#js-login-btn");i.setAttribute("disabled","disabled"),n.signInWithEmailAndPassword(e.value,t.value).then((function(n){r.actions.boundUpdateUser({email:e.value,password:t.value}),i.innerHTML="Success",setTimeout((function(){o.click()}),2500)})).catch((function(e){var n=document.querySelector(".js-not-logged-in");n&&n.classList.remove("hide-important"),n&&(n.querySelector(".js-message").innerHTML=e.message)}))}))}),500)}},u=function renderLoggedIn(e){if(e){var n=document.querySelector(".js-logged-in");n&&n.classList.remove("hide-important")}else{var t=document.querySelector(".js-not-logged-in");t&&t.classList.remove("hide-important");var r=document.querySelector(".js-logged-out");r&&r.classList.remove("hide-important")}}},"./src/ui/fixtures/logout-template.html":function(e,n){e.exports='<div class="modal-content">\n    <div class="snapdragon-container">        \n        <form id="logout-form">\n            <div class="vertical-centred-block double-standard-block">\n                <span>You are logged in with the account:</span>\n                <span>{{ email }}</span>\n            </div>\n            <div>\n                <button id="js-logout-btn" class="btn snap-action-btn">Log out</button>\n            </div>\n        </form>\n        <div class="standard-block centred-block hide-important js-logged-out">You are now logged out.</div>\n    </div>\n</div>'},"./src/ui/fixtures/navigation-left-template.html":function(e,n){e.exports='<li>\n  <button id="GLOSSARY" class="snap-icon-btn icon glossary js-glossary" data-toggle="modal" data-target="#glossaryModal" aria-label="glossary">\n    <i aria-hidden="true" focusable="false" class="fas fa-book-open"></i>\n    <span class="visually-hidden">Glossary</span>\n  </button>\n</li>\n\n<li>\n  <button id="LANGUAGE" class="snap-icon-btn icon language js-language" data-toggle="modal" data-target="#basicModal" aria-label="language settings">\n    <i aria-hidden="true" focusable="false" class="fas fa-language"></i>\n    <span class="visually-hidden">Language</span>\n  </button>\n</li>'},"./src/ui/fixtures/navigation-portrait-template.html":function(e,n){e.exports='<li>\n  <button id="PORTRAIT_HOME" class="snap-icon-btn portrait icon list js-list" aria-label="home">\n    <i aria-hidden="true" focusable="false" class="fas fa-chalkboard"></i>\n    <span class="visually-hidden">Lesson home</span>\n  </button>\n</li>\n\n<li>\n  <button id="SETTINGS" class="snap-icon-btn icon settings js-settings" data-toggle="modal" data-target="#basicModal" aria-label="settings">\n    <i aria-hidden="true" focusable="false" class="fas fa-cog"></i>\n    <span class="visually-hidden">Settings</span>\n  </button>\n</li>\n\n<li>\n  <button id="LOGIN" class="snap-icon-btn icon login js-login" data-toggle="modal" data-target="#basicModal" data-is-logged-in="false" aria-label="login">\n    <i aria-hidden="true" focusable="false" class="fas fa-user-slash"></i>\n    <i aria-hidden="true" focusable="false" class="fas fa-user-check"></i>\n    <span class="visually-hidden">Login or logout</span>\n  </button>\n</li>\n\n<li>\n  <button id="GLOSSARY" class="snap-icon-btn icon glossary js-glossary" data-toggle="modal" data-target="#glossaryModal" aria-label="glossary">\n    <i aria-hidden="true" focusable="false" class="fas fa-book-open"></i>\n    <span class="visually-hidden">Glossary</span>\n  </button>\n</li>'},"./src/ui/fixtures/navigation-right-template.html":function(e,n){e.exports='<li>\n  <button id="SETTINGS" class="snap-icon-btn icon settings js-settings" data-toggle="modal" data-target="#basicModal" aria-label="settings">\n    <i aria-hidden="true" focusable="false" class="fas fa-cog"></i>\n    <span class="visually-hidden">Settings</span>\n  </button>\n</li>\n\n<li>\n  <button id="LOGIN" class="snap-icon-btn icon login js-login" data-toggle="modal" data-target="#basicModal" data-is-logged-in="false" aria-label="login">\n    <i aria-hidden="true" focusable="false" class="fas fa-user-slash"></i>\n    <i aria-hidden="true" focusable="false" class="fas fa-user-check"></i>\n    <span class="visually-hidden">Login or logout</span>\n  </button>\n</li>\n\n<li>\n  <a id="EMAIL" class="landscape icon email js-email" target="_blank" href="mailto:danhartleybcn@gmail.com?subject=Learn The Planet">\n      <i aria-hidden="true" focusable="false" class="fas fa-envelope"></i>\n      <span class="visually-hidden">Open email link</span>\n  </a>\n  </li>'},"./src/ui/fixtures/navigation.js":function(e,n,t){"use strict";t.r(n),t.d(n,"onAddLoseFocusListener",(function(){return w})),t.d(n,"renderNavigation",(function(){return S})),t.d(n,"renderLoginChanges",(function(){return _}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/ui/dom.js"),i=t("./src/redux/store.js"),s=t("./src/ui/helpers/templating.js"),o=t("./src/redux/subscriptions.js"),c=t("./src/ui/helpers/enum-helper.js"),l=t("./src/ui/screens/lists/lesson-list.js"),u=t("./src/ui/helpers/cookie-handler.js"),d=t("./src/ui/fixtures/settings.js"),m=t("./src/ui/fixtures/login.js"),p=t("./src/ui/screens/lists/lesson-state-handler.js"),f=t("./src/ui/quick-fire-modal/quick-fire.js"),g=t("./src/ui/fixtures/language.js"),h=t("./src/ui/fixtures/navigation-portrait-template.html"),v=t.n(h),b=t("./src/ui/fixtures/navigation-left-template.html"),y=t.n(b),x=t("./src/ui/fixtures/navigation-right-template.html"),j=t.n(x);function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}var k=[],w=function onAddLoseFocusListener(e){k.pop(),k.push(e)},S=function renderNavigation(e){var n,t=i.store.getState(),h=t.config,b=t.counter,x=document.createElement("template");h.isPortraitMode?(x.innerHTML=v.a,(n=document.querySelector(".js-main-footer .js-nav-icons")).innerHTML="",Object(s.renderTemplate)({},x.content,n)):(x.innerHTML=y.a,(n=document.querySelector(".js-left-footer .js-nav-icons")).innerHTML="",Object(s.renderTemplate)({},x.content,n),x.innerHTML=j.a,(n=document.querySelector(".js-right-footer .js-nav-icons")).innerHTML="",Object(s.renderTemplate)({},x.content,n));var w=document.querySelectorAll(".js-nav-icons .icon");w.forEach((function(e){e.addEventListener("click",function(){var e=function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e){var n,t,s,u,h,v,b,y;return regeneratorRuntime.wrap((function _callee$(x){for(;;)switch(x.prev=x.next){case 0:n=e.currentTarget,t=i.store.getState(),s=t.collection,t.config,u=function toggleIconOnOff(e){e.classList.add("active-icon"),setTimeout((function(){e.classList.remove("active-icon")}),1e3)},x.t0=c.enums.navigation.enumValueOf(n.id),x.next=x.t0===c.enums.navigation.LANDSCAPE_HOME?6:x.t0===c.enums.navigation.SETTINGS?9:x.t0===c.enums.navigation.PORTRAIT_HOME?12:x.t0===c.enums.navigation.GLOSSARY?24:x.t0===c.enums.navigation.EMAIL?29:x.t0===c.enums.navigation.LOGIN?31:x.t0===c.enums.navigation.LANGUAGE?33:34;break;case 6:return r.contains("active-icon",n.classList)||n.classList.add("active-icon"),x.abrupt("break",35);case 9:return u(n),Object(d.settingsHandler)(),x.abrupt("break",35);case 12:return k.forEach((function(e){return e()})),(h=document.querySelector(".js-info.active-icon"))&&h.classList.remove("active-icon"),n.classList.add("active-icon"),o.subscription.getByRole("screen").forEach((function(e){return o.subscription.remove(e)})),x.next=19,p.lessonStateHandler.changeRequest({requestType:c.enums.lessonState.PAUSE_LESSON});case 19:return x.sent,Object(l.renderLessons)(),a.DOM.rightHeaderTxt.innerHTML="Learn the planet",a.DOM.rightHeaderScoreTxt.innerHTML="",x.abrupt("break",35);case 24:return u(n),v=i.store.getState(),b=v.glossary,y=s.glossary?b.filter((function(e){return r.contains(e.taxon,s.glossary)})):b,f.quickFireHandlers.definitions(y),x.abrupt("break",35);case 29:return u(n),x.abrupt("break",35);case 31:return Object(m.renderLogin)(i.store.getState().user),x.abrupt("break",35);case 33:Object(g.renderLanguagePicker)();case 34:return x.abrupt("return");case 35:case"end":return x.stop()}}),_callee,this)})));return function(n){return e.apply(this,arguments)}}())}));!function onLoadState(e,n){if(!e.isPortraitMode||0===e.collection.id||n.isLessonRehydrated)if(n.isLessonPaused){if(e.isPortraitMode){var t=c.enums.navigation.PORTRAIT_HOME.name,r=document.getElementById(t),a=!u.cookieHandler.isFirstTimeVisitor();(t===c.enums.navigation.LANDSCAPE_HOME.name||t===c.enums.navigation.PORTRAIT_HOME.name&&a)&&r.classList.add("active-icon")}}else w.forEach((function(e){return e.classList.remove("active-icon")}));else w.forEach((function(e){return e.classList.remove("active-icon")}))}(h,b)},_=function renderLoginChanges(e){}},"./src/ui/fixtures/score-template.html":function(e,n){e.exports='\x3c!-- <div class="footer-round js-footer-round">{{ layout.levelName }}, round {{ currentRound }}</div> --\x3e\n<div>{{ questionFormat }}</div>\n<div class="footer-score js-footer-score">\n    <span class="hide-important">{{ score.correct }} {{ scoreText }}</span>\n    <span>Score: {{ score.correct }} / {{ score.total }}</span>\n    <span>History: {{ history.correct }} / {{ history.total }}</span>\n</div>'},"./src/ui/fixtures/score.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderScore",(function(){return i}));t("./src/ui/dom.js");var r=t("./src/redux/store.js"),a=t("./src/redux/actions/action-creators.js");t("./src/ui/helpers/templating.js"),t("./src/ui/fixtures/score-template.html");var i=function renderScore(e){var n=r.store.getState(),t=(n.history,n.collection,n.config),i=n.layout;n.lesson,n.lessonPlan;(e.mode=t.mode,i)&&(e.total===i.roundScoreCount&&a.actions.boundUpdateHistory(e))}},"./src/ui/fixtures/settings-template.html":function(e,n){e.exports='<div class="double-standard-block vertical-centred-block">\n    <p>Clear all data (and delete your score).</p>\n    <button class="btn snap-action-btn js-clear-cache-btn">Clear all data</button>\n</div>\n\n<hr>\n\n<div class="half-standard-block centred-block">Time for answer to remain visible:</div>\n<div class="delay-slider">\n    <div class="standard-block double-centred-block">\n        <span>0 secs</span> <input class="js-set-delay-input" type="range" min="0" max="5" value="{{ delay }}"><span> 5 secs</span>\n    </div>\n    <button class="btn snap-action-btn js-set-delay-btn">Set delay</button>\n    <div class="half-standard-block centred-block js-delay-text"></div>\n</div>\n\n<hr class="portrait">\n\n<div class="portrait js-language-selection-container"></div>\n\n<hr class="portrait">\n\n<div class="portrait email centred-block">\n    <a target="_blank" href="mailto:danhartleybcn@gmail.com?subject=Learn The Planet">\n        <i class="fas fa-envelope"></i>        \n    </a>\n    <span class="margin-left">Contact Snapdragon</span>\n</div>'},"./src/ui/fixtures/settings.js":function(e,n,t){"use strict";t.r(n),t.d(n,"settingsHandler",(function(){return u}));t("./src/ui/dom.js");var r=t("./src/redux/store.js"),a=t("./src/redux/actions/action-creators.js"),i=t("./src/ui/helpers/templating.js"),s=t("./src/ui/helpers/cookie-handler.js"),o=t("./src/ui/screens/common/language-selection.js"),c=t("./src/ui/fixtures/settings-template.html"),l=t.n(c),u=function settingsHandler(){document.querySelector("#basicModal .js-modal-text").innerHTML="";var e=document.createElement("template");e.innerHTML=l.a,document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Snapdragon settings";var n=r.store.getState().config,t=n.callbackTime/1e3,c=n.languages;Object(i.renderTemplate)({delay:t,languages:c},e.content,document.querySelector("#basicModal .js-modal-text"));var u=document.querySelector(".js-clear-cache-btn"),d=document.querySelector(".js-set-delay-btn"),m=document.querySelector(".js-set-delay-input"),p=document.querySelector(".js-delay-text");document.querySelector("#basicModal .modal-body").classList.remove("bird-song-bg"),p.innerHTML="The current delay is ".concat(t,1===t?" second.":" seconds."),u.addEventListener("click",(function(){u.innerText="Clearing cache",setTimeout((function(){r.persistor.purge(),u.innerText="Cache cleared",s.cookieHandler.removeFirstTimeVisitorCookie(),setTimeout((function(){setTimeout((function(){window.location.reload(!0)}),500)}),500)}),1e3)})),d.addEventListener("click",(function(){d.innerHTML="Setting delay",setTimeout((function(){var e=m.value;n.callbackTime=1e3*e,a.actions.boundUpdateConfig(n),d.innerHTML="Set delay",p.innerHTML="Delay updated to ".concat(e,"1"===e?" second.":" seconds.")}),500)})),Object(o.languagePicker)(n,document.querySelector(".js-language-selection-container"),(function(e){a.actions.boundUpdateConfig(e)}))}},"./src/ui/helpers/class-behaviour.js":function(e,n,t){"use strict";t.r(n),t.d(n,"elem",(function(){return i}));var r=t("./node_modules/ramda/es/index.js");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var a=function hasClass(e,n){if(!e)return!1;var t=_toConsumableArray(e.classList);return r.contains(n,t)},i={show:function show(e){e&&e.classList.add("is-visible")},hide:function hide(e){e&&e.classList.remove("is-visible")},toggle:function toggle(e){e&&e.classList.toggle("is-visible")},hasClass:a,removeClass:function removeClass(e,n){a(e,n)&&e.classList.forEach((function(t){t===n&&e.classList.remove(t)}))}}},"./src/ui/helpers/cookie-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"cookieHandler",(function(){return i}));var r,a="SameSite=Lax;",i={setFirstTimeVisitorCookie:function setFirstTimeVisitorCookie(){var e=!0;return document.cookie.indexOf("first_time")<0?(r="".concat("first_time","=false; ").concat(a),document.cookie=r):e=!1,e},isFirstTimeVisitor:function isFirstTimeVisitor(){return null===s("first_time")},removeFirstTimeVisitorCookie:function removeFirstTimeVisitorCookie(){r="".concat("first_time","= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; ").concat(a),document.cookie=r},setLastVisitedCookie:function setLastVisitedCookie(e){document.cookie.indexOf("last_visited")<0?(r="".concat("last_visited","=").concat(e,"; ").concat(a),document.cookie=r):o(e)},hasUserBeenAwayTooLong:function hasUserBeenAwayTooLong(){var e=s("last_visited");if(!e)return!1;var n=Math.abs(new Date-new Date(e)),t=Math.ceil(n/864e5)>5;return t&&o(Date()),t}},s=function readCookie(e){for(var n=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var a=t[r];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},o=function setLastVisited(e){var n=document.cookie.replace(/(?:(?:^|.*;\s*)last_time\s*\=\s*([^;]*).*$)|^.*$/,"$1")+"".concat("last_visited","=").concat(e,";");r="".concat(n,"; ").concat(a),document.cookie=r}},"./src/ui/helpers/function-lookups.js":function(e,n,t){"use strict";t.r(n),t.d(n,"funcByName",(function(){return j}));var r=t("./src/ui/screens/text-entry/species-text-entry.js"),a=(t("./src/ui/screens/landscape/specimen-tiles.js"),t("./src/ui/screens/progress/history.js")),i=t("./src/ui/screens/cards/card.js"),s=t("./src/ui/screens/cards/taxon-card.js"),o=t("./src/ui/screens/cards/non-taxon-card.js"),c=t("./src/ui/screens/progress/summary.js"),l=t("./src/ui/screens/multichoice/multi-strips.js"),u=t("./src/ui/screens/text-entry/text-complete.js"),d=t("./src/ui/screens/cards/cultivar-card.js"),m=t("./src/ui/screens/multichoice/portrait/mixed-specimen/mixed-specimen-combined.js"),p=t("./src/ui/screens/cards/non-taxon-card-specimen-tiles.js"),f=t("./src/ui/screens/multichoice/landscape/mixed-specimen/right/mixed-specimen-question.js"),g=(t("./src/ui/screens/multichoice/landscape/mixed-specimen/left/mixed-specimen-images.js"),t("./src/ui/screens/media/landscape/media-players.js")),h=t("./src/ui/screens/bonus/bonus-test.js"),v=t("./src/ui/screens/bonus/bonus-specimen-tiles.js"),b=(t("./src/ui/screens/multichoice/landscape/mixed-trait/left/mixed-trait-images.js"),t("./src/ui/screens/multichoice/landscape/mixed-trait/right/mixed-trait-question.js")),y=t("./src/ui/screens/multichoice/horizontal-strips.js"),x=[{name:"mixed-specimen-questions",func:m.renderMixedSpecimenImagesAndQuestion},{name:"non-taxon-specimen-tiles",func:p.renderNonTaxonCardSpecimenTiles},{name:"text-entry",func:r.renderTextEntry},{name:"species-card",func:i.renderCard},{name:"species-scientifics",func:l.renderMultiStrips},{name:"species-vernaculars",func:l.renderMultiStrips},{name:"species-identification",func:l.renderMultiStrips},{name:"summary",func:c.renderSummary},{name:"history",func:a.renderHistory},{name:"epithet",func:l.renderMultiStrips},{name:"definition",func:h.renderBonusTest},{name:"family",func:l.renderMultiStrips},{name:"family-strips",func:l.renderMultiStrips},{name:"taxon-card",func:s.renderTaxonCard},{name:"non-taxon-card",func:o.renderNonTaxonCard},{name:"text-complete",func:u.renderCompleteText},{name:"cultivar-card",func:d.renderCultivarCard},{name:"visual-match",func:l.renderMultiStrips},{name:"trait-images",func:v.renderBonusSpecimenTiles},{name:"trait-property",func:h.renderBonusTest},{name:"lookalike-property",func:h.renderBonusTest},{name:"symbiotic-property",func:l.renderMultiStrips},{name:"mixed-specimen-question",func:f.renderMixedSpecimenQuestion},{name:"mixed-specimen-images",func:f.renderMixedSpecimenQuestion},{name:"birdsong",func:h.renderBonusTest},{name:"media-players",func:g.renderMediaPlayers},{name:"mixed-trait-question",func:b.renderMixedTraitQuestion},{name:"provider-horizontal-strip-questions",func:y.renderHorizontalStrips}],j=function funcByName(e){var n=x.find((function(n){return n.name===e}));return n?n.func:null}},"./src/ui/helpers/inat-autocomplete.js":function(e,n,t){"use strict";t.r(n),t.d(n,"inatAutocomplete",(function(){return o}));var r=t("./node_modules/autocompleter/autocomplete.js"),a=t.n(r),i=t("./src/api/inat/inat.js"),s=t("./src/geo/geo.js");function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var o=function inatAutocomplete(e,n,t,r){function _getUserSuggestions(){return(_getUserSuggestions=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var n;return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.getAutocompleteBy)(e,"users");case 2:return n=t.sent,t.abrupt("return",n.results.map((function(e){return{label:e.login_autocomplete,value:e.id,photo:e.icon,name:e.name}})));case 4:case"end":return t.stop()}}),_callee,this)})))).apply(this,arguments)}function _getProjectSuggestions(){return(_getProjectSuggestions=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(e){var n;return regeneratorRuntime.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.getAutocompleteBy)(e,"projects");case 2:return n=t.sent,t.abrupt("return",n.results.map((function(e){return{label:e.title,value:e.id}})));case 4:case"end":return t.stop()}}),_callee3,this)})))).apply(this,arguments)}return a()({input:e,fetch:function fetch(e,t){switch(n){case"users":(function getUserSuggestions(e){return _getUserSuggestions.apply(this,arguments)})(e).then((function(e){t(e)}));break;case"places":!function getPlaceSuggestions(e,n){var t;t=function callback(e){n(e.map((function(e){return{label:e.description,value:e.place_id}})))},Object(s.GoogleAutocomplete)(e,t)}(e,t);break;case"projects":(function getProjectSuggestions(e){return _getProjectSuggestions.apply(this,arguments)})(e).then((function(e){t(e)}))}},onSelect:function onSelect(n){e.value=n.label,e.name=n.value},className:t,rb:r,minLength:3,debounceWaitMs:200})}},"./src/ui/helpers/location-helper.js":function(e,n,t){"use strict";t.r(n),t.d(n,"initialiseConfig",(function(){return s}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/utils/utils.js"),i=t("./src/geo/geo.js");function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}var s=function(){var e=function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e){var n,t,s,o;return regeneratorRuntime.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return n=Object(r.clone)(e),t=a.utils.getObservableMonths(new Date,3),n.season={observableMonths:t},n.guide.season.observableMonths=t,n.guide.season.type=n.guide.season.type||"all_year",n.collection.id=n.collection.id||0,n.guide.locationPlace="",n.guide.place.type="",c.prev=8,c.next=11,Object(i.getIPLocation)(n);case 11:(s=c.sent)?(o=s.city?"".concat(s.city,", ").concat(s.country_name):s,n.ipLocation=o,n.guide.locationType="longLat",n.guide.locationLongLat=o,n.guide.place.name=o,n.guide.coordinates={lat:s.latitude,long:s.longitude}):(n.guide.locationPlace="Earth",n.guide.locationType="place",n.guide.place={id:"any",name:"Earth"}),c.next=20;break;case 15:c.prev=15,c.t0=c.catch(8),n.guide.locationPlace="Earth",n.guide.locationType="place",n.guide.place={id:"any",name:"Earth"};case 20:return c.abrupt("return",n);case 21:case"end":return c.stop()}}),_callee,this,[[8,15]])})));return function initialiseConfig(n){return e.apply(this,arguments)}}()},"./src/ui/helpers/score-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"scoreHandler",(function(){return c})),t.d(n,"renderScoreHTMLResponse",(function(){return l})),t.d(n,"continueLessonHandler",(function(){return d})),t.d(n,"bindScore",(function(){return v}));var r=t("./src/redux/store.js"),a=t("./src/redux/actions/action-creators.js"),i=t("./src/ui/helpers/class-behaviour.js"),s=t("./src/ui/helpers/test-handler.js"),o=t("./src/redux/subscriptions.js");t("./src/ui/helpers/logging-handler.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c=function scoreHandler(e,n,t,r){switch(e){case"radio":case"text":return p(n,t,r);case"block":f(n,t,r);break;case"strip":g(n,t,r);break;case"image":h(n,t,r);break;case"image-match":m(n,t,r)}},l=function renderScoreHTMLResponse(e){return e.success?'<div class="answer-box-success">\n                <span class="icon"><i class="fas fa-check"></i></span><span class="answer-response">'.concat(e.correct,"</span>\n                </div>"):'<div class="answer-box-alert">\n                <span class="icon"><i class="fas fa-times"></i></span><span class="answer-response">'.concat(e.answer||e.incorrect,"</span>\n            </div>")},u=function showResponseToAnswerHandler(e){var n=document.querySelector(e.container)||document.querySelector(".js-txt-question");n&&(n.innerHTML=l(e))},d=function continueLessonHandler(e,n,t){e.disabled=!1,e.style.cursor="pointer",e.addEventListener("click",(function(r){e.disabled=!0,window.clearTimeout(t),o.subscription.removeSubs(),v(n)}))},m=function simpleScoreHandler(e,n,t){var r=Object(s.markTest)(e),a=r.success?t.callbackTime:t.callbackTime+t.callbackDelay;o.subscription.removeSubs();var i=setTimeout((function(){v(r)}),a);n?n(r,i):d(document.querySelector(".js-continue-lesson-btn"),r,i);u({success:r.success,correct:"Correct",incorrect:"Incorrect"})},p=function genericScoreHandler(e,n,t){var r=e.itemId,a=e.question,i=e.answer,c=(e.target,e.layoutCount),l=e.points,d=e.names,m=e.questionText,p=e.answers,f=_objectSpread(_objectSpread({itemId:r},a),{},{answer:i,points:l,names:d,questionText:m,answers:p}),g=Object(s.markTest)(f);f.names&&f.names.length>0?f.names[0]:f.binomial;"genus"===g.taxon&&g.genus,"species"===g.taxon&&g.species,"name"===g.taxon&&g.binomial,"family"===g.taxon&&g.question;var h=window.matchMedia("(max-height: 568px)").matches?".js-check-answer":".js-txt-question";u({success:g.success,correct:"Correct",incorrect:"Incorrect",container:h,answer:g.question}),g.layoutCount=c;var b=g.success?t.callbackTime:t.callbackTime+t.callbackDelay;o.subscription.removeSubs();var y=setTimeout((function(){v(g)}),b);return n&&n(g,y),{score:g,scoreUpdateTimer:y}},f=function blockScoreHander(e,n,t){var r=Object(s.markTest)(e),a=r.success?t.callbackTime:t.callbackTime+t.callbackDelay;o.subscription.removeSubs();var i=setTimeout((function(){v(r)}),a);n(r,i,t)},g=function stripScoreHandler(e,n,t){var r=e.items,a=e.taxon,c=function handleClickEvent(c){c.preventDefault();var l=c.target;if(!i.elem.hasClass(l,"disabled")){var m=l,p=m.innerText.trim(),f=m.dataset.answerIndex,g=m.dataset.name,h=l.dataset.vernacular;e.taxon="name",e.vernacular=h,e.question=a.question,e.answer=g&&""!==g?{term:p,name:g}:p;var b=Object(s.markTest)(_objectSpread(_objectSpread({},e),{},{answeredIndex:parseInt(f),answers:[]}));if(l.classList.add(b.colour),r.forEach((function(e){var n=e.querySelector("button"),t=parseInt(n.dataset.answerIndex),r=n.dataset.name||"";""===n?b.answers.push(n.innerText):b.answers.push({term:n.innerText,name:r}),t===b.answerIndex?e.classList.add("snap-success"):t===b.answeredIndex&&e.classList.add("snap-alert")})),n)n(b);else{!function _callback(e){var n=e.success?t.callbackTime:t.callbackTime+t.callbackDelay,r=setTimeout((function(){o.subscription.removeSubs(),v(e)}),n);d(document.querySelector(".js-continue-lesson-btn"),e,r),"family-strips"===screen.name&&(document.querySelector(".js-question-question").innerHTML=item.taxonomy.family,document.querySelector(".js-question-help").classList.add("hide"))}(b)}u({success:b.success,correct:"Correct",incorrect:"Incorrect"}),r.forEach((function(e){return e.classList.add("disabled")}))}};r.forEach((function(e){e.addEventListener("click",c)})),window.addEventListener("keydown",(function(e){"Enter"===e.key&&c(e)}),{once:!0})},h=function imageScoreHandler(e,n,t){var r=e.items,a=e.taxon;r.forEach((function(i){i.addEventListener("click",(function(c){var l=c.target,u=l.dataset.answer;if(u){e.taxon="name",e.question=a.name,e.answer=u;var d=Object(s.markTest)(e);i.style.filter="saturate(100%)",l.parentNode.style.filter="saturate(100%)",r.forEach((function(e){e.style.filter="saturate(10%)",e.style.opacity=.3,e.dataset.answer.trim().toLowerCase()===a.name.trim().toLowerCase()&&(e.style.filter="saturate(100%)",e.style.opacity=1)}));var m=d.success?t.callbackTime:t.callbackTime+t.callbackDelay;o.subscription.removeSubs();var p=setTimeout((function(){v(d)}),m);n&&n(d,p)}}))}))},v=function bindScore(e){var n=r.store.getState().collection;e.collectionId=n.id,a.actions.boundUpdateScore(e)}},"./src/ui/helpers/test-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"cleanText",(function(){return a})),t.d(n,"isAnswerEqualToQuestion",(function(){return i})),t.d(n,"markTest",(function(){return s}));var r=t("./node_modules/ramda/es/index.js"),a=function cleanText(e){return e.term?e.term.toLowerCase():e.toLowerCase().replace(/ /g,"")},i=function isAnswerEqualToQuestion(e,n){return r.compose(r.isEmpty,r.symmetricDifference)(a(e),a(n))},s=function markTest(e){var n=r.clone(e);return n.success=n.trait?function isTraitAnswerCorrect(e){return r.compose(r.isEmpty,r.symmetricDifference)(e.answer,e.question)}(n):function isAnswerCorrect(e){var n;if(e.answeredIndex)return parseInt(e.answeredIndex)===e.answerIndex;switch(e.answer=e.answer.trim(),n=i(e.question,e.answer),e.taxon){case"vernacular":if(e.names=e.names.map((function(e){return e.toLowerCase()})),e.names&&e.names.length>0){var t=r.contains(e.answer,e.names);!n&&t&&(e.alternativeAccepted=!0),n=n||t}}return n}(n),n.colour=n.success?"snap-success":"snap-alert",n}},"./src/ui/quick-fire-modal/quick-fire-api.js":function(e,n,t){"use strict";t.r(n),t.d(n,"quickFireAPI",(function(){return s}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/redux/actions/action-creators.js"),i=t("./src/redux/store.js");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s={getItems:function getItems(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=i.store.getState().glossary,a=t.filter((function(n){return r.contains(n.taxon,e)}));return(n?a:a.filter((function(e){return"true"!==e.technical}))).filter((function(n){return r.contains(n.taxon,e)}))},getBranches:function getBranches(e){var n=_toConsumableArray(new Set(e.map((function(e){return e.branch}))));return n=n.map((function(n){return{name:n,count:e.filter((function(e){return e.branch==n})).length}}))},getQuickFire:function getQuickFire(e,n,t){var i=t.terms?e.filter((function(e){return r.contains(e.id,t.terms)})):e,s={iconicTaxa:_toConsumableArray(new Set(i.map((function(e){return e.taxon})))),option:{key:"0",value:"multiple choice"}},o={index:0,isComplete:!1,items:i,count:i.length,filter:s,type:n,termScore:{total:0,correct:0,incorrect:0,isCorrect:null,isIncorrect:null,rounds:[],passes:[],fails:[]},poolSize:i.length,terms:t.terms,onClickFiltersLinkListeners:[],onClickGlossaryLinkListeners:[],lessonId:t.id};return o.filter.taxa=s.iconicTaxa.map((function(e){return{name:e,count:i.filter((function(n){return n.taxon===e})).length}})),o.filter.taxa=o.filter.taxa.filter((function(e){return e.count>0})),a.actions.boundCreateQuickFire(o),o}}},"./src/ui/quick-fire-modal/quick-fire-filters-template.html":function(e,n){e.exports='<div class="quick-fire">\n    \n    <div class="margin-left centred-block standard-block padding-top">\n        Answer <input min="1" max="{{ quickFire.count }}" required class="big half-margin-left half-margin-right js-input-quick-fire" type="number" value="{{ quickFire.count }}">\n        <span class="landscape">questions selected at random from <span class="js-quick-fire-count">{{ quickFire.count }}</span> terms.</span>\n        <span class="portrait">from <span class="js-quick-fire-count">{{ quickFire.count }}</span> terms.</span>\n    </div>\n\n    <div class="landscape half-standard-block"></div>\n    <div class="portrait padding"></div>\n    \n    <ul class="quick-fire-taxa margin-left js-quick-fire-taxa" data-repeat-taxon="{{ quickFire.filter.taxa }}">\n        <li class="custom-control custom-checkbox" data-name="{{ taxon.name }}">\n            <input type="checkbox" class="custom-control-input" id="{{ taxon.name }}" checked>\n            <label class="custom-control-label" for="{{ taxon.name }}">{{ taxon.name }}</label>\n            <span data-taxon="{{ taxon.name }}" class="">{{ taxon.count }}</span>\n        </li>\n    </ul>\n\n    <div class="landscape half-standard-block"></div>\n    <div class="portrait padding"></div>\n\n    <div class="btn-group btn-group-toggle quick-fire-branches js-quick-fire-branches" data-toggle="buttons" data-repeat-branch="{{ branches }}">\n        <label data-key="{{ branch.name }}" class="btn btn-secondary margin-left active" data-value="{{ branch.name }}">\n          <input type="checkbox" name="branches" id="{{ branch.name }}" autocomplete="off"> {{ branch.name }}\n          <span data-name="{{ branch.name }}">{{ branch.count }}</span>\n        </label>        \n    </div>\n\n    <div class="landscape half-standard-block"></div>\n    <div class="portrait half-padding"></div>\n\n    <div class="btn-group btn-group-toggle margin-left quick-fire-options margin-bottom js-quick-fire-filter-options" data-toggle="buttons" data-repeat-option="{{ options }}">\n        <label data-key="{{ option.key }}" class="btn btn-secondary margin-right" data-value="{{ option.value }}">\n          <input type="radio" name="options" id="{{ option.key }}" autocomplete="off"> {{ option.value }}\n        </label>\n    </div>\n\n    <div class="landscape half-standard-block"></div>\n\n    <div class="low-relief-block standard-block centred-block horizontal-evenly-spaced-block">\n        <div class="custom-control custom-checkbox">\n            <input type="checkbox" class="custom-control-input js-quick-fire-technical" id="technical">\n            <label class="custom-control-label" for="technical">Include technical (advanced)</label>\n        </div>\n        <div>\n            <div class="btn snap-action-btn js-quick-fire-reset">Reset filters</div>\n        </div>\n    </div>\n\n    <div class="centred-block absolute-bottom">\n        <button class="btn snap-action-btn js-create-quick-fire">Start quick-fire review</button>\n    </div>\n\n</div>'},"./src/ui/quick-fire-modal/quick-fire-logic.js":function(e,n,t){"use strict";t.r(n),t.d(n,"quickFireLogic",(function(){return i}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/utils/utils.js"),i={selectAnswers:function selectAnswers(e,n){e.spareItems=e.spareItems||r.take(5,n),e.question=n.splice(0,1)[0];var t=n.filter((function(n){return n.branch===e.question.branch})),i=t?t.length:0;i<=3&&r.take(3-i,e.spareItems.filter((function(n){return!r.contains(n.term,t.map((function(e){return e.term})))&&n.term!==e.question.term}))).forEach((function(e){return t.push(e)}));var s=r.take(3,t);return s.push(e.question),s=(s=a.utils.shuffleArray(s)).map((function(e,n){return{term:e.term,index:n}}))}}},"./src/ui/quick-fire-modal/quick-fire-questions-template.html":function(e,n){e.exports='<div class="quick-fire">\n\n    <div class="margin-left centred-block standard-block justify-space-between">\n        <h2>\n            <span>Question {{ total }} of {{ count }}</span>\n        </h2>\n        <div class="margin-right">\n            <button class="btn snap-btn small-text js-quick-review-progress">Progress</button>\n        </div>\n    </div>\n\n    <div class="centred-block double-standard-block modal-background-relief border-light js-quick-fire-definition">\n        <span class="padding">{{ question.definition }}</span>\n    </div>\n\n    <ul id="0" class="strips description margin-top js-quick-layouts js-quick-fire-options" data-repeat-answer="{{ answers }}">\n        <li class="strip" id="{{ answer.term }}" role="group" aria-label="answers to the question">\n            <button class="snap-icon-btn" data-answer-index="{{ answer.index }}">\n                <span>{{ answer.term }}</span>\n            </button>\n          </li>\n      </ul>\n\n    <div id="1" class="hide vertical-block centred-block margin-top js-quick-layouts quick-fire-text-entry js-quick-fire-text-entry">\n        <div class="centred-block standard-block">\n            <input type="text" placeholder="Enter the term that fits this description">\n        </div>\n        <div class="half-standard-block">\n            <div class="hide centered-block js-quick-fire-hint">\n                <span class="margin-left latin">Hint: </span><span>The answer has two words.</span>\n            </div>\n        </div>\n        \n    </div>\n\n    <div class="vertical-centred-block centred-block absolute-bottom">\n\n      <div class="margin-left centred-block standard-block js-quick-fire-message"></div>\n\n      <div class="half-standard-block">\n          Score {{ correct }} of {{ answered }}\n      </div>  \n\n      <div class="action-update">\n          <button disabled class="btn snap-action-btn js-continue-quick-fire-btn">Continue lesson</button>\n      </div>\n    </div>\n\n</div>'},"./src/ui/quick-fire-modal/quick-fire-summary-template.html":function(e,n){e.exports='<div class="quick-fire">\n\n    <div class="justify-space-between centred-block margin-left standard-block js-quick-fire-summary">\n        <div>\n            <span>You have answered all of the questions.</span>\n        </div>\n        <div class="margin-right padding-left nowrap">\n          <button class="btn snap-btn small-text js-quick-review-continue-review">Vocab</button>\n        </div>\n    </div>\n\n    <div class="border-light standard-block padding-left centred-block modal-background-relief js-score-text-summary">\n        You have scored {{ score.correct }} out of {{ score.total }} so far.\n    </div>\n\n    <ul class="margin-top nav nav-pills nav-fill quick-review-tabs js-quick-review-tabs mb-3" role="tablist">\n        <li class="nav-item">\n            <a class="nav-link" href="#" id="js-quick-review-correct" data-toggle="pill" role="tab">\n                <span class="landscape">Correct answers</span>\n                <span class="portrait">Correct</span>\n            </a>\n        </li>\n        <li class="nav-item">\n            <a class="nav-link active" href="#" id="js-quick-review-incorrect" data-toggle="pill" role="tab">\n                <span class="landscape">Incorrect answers</span>\n                <span class="portrait">Incorrect</span>\n            </a>\n        </li>\n      </ul>\n\n    <div class="scrollable accordions-container">\n\n        <div id="accordion-correct" data-type="js-quick-review-correct" class="hide-important quick-review-answers js-quick-review-answers" data-repeat-pass="{{ passes }}">\n            <div class="card quick-fire-summary-row margin-bottom">\n                <div class="card-header capitalise" id="pass_header_{{ pass.index }}">\n                <div data-toggle="collapse" data-target="#pass_target_{{ pass.index }}" aria-expanded="true" aria-controls="pass_target_{{ pass.index }}">\n                    <div>{{ pass.term }}</div>                    \n                </div>\n                </div>\n            </div>\n            <div id="pass_target_{{ pass.index }}" class="collapse" aria-labelledby="pass_header_{{ pass.index }}" data-parent="#accordion-correct">\n                <div class="card-body">\n                    <div>{{ pass.definition }}</div>\n                    <div class="centred-block half-standard-block">\n                      <span class="sr-only">Opens in new window</span>\n                      <a class="small-text underline-link underline-link-left-margin {{ pass.showWikiClass }}" href="{{ pass.wiki }}" target="_blank">\n                        <span class="sr-only">Opens in new window</span>\n                        <span>View Wikipedia page for {{ pass.term }} in a new window</span>\n                        <i aria-hidden="true" class="super fas fa-external-link-alt"></i>\n                      </a>                      \n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div id="accordion-incorrect" data-type="js-quick-review-incorrect" class="quick-review-answers js-quick-review-answers" data-repeat-fail="{{ fails }}">\n            <div class="card quick-fire-summary-row margin-bottom">\n                <div class="card-header capitalise" id="fail_header_{{ fail.index }}">\n                <div data-toggle="collapse" data-target="#fail_target_{{ fail.index }}" aria-expanded="true" aria-controls="fail_target_{{ fail.index }}">\n                    <div>{{ fail.term }}</div>\n                </div>\n                </div>\n            </div>\n            <div id="fail_target_{{ fail.index }}" class="collapse" aria-labelledby="fail_header_{{ fail.index }}" data-parent="#accordion-incorrect">\n                <div class="card-body">\n                    <div>{{ fail.definition }}</div>\n                    <div class="centred-block half-standard-block">\n                      <a class="small-text underline-link underline-link-left-margin {{ fail.showWikiClass }}" href="{{ fail.wiki }}" target="_blank">\n                        <span class="sr-only">Opens in new window</span>\n                        <span>View Wikipedia page for {{ fail.term }} in a new window</span>\n                        <i aria-hidden="true" class="super fas fa-external-link-alt"></i>\n                      </a>\n                    </div>\n                    <div class="small-text margin-top"><span>You answered: </span><span>{{ fail.answer }}</span></div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>'},"./src/ui/quick-fire-modal/quick-fire-ui.js":function(e,n,t){"use strict";t.r(n),t.d(n,"quickFireUI",(function(){return l}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/redux/store.js"),i=t("./src/ui/helpers/enum-helper.js"),s=function renderResponse(e,n){return e?'<span class="centred-block icon"><i class="fas fa-check extra-large-text correct-answer-color margin-right"></i>That is correct.</span>':'<span class="centred-block icon"><i class="fas fa-times extra-large-text incorrect-answer-color margin-right"></i>The correct answer is <span class="answer-response half-margin-left">\''.concat(n,"'.</span></span>")},o=function updateBranchCounts(e,n){var t=e.terms?e.items.filter((function(n){return r.contains(n.id,e.terms)})):e.items;n.forEach((function(e){e.innerHTML=t.filter((function(n){return n.branch===e.dataset.name})).length}))},c=function updateTaxonCounters(e,n,t){var a=e.terms?e.items.filter((function(n){return r.contains(n.id,e.terms)})):e.items;return n.forEach((function(e){e.innerHTML=t?a.filter((function(n){return n.taxon===e.dataset.taxon})).length:a.filter((function(n){return n.taxon===e.dataset.taxon&&!n.technical})).length})),t?a:a.filter((function(e){return!e.technical}))},l={updateTotalCounts:function updateTotalCounts(e,n,t,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];o(e,r);var s=c(e,a,i);e.count=s.length,t.forEach((function(n){n.innerHTML=e.count})),n.value=e.count,e.poolSize=parseInt(n.value)},updateHeaders:function updateHeaders(e,n,t,r){var a=n.glossary,s=n.filters,o=n.questions,c="hide-important",l=t(),u=function loadGlossary(e){r.quickFireGlossary(l.items),l.linkFromLesson?(o.classList.remove(c),s.classList.add(c)):s.classList.remove(c)},d=function loadFilters(e){r.quickFireFilters(l.linkFromLesson)},m=function handleGlossaryLink(){l.onClickGlossaryLinkListeners=l.onClickGlossaryLinkListeners||[],l.onClickGlossaryLinkListeners.length<1&&(a.addEventListener("click",u,{once:!0}),l.onClickGlossaryLinkListeners.push("filters"))},p=function handleFiltersLink(){l.onClickFiltersLinkListeners=l.onClickFiltersLinkListeners||[],l.onClickFiltersLinkListeners.length<1&&(s.addEventListener("click",d,{once:!0},!0),l.onClickFiltersLinkListeners.push("filters"))};switch(e){case i.enums.quickFireStep.FILTERS:s.classList.add(c),a.classList.remove(c),m();break;case i.enums.quickFireStep.QUESTIONS:s.classList.remove(c),s.innerHTML="Vocab filter",m(),p();break;case i.enums.quickFireStep.GLOSSARY:s.classList.remove(c),s.innerHTML="Vocab filter",o.classList.add(c),p()}},scoreMultipleChoice:function scoreMultipleChoice(e,n,t){var r=n===e.question.term;e.question.answer=n,e.termScore.total++,r?(e.termScore.correct++,e.termScore.isCorrect=!0,e.termScore.isIncorrect=!1,e.termScore.passes.push(e.question)):(e.termScore.incorrect++,e.termScore.isCorrect=!1,e.termScore.isIncorrect=!0,e.termScore.fails.push(e.question)),t.innerHTML=s(r,e.question.term.toLowerCase())},scoreTextEntry:function scoreTextEntry(e,n,t,i,o){if("1"===e.filter.option.key){var c=/\(.+?\)/,l=e.question.term.split(",").map((function(e){var n=e;return n=(n=(n=n.replace(c,"")).trim()).toLowerCase()})),u=r.contains(n.value.trim().toLowerCase(),l);e.termScore.total++,u?(e.termScore.correct++,e.termScore.passes.push(e.question)):(e.termScore.incorrect++,e.termScore.fails.push(e.question)),t.innerHTML=s(u,e.question.term.toLowerCase()),i=setTimeout((function(){o.click()}),a.store.getState().config.callbackTime+500)}return i},readyTemplate:function readyTemplate(e){var n=document.createElement("template");n.innerHTML=e;var t=document.querySelector("#glossaryModal"),r=t.querySelector(".js-modal-text");return r.innerHTML="",{template:n,modal:t,parent:r}}}},"./src/ui/quick-fire-modal/quick-fire.js":function(e,n,t){"use strict";t.r(n),t.d(n,"quickFireHandlers",(function(){return A}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/redux/store.js"),i=t("./src/utils/utils.js"),s=t("./src/ui/helpers/class-behaviour.js"),o=t("./src/redux/actions/action-creators.js"),c=t("./src/redux/subscriptions.js"),l=t("./src/api/snapdragon/iconic-taxa.js"),u=t("./src/ui/helpers/enum-helper.js"),d=t("./src/ui/helpers/templating.js"),m=t("./src/ui/quick-fire-modal/quick-fire-api.js"),p=t("./src/ui/quick-fire-modal/quick-fire-ui.js"),f=t("./src/ui/quick-fire-modal/quick-fire-logic.js"),g=t("./src/ui/fixtures/glossary-template.html"),h=t.n(g),v=t("./src/ui/quick-fire-modal/quick-fire-filters-template.html"),b=t.n(v),y=t("./src/ui/quick-fire-modal/quick-fire-questions-template.html"),x=t.n(y),j=t("./src/ui/quick-fire-modal/quick-fire-summary-template.html"),k=t.n(j);function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var w=function headers(e,n){var t=document.querySelector("#glossaryModal"),r={glossary:t.querySelector(".js-modal-text-title"),filters:t.querySelector(".js-quick-fire-filters"),questions:t.querySelector(".js-quick-fire-questions")};p.quickFireUI.updateHeaders(e,r,(function getQuickFire(){return n}),I)},S=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(e){var n,t,i,c,l,f,g,h,v,y,x,j,k,S,T,L,O,A,E,I,P,M,H,N;return regeneratorRuntime.wrap((function _callee4$(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,q();case 2:n=R.sent,t=p.quickFireUI.readyTemplate(b.a),i=t.template,t.modal,c=t.parent,w(u.enums.quickFireStep.FILTERS,{items:n.items,onClickFiltersLinkListeners:[],onClickGlossaryLinkListeners:[]}),l=n.items,f=n.type,g=n.filter,h=function resetQuickFire(){o.actions.boundUpdateQuickFire(m.quickFireAPI.getQuickFire(a.store.getState().glossary,u.enums.quickFireType.DEFINITION,{})),C(y.linkFromLesson)},v=a.store.getState().quickFire||m.quickFireAPI.getQuickFire(l,g,f),(y=(y=r.clone(v)).isComplete?h():y).linkFromLesson=e||!1,y.onClickFiltersLinkListeners=[],y.onClickGlossaryLinkListeners=[],o.actions.boundUpdateQuickFire(y),x=[{key:0,value:"multiple choice"},{key:1,value:"text entry"}],j=m.quickFireAPI.getBranches(l),Object(d.renderTemplate)({quickFire:y,options:x,branches:j},i.content,c),k=document.querySelectorAll(".js-quick-fire-count"),S=document.querySelectorAll(".js-quick-fire-branches label > span"),T=document.querySelectorAll(".js-quick-fire-taxa li > span"),(L=document.querySelector(".js-input-quick-fire")).addEventListener("input",(function(e){y.poolSize=parseInt(e.target.value)})),setTimeout((function(){L.focus()}),250),y.poolSize=parseInt(L.value),O=function updateArray(e,n){return e.find((function(e){return e===n}))?e.filter((function(e){return e!==n})):(e.push(n),e)},A=function getFilterTaxa(){return y.filter.iconicTaxa},document.querySelectorAll(".js-quick-fire-taxa li").forEach((function(e){var n=e.querySelector("input");r.contains(e.dataset.name,y.filter.iconicTaxa)||n.click(),e.addEventListener("change",function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var n,t;return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:n=e.target.id,t=O(A(),n),y.filter.iconicTaxa=t,y.items=m.quickFireAPI.getItems(t),p.quickFireUI.updateTotalCounts(y,L,k,S,T,I());case 5:case"end":return r.stop()}}),_callee,this)})));return function(n){return e.apply(this,arguments)}}())})),E=!!y.lessonId,I=function getIncludeTechnicalTerms(){return E},p.quickFireUI.updateTotalCounts(y,L,k,S,T,I()),(P=document.querySelector(".js-create-quick-fire")).innerHTML=0===y.termScore.total?"Start vocab review":"Continue your vocab review",P.addEventListener("click",(function(e){_(y)}),{once:!0}),M=document.querySelectorAll(".js-quick-fire-filter-options .btn"),"0"===y.filter.option.key?M[0].click():M[1].click(),Array.from(M).forEach((function(e){e.addEventListener("click",(function(e){y.filter.option={key:e.target.dataset.key,value:e.target.dataset.value}}),{once:!0})})),H=document.querySelectorAll(".js-quick-fire-branches label"),y.filter.branches&&H.forEach((function(e){r.contains(e.dataset.key,y.filter.branches)||e.click()})),H.forEach((function(e){e.addEventListener("click",(function(e){setTimeout(_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var e;return regeneratorRuntime.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return e=(e=Array.from(H).filter((function(e){return s.elem.hasClass(e,"active")}))).map((function(e){return e.dataset.key})),y.filter.branches=e,n.next=5,m.quickFireAPI.getItems(y.filter.iconicTaxa);case 5:y.items=n.sent,y.items=y.items.filter((function(n){return r.contains(n.branch,e)})),p.quickFireUI.updateTotalCounts(y,L,k,S,T,I());case 8:case"end":return n.stop()}}),_callee2,this)}))))}))})),(N=document.querySelector(".js-quick-fire-technical")).addEventListener("change",function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(e){return regeneratorRuntime.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(E=e.target.checked,y.filter.includeTechnicalTerms=E,n.t0=y.items,n.t0){n.next=7;break}return n.next=6,m.quickFireAPI.getItems(y.filter.iconicTaxa,E);case 6:n.t0=n.sent;case 7:y.items=n.t0,p.quickFireUI.updateTotalCounts(y,L,k,S,T,I());case 9:case"end":return n.stop()}}),_callee3,this)})));return function(n){return e.apply(this,arguments)}}()),E&&N.click(),document.querySelector(".js-quick-fire-reset").addEventListener("click",(function(e){h()}));case 45:case"end":return R.stop()}}),_callee4,this)})));return function filters(n){return e.apply(this,arguments)}}(),_=function questions(e){var n;if(e){(n=r.clone(e)).onClickGlossaryLinkListeners=[],w(u.enums.quickFireStep.QUESTIONS,n);var t,s=p.quickFireUI.readyTemplate(x.a),l=s.template,m=s.modal,g=s.parent;if(n.poolSize>n.termScore.total){var h=f.quickFireLogic.selectAnswers(n,i.utils.shuffleArray(n.items));Object(d.renderTemplate)({question:n.question,answers:h,total:n.termScore.total+1,count:n.poolSize,correct:n.termScore.correct,answered:n.termScore.total},l.content,g),document.querySelectorAll(".js-quick-layouts").forEach((function(e){e.classList.add("hide-important"),e.id===n.filter.option.key&&e.classList.remove("hide-important")}));var v=document.querySelector(".js-quick-fire-message"),b=Array.from(document.querySelectorAll(".js-quick-fire-options > li"));b.forEach((function(e){e.addEventListener("click",(function(r){var i=r.target.id;p.quickFireUI.scoreMultipleChoice(n,i,v),k.disabled=!1,n.termScore.isIncorrect&&e.classList.add("snap-alert"),b.forEach((function(e){e.id===n.question.term&&e.classList.add("snap-success")})),t=setTimeout((function(){k.click()}),a.store.getState().config.callbackTime)}),{once:!0})}));var y=m.querySelector(".js-quick-fire-text-entry"),j=m.querySelector(".js-quick-fire-text-entry input");"1"===n.filter.option.key&&(y.classList.remove("hide-important"),j.focus());var k=document.querySelector(".js-continue-quick-fire-btn");k.addEventListener("click",(function(e){k.setAttribute("disabled",!0),n.items=n.items.filter((function(e){return e.term!==n.question.term})),c.subscription.add(E,"quickFire","modal"),o.actions.boundUpdateQuickFire(n),clearTimeout(t)}),{once:!0});var S=!0;if(j.addEventListener("keydown",(function(e){9==e.keyCode&&S&&(S=!1,t=p.quickFireUI.scoreTextEntry(n,j,v,t,k),k.disabled=!1)})),j.addEventListener("keypress",(function(e){13==e.keyCode&&S&&(S=!1,t=p.quickFireUI.scoreTextEntry(n,j,v,t,k),k.disabled=!1)})),j.addEventListener("blur",(function(e){S&&e.target.value.length>2&&(S=!1,t=p.quickFireUI.scoreTextEntry(n,j,v,t,k),k.disabled=!1)})),(n.question.term.split(" ").length>1||0===n.question.term.indexOf("("))&&"1"===n.filter.option.key)m.querySelector(".js-quick-fire-hint").classList.remove("hide")}else O(n);var _=m.querySelector(".js-quick-review-progress");_&&_.addEventListener("click",(function(e){O(n)}),{once:!0})}},T=function getTermsGlossary(e,n){if(!n||0===n.length)return e;var t=[];return n.forEach((function(n){var r=e.find((function(e){return e.id===n}));t.push(r)})),t.filter((function(e){return e}))},L=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(e){var n,t,r,i,s;return regeneratorRuntime.wrap((function _callee5$(o){for(;;)switch(o.prev=o.next){case 0:n=p.quickFireUI.readyTemplate(h.a),t=n.template,n.modal,r=n.parent,i=a.store.getState().quickFire||m.quickFireAPI.getQuickFire(e,u.enums.quickFireType.DEFINITION,{collection:{}}),w(u.enums.quickFireStep.GLOSSARY,i),r.innerHTML="",s=T(e,i.terms),Object(d.renderTemplate)({glossary:s},t.content,r);case 6:case"end":return o.stop()}}),_callee5,this)})));return function definitions(n){return e.apply(this,arguments)}}(),q=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var e,n,t,r,i,s;return regeneratorRuntime.wrap((function _callee6$(o){for(;;)switch(o.prev=o.next){case 0:if(e=[],(n=Object.keys(l.iconicTaxa).map((function(e){return e.toLowerCase()}))).push("common"),n.forEach((function(n){e.push(n)})),t=a.store.getState(),r=t.quickFire,o.t0=r.items,o.t0){o.next=10;break}return o.next=9,m.quickFireAPI.getItems(e);case 9:o.t0=o.sent;case 10:return i=o.t0,s={items:i,type:u.enums.quickFireType.DEFINITION,filter:{iconicTaxa:e}},o.abrupt("return",s);case 13:case"end":return o.stop()}}),_callee6,this)})));return function init(){return e.apply(this,arguments)}}(),O=function summary(e){var n=p.quickFireUI.readyTemplate(k.a),t=n.template,r=n.modal,a=n.parent,i=e.termScore.passes;i.forEach((function(e,n){e.index=n,e.wiki=e.wiki||"",e.showWikiClass=e.wiki.length>0?"":"hide-important"}));var s=e.termScore.fails;s.forEach((function(e,n){e.index=n,e.wiki=e.wiki||"",e.showWikiClass=e.wiki.length>0?"":"hide-important"})),Object(d.renderTemplate)({score:e.termScore,passes:i,fails:s},t.content,a);var o=r.querySelectorAll(".js-quick-review-answers");r.querySelectorAll(".js-quick-review-tabs a").forEach((function(e){e.addEventListener("click",(function(e){var n=e.target.id;o.forEach((function(e){e.dataset.type===n?e.classList.remove("hide-important"):e.classList.add("hide-important")}))}))}));var c=r.querySelector(".js-quick-fire-summary div:nth-child(1) > span"),l=r.querySelector(".js-score-text-summary"),f=r.querySelector(".js-quick-review-continue-review");e.isComplete=e.poolSize===e.termScore.total,e.isComplete?(c.innerHTML='<span class="emphasis">You have answered all of the questions correctly.</span>',l.classList.add("modal-background-relief-emphasis"),l.innerHTML="You scored ".concat(e.termScore.correct," out of ").concat(e.termScore.total,"."),e.termScore.incorrect>0?(c.innerHTML='<span class="emphasis">You\'ve answered the questions, but not all correctly.</span>',f.innerHTML="<span>Continue</span>",f.addEventListener("click",(function(n){var t=m.quickFireAPI.getQuickFire(e.termScore.fails,u.enums.quickFireType.DEFINITION,{});E(t)}),{once:!0})):(f.classList.add("hide-important"),f.addEventListener("click",(function(n){_(e)}),{once:!0}))):(c.innerHTML="<span>You have answered ".concat(e.termScore.total," of ").concat(e.poolSize," questions.</span>"),f.addEventListener("click",(function(n){_(e)}),{once:!0}))},A={filters:S,questions:_,headers:w,init:m.quickFireAPI.getQuickFire,definitions:L},C=function quickFireFilters(e){A.filters(e)},E=function quickFireQuestions(e){A.questions(e)},I={quickFireFilters:C,quickFireQuestions:E,quickFireGlossary:function quickFireGlossary(e){A.definitions(e)}}},"./src/ui/screens/bonus/bonus-specimen-tiles.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderBonusSpecimenTiles",(function(){return s}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/redux/store.js"),i=t("./src/ui/screens/landscape/specimen-tiles.js"),s=(t("./src/ui/screens/multichoice/landscape/mixed-specimen/left/mixed-specimen-images.js"),function renderBonusSpecimenTiles(e){var n=r.clone(a.store.getState().collection);n.nextItem=e.item,n.nextItem=n.nextItem||n.items[n.itemIndex];var t=e.item&&e.overrides.trait.lookalikes?e.overrides.trait.lookalikes.length+1:0;if(t>0);else Object(i.renderSpecimenTiles)(n)})},"./src/ui/screens/bonus/bonus-test.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderBonusTest",(function(){return o}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/redux/store.js"),i=t("./src/ui/screens/multichoice/multi-strips.js"),s=t("./src/ui/screens/multichoice/landscape/mixed-specimen/right/mixed-specimen-question.js");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var o=function renderBonusTest(e){var n=r.clone(a.store.getState().collection);n.nextItem=e.item,e.overrides&&e.overrides.trait&&"lookalikes"===e.overrides.trait.name?(n.items=[].concat(_toConsumableArray(e.overrides.trait.lookalikes),[n.nextItem]),Object(s.renderMixedSpecimenQuestion)(n,e)):Object(i.renderMultiStrips)(n,e)}},"./src/ui/screens/cards/cultivar-card-template.html":function(e,n){e.exports='<div class="snapdragon-container">\n    <div class="cultivar revision card">\n        <div class="taxon-highlight"><span>{{ item.name }}</span><hr></div>\n        <div class="title">The following cultivars are all derived from the single species {{ item.name }}:</div>\n        <div>\n            <div class="list-group-headers">\n                <span>Name</span><span>Variety</span><span class="landscape">Form</span><span class="landscape">More</span>\n            </div>        \n            <div class="scrollable">\n                <ul class="list-group list-group-flush" data-repeat-cultivar="{{ cultivars }}">\n                    <li class="list-group-item">\n                        <span>{{ cultivar.vernacular }}</span>\n                        <span>{{ cultivar.variety }}</span>\n                        <span class="landscape">{{ cultivar.form }}</span>\n                        <span class="landscape"><a class="underline-link" href="{{ cultivar.wiki }}" title="{{ cultivar.wikiAlt }}">WIKI</a> <a class="underline-link" href="{{ cultivar.eol }}" target="_blank" title="{{ cultivar.eolAlt }}">EOL</a></span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>'},"./src/ui/screens/cards/cultivar-card.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderCultivarCard",(function(){return c}));var r=t("./src/redux/store.js"),a=t("./src/ui/dom.js"),i=t("./src/ui/helpers/templating.js"),s=t("./src/ui/screens/cards/cultivar-card-template.html"),o=t.n(s),c=function renderCultivarCard(e){var n=e.nextItem,t=r.store.getState(),s=t.lessonPlan,c=(t.layout,t.config),l=s.layouts.find((function(e){return"screen-cultivar-card"===e.name})).cultivars.subspecies.map((function(e){var n=e.names.find((function(e){return e.language===c.language}));return{vernacular:(n=n||e.names.find((function(e){return"en"===e.language}))).vernacularName||"",variety:e.variety||"",form:e.form||"",eol:n.eol||"",eolAlt:n.eol||"N/A",wiki:n.wiki||"",wikiAlt:n.wiki||"N/A"}})),u=document.createElement("template");u.innerHTML=o.a;var d=a.DOM.rightBody;d.innerHTML="";var m={rank:"cultivar",item:n,cultivars:l};Object(i.renderTemplate)(m,u.content,d),document.querySelectorAll('[title="N/A"]').forEach((function(e){return e.style.display="none"}))}},"./src/ui/screens/cards/non-taxon-card-specimen-tiles.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderNonTaxonCardSpecimenTiles",(function(){return u}));var r=t("./src/redux/store.js"),a=t("./src/ui/dom.js"),i=t("./src/ui/helpers/templating.js"),s=t("./src/ui/helpers/image-handler.js"),o=t("./src/ui/screens/cards/non-taxon-card.js"),c=t("./src/ui/screens/landscape/specimen-tiles-template.html"),l=t.n(c),u=function renderNonTaxonCardSpecimenTiles(e){var n=r.store.getState().config;e.nextItem&&Object(o.subscribeToNonTaxaSelection)((function callback(t){var r=document.createElement("template");r.innerHTML=l.a;var o=a.DOM.leftBody;o.innerHTML="",Object(i.renderTemplate)({images:t},r.content,o),Object(s.modalImagesHandler)(document.querySelectorAll(".js-tiles .square"),null,e,n)}))}},"./src/ui/screens/cards/test-card-modal-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"lessonModalHandler",(function(){return r}));t("./src/ui/screens/lists/lesson-list-scroll-handler.js"),t("./src/ui/screens/lists/lesson-list.js");var r={onCloseModal:function onCloseModal(){var e=document.querySelector("#lessonModal");e.querySelector(".js-modal-footer").addEventListener("click",(function(n){e.querySelector(".js-modal-text").innerHTML='\n                    <div class="lesson-spinner double-centred-block">\n                        <div class="icon"><i class="fas fa-sun slow-spin"></i></div>\n                    </div>\n                  '}))}}},"./src/ui/screens/cards/test-card-template.html":function(e,n){e.exports='<div class="snapdragon-container test-card-container js-test-card-container">\n    <div class="js-test-card">\n        <div id="test-card-header" class="question-container">\n            <div class="iconic-icon double-centred-block js-iconic-icon">\n                <i class=""></i>\n            </div>\n            <div class="hide-empty question-header">\n                <div>\n                    <div class="names-container {{ headerClassName }}">\n                        <div>\n                            <h2 class="vernacular-name">{{ vernacularName }}</h2>\n                            <span class="hide-empty names-badge"></span>\n                        </div>\n                        <div>\n                            <h2 class="binomial">{{ binomial }}</h2>\n                            <span class="names-badge traits-count-badge js-traits-count-badge"></span>\n                            <h2 class="term-header hide-empty js-term-header">{{ term }}</h2>\n                        </div>\n                    </div>                \n                </div>\n            </div>\n\n            <div class="card-link-container">\n                <i class="far fa-arrow-alt-circle-right js-card-link"></i>\n            </div>\n        </div>\n        <form action="">\n          <fieldset>\n            <div class="test-card-question standard-block centred-block js-test-card-question border-bottom">            \n                <div class="question question-txt {{ className }}">\n                    <div>\n                      <legend class="hide-empty question-question js-question-question">{{ question }}</legend>\n                      <legend class="hide-empty question-help js-question-help">{{ help }}</legend>\n                      <legend class="hide-empty question-statement js-statement-para">{{ statement }}</legend>\n                      <legend class="hide-empty margin-top question-provider-question js-question-para">{{ providerQuestion }}</legend>\n                    </div>\n                </div>\n            </div>\n            <div class="test-card-content js-test-card-content scrollable">\n                \x3c!-- Specific test content goes here --\x3e\n            </div>\n          </fieldset>\n      </form>\n        <div class="text-question js-txt-question"></div>\n        <div class="action-update-container">\n            <div class="action-update">\n                <button disabled class="btn snap-action-btn js-continue-lesson-btn">Continue lesson</button>\n            </div>\n        </div>\n    </div> \n</div>\n<div class="swap-out-card js-species-container"></div>\n<div class="swap-out-card js-taxon-container"></div>\n<div class="swap-out-card js-summary-container"></div>'},"./src/ui/screens/cards/test-card.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderTestCardTemplate",(function(){return p}));var r=t("./src/ui/dom.js"),a=t("./src/redux/store.js"),i=t("./src/ui/helpers/icon-handler.js"),s=t("./src/ui/screens/cards/card.js"),o=t("./src/ui/screens/cards/taxon-card.js"),c=t("./src/ui/screens/cards/non-taxon-card.js"),l=t("./src/ui/helpers/templating.js"),u=t("./src/ui/screens/progress/score-summary.js"),d=t("./src/ui/screens/cards/test-card-template.html"),m=t.n(d);function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var p=function renderTestCardTemplate(e,n){var t=document.createElement("template");t.innerHTML=m.a;var d=a.store.getState().config,p=d.isLandscapeMode?document.querySelector("#lessonModal"):document,g=d.isLandscapeMode?p.querySelector(".js-modal-text"):r.DOM.rightBody;g.innerHTML="",p.querySelector(".js-modal-text-title").innerHTML=e.name,n.className=n.className||"",n.headerClassName=n.headerClassName||"",n.statement=n.statement||"",n.providerQuestion=n.providerQuestion||"",Object(l.renderTemplate)(n,t.content,g);var h=p.querySelector(".js-review-progress");h&&(h.innerHTML="Progress",h.addEventListener("click",(function(n){var t=p.querySelector(".js-summary-container");!function renderSummaryCard(){Object(u.renderScoreSummary)(e.id,t);var n=1;!function toggleScreens(e,t){j(e),h.innerHTML=n%2==0?"Progress":"Quiz",n++,t.classList.remove("swap-out-card"),h.addEventListener("click",(function(n){toggleScreens(t,e)}),{once:!0})}(v,t)}()}),{once:!0}),h.focus()),f(d);var v=p.querySelector(".js-test-card-container"),b=p.querySelector(".js-test-card-container"),y=b.querySelector(".js-card-link"),x=e.nextItem||e.items[n.bonus.itemIndex],j=function hideCurrentCard(e,n){e.classList.add("swap-out-card"),e.classList.remove("swap-in-card"),n&&(n.classList.add("swap-out-card"),n.classList.remove("swap-in-card"))},k=function showNextCard(e,n){e.classList.remove("swap-out-card");var t=p.querySelector(n),r=t.querySelector(".js-card-link");return r.classList.remove("disabled-icon"),{card:t,icon:r}};return y.addEventListener("click",function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(n){var t,r,a;return regeneratorRuntime.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return t=p.querySelector(".js-species-container"),r=p.querySelector(".js-taxon-container"),a=function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:Object(s.renderCard)(e,"SWAP_OUT",x,t,!1),setTimeout((function(){j(v,b);var n=k(t,".js-species-card"),a=n.card;n.icon.addEventListener("click",function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee(n){var i,s;return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:x.lichen?Object(c.renderNonTaxonCard)("SWAP_OUT",x.keyTrait,r,x.images.find((function(e){return e.starred}))?x.images.find((function(e){return e.starred})).url:x.images[0].url):Object(o.renderTaxonCard)(e,"SWAP_OUT",x,r,!1),j(t,a),i=x.lichen?k(r,".js-non-taxon-card"):k(r,".js-taxon-card"),s=i.card,i.icon.addEventListener("click",(function(e){j(r,s),k(v,".js-test-card")}));case 4:case"end":return n.stop()}}),_callee,this)})));return function(e){return n.apply(this,arguments)}}())}),500);case 2:case"end":return n.stop()}}),_callee2,this)})));return function renderSpeciesCard(){return n.apply(this,arguments)}}(),n.next=5,a();case 5:case"end":return n.stop()}}),_callee3,this)})));return function(e){return n.apply(this,arguments)}}()),Object(i.renderIcon)(x.taxonomy,p),p.querySelector(".js-test-card-content")},f=function toggleStatementAndQuestion(e){if(!e.isLandscapeMode){var n=document.querySelector(".js-statement-para"),t=document.querySelector(".js-question-para");t.classList.add("hide");var r=0,a=setInterval((function(){r%2?(t.classList.add("hide"),n.classList.remove("hide")):(t.classList.remove("hide"),n.classList.add("hide")),++r>=20&&clearInterval(a)}),5e3)}}},"./src/ui/screens/common/language-selection-template.html":function(e,n){e.exports='<div class="filter-language-option-block">    \n    <div class="filter-options">\n        <div class="language-options">\n            <div class="dropdown">\n                <button class="btn smaller-text snap-btn dropdown-toggle" type="button" id="taxonLanguageBtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                    Taxon language\n                </button>\n                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" data-repeat-language="{{ languages }}">\n                    <a id="{{ language.lang }}" class="dropdown-item" href="#">{{ language.name }}</a>\n                </div>\n            </div>\n        </div>        \n    </div>\n    <h2 class="half-standard-block centred-block">Common names will be shown in<span id="taxonLanguageTxt">English</span>.</h2>\n</div>'},"./src/ui/screens/common/language-selection.js":function(e,n,t){"use strict";t.r(n),t.d(n,"languagePicker",(function(){return s}));var r=t("./src/ui/helpers/templating.js"),a=t("./src/ui/screens/common/language-selection-template.html"),i=t.n(a),s=function languagePicker(e,n,t){var a=e.languages,s=document.createElement("template");s.innerHTML=i.a,n.innerHTML="",Object(r.renderTemplate)({languages:a},s.content,n);var o=document.querySelector("#taxonLanguageBtn");o.innerHTML="Taxon language [ ".concat(a.find((function(n){return n.lang===e.language})).name," ] ");var c=document.querySelector("#taxonLanguageTxt");c.innerHTML=a.find((function(n){return n.lang===e.language})).name,document.querySelectorAll(".dropdown-item").forEach((function(n){n.addEventListener("click",(function(n){e.language=a.find((function(e){return e.lang===n.target.id})).lang;var r=a.find((function(e){return e.lang===n.target.id})).name;o.innerHTML="Taxon language [ ".concat(r," ]"),c.innerHTML=r,t(e)}))}))}},"./src/ui/screens/home/home-lesson-intro-text-template.html":function(e,n){e.exports='<div class="home-scrolling-container js-home-scrolling-container">\n    \n    <div class="title standard-block double-centred-block border-bottom">{{ title }}</div>\n\n    <div class="snapdragon-intro padding">\n        <div class="half-standard-block">\n            <span class="js-species-summary">{{ speciesSummary }}</span>\n        </div>\n        \x3c!-- <div class="half-standard-block">\n            <span>Common taxon names are in {{ language }}.</span>\n        </div> --\x3e\n        <div class="half-standard-block">\n            <span>{{ season }}</span>\n        </div>\n\n        <div class="centred-block standard-block landscape js-intro-text">{{ lessonIntro }}</div>\n    </div>\n\n    <div class="scrollable"></div>                \n</div>'},"./src/ui/screens/home/home-lesson-intro-text.js":function(e,n,t){"use strict";t.r(n),t.d(n,"textSetup",(function(){return o}));var r=t("./src/ui/dom.js"),a=t("./src/ui/helpers/templating.js"),i=t("./src/ui/screens/home/home-lesson-intro-text-template.html"),s=t.n(i);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var o=function textSetup(e,n){var t=u(e),i=e.guide?e.guide.iconicTaxa:e.iconicTaxa||_toConsumableArray(new Set(e.items.map((function(e){return e.iconicTaxon})))),o=n.languages.find((function(e){return e.lang===n.language})).name,d=document.createElement("template");d.innerHTML=s.a;var m=e.guide?e.guide.season.observableMonths.map((function(e){return e.name})):[],p=m.length>0?"".concat(m[0],"-").concat(m[m.length-1]):"",f=0===m.length||"all_year"===e.guide.season?"Species observations are drawn from the whole year.":"Species observations are from ".concat(p,"."),g=l(i,t),h=e.intro||"",v={speciesCount:t,iconicTaxa:i,title:e.name,language:o,observableMonths:p,season:f,speciesSummary:g,lessonIntro:h};r.DOM.rightBody.innerHTML="",Object(a.renderTemplate)(v,d.content,r.DOM.rightBody),setTimeout((function(){var n=c(t,e,g,i);t=n.speciesCount,g=n.speciesSummary}),500),setTimeout((function(){var n=c(t,e,g,i);t=n.speciesCount,g=n.speciesSummary}),1500)},c=function handleSpeciesUpdate(e,n,t,r){return"--"===e&&(e=u(n),document.querySelector(".js-species-summary").innerHTML=t=l(r,e)),{speciesCount:e,speciesSummary:t}},l=function getSpeciesSummary(e,n){return 1===e.length?"".concat(n," species in ").concat(e.length," taxon."):"".concat(n," species in ").concat(e.length," taxa.")},u=function getSpeciesCount(e){var n=e.itemNames&&e.itemNames.length>0?e.itemNames.length:e.items?e.items.length:0;return 0===n?"--":n}},"./src/ui/screens/home/home-lesson-intro.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderLessonIntro",(function(){return o}));var r=t("./src/ui/dom.js"),a=t("./src/redux/store.js"),i=t("./src/ui/screens/home/home-lesson-intro-video.js"),s=t("./src/ui/screens/home/home-lesson-intro-text.js");function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=function renderLessonIntro(e){var n=a.store.getState(),t=n.config,o=n.videoPlayer,c=n.collection;(e=_objectSpread(_objectSpread({},e),{},{items:c.items})).hasVideo?Object(i.videoSetup)(e,o||[],r.DOM.rightBody):Object(s.textSetup)(e,t)}},"./src/ui/screens/home/home-template.html":function(e,n){e.exports='<div class="home-container">  \n    <div class="snapdragon-header double-centred-block">\n        <h1>\n          <a href="">Welcome</a>\n        </h1>\n    </div>    \n    <main id="main" class="snapdragon-intro scrollable js-snapdragon-intro">\n\n        <h3>Learn The Planet is a collection of a video lessons about the natural world.</h3>\n\n        <h4 class="centred-block landscape">\n            <i class="margin-left extra-large-text fab fa-youtube youtube-icon"></i><span class="margin-left">Click to watch a lesson video.</span>\n        </h4>\n\n        <h4 class="centred-block landscape">\n            <i class="margin-left extra-large-text fas fa-glasses youtube-icon "></i><span class="margin-left">Click to see lesson species.</span>            \n        </h4>\n\n        <h4 class="landscape">\n            <button class="btn snap-btn extra-small-text fit-width" disabled style="opacity: 1;">Vocab test</button>\n            <span class="margin-left">Brush up on terms and definitions.</span>\n        </h4>\n\n        <h4 class="landscape">\n            <button class="btn snap-btn extra-small-text fit-width" disabled style="opacity: 1;">Lesson Quiz</button>\n            <span class="margin-left">Test yourself on the contents of a lesson.</span>\n        </h4>\n\n        <br class="landscape">\n        <br class="landscape">\n\n        <h4 class="portrait">\n            Tap on the home icon <span><i class="fas fa-chalkboard"></i></span> below to get started, then select an <span><i class="fab fa-youtube youtube-icon"></i></span> icon to begin a lesson.\n        </h4>\n\n        <h5>These lessons took time and effort to make; Learn The Planet would like to thank the people who created them.</h5>\n\n      </main>\n</div>'},"./src/ui/screens/home/home.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderHome",(function(){return d}));var r=t("./src/redux/subscriptions.js"),a=t("./src/ui/dom.js"),i=t("./src/redux/store.js"),s=t("./src/ui/helpers/templating.js"),o=t("./src/ui/screens/lists/lesson-list.js"),c=t("./src/ui/helpers/cookie-handler.js"),l=t("./src/ui/screens/home/home-template.html"),u=t.n(l),d=function renderHome(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.subscription.remove(r.subscription.getByName("renderHome"));var t=c.cookieHandler.setFirstTimeVisitorCookie();if(!(e.index>0)||e.isLessonPaused){var a=i.store.getState(),s=a.config;(s.isLandscapeMode||t||n)&&Object(o.renderLessons)(),(s.isLandscapeMode||t||n)&&m(),s.isPortraitMode&&!t&&Object(o.renderLessons)()}},m=function renderSnapdragonIntro(){var e=document.createElement("template");e.innerHTML=u.a,a.DOM.rightBody.innerHTML="",Object(s.renderTemplate)({},e.content,a.DOM.rightBody)}},"./src/ui/screens/landscape/specimen-tiles-template.html":function(e,n){e.exports='<div class="standard-block border-bottom double-centred-block"></div>\n<div class="tiles-container">\n    <div class="squares js-tiles" data-repeat-image="{{ images }}">\n        <div>\n            <img class="square"                    \n            src="{{ image.medium }}"\n            data-toggle="modal" data-target="#imageModal"\n            data-item-name="{{ image.itemName }}"\n            data-url="{{ image.url }}" />\n        </div>              \n    </div>\n</div>\n\n<div class="lesson-companion">\n    \x3c!-- 9 things about Dill: #1 --\x3e\n</div>'},"./src/ui/screens/landscape/specimen-tiles.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderSpecimenTiles",(function(){return m}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/utils/utils.js"),i=t("./src/redux/store.js"),s=t("./src/ui/dom.js"),o=t("./src/ui/helpers/templating.js"),c=t("./src/ui/helpers/image-handler.js"),l=t("./src/ui/helpers/logging-handler.js"),u=t("./src/ui/screens/landscape/specimen-tiles-template.html"),d=t.n(u),m=function renderSpecimenTiles(e){var n=e.nextItem;n&&p(n)},p=function renderItemSpecimenTiles(e){var n=i.store.getState(),t=n.config,s=n.collection,o=n.layout;if(!(o.itemIndex===o.prevItemIndex&&!!document.querySelector(".js-tiles"))){var l,u,d=s.allItems||s.items;if(r.contains(o.screens[1].name,["family-strips","family","taxon-card"])){var m=d.filter((function(n){return n.family.name.toLowerCase()===e.taxonomy.family.toLowerCase()}));u=(l=r.take(6,a.utils.shuffleArray(g(m,t,c.imageUseCases.SPECIES_CARD)))).map((function(e){return d.find((function(n){return n.name===e.itemName}))}))}else l=r.take(6,a.utils.shuffleArray(r.clone(e.images))),l=Object(c.prepImagesForCarousel)({name:e.name,itemCommon:e.itemCommon,images:l},t,c.imageUseCases.SPECIES_CARD),u=[e];l=l.map((function(e){return Object(c.scaleImage)(e,c.imageUseCases.VISUAL_MATCH,t)})),f({items:u},l,e)}},f=function renderSpecimenImageTiles(e,n,t){var a=i.store.getState(),u=a.layout,m=a.config,p=["specimen-images","trait-images"];if(u.screens.find((function(e){return r.contains(e.name,p)}))){var f=document.createElement("template");f.innerHTML=d.a;var g=s.DOM.leftBody;g.innerHTML="",Object(l.snapLog)("renderSpecimenImageTiles, image medium values:",n.map((function(e){return e.medium}))),Object(o.renderTemplate)({images:n},f.content,g),Object(c.modalImagesHandler)(document.querySelectorAll(".js-tiles .square"),t,e,m)}},g=function getImagesFromItemFamily(e,n,t){var a;if((a=r.flatten(e.map((function(e){return{images:e.images,item:{name:e.name,itemCommon:e.names[0].vernacularName,vernacularName:e.names[0].vernacularName,names:e.names}}})))).length<6){var i=a.map((function(n){var t=e.find((function(e){return e.name===n.item.name}));return{images:t.images,item:{name:t.name,itemCommon:t.names[0].vernacularName,vernacularName:t.names[0].vernacularName,names:t.names}}}));r.flatten(i).forEach((function(e){e.images.forEach((function(n){a.push({images:e.images,item:e.item})}))}))}a.map((function(e){return e.item})).forEach((function(n){var t=n.name;n.images=e.find((function(e){return e.name===t})).images}));var s=[],o=[];return a.forEach((function(e,a){var i=function getUniqueImage(e,n,t){var a=e.images.find((function(e){return e.starred}));return a&&(a=r.contains(a.title,t.map((function(e){return e.title})))?null:a),a||(a=e.images[n])&&!r.contains(a.title,t.map((function(e){return e.title})))?(t.push(a),a):void 0}(e,a,s);i&&o.push(Object(c.prepImageForCarousel)(i,a,e.item,n,t))})),o}},"./src/ui/screens/lists/lesson-custom.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderCustomLesson",(function(){return c}));var r=t("./src/ui/create-guide-modal/create-guide.js"),a=t("./src/ui/helpers/templating.js"),i=t("./src/ui/screens/lists/lesson-list-event-handler.js"),s=t("./src/ui/screens/lists/lesson-template.html"),o=t.n(s),c=function renderCustomLesson(e,n,t,s,c){Object(r.onCreateCustomLesson)((function(r){var l=document.querySelector(".lesson-list > .scrollable"),u=document.createElement("template");u.innerHTML=o.a;var d=i.lessonListEventHandler.onLoadLessonViewState(r,n,t,s,c);d.hideVideoClass="hide-important",d.hideTextIntroClass="",e.push(d),d.icon=d.icon||"https://static.inaturalist.org/photos/57604885/small.jpeg?1575746307",Object(a.renderTemplate)({lesson:d},u.content,l);var m=document.querySelector('.js-lesson-title[data-lesson-id="'.concat(d.id,'"]'));i.lessonListEventHandler.onLessonTitleClickHandler(m,e);var p=document.querySelector('.js-review-link[data-lesson-id="'.concat(d.id,'"]'));i.lessonListEventHandler.onReviewClickHandler(p,e);var f=document.querySelector('.js-lesson-list-chevron[data-lesson-id="'.concat(d.id,'"]'));f&&(f.classList.remove("landscape"),i.lessonListEventHandler.onLessonIconClickHandler(f,e,c,!1));var g=document.querySelector('.js-lesson-list-youtube[data-lesson-id="'.concat(d.id,'"]'));g&&g.classList.add("hide-important");document.querySelector(".js-lesson-container").scrollTo({left:0,top:1e3,behavior:"smooth"})}))}},"./src/ui/screens/lists/lesson-edit-template.html":function(e,n){e.exports='<div class="lesson-list-item one-and-half-standard-block vertical-evenly-spaced-block">\n    <div class="lesson-name" id="js-input-collection-name">\n        <input type="text" value="{{ collection.name }}">\n    </div>\n    <div class="margin-left lesson-taxa"><span class="js-lesson-taxa-count">{{ collection.items.length }}</span> <span class="js-lesson-taxa">{{ collection.taxa }}</span></div>\n</div>\n\n<div class="selected-species-container">\n    <div class="open scrollable js-selected-species-container"></div>\n</div>'},"./src/ui/screens/lists/lesson-edit.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderEditLesson",(function(){return l}));var r=t("./src/redux/store.js"),a=t("./src/redux/actions/action-creators.js"),i=t("./src/ui/helpers/templating.js"),s=t("./src/ui/create-guide-modal/species-in-guide-editor.js"),o=t("./src/ui/screens/lists/lesson-edit-template.html"),c=t.n(o);function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}var l=function renderEditLesson(e){(function(){var n=function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var n,t,o,l,u,d,m;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:n=r.store.getState(),t=n.config,(o=document.createElement("template")).innerHTML=c.a,l=document.querySelector("#basicModal"),(u=l.querySelector(".js-modal-text")).innerHTML="",Object(i.renderTemplate)({collection:e},o.content,u),l.querySelector(".js-modal-text-title").innerHTML="Edit lesson",(d=l.querySelector(".js-selected-species-container")).innerHTML="",m={setConfig:function setConfig(e){a.actions.boundUpdateConfig(e)}},Object(s.speciesInGuideEditor)(t,l,d,m,e.items);case 13:case"end":return p.stop()}}),_callee,this)})));return function init(){return n.apply(this,arguments)}})()()}},"./src/ui/screens/lists/lesson-list-event-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"lessonListEventHandler",(function(){return v}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/ui/dom.js"),i=t("./src/redux/store.js"),s=t("./src/ui/helpers/class-behaviour.js"),o=t("./src/ui/helpers/enum-helper.js"),c=t("./src/ui/screens/home/home-lesson-intro.js"),l=t("./src/ui/screens/lists/lesson-edit.js"),u=t("./src/ui/screens/lists/lesson-list-scroll-handler.js"),d=t("./src/ui/screens/lists/video-handler.js"),m=t("./src/ui/screens/lists/lesson-state-handler.js");function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var p=function onLoadLessonViewState(e,n,t,a){var i=e.iconicTaxa?e.iconicTaxa.map((function(e){return e.common})).join(", "):"";return e.taxa=i,e.hasVideo=!(!e.video||r.isEmpty(e.video)),e.showVideoIconClass=e.hasVideo?"":"hide-important",e.videoState=d.videoHandler.setVideoState(n||[],e),e.reviewState="Lesson Quiz",e.hasTermsClass=e.terms&&Array.isArray(e.terms)&&e.terms.length>0?"":"hide-important",e.isCollectionEditableClass="",e},f=function onClickViewState(e,n){var t=e.currentTarget,r=s.elem.hasClass(t,"js-lesson-list-youtube"),a=s.elem.hasClass(t,"js-lesson-list-chevron"),i=t.parentElement.parentElement,c=parseInt(t.dataset.lessonId),l=n.find((function(e){return e.id===c})),u=document.querySelector('.js-species-container[data-container-id="'.concat(c,'"]')),d=document.querySelector("#species_list_id_".concat(c)),p=document.querySelector('.js-review-link[data-lesson-id="'.concat(c,'"]')),f=r?o.enums.userEvent.START_LESSON:a?o.enums.userEvent.TOGGLE_SPECIES_LIST:o.enums.userEvent.DEFAULT;m.lessonStateHandler.recordUserAction(f),g(c);var h=!!d,v=s.elem.hasClass(d,"hide"),b=document.querySelector('.js-lesson-video-state[data-lesson-id="'.concat(c,'"]')),y=!t.dataset.lessonIsYoutubeIcon;return{icon:t,lesson:l,state:{requiresSpeciesList:!h,revealSpeciesList:h&&v,hideSpeciesList:h&&!v&&y},speciesList:d,container:u,lessonVideoState:b,reviewLink:p,row:i,isYoutubeIcon:r}},g=function hideOtherContentAndRevertChevrons(e){Array.from(document.querySelectorAll(".js-lesson-list-chevron .fa-chevron-up")).forEach((function(n){var t=parseInt(n.dataset.lessonId);t!==e&&(n.click(),document.querySelector('.js-lesson-list-carousel-item[data-lesson-id="'.concat(t,'"]')).classList.remove("highlighted-for-review-row"))}))},h=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(e,n,t){var r,a;return regeneratorRuntime.wrap((function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:if(Array.from(e.parentElement.children).forEach((function(e){return e.dataset.selected=!0})),!a||a.name!==o.enums.userEvent.START_LESSON.name){s.next=3;break}return s.abrupt("return");case 3:return r=i.store.getState(),a=r.userAction,r.config,s.next=6,m.lessonStateHandler.changeRequest({requestType:o.enums.lessonState.RENDER_SPECIES_LIST,requestArgs:{lesson:n,container:t}});case 6:u.lessonListScrollHandler.scrollToTitle(n.id);case 7:case"end":return s.stop()}}),_callee3,this)})));return function loadAndDisplaySpeciesList(n,t,r){return e.apply(this,arguments)}}(),v={onLoadLessonViewState:p,onLoadLessonsViewState:function onLoadLessonsViewState(e,n,t,r){return e.map((function(e){return p(e,n)}))},onLessonIconClickHandler:function onLessonIconClickHandler(e,n,t,r){return e.addEventListener("click",function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var s,l,u,p,g,v,b,y,x,j,k;return regeneratorRuntime.wrap((function _callee$(w){for(;;)switch(w.prev=w.next){case 0:if(s=f(e,n),l=s.icon,u=s.lesson,p=s.state,g=s.speciesList,v=s.container,b=s.lessonVideoState,y=s.row,x=s.isYoutubeIcon,j=function isItemActive(e){return!e.hasOwnProperty("isActive")||e.isActive},u.items=u.items.filter((function(e){return j(e)})),!t.isLandscapeMode){w.next=13;break}if(document.querySelectorAll(".lesson-list-selected-lesson .youtube-icon").forEach((function(e){return e.parentElement.classList.remove("youtube-green-fg")})),l.dataset.lessonIsYoutubeIcon&&(l.classList.add("youtube-green-fg"),document.querySelector('.js-lesson-list-chevron[data-lesson-id="'.concat(l.dataset.lessonId,'"]')).innerHTML='<i class="fas fa-chevron-up" data-lesson-id="'.concat(u.id,'"></i>')),!p.requiresSpeciesList){w.next=10;break}return w.next=10,h(l,u,v);case 10:r?(Object(c.renderLessonIntro)(u),k=l.parentElement.parentElement.parentElement.children[1].children[0].children[1],x&&p.hideSpeciesList&&(k.innerHTML='<i class="fas fa-chevron-down" data-lesson-id="'.concat(u.id,'"></i>'))):x||(p.hideSpeciesList?l.innerHTML='<i class="fas fa-chevron-down" data-lesson-id="'.concat(u.id,'"></i>'):p.revealSpeciesList||(l.innerHTML='<i class="fas fa-chevron-up" data-lesson-id="'.concat(u.id,'"></i>'))),p.revealSpeciesList&&(g.classList.remove("hide"),x||(l.innerHTML='<i class="fas fa-chevron-up" data-lesson-id="'.concat(u.id,'"></i>'))),p.hideSpeciesList&&(g.classList.add("hide"),b.innerHTML=d.videoHandler.setVideoState(i.store.getState().videoPlayer||[],u));case 13:if(!t.isPortraitMode){w.next=19;break}if(!p.requiresSpeciesList){w.next=17;break}return w.next=17,h(l,u,v);case 17:Object(c.renderLessonIntro)(u),m.lessonStateHandler.changeRequest({requestType:o.enums.lessonState.RENDER_SPECIES_LIST,requestArgs:{lesson:u,container:a.DOM.rightBody.querySelector(".js-home-scrolling-container .scrollable")}});case 19:y.classList.add("lesson-list-selected-lesson");case 20:case"end":return w.stop()}}),_callee,this)})));return function(n){return e.apply(this,arguments)}}())},onReviewClickHandler:function onReviewClickHandler(e){e.addEventListener("click",function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(n){var t;return regeneratorRuntime.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:m.lessonStateHandler.recordUserAction(o.enums.userEvent.START_LESSON_REVIEW),e.dataset.lessonId,t=i.store.getState(),t.lesson,m.lessonStateHandler.changeRequest({requestType:o.enums.lessonState.BEGIN_OR_RESUME_LESSON,requestArgs:{id:e.dataset.lessonId}});case 4:case"end":return n.stop()}}),_callee2,this)})));return function(e){return n.apply(this,arguments)}}())},onLessonTitleClickHandler:function onLessonTitleClickHandler(e,n){e.addEventListener("click",(function(t){var r=n.find((function(n){return n.id===parseInt(e.dataset.lessonId)}));Object(l.renderEditLesson)(r)}))},hideOtherContentAndRevertChevrons:g}},"./src/ui/screens/lists/lesson-list-header-template.html":function(e,n){e.exports='<div class="lesson-list-header centred-block btn standard-block">\n    <div class="standard-block js-toggle-element">\n        <div>\n            <div class="main-header">\n                <h2>Lessons</h2>\n            </div>\n        </div>\n    </div>\n    <div class="margin-right standard-block js-toggle-control">    \n        <button data-toggle="modal" data-target="#createGuide" class="btn snap-btn margin-right small-text js-create-custom-lesson">Create lesson</button>\n    </div>\n</div>'},"./src/ui/screens/lists/lesson-list-header.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderLessonListHeader",(function(){return i}));var r=t("./src/ui/screens/lists/lesson-list-header-template.html"),a=t.n(r),i=function renderLessonListHeader(e){var n=document.createElement("div");n.innerHTML=a.a;var t=document.querySelector(".lesson-list .scrollable");document.querySelector(".lesson-list").insertBefore(n,t)}},"./src/ui/screens/lists/lesson-list-scroll-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"lessonListScrollHandler",(function(){return r}));var r={scrollToTitle:function scrollToTitle(e){setTimeout((function(){var n=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--vhRow").replace("px",""))*function siblingsBefore(e){for(var n=document.querySelectorAll(".js-lesson-list-item:not(.hide-important)"),t=n[0],r=0,a=[];t;)r++,parseInt(t.dataset.lessonId)!==e?(a.push(t),t=n[r]):t=null;return a.length}(e),t=document.querySelector(".lesson-list .scrollable");t&&(t.scrollTop=n)}))}}},"./src/ui/screens/lists/lesson-list-template.html":function(e,n){e.exports='<div class="lesson-list js-lesson-list">\n    <ul class="scrollable js-lesson-container" data-toggle="buttons">\n    </ul>\n</div>'},"./src/ui/screens/lists/lesson-list.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderLessons",(function(){return g}));var r=t("./src/ui/helpers/enum-helper.js"),a=t("./src/ui/dom.js"),i=t("./src/redux/store.js"),s=t("./src/ui/helpers/templating.js"),o=t("./src/ui/create-guide-modal/create-guide.js"),c=t("./src/ui/quick-fire-modal/quick-fire.js"),l=t("./src/ui/screens/lists/lesson-list-header.js"),u=t("./src/ui/screens/lists/lesson.js"),d=t("./src/ui/screens/lists/lesson-custom.js"),m=t("./src/ui/screens/lists/lesson-list-event-handler.js"),p=t("./src/ui/screens/lists/lesson-list-template.html"),f=t.n(p);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g=function renderLessons(){var e=i.store.getState(),n=e.config,t=e.collections,p=e.lessons,g=e.videoPlayer,v=e.score,b=document.createElement("template");b.innerHTML=f.a;var y=m.lessonListEventHandler.onLoadLessonsViewState(t.filter((function(e){return void 0===e.isActive||e.isActive})),g,v,n);y=y.sort((function(e,n){var t=e.create?e.create.seconds:0;return(n.create?n.create.seconds:0)-t}));var x=n.isPortraitMode?a.DOM.rightBody:a.DOM.leftBody;x.innerHTML="",Object(s.renderTemplate)({},b.content,x),y.forEach((function(e){return Object(u.renderLesson)(e)})),Object(l.renderLessonListHeader)(x),x.querySelector(".js-create-custom-lesson").addEventListener("click",(function(e){Object(o.createGuideHandler)(1),m.lessonListEventHandler.hideOtherContentAndRevertChevrons(0)})),document.querySelectorAll(".js-lesson-title").forEach((function(e){return m.lessonListEventHandler.onLessonTitleClickHandler(e,y)}));var j=document.querySelectorAll(".js-lesson-list-youtube");j.forEach((function(e){return m.lessonListEventHandler.onLessonIconClickHandler(e,y,n,!0)})),h(j);var k=document.querySelectorAll(".js-lesson-list-chevron");k.forEach((function(e){return m.lessonListEventHandler.onLessonIconClickHandler(e,y,n,!1)})),h(k);var w=document.querySelectorAll(".js-review-link");w.forEach((function(e){return m.lessonListEventHandler.onReviewClickHandler(e)})),h(w),setTimeout((function(){var e=document.querySelectorAll(".js-terms-review-link");e.forEach((function(e){var n=e.querySelector("button");n.addEventListener("click",(function(e){var t=y.find((function(e){return e.id===parseInt(n.dataset.lessonId)}));if(t.terms){var a=i.store.getState().glossary;setTimeout((function(){var e=i.store.getState().quickFire;e&&e.lessonId===t.id?c.quickFireHandlers.questions(e):c.quickFireHandlers.questions(_objectSpread(_objectSpread({},c.quickFireHandlers.init(a,r.enums.quickFireType.DEFINITION,t)),{},{linkFromLesson:!0}))}),150)}}))})),h(e)}),100),Object(d.renderCustomLesson)(y,p,g,v,n)},h=function highlightActiveLesson(e){e.forEach((function(e){return e.addEventListener("click",(function(n){document.querySelectorAll(".js-lesson-list-carousel-item").forEach((function(e){return e.classList.remove("highlighted-for-review-row")}));var t=document.querySelector('.js-lesson-list-carousel-item[data-lesson-id="'.concat(e.dataset.lessonId,'"]'));t&&t.classList.add("highlighted-for-review-row")}))}))}},"./src/ui/screens/lists/lesson-template.html":function(e,n){e.exports='<li>\n  <div data-lesson-id="{{ lesson.id }}" class="relative lesson-list-carousel-item js-lesson-list-carousel-item">\n      <div class="landscape double-centred-block">\n          <img class="lesson-icon" src="{{ lesson.icon }}" alt="{{ lesson.name }}">\n      </div>\n      <div data-lesson-id="{{ lesson.id }}" class="lesson-list-item js-lesson-list-item" data-has-video="{{ lesson.hasVideo }}">\n          <div>            \n              <div class="lesson-name js-lesson-title" data-lesson-id="{{ lesson.id }}">\n                  <span data-toggle="modal" data-target="#basicModal" id="lesson_{{ lesson.id }}" class="lesson-title margin-right {{ lesson.isCollectionEditableClass }}">{{ lesson.name }}</span>\n              </div>\n              <div class="lesson-taxa" data-lesson-id="{{ lesson.id }}">{{ lesson.taxa }}</div>\n              <div class="latin hide-empty js-lesson-video-state" data-lesson-id="{{ lesson.id }}">{{ lesson.videoState }}</div>         \n          </div> \n          <div data-lesson-id="{{ lesson.id }}" class="lesson-review js-lesson-review">\n              <div class="flex">\n                  <div class="centred-block fit-width">\n                    <span class="lesson-terms-review {{ lesson.hasTermsClass }} margin-right fit-width js-terms-review-link" data-toggle="modal" data-target="#glossaryModal" data-lesson-id="{{ lesson.id }}">\n                        <button data-lesson-id="{{ lesson.id }}" aria-label="vocab test for {{ lesson.name }} lesson" class="btn snap-btn extra-small-text" data-toggle="modal" data-target="#glossaryModal">Vocab test</button>\n                    <span>\n                  </div>\n                  <div class="vertical-centred-block relative">\n                    <span class="">\n                      <button data-toggle="modal" data-target="#lessonModal" data-lesson-id="{{ lesson.id }}" aria-label="{{ lesson.name }} lesson quiz" class="landscape btn snap-btn extra-small-text margin-right fit-width js-review-link">{{ lesson.reviewState }}</button>\n                      <button data-lesson-id="{{ lesson.id }}" aria-label="{{ lesson.name }} lesson quiz" class="portrait btn snap-btn extra-small-text margin-right fit-width js-review-link">{{ lesson.reviewState }}</button>\n                    </span>\n                    <span data-lesson-id="{{ lesson.id }}" class="hide-important inline-progress-container js-review">\n                    <span class="absolute">&nbsp;</span>\n                    </span>\n                    <span data-lesson-id="{{ lesson.id }}" class="hide margin-right js-loading-review-message">\n                        <span><i class="fas fa-sync slow-spin"></i></span>\n                    </span>                  \n                  </div>\n              </div>\n          </div>\n      </div>\n      <div class="lesson-list-action-icons js-lesson-list-action-icons">\n          <div class="">\n              <button data-lesson-id="{{ lesson.id }}" data-lesson-is-youtube-icon="true" class="snap-icon-btn fit-width js-lesson-list-youtube" aria-label="play video for the lesson {{ lesson.name }}">\n                <i class="fab fa-youtube youtube-icon {{ lesson.hideVideoClass }}"></i>\n                <i class="fas fa-glasses youtube-icon {{ lesson.hideTextIntroClass }}"></i>\n              </button>\n              <button data-lesson-id="{{ lesson.id }}" class="landscape snap-icon-btn fit-width js-lesson-list-chevron" aria-label="species list for the lesson {{ lesson.name }}">\n                <i class="fas fa-chevron-down"></i>\n              </button>\n          </div>\n      </div>\n  </div>\n  <div data-container-id="{{ lesson.id }}" class="species-container js-species-container"></div>\n</li>'},"./src/ui/screens/lists/lesson.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderLesson",(function(){return o}));var r=t("./src/redux/store.js"),a=t("./src/ui/helpers/templating.js"),i=t("./src/ui/screens/lists/lesson-template.html"),s=t.n(i),o=function renderLesson(e){var n=r.store.getState(),t=n.config,i=n.lessons,o=n.layout,l=document.createElement("template");l.innerHTML=s.a,e.hideVideoClass=e.hasVideo?"":"hide-important",e.hideTextIntroClass=e.hasVideo?"hide-important":"";var u=i.find((function(n){return n.collection.id===e.id}));if(e.isPaused=!!u||t.collection.id===e.id,e.icon=e.icon||"https://static.inaturalist.org/photos/57604885/small.jpeg?1575746307",Object(a.renderTemplate)({lesson:e},l.content,document.querySelector(".js-lesson-container")),u&&c(u.layout,u.collection,null,t),t.collection.id===e.id){var d=document.querySelector('.js-lesson-list-carousel-item[data-lesson-id="'.concat(e.id,'"]'));d&&d.classList.add("highlighted-for-review-row"),t.isLandscapeMode&&setTimeout((function(){var e=d.querySelector(".js-review-summary");e&&e.click()})),o&&o.roundScoreCount&&c(o,e,"progress-icon",t)}},c=function renderReview(e,n,t,r){var a=document.querySelector(".js-right-grid progress"),i=e.roundProgressIndex?e.roundProgressIndex:a?a.value:0,s='<progress class="absolute" value="'.concat(i,'" max="').concat(e.roundScoreCount,'"></progress>');document.querySelector('.js-review[data-lesson-id="'.concat(n.id,'"]')).innerHTML=s,document.querySelector('.js-review-link[data-lesson-id="'.concat(n.id,'"]')).innerText="Resume Quiz"}},"./src/ui/screens/media/landscape/media-players.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderMediaPlayers",(function(){return r}));var r=function renderMediaPlayers(e){document.querySelectorAll(".media-audio-players")}},"./src/ui/screens/multichoice/horizontal-strips.html":function(e,n){e.exports='<div class="strips description js-rptr-strips" data-repeat-answer="{{ answers }}">\n  <div class="strip">\n      <button class="btn snap-icon-btn" data-answer-index="{{ answer.index }}">\n        <span>{{ answer.term }}</span>\n      </button>\n  </div>\n</div>\n    '},"./src/ui/screens/multichoice/horizontal-strips.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderHorizontalStrips",(function(){return u}));var r=t("./src/redux/store.js"),a=t("./src/utils/utils.js"),i=t("./src/ui/helpers/score-handler.js"),s=t("./src/ui/screens/cards/test-card.js"),o=t("./src/ui/helpers/templating.js"),c=t("./src/ui/screens/multichoice/horizontal-strips.html"),l=t.n(c);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var u=function renderHorizontalStrips(e){var n=r.store.getState(),t=n.config,c=n.lesson,u=n.layout,d=e.nextItem||e.items[e.itemIndex],m=u.provider.name||u.provider.taxon,p=u.provider.statement,f=u.provider.question,g=Object(s.renderTestCardTemplate)(e,{vernacularName:d.vernacularName,binomial:m,question:"",help:"",term:"",className:"",headerClassName:"",bonus:void 0,statement:p,providerQuestion:f}),h=document.createElement("template");h.innerHTML=l.a;var v=a.utils.shuffleArray([].concat(_toConsumableArray(u.provider.answers),[u.provider.answer]));v=v.map((function(e,n){return{term:e,index:n}})),Object(o.renderTemplate)({answers:v},h.content,g),document.querySelector(".js-test-card-question").classList.add("calendar-block"),document.querySelector(".js-test-card-question").classList.remove("standard-block");var b=document.querySelectorAll(".js-rptr-strips .strip"),y={name:d.taxonomy.family,binomial:d.name,question:u.provider.answer.term},x={itemId:d.id,items:b,taxon:y,binomial:d.name,questionCount:c.questionCount,vernacularName:d.vernacularName,layoutCount:c.layoutCount,points:u.points,clue:"",answerIndex:v.findIndex((function(e){return e.term===u.provider.answer})),answers:v,questionText:f,statement:p};Object(i.scoreHandler)("strip",x,null,t)}},"./src/ui/screens/multichoice/landscape/mixed-specimen/left/mixed-specimen-images-template.html":function(e,n){e.exports='<div class="hide-important">mixed-specimen-images-template.html</div>\n<div class="standard-block border-bottom double-centred-block"></div>\n<div>\n    <div class="tiles-container squares js-tiles" data-repeat-image="{{ images }}">\n        <div>\n            <img class="square"                    \n            src="{{ image.medium }}"\n            data-item-name="{{ image.itemName }}" \n            data-url="{{ image.url }}" />\n        </div>                \n    </div>    \n</div>\n<div class="lesson-companion">\n    \x3c!-- 9 things about Dill: #1 --\x3e\n</div>'},"./src/ui/screens/multichoice/landscape/mixed-specimen/left/mixed-specimen-images.js":function(e,n,t){"use strict";t.r(n),t.d(n,"listenToUserAnswer",(function(){return y})),t.d(n,"listenToImageSelection",(function(){return x})),t.d(n,"renderMixedSpecimenImages",(function(){return j}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/api/firebase/firestore.js"),i=t("./src/ui/helpers/score-handler.js"),s=t("./src/redux/store.js"),o=t("./src/utils/utils.js"),c=t("./src/ui/helpers/data-checking.js"),l=t("./src/ui/helpers/image-handler.js"),u=t("./src/ui/dom.js"),d=t("./src/api/snapdragon/iconic-taxa.js"),m=t("./src/ui/helpers/templating.js"),p=t("./src/snapdragon-engine/pool-handler.js"),f=t("./src/ui/helpers/logging-handler.js"),g=t("./src/ui/screens/multichoice/landscape/mixed-specimen/left/mixed-specimen-images-template.html"),h=t.n(g);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var v=[],b=[],y=function listenToUserAnswer(e){b.push(e)},x=function listenToImageSelection(e){v.push(e)},j=function renderMixedSpecimenImages(e,n,t){var g=arguments.length>3&&void 0!==arguments[3]&&arguments[3],y=n||1,x=s.store.getState(),j=x.config,k=x.score,w=x.lesson,S=r.clone(e.nextItem);if(S){var _=document.createElement("template");_.innerHTML=h.a;var T=u.DOM.leftBody;T.innerHTML="";var L=function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var n,s,u,h;return regeneratorRuntime.wrap((function _callee2$(x){for(;;)switch(x.prev=x.next){case 0:if(x.t0=t,x.t0){x.next=5;break}return x.next=4,Object(p.getPoolItems)(e);case 4:x.t0=x.sent;case 5:n=x.t0,s=o.utils.shuffleArray(n).map((function(e,n){var t=g?o.utils.shuffleArray(e.images):e.images.filter((function(e){return e.starred})).length>0?e.images.filter((function(e){return e.starred})):o.utils.shuffleArray(e.images);return t.length<y&&(t=[].concat(_toConsumableArray(t),_toConsumableArray(r.take(y-t.length,o.utils.shuffleArray(e.images).filter((function(e){return!e.starred})))))),t.map((function(t,r){if(r<y){if(t.url)return _objectSpread(_objectSpread({index:n+r},t),{},{medium:Object(l.scaleImage)(t,l.imageUseCases.MIXED_SPECIMENS,j).medium,itemName:e.name});y++}})).filter((function(e){return e}))})).flat(),T.innerHTML="",Object(f.snapLog)("renderSpecimenImages, image medium values:",s.map((function(e){return e.medium}))),Object(m.renderTemplate)({images:s},_.content,T),setTimeout((function(){v.forEach((function(e,n){0===n&&e(s)}))}),250),u=function callback(e,n){b.forEach((function(t){return t(e,n)}))},(h=document.querySelectorAll(".js-tiles img")).forEach((function(e){e.addEventListener("click",function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e){var n,t,r,s,o,m,p,f,g;return regeneratorRuntime.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:return n=e.target,t=n.dataset.itemName,v.next=4,a.firestore.getSpeciesByName(t);case 4:return r=v.sent,s=S.name,o=r.name,m=[],h.forEach((function(e){m.push({value:e.dataset.itemName,url:Object(l.scaleImage)({url:e.dataset.url}).small}),e.dataset.itemName!==S.name&&e.classList.add("desaturate")})),v.next=11,a.firestore.getSpeciesByName(s);case 11:return p=v.sent,v.next=14,a.firestore.getSpeciesByName(s);case 14:f=v.sent,delete(g=_objectSpread(_objectSpread({},k),{},{itemId:S.id,question:s,answer:o,binomial:S.name,questionCount:w.questionCount,layoutCount:w.layoutCount,points:0,icon:Object(d.matchIcon)(S.taxonomy,d.iconicTaxa),vernacularName:c.itemProperties.getVernacularName(p,j),answerVernacularName:c.itemProperties.getVernacularName(f,j),answers:m,questionText:j.isPortraitMode?"Swipe and tap to ID":"Identify this species"})).answeredIndex,Object(i.scoreHandler)("image-match",g,u,j);case 18:case"end":return v.stop()}}),_callee,this)})));return function(n){return e.apply(this,arguments)}}())}));case 14:case"end":return x.stop()}}),_callee2,this)})));return function renderSpecimenImages(){return n.apply(this,arguments)}}();L()}}},"./src/ui/screens/multichoice/landscape/mixed-specimen/right/mixed-specimen-question-template.html":function(e,n){e.exports='<div class="mixed-specimen-container">\n    <div class="margin-bottom">\n        <span>You are choosing from</span>\n        <br>\n        <br>\n        <span>\n            Species shown (in no particular order):\n        </span>\n    </div>        \n    <ul class="images-names-txt js-images-names-txt"></ul>\n    <div class="vertical-evenly-spaced-block">\n        <button class="btn snap-action-btn btn-auxiliary js-help-txt">Click to refresh selection</button>\n    </div>\n</div>'},"./src/ui/screens/multichoice/landscape/mixed-specimen/right/mixed-specimen-question.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderMixedSpecimenQuestion",(function(){return i}));t("./node_modules/ramda/es/index.js"),t("./src/utils/utils.js");var r=t("./src/redux/store.js"),a=(t("./src/ui/helpers/icon-handler.js"),t("./src/api/firebase/firestore.js"),t("./src/ui/helpers/score-handler.js"),t("./src/ui/screens/cards/test-card.js"),t("./src/ui/helpers/data-checking.js"),t("./src/ui/screens/multichoice/landscape/mixed-specimen/left/mixed-specimen-images.js"),t("./src/ui/screens/multichoice/portrait/mixed-specimen/mixed-specimen-combined.js"));t("./src/ui/helpers/templating.js"),t("./src/ui/screens/multichoice/landscape/mixed-specimen/right/mixed-specimen-question-template.html");var i=function renderMixedSpecimenQuestion(e,n){var t=r.store.getState();t.config,t.layout;Object(a.renderMixedSpecimenImagesAndQuestion)(e)}},"./src/ui/screens/multichoice/landscape/mixed-trait/left/mixed-trait-images-template.html":function(e,n){e.exports='<div class="standard-block border-bottom double-centred-block"></div>\n<div class="squares traits js-tiles" data-repeat-trait="{{ traits }}">\n    <div data-repeat-value="{{ trait }}">\n        <img class="square"                    \n        src="{{ value.img.url }}"\n        data-term="{{ value.term }}"\n        data-url="{{ value.img.url }}" />\n    </div>                \n</div>\n\n<div class="lesson-companion">\n    \x3c!-- 9 things about Dill: #1 --\x3e\n</div>'},"./src/ui/screens/multichoice/landscape/mixed-trait/left/mixed-trait-images.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderMixedTraitImages",(function(){return l}));var r=t("./src/redux/store.js"),a=t("./src/ui/helpers/templating.js"),i=t("./src/ui/dom.js"),s=t("./src/ui/screens/multichoice/landscape/mixed-trait/mixed-trait-handler.js"),o=t("./src/ui/screens/multichoice/landscape/mixed-trait/left/mixed-trait-images-template.html"),c=t.n(o),l=function renderMixedTraitImages(e){var n=r.store.getState().layout,t=document.createElement("template");t.innerHTML=c.a;var o=i.DOM.leftBody;o.innerHTML="",Object(a.renderTemplate)({traits:n.traits},t.content,o);var l=document.querySelectorAll(".js-tiles div");l.forEach((function(e){e.querySelector("img").src.indexOf("png")>-1&&l.forEach((function(e){return e.classList.add("png")}))})),n.requiredTraits.length>1&&l.forEach((function(e){return e.classList.add("multiple")})),l.forEach((function(e){return s.mixedTraitHandler.onClickTileHandler(e,n.requiredTraits,l)}))}},"./src/ui/screens/multichoice/landscape/mixed-trait/mixed-trait-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"mixedTraitHandler",(function(){return f}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/redux/store.js"),i=t("./src/ui/helpers/score-handler.js"),s=t("./src/api/firebase/firestore.js"),o=t("./src/utils/utils.js"),c=t("./src/ui/helpers/traits-handler.js"),l=t("./src/ui/helpers/logging-handler.js");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_unsupportedIterableToArray(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _slicedToArray(e,n){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return t}(e,n)||_unsupportedIterableToArray(e,n)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var u=[],d=[],m={},p=function callback(e,n){var t=document.querySelector(".js-continue-lesson-btn");t.disabled=!1,m.score=e,m.scoreUpdateTimer=n,t.addEventListener("click",(function(){window.clearTimeout(m.scoreUpdateTimer),Object(i.bindScore)(m.score)}))},f={getMatchingTrait:function getMatchingTrait(e,n){try{for(var t,r,a=function _loop(){var n=_slicedToArray(s[i],2),a=n[0],c=n[1];e.map((function(e){e.toLowerCase()===o.utils.toCamelCase(a).toLowerCase()&&(t=c.value.map((function(e){return e.toLowerCase()})),r=e)}))},i=0,s=Object.entries(n);i<s.length;i++)a();return{requiredTraitValues:t,trait:r}}catch(e){return Object(l.logError)(getMatchingTrait,e),{requiredTraitValues:[],trait:{}}}},fetchTraits:function(){var e=function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(e,n,t){var i,l,d,m;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:return i=a.store.getState().glossary,p.next=3,s.firestore.getTraitDefinitions(i,t,e);case 3:if((l=p.sent).forEach((function(e){return e.term=e.term.toLowerCase(),e.alt&&(e.alt=e.alt.toLowerCase()),e})),n){p.next=7;break}return p.abrupt("return",{traits:null,requiredTraits:null});case 7:return d=(d=c.traitsHandler.getNMultiplesFromArray(l.map((function(e){return e.term})),n.length)).filter((function(e){return!c.traitsHandler.doArraysHaveSameValues(e,n)})),m=l.filter((function(e){return r.contains(e.term,n)})),d=o.utils.shuffleArray([].concat(_toConsumableArray(r.take(5,d)),[n])),l=d.map((function(e){return e.map((function(e){return l.find((function(n){return n.term===e}))}))})),u.forEach((function(e){return e(l,m)})),p.abrupt("return",{traits:l,requiredTraits:m});case 14:case"end":return p.stop()}}),_callee,this)})));return function fetchTraits(n,t,r){return e.apply(this,arguments)}}(),onTraitsReady:function onTraitsReady(e){u.push(e)},onTraitClicked:function onTraitClicked(e){d.push(e)},onClickTileHandler:function onClickTileHandler(e,n,t){var r=a.store.getState(),s=r.config,o=r.lesson,l=r.collection.nextItem;e.addEventListener("click",(function(e){var r=e.currentTarget,a=Array.from(r.querySelectorAll("img")).map((function(e){return e.dataset.term})),u=Array.from(t).map((function(e){return e.querySelector("img").dataset})).map((function(e){return{value:e.term,url:e.url}})),d={points:0,binomial:l.name,trait:!0,question:n.map((function(e){return e.term})),answer:a,questionCount:o.questionCount,layoutCount:o.layoutCount,answers:u,questionText:"Match the trait"};Object(i.scoreHandler)("image-match",d,p,s),t.forEach((function(e){c.traitsHandler.doArraysHaveSameValues(Array.from(e.querySelectorAll("img")).map((function(e){return e.dataset.term})),n.map((function(e){return e.term})))||e.querySelectorAll("img").forEach((function(e){return e.classList.add("desaturate")}))}))}))}}},"./src/ui/screens/multichoice/landscape/mixed-trait/right/mixed-trait-question-template.html":function(e,n){e.exports='<div class="mixed-specimen-container">\n    <div class="margin-bottom"><span>{{ help }}</span></div>\n    <ul class="traits-names-txt js-traits-names-txt" data-repeat-trait="{{ traits }}">\n        <li>\n            <img src="{{ trait.img.url }}" alt="{{ trait.term }}">\n            <span>{{ trait.term }}</span>\n        </li>\n    </ul>\n</div>'},"./src/ui/screens/multichoice/landscape/mixed-trait/right/mixed-trait-question.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderMixedTraitQuestion",(function(){return l}));var r=t("./src/utils/utils.js"),a=t("./src/redux/store.js"),i=(t("./src/ui/helpers/templating.js"),t("./src/ui/screens/cards/test-card.js")),s=t("./src/ui/screens/multichoice/multi-strips.js"),o=t("./src/ui/screens/multichoice/landscape/mixed-trait/right/mixed-trait-question-template.html"),c=t.n(o);function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}var l=function renderMixedTraitQuestion(e){(function(){var e=function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var e,n,t,o,l;return regeneratorRuntime.wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:e=a.store.getState(),n=e.layout,t=e.collection,e.config,document.createElement("template").innerHTML=c.a,o=t.nextItem,"Match the trait",l="Select the correct ".concat(r.utils.fromCamelCase(n.trait)),Object(i.renderTestCardTemplate)(t,{vernacularName:o.vernacularName,binomial:o.name,question:"Match the trait",help:l,term:""}),Object(s.renderMultiStrips)(t,null,{traits:n.traits,requiredTraits:n.requiredTraits,item:o,question:"Match the trait",help:l});case 8:case"end":return u.stop()}}),_callee,this)})));return function init(){return e.apply(this,arguments)}})()()}},"./src/ui/screens/multichoice/multi-strips-template.html":function(e,n){e.exports='<ul class="strips description js-rptr-strips" data-repeat-answer="{{ answers }}">\n  <li class="strip">\n      <button class="btn snap-icon-btn" data-answer-index="{{ answer.index }}" data-name="{{ answer.name }}" data-names="{{ answer.names }}">\n          <span>{{ answer.term }}</span>\n      </button>\n    </li>\n</ul>'},"./src/ui/screens/multichoice/multi-strips-with-images.html":function(e,n){e.exports='<div class="strips description js-rptr-strips" data-repeat-answer="{{ answers }}">\n    <div class="strip">\n        <button class="double-centred-block btn snap-icon-btn" data-answer-index="{{ answer.index }}">\n            <img width="25px" height="25px" src="{{ answer.img.url }}" alt="">\n            <span>{{ answer.term }}</span>\n        </button>\n    </div>\n  </div>'},"./src/ui/screens/multichoice/multi-strips.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderMultiStrips",(function(){return j}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/utils/utils.js"),i=t("./src/redux/store.js"),s=t("./src/api/botanical-latin.js"),o=t("./src/ui/helpers/data-checking.js"),c=t("./src/snapdragon-engine/pool-handler.js"),l=t("./src/ui/helpers/score-handler.js"),u=t("./src/ui/helpers/templating.js"),d=t("./src/ui/screens/cards/test-card.js"),m=t("./src/api/snapdragon/iconic-taxa.js"),p=t("./src/api/firebase/firestore.js"),f=t("./src/ui/screens/lists/lesson-state-helper.js"),g=(t("./src/ui/helpers/logging-handler.js"),t("./src/ui/screens/multichoice/multi-strips-template.html")),h=t.n(g),v=t("./src/ui/screens/multichoice/multi-strips-with-images.html"),b=t.n(v),y=t("./src/ui/screens/common/audio-media-template.html"),x=t.n(y);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var j=function renderMultiStrips(e,n,t){try{var g=i.store.getState(),v=g.config,y=g.lesson,j=g.layout,k=g.userAction;if(f.lessonStateHelper.overrideLesson(k,v))return;var w,S=e.nextItem||e.items[e.itemIndex],_=Object(m.matchTaxon)(S.taxonomy,m.iconicTaxa),T=n&&n.screen||j.screens[1];w=v.language,function(){var i=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(){var i,m,f,g,k,L,q,O,A,C,E,I,P,M,H,N,R,G,D,F,z,B,U,$,K,V,Q,W,Y,X,J;return regeneratorRuntime.wrap((function _callee8$(Z){for(;;)switch(Z.prev=Z.next){case 0:if(i=function render(t,r,a){var i=a&&void 0!==a.vernacularName?a.vernacularName:S.vernacularName,s=a&&void 0!==a.binomial?a.binomial:S.name,o=a&&a.question?a.question:"Match the name",c=v.isLandscapeMode?"(Select the name below.)":"(Tap on the name below.)",m=a&&void 0!==a.help?a.help:c,p=a&&void 0!==a.term?a.term:"",f=a&&void 0!==a.className?a.className:"",g=a&&void 0!==a.headerClassName?a.headerClassName:"",x=a&&void 0!==a.clue?a.clue:null,k=Object(d.renderTestCardTemplate)(e,{vernacularName:i,binomial:s,question:o,help:m,term:p,className:f,headerClassName:g,bonus:n}),w=document.createElement("template");w.innerHTML=t.img?b.a:h.a,r.forEach((function(e,n){e.index=n,e.name=e.name||"",e.names=e.names?e.names.join(", "):""})),Object(u.renderTemplate)({answers:r},w.content,k);var _=document.querySelectorAll(".js-rptr-strips .strip");a.italicise&&_.forEach((function(e){return e.classList.add("binomial")}));var T={name:S.taxonomy.family,binomial:S.name,question:t.term},L={itemId:S.id,items:_,taxon:T,binomial:S.name,questionCount:y.questionCount,layoutCount:y.layoutCount,points:j.points,clue:x,answerIndex:r.findIndex((function(e){return e.term===t.term})),questionText:o};Object(l.scoreHandler)("strip",L,null,v)},"species-scientifics"===T.name&&function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var n,t,s,o;return regeneratorRuntime.wrap((function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return o=function(){var i=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return n={term:S.name},i.next=3,Object(c.getPoolItems)(e,6);case 3:t=i.sent,t=r.take(8,t).filter((function(e){return e.name.toLowerCase()!==S.name.toLowerCase()})).map((function(e){return e.name})),(t=r.take(5,t)).push(S.name),t=t.map((function(e){return{term:e}})),t=a.utils.shuffleArray(t),s=v.isLandscapeMode?"(Select the answer)":"(Tap on the answer)";case 10:case"end":return i.stop()}}),_callee,this)})));return function buildQuestion(){return i.apply(this,arguments)}}(),l.next=3,o();case 3:i(n,t,{binomial:"Latin name",question:"What's the latin name?",help:s,italicise:!0});case 4:case"end":return l.stop()}}),_callee2,this)})));return function renderBinomialQuestions(){return n.apply(this,arguments)}}()(),"species-vernaculars"===T.name&&function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var n,t,s,l;return regeneratorRuntime.wrap((function _callee4$(u){for(;;)switch(u.prev=u.next){case 0:return l=function(){var i=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return n={term:S.vernacularName},i.next=3,Object(c.getPoolItems)(e,6);case 3:t=(t=i.sent).map((function(e){return o.itemProperties.getVernacularName(e,v,!1,"vernacularName",w)})),t=r.take(5,t.filter((function(e){return e!==S.vernacularName}))),t=(t=a.utils.shuffleArray([S.vernacularName].concat(_toConsumableArray(t)))).map((function(e){return{term:e}})),s=v.isLandscapeMode?"(Select the answer)":"(Tap on the answer)";case 9:case"end":return i.stop()}}),_callee3,this)})));return function buildQuestion(){return i.apply(this,arguments)}}(),u.next=3,l();case 3:i(n,t,{vernacularName:"Common name",question:"What's the common name?",help:s});case 4:case"end":return u.stop()}}),_callee4,this)})));return function renderVernacularQuestions(){return n.apply(this,arguments)}}()(),"species-identification"===T.name&&function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var n,t,s,o;return regeneratorRuntime.wrap((function _callee6$(l){for(;;)switch(l.prev=l.next){case 0:return o=function(){var i=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(i){for(;;)switch(i.prev=i.next){case 0:return n={term:S.quickId},i.next=3,Object(c.getPoolItems)(e,6);case 3:t=(t=i.sent).map((function(e){return e.quickId})),t=r.take(5,t.filter((function(e){return e!==S.quickId}))),t=(t=a.utils.shuffleArray([S.quickId].concat(_toConsumableArray(t)))).map((function(e){return{term:e}})),s=v.isLandscapeMode?"(Select the answer)":"(Tap on the answer)";case 9:case"end":return i.stop()}}),_callee5,this)})));return function buildQuestion(){return i.apply(this,arguments)}}(),l.next=3,o();case 3:i(n,t,{vernacularName:S.vernacularName,question:"Which description fits?",help:s});case 4:case"end":return l.stop()}}),_callee6,this)})));return function renderIdQuestions(){return n.apply(this,arguments)}}()(),"family-strips"!==T.name){Z.next=18;break}return m=a.utils.getRandomInt(2),f=0===m?"identification":"summary",v.isPortraitMode,g=4,Z.next=10,p.firestore.getFamiliesByIconicTaxon(_.rank,_.value,S.lichen,v);case 10:k=Z.sent,L={term:S.family[f],name:S.family.name}||{type:{term:"Missing ".concat(f)},name:S.family.name},q=r.take(g-1,r.take(g,a.utils.shuffleArray(k))).filter((function(e){return e.name.toLowerCase()!==S.taxonomy.family.toLowerCase()})),O=(O=q.filter((function(e){return e[f]&&void 0!==e[f]&&""!==e[f]})).map((function(e){return{type:e[f],name:e.name,names:e.names}}))).map((function(e){return{term:e.type,name:e.name,names:e.names}})),A=a.utils.shuffleArray([L].concat(_toConsumableArray(O))),C=v.isLandscapeMode?"(Select the description below.)":"(Tap on the description.)",i(L,A,{question:"Match species family",help:C,clue:S.taxonomy.family});case 18:if("epithet"===T.name&&(E=j.epithet.latin.join(", "),v.isPortraitMode,I=6,P=(P=(P=r.take(I-1,a.utils.shuffleArray(s.epithets)).filter((function(e){return!r.contains(e.latin,E)}))).map((function(e){return e.en.join(", ")}))).map((function(e){return{term:e}})),M={term:M=(M=s.epithets.find((function(e){return e.latin.join(", ").toUpperCase()===E.toUpperCase()})))?M[v.language][0]:E},H=a.utils.shuffleArray([M].concat(_toConsumableArray(P))),v.isLandscapeMode?i(M,H,{question:j.epithet.latin.join(", "),help:"(Match the latin term)"}):i(M,H,{question:"Match latin word",help:"",vernacularName:"",binomial:"",term:j.epithet.latin.join(", ")})),"definition"===T.name&&i({term:n.question},n.answers.map((function(e){return{term:e}})),n.overrides),"family"!==T.name){Z.next=45;break}return v.isPortraitMode,N=[5,6],Z.next=24,p.firestore.getFamiliesByIconicTaxon(_.rank,_.value,S.lichen,v);case 24:R=Z.sent,G=S.taxonomy.family,D=r.take(N[0],r.take(N[1],a.utils.shuffleArray(R)).filter((function(e){return e.name.toLowerCase()!==S.taxonomy.family.toLowerCase()}))),F=D.map((function(e){return e.name})),z=D.map((function(e){return e.names[0]})),$=a.utils.getRandomInt(2),Z.t0=$,Z.next=0===Z.t0?33:1===Z.t0?39:45;break;case 33:return B={term:S.family.vernacularName},z=z.map((function(e){return{term:e}})),U=a.utils.shuffleArray([B].concat(_toConsumableArray(z))),void 0===B&&console.log("Missing question - case 0 - in multi-strips for: ",S.name),i(B,U,{question:"Match family name"}),Z.abrupt("break",45);case 39:return B={term:G},F=F.map((function(e){return{term:e}})),U=a.utils.shuffleArray([B].concat(_toConsumableArray(F))),void 0===B&&console.log("Missing question - case 1 - in multi-strips for: ",S.name),i(B,U,{question:"Match family name",italicise:!0}),Z.abrupt("break",45);case 45:"trait-property"===T.name&&(i({term:n.question},n.answers.map((function(e){return{term:e}})),n.overrides),n.overrides.trait&&"song"===n.overrides.trait.name&&function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){var e,t,r,a,i;return regeneratorRuntime.wrap((function _callee7$(s){for(;;)switch(s.prev=s.next){case 0:return(e=document.querySelector(".js-question-help")).innerHTML="",(t=document.createElement("template")).innerHTML=x.a,r=n.overrides.trait.value[0],s.next=7,p.firestore.getBirdsong(r);case 7:a=s.sent,Object(u.renderTemplate)({mp3:a,title:S.name},t.content,e),(i=document.querySelector(".js-test-card-question")).classList.remove("standard-block"),i.classList.add("double-standard-block"),document.querySelector(".js-test-card-content").classList.add("test-card-content-less-standard-block");case 14:case"end":return s.stop()}}),_callee7,this)})));return function renderBirdsong(){return e.apply(this,arguments)}}()()),"mixed-trait-images"===j.name&&(K=t.traits,V=t.requiredTraits,Q=t.item,W=t.question,Y=t.help,X=r.flatten(K),J=V[0],i(J,X,{binomial:Q.name,question:W,help:Y,italicise:!0}));case 47:case"end":return Z.stop()}}),_callee8,this)})));return function init(){return i.apply(this,arguments)}}()()}catch(e){console.error("Crashed out somwhere on multi-strips with this error: ",e)}}},"./src/ui/screens/multichoice/portrait/mixed-specimen/mixed-specimen-combined-template.html":function(e,n){e.exports='<div class="species-card-images carousel js-test-card-container-images"></div>'},"./src/ui/screens/multichoice/portrait/mixed-specimen/mixed-specimen-combined.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderMixedSpecimenImagesAndQuestion",(function(){return h}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/utils/utils.js"),i=t("./src/redux/store.js"),s=t("./src/ui/helpers/data-checking.js"),o=t("./src/ui/helpers/templating.js"),c=t("./src/ui/screens/cards/test-card.js"),l=t("./src/ui/helpers/score-handler.js"),u=t("./src/ui/screens/common/image-slider.js"),d=t("./src/ui/helpers/image-handler.js"),m=t("./src/snapdragon-engine/pool-handler.js"),p=t("./src/ui/helpers/logging-handler.js"),f=t("./src/ui/screens/multichoice/portrait/mixed-specimen/mixed-specimen-combined-template.html"),g=t.n(f);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}var h=function renderMixedSpecimenImagesAndQuestion(e){var n=i.store.getState(),t=n.config,f=n.lesson,h=n.layout,v=n.score,b=r.clone(e.nextItem);if(b){var y=function(){var n=function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var n,i,p,y,x,j,k,w,S;return regeneratorRuntime.wrap((function _callee$(_){for(;;)switch(_.prev=_.next){case 0:return n=function getPortraitImages(e){return a.utils.flatten(e.map((function(e){var n=0===e.srcs.filter((function(e){return e.starred})).length?r.take(1,a.utils.shuffleArray(e.srcs)):e.srcs.filter((function(e){return e.starred})),i={name:e.itemName,images:n};return Object(d.prepImagesForCarousel)(i,t,d.imageUseCases.MIXED_SPECIMENS)})))},_.next=3,Object(m.getPoolItems)(e);case 3:i=_.sent,p=i.map((function(e,n){return{index:n+1,srcs:e.images,itemName:e.name}})),p=n(p),y=t.islandscapeMode?"Find then click to ID":"Swipe and tap to ID",(x=Object(c.renderTestCardTemplate)(e,{vernacularName:b.vernacularName,binomial:b.name,question:y,help:"(Click on the matching photo.)",term:""})).innerHTML="",(j=document.createElement("template")).innerHTML=g.a,Object(o.renderTemplate)({},j.content,x),x=document.querySelector(".js-test-card-container-images"),Object(u.imageSlider)({config:t,images:a.utils.shuffleArray(p),parent:x,identifier:"mixed-specimens"}),k=document.querySelector(".js-continue-lesson-btn"),w={},S=[],p.forEach((function(e){S.push({value:e.itemName,url:Object(d.scaleImage)({url:e.url}).small})})),document.querySelectorAll("#imageSlider_mixed-specimens .carousel-item img").forEach((function(e){e.addEventListener("click",(function(e){var n=e.target.dataset.itemName,r=b.name,a=n||"incorrect",o=a===r;document.createElement("span").innerHTML=o?'<span class="icon"><i class="fas fa-check-circle"></i></span>':'<span class="icon"><i class="fas fa-times-circle"></i></span>';var c=_objectSpread(_objectSpread({},v),{},{itemId:b.id,question:r,answer:a,binomial:b.name,questionCount:f.questionCount,layoutCount:f.layoutCount,points:h.points,answers:S,questionText:t.isPortraitMode?"Swipe and tap to ID":"Identify this species",vernacularName:s.itemProperties.getVernacularName(b,t)});Object(l.scoreHandler)("image-match",c,(function callback(e,n){if(w.score=e,w.scoreUpdateTimer=n,k.disabled=!1,!e.success){var r=i.find((function(n){return n.name===e.answer}));s.itemProperties.getVernacularName(r,t)||e.answer}}),t)}))})),k.addEventListener("click",(function(e){v.success?(window.clearTimeout(w.scoreUpdateTimer),Object(l.bindScore)(w.score)):setTimeout((function(){window.clearTimeout(w.scoreUpdateTimer),Object(l.bindScore)(w.score)}))}));case 20:case"end":return _.stop()}}),_callee,this)})));return function init(){return n.apply(this,arguments)}}();try{y()}catch(e){Object(p.logError)("renderMixedSpecimenImagesAndQuestion init",e)}}}},"./src/ui/screens/progress/history.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderHistory",(function(){return i}));var r=t("./src/redux/store.js"),a=t("./src/ui/screens/lists/lesson-list.js"),i=function renderHistory(e){r.store.getState().collection;Object(a.renderLessons)()}},"./src/ui/screens/progress/score-summary-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"getLessonScores",(function(){return i})),t.d(n,"scoreSummaryHandler",(function(){return s}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/utils/utils.js");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var i=function getLessonScores(e,n,t,a){if(!e)return[t];var i=r.contains(t.binomial,e.scores.map((function(e){return e.binomial})));return n.isNextRound?i||0===t.total?e.scores:[].concat(_toConsumableArray(e.scores),[t]):i?e.scores:[].concat(_toConsumableArray(e.scores),[t])},s={getLessonScores:i,getSummaryRows:function getSummaryRows(e){return e=e.map((function(e,n){return _objectSpread(_objectSpread({},e),{},{id:"".concat(n).concat(a.utils.toCamelCase(e.binomial)),question:e.question.term?e.question.term:e.question,answers:e.answers.map((function(n){return function getAnswer(e,n){var t="object"===_typeof(e),r=t?e.value||e.term:e,i=t&&!!e.url,s=t?e.url:"",o=n.question.term||n.question,c=""!==r&&a.utils.parseToLowerCase(r)===a.utils.parseToLowerCase(o),l=!c&&a.utils.parseToLowerCase(r)===a.utils.parseToLowerCase(n.answer),u=t&&e.name||"";return{value:r,url:s,hasImage:i,isTrue:c,isWrongAnswer:l,name:u}}(n,e)}))})}))}}},"./src/ui/screens/progress/score-summary-no-row-template.html":function(e,n){e.exports='<div class="horizontal-evenly-spaced-block js-no-questions">\n    <span>You haven\'t answered any questions yet.</span>\n</div>'},"./src/ui/screens/progress/score-summary-row-template.html":function(e,n){e.exports='<div class="score-summary-row species">\n    <div></div>\n    <div>\n        <div></div>\n        <div>\n            <span>{{ vernacularName }}</span>\n            <span class="latin">{{ binomial }}</span>\n        </div>                \n    </div>\n    <div>{{ score }}</div>\n</div>\n\n    <div data-repeat-row="{{ rows }}">\n\n    <div class="collapsed score-summary-row header" data-toggle="collapse" data-target="#{{ row.id }}" aria-expanded="false" aria-controls="{{ row.id }}">  \n        <div data-is-true="{{ row.success }}">\n            <i class="fas fa-check"></i>\n            <i class="fas fa-times"></i>\n        </div>\n        <div>\n            <div class="binomial">{{ row.statement }}</div>\n            <div>{{ row.questionText }}</div>\n        </div>\n        <div>\n            <i class="fas fa-chevron-down"></i>\n        </div>\n    </div>\n    \n    <div id="{{ row.id }}" class="collapse score-summary-row in-columns" data-repeat-answer="{{ row.answers }}" data-parent="#accordion">  \n        <div data-question="{{ ^.row.question }}">\n            <div>                    \n            </div>\n            <div data-is-true="{{ answer.isTrue }}" data-is-wrong-answer="{{ answer.isWrongAnswer }}">\n                <div>\n                    <img data-has-image="{{ answer.hasImage }}" src="{{ answer.url }}" alt="{{ answer.value }}">\n                </div>\n                <div>\n                    <span>{{ answer.value }}</span><span class="hide-empty margin-left">{{ answer.name }}</span>\n                </div>\n                <div></div>\n            </div>\n            <div></div>\n        </div>\n    </div>\n\n</div>'},"./src/ui/screens/progress/score-summary-template.html":function(e,n){e.exports='<div class="snapdragon-container score-summary-container js-test-card-container">\n    <div class="js-summary-card">\n        <div class="test-card-question standard-block centred-block js-test-card-question">            \n            <div class="question question-txt ">\n                    <div>\n                        <span class="hide-empty question-question js-question-question">Quiz progress</span>\n                        <span class="hide-empty question-statement"></span>\n                    </div>\n                </div>\n        </div>\n        <div id="accordion" class="score-summary scrollable review-summary">\n            <div class="score-summary-row-title">\n                <div>\n                    <div class="double-centred-block">\n                        <span class="uppercase">{{ collection.name }}</span>\n                    </div>\n                    <div class="double-centred-block">\n                        <span>Round {{ lesson.currentRound }} of {{ lesson.rounds }}</span>\n                    </div>                \n                </div>\n            </div>\n            <div class="score-summary-footer running-block centred-block">\n                <button class="btn snap-btn fit-width js-continue-link">Continue lesson</button>\n            </div>\n            <div class="js-score-summary-rows"></div>\n            <div class="score-summary-footer running-block centred-block">\n                <button class="btn snap-btn fit-width js-continue-link">Continue lesson</button>\n            </div>\n        </div>    \n    </div>\n</div>\n'},"./src/ui/screens/progress/score-summary.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderScoreSummary",(function(){return v}));var r=t("./src/ui/helpers/enum-helper.js"),a=t("./src/ui/helpers/data-checking.js"),i=t("./src/redux/store.js"),s=t("./src/ui/dom.js"),o=t("./src/ui/helpers/templating.js"),c=t("./src/ui/screens/lists/lesson-state-handler.js"),l=t("./src/ui/screens/lists/lesson-state-helper.js"),u=t("./src/ui/screens/progress/score-summary-handler.js"),d=t("./src/ui/screens/progress/score-summary-template.html"),m=t.n(d),p=t("./src/ui/screens/progress/score-summary-row-template.html"),f=t.n(p),g=t("./src/ui/screens/progress/score-summary-no-row-template.html"),h=t.n(g);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function _next(e){asyncGeneratorStep(i,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,a,_next,_throw,"throw",e)}_next(void 0)}))}}var v=function renderScoreSummary(e,n){!function init(){var t=i.store.getState(),a=t.lessons,d=t.score,p=t.userAction,f=a.length>0&&a.find((function(n){return n.collection.id===parseInt(e)}))?a.find((function(n){return n.collection.id===parseInt(e)})):i.store.getState(),g=f.collection,h=f.history,v=f.config,y=f.score,x=i.store.getState().lesson;if(!l.lessonStateHelper.overrideLesson(p,v)){var j=document.createElement("template");j.innerHTML=m.a;var k=v.isLandscapeMode?n||document.querySelector("#lessonModal .js-modal-text"):s.DOM.rightBody;k.innerHTML="",Object(o.renderTemplate)({collection:g,lesson:x},j.content,k);var w=document.querySelectorAll(".js-continue-link");if(setTimeout((function(){w[0].focus()}),250),n&&w.forEach((function(e){return e.classList.add("snap-inactive")})),"summary"===x.layoutName)document.querySelector(".js-review-progress").innerHTML="";var S=u.scoreSummaryHandler.getLessonScores(h,x,d,y).reverse();S.forEach((function(e){return b(S,e,v)}));var _=function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function _callee(n){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),c.lessonStateHandler.changeRequest({requestType:r.enums.lessonState.NEXT_ROUND,requestArgs:{id:e,lesson:_objectSpread(_objectSpread({},x),{},{isNextRound:!0})}});case 2:case"end":return t.stop()}}),_callee,this)})));return function handleContinueLesson(e){return n.apply(this,arguments)}}(),T=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(e){return regeneratorRuntime.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.lessonStateHelper.purgeLesson();case 2:case"end":return e.stop()}}),_callee2,this)})));return function handleNewLesson(n){return e.apply(this,arguments)}}();x.isLessonComplete?w.forEach((function(e){e.innerHTML="START NEW LESSON",e.addEventListener("click",T,{once:!0})})):w.forEach((function(e){e.addEventListener("click",_,{once:!0})})),window.addEventListener("keydown",(function(e){"Enter"===e.key&&_(e)}),{once:!0})}}()},b=function renderScoreSummaryRow(e,n,t){var r=document.createElement("template");r.innerHTML=f.a;var i=document.querySelector(".js-score-summary-rows");if(0===n.total)return i.innerHTML="",r.innerHTML=h.a,void Object(o.renderTemplate)({},r.content,i);var s=[].concat(_toConsumableArray(n.passes),_toConsumableArray(n.fails));s=u.scoreSummaryHandler.getSummaryRows(s);var c=n.vernacularName||a.itemProperties.getVernacularName(n.binomial,t);if(Object(o.renderTemplate)({vernacularName:c,binomial:n.binomial,rows:s,score:"".concat(n.correct,"/").concat(n.total)},r.content,i),e.length>0){var l=i.querySelector(".js-no-questions");l&&(l.innerHTML="")}}},"./src/ui/screens/progress/summary.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderSummary",(function(){return s}));var r=t("./src/redux/subscriptions.js"),a=t("./src/redux/store.js"),i=t("./src/ui/screens/progress/score-summary.js"),s=function renderSummary(e){r.subscription.remove(r.subscription.getByName("renderSummary"));var n=a.store.getState().collection;Object(i.renderScoreSummary)(n.id)}},"./src/ui/screens/text-entry/species-text-entry.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderTextEntry",(function(){return i}));var r=t("./src/redux/store.js"),a=t("./src/ui/screens/text-entry/text-entry.js"),i=function renderTextEntry(e){var n=r.store.getState().layout.screens.filter((function(e){return"text-entry"===e.name}))[0],t=e.nextItem;if(n){t.vernacular=t.vernacularName;var i="name"===n.taxon?t.name:"vernacular"===n.taxon?t.vernacularName:t.taxonomy[n.taxon],s={binomial:t.name,species:t.taxonomy.species,genus:t.taxonomy.genus,taxon:n.taxon,question:i,common:t.vernacularName};Object(a.renderInput)(n,s)}}},"./src/ui/screens/text-entry/text-complete-template.html":function(e,n){e.exports='<div class="centred-block standard-block">\n    <button class="btn snap-icon-btn block">\n      <span class="given genus">{{ genus }}</span>\n    </button>\n    <button class="btn snap-icon-btn block">\n      <span class="species">{{ species }}</span>\n    </button>\n</div>\n<div class="text-complete-container">\n    <div class="margin-bottom landscape">Click to select the correct name:</div>\n    <div class="margin-bottom portrait">Tap to select the correct name:</div>\n    <div class="pool js-pool" data-repeat-answer="{{ answers }}">    \n        <button type="submit" class="btn snap-icon-btn block">\n            <span>{{ answer.value }}</span>\n        </button>\n    </div>\n</div>'},"./src/ui/screens/text-entry/text-complete.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderCompleteText",(function(){return d}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/utils/utils.js"),i=t("./src/redux/store.js"),s=t("./src/ui/helpers/templating.js"),o=t("./src/ui/helpers/score-handler.js"),c=t("./src/ui/screens/cards/test-card.js"),l=t("./src/ui/screens/text-entry/text-complete-template.html"),u=t.n(l),d=function renderCompleteText(e){var n=e.nextItem,t=i.store.getState(),l=t.layout,d=t.config,m=t.lessonPlan,p=l.screens.filter((function(e){return"text-complete"===e.name}))[0];if(p){var f,g,h,v,b,y,x;switch(b=n.vernacularName,y=n.name,x="Complete the latin name",p.type){case"text-complete-genus":f=n.taxonomy.genus,g="---",h=n.taxonomy.species,y="--- ".concat(n.taxonomy.species),v="genus",x="Select genus name";break;case"text-complete-species":f=n.taxonomy.species,g=n.taxonomy.genus,h="---",y="".concat(n.taxonomy.genus," ---"),v="species",x="Select species name"}var j=Object(c.renderTestCardTemplate)(e,{vernacularName:b,binomial:y,question:x,help:"(Select the name below.)",term:""}),k=document.createElement("template");k.innerHTML=u.a;var w=d.isPortraitMode?4:5,S=e.items.map((function(e){switch(v){case"genus":return e.taxonomy.genus;case"species":return e.taxonomy.species;default:return e.name}})),_=r.take(w,a.utils.shuffleArray(S).filter(a.utils.onlyUnique).filter((function(e){return e!==n.taxonomy[v]}))).filter((function(e){return void 0!==e}));_.push(n.taxonomy[v]);var T=a.utils.shuffleArray(_);T=T.map((function(e,n){return{index:n,value:e}})),Object(s.renderTemplate)({genus:g,species:h,answers:T},k.content,j),setTimeout((function(){document.querySelectorAll(".pool .block")[0].focus()}),1e3);var L={itemId:n.id,binomial:n.name,question:n.taxonomy[v],callbackTime:d.callbackTime,layoutCount:m.layouts.length,points:l.points},q=function callback(e,n,t){var r=e.success?"answer-box-success":"answer-box-alert",a=e.success?'<span class="icon"><i class="fas fa-check"></i></span>':'<span class="icon"><i class="fas fa-times"></i></span>',i=e.success?"Correct":"Incorrect";document.querySelector(".js-txt-question").innerHTML='<div class="'.concat(r,'"><span>').concat(a,"</span><span>").concat(i,"</span</div>"),document.querySelectorAll(".block span").forEach((function(n){n.innerText===e.answer&&(e.success?n.parentElement.classList.add("snap-success"):n.parentElement.classList.add("snap-alert")),n.innerText===e.question&&n.parentElement.classList.add("snap-success")})),Object(o.continueLessonHandler)(document.querySelector(".js-continue-lesson-btn"),e,n)};document.querySelectorAll(".js-pool button").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.target.innerText;f===n.taxonomy.species?document.querySelector(".species").innerText=t:document.querySelector(".genus").innerText=t,L.answer=t,L.answers=T,L.questionText=x,Object(o.scoreHandler)("block",L,q,d)}))}))}}},"./src/ui/screens/text-entry/text-entry-portrait-templates.html":function(e,n){e.exports='<div class="js-test-card-container-images species-card-images"></div>\n<div class="text-entry">\n    <input class="js-txt-input" type="text" placeholder="Genus">\n</div>\n<div class="landscape help-txt binomial js-help-txt"></div>'},"./src/ui/screens/text-entry/text-entry-templates.html":function(e,n){e.exports='<div class="centred-block standard-block">\n    <input disabled class="js-txt-input" type="text" placeholder="Genus" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">        \n</div>\n<div>\n    <div class="help-txt binomial margin-left js-help-txt"></div>\n</div>\n<div class="text-entry-container">    \n    <div class="js-pool-letters pool margin-left margin-top margin-bottom"></div>\n    <div class="horizontal-buttons">\n        <button class="btn btn-tertiary js-toggle-keyboard">Enable keyboard</button>\n        <button class="btn btn-tertiary js-delete-letter">Delete last letter</button>\n        <button class="btn snap-action-btn js-check-answer">Check answer</button>\n    </div>    \n</div>'},"./src/ui/screens/text-entry/text-entry.js":function(e,n,t){"use strict";t.r(n),t.d(n,"renderInput",(function(){return f}));var r=t("./src/utils/utils.js"),a=t("./src/redux/store.js"),i=t("./src/ui/helpers/templating.js"),s=t("./src/ui/helpers/score-handler.js"),o=t("./src/ui/helpers/image-handler.js"),c=t("./src/ui/screens/common/image-slider.js"),l=t("./src/ui/screens/cards/test-card.js"),u=(t("./src/ui/fixtures/navigation.js"),t("./src/ui/screens/text-entry/text-entry-templates.html")),d=t.n(u),m=t("./src/ui/screens/text-entry/text-entry-portrait-templates.html"),p=t.n(m);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,n){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,n)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var f=function renderInput(e,n){var t,o,c,u=a.store.getState(),m=u.lessonPlan,f=u.collection,v=u.config,b=u.layout,y=f.nextItem;switch(c="Complete the latin name",n.taxon){case"genus":t=y.vernacularName,o=o="--- ".concat(n.species),c="Enter the genus name";break;case"species":t=y.vernacularName,o=o="".concat(n.genus," ---"),c="Enter the species name";break;case"name":t=y.vernacularName,o=o="--- ---",c="Enter full latin name";break;case"vernacular":t="--- ---",o=y.name,c="Enter the common name"}var x=v.isLandscapeMode?"(Complete the name below.)":"(Scroll to see more images.)",j=Object(l.renderTestCardTemplate)(f,{vernacularName:t,binomial:o,question:c,help:x,term:""}),k=document.createElement("template");k.innerHTML=v.isLandscapeMode?d.a:p.a,Object(i.renderTemplate)({},k.content,j);var w=document.querySelector(".js-txt-input"),S=document.querySelector(".js-help-txt");switch(n.taxon){case"genus":w.setAttribute("placeholder","Enter genus name"),S.innerHTML="--- ".concat(n.species);break;case"species":w.setAttribute("placeholder","Enter species name"),S.innerHTML="".concat(r.utils.capitaliseFirst(n.genus)," ---");break;case"name":w.setAttribute("placeholder","Enter latin name"),S.innerHTML="--- ---";break;case"vernacular":w.setAttribute("placeholder","Enter common name"),S.innerHTML="-----"}var _={},T=document.querySelector(".js-check-answer"),L=function callback(e,n){_.scoreUpdateTimer=n,_.score=e};(v.isLandscapeMode&&T.addEventListener("click",(function scoreEventHandler(e){e.preventDefault();var t=document.querySelector(".js-txt-input").value,r={itemId:y.id,question:n,answer:t,target:e.target,layoutCount:m.layouts.length,points:b.points,names:y.vernacularNames,questionText:c,answers:[n.question,t]};Object(s.scoreHandler)("text",r,L,v),T&&(T.disabled=!0),document.querySelector(".js-continue-lesson-btn").disabled=!1,S&&(S.innerHTML="vernacular"===n.taxon?y.vernacularName:y.name)}),{once:!0}),v.isPortraitMode?g(y,v):h(y,v,n),document.querySelector(".js-continue-lesson-btn").addEventListener("click",(function(e){window.clearTimeout(_.scoreUpdateTimer),Object(s.bindScore)(_.score)}),{once:!0}),v.isPortraitMode)&&(document.querySelector(".js-attribution-layer").classList.add("hide-important"),document.querySelector(".js-carousel-indicators").classList.add("hide-important"))},g=function renderPortrait(e,n){var t=Object(o.prepImagesForCarousel)(e,n,o.imageUseCases.TEXT_ENTRY),r=document.querySelector(".js-test-card-container-images");Object(c.imageSlider)({config:n,images:t,parent:r})},h=function renderLandscape(e,n,t){var a,i=t[t.taxon];switch(t.taxon){case"vernacular":a=e.vernacularName.toLowerCase(),i=t.common;break;case"genus":a=e.taxonomy.genus.toLowerCase();break;case"species":a=e.taxonomy.species.toLowerCase();break;case"binomial":case"name":a=e.name.toLowerCase(),i=t.binomial}var s="";r.utils.shuffleArray(Array.from(a)).forEach((function(e,n){" "===e&&(e="&nbsp;"),s+='<span id="'.concat(n,'" class="block">').concat(e,"</span>")})),document.querySelector(".js-pool-letters").innerHTML=s;var o=document.querySelector(".js-txt-input"),c=[],l=function deleteLetter(e){var n=document.querySelector(".js-txt-input").value,t=Array.from(document.querySelectorAll(".block.active")),r=Array.from(n),a=t.find((function(e){return e.innerText.trim()===r[r.length-1].trim()})),i=e||a;if(n.length>0){var s=n.lastIndexOf(i.innerHTML),l="",u=Array.from(n);u.splice(s,1),u.forEach((function(e){return l+=e})),o.value=l}var d=Array.from(document.querySelectorAll(".correct"));d.forEach((function(e){return e.classList.remove("correct")})),d.forEach((function(e){return e.classList.add("active")})),i&&(i.classList.remove("active"),c.forEach((function(e){if(e.id===i.id){var n=c.indexOf(e);n>-1&&c.splice(n,1)}})))},u=document.querySelectorAll(".block");u.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.classList.contains("active")?l(n):(n.classList.add("active"),c.push(n),"&nbsp;"===n.innerHTML?o.value+=" ":o.value+=n.innerHTML),o.value===i.toLowerCase()&&u.forEach((function(e){return e.classList.add("correct")}))}))})),document.querySelector(".js-delete-letter").addEventListener("click",(function(e){e.preventDefault(),l()}));var d=document.querySelector(".js-toggle-keyboard");d.addEventListener("click",(function(e){e.preventDefault(),o.hasAttribute("disabled")?(d.innerHTML="Enable letters",o.removeAttribute("disabled"),o.focus()):(d.innerHTML="Enable keyboard",o.setAttribute("disabled","disabled"))})),setTimeout((function(){d.focus()}),500);var m,p=_toConsumableArray(u),f=[];o.addEventListener("input",(function(e){if(e.preventDefault(),e.data){var n=e.data.toLowerCase();n=" "===n?"&nbsp;":n,f.push(n),(m=p.find((function(e){return e.innerHTML===n})))&&m.classList.add("active"),o.value===i.toLowerCase()&&p.forEach((function(e){return e.classList.add("correct")}))}})),o.addEventListener("keyup",(function(e){if(e.preventDefault(),8===e.keyCode){var n=f.pop();(m=p.find((function(e){return e.innerHTML===n})))&&m.classList.remove("active")}}))}},"./src/ui/setup/next-item.js":function(e,n,t){"use strict";t.r(n),t.d(n,"nextItem",(function(){return s}));var r=t("./src/redux/store.js"),a=t("./src/ui/helpers/enum-helper.js"),i=t("./src/ui/setup/setup-handler.js"),s=function nextItem(e){var n=r.store.getState(),t={layout:e,counter:n.counter,lessonPlan:n.lessonPlan,config:n.config,lesson:n.lesson,collection:n.collection};i.setupHandler.isRequired(a.enums.nextStep.NEXT_ITEM,t)&&i.setupHandler.actionUpdate(a.enums.nextStep.NEXT_ITEM,{layout:e})}},"./src/ui/setup/next-layout.js":function(e,n,t){"use strict";t.r(n),t.d(n,"nextLayout",(function(){return s}));var r=t("./src/redux/store.js"),a=t("./src/ui/helpers/enum-helper.js"),i=t("./src/ui/setup/setup-handler.js"),s=function nextLayout(e){var n=r.store.getState(),t=n.layout,s=n.lessonPlan,o=n.config,c={layout:t,counter:e,lessonPlan:s,config:o,lesson:n.lesson,collection:n.collection};if(i.setupHandler.isRequired(a.enums.nextStep.NEXT_LAYOUT,c)){var l=s.layouts[e.index];i.setupHandler.actionUpdate(a.enums.nextStep.NEXT_LAYOUT,{layout:l,config:o})}}},"./src/ui/setup/next-lesson.js":function(e,n,t){"use strict";t.r(n),t.d(n,"nextLesson",(function(){return l}));var r=t("./node_modules/ramda/es/index.js"),a=t("./src/redux/store.js"),i=t("./src/snapdragon-engine/lesson-planner.js"),s=t("./src/snapdragon-config/lesson-plans.js"),o=t("./src/ui/helpers/enum-helper.js"),c=t("./src/ui/setup/setup-handler.js"),l=function nextLesson(e){var n=a.store.getState(),t=n.layout,l=n.config,u=n.lesson,d=n.collection,m={layout:t,counter:e,config:l,lesson:u,collection:d};if(c.setupHandler.isRequired(o.enums.nextStep.NEXT_LESSON,m)){var p=l.isPortraitMode?d.lessonPlanPortrait:d.lessonPlanLandscape,f=r.clone(s.lessonPlans.find((function(e){return e.id===p&&e.portrait===l.isPortraitMode})));if(m.lessonPlan=f,c.setupHandler.isRequired(o.enums.nextStep.NEXT_ROUND,m)){var g=i.lessonPlanner.createLessonPlan(f,l,r.clone(d),r.clone(u)).then((function(e){if(e)return{lessonPlan:e.updatedLessonPlan,collection:e.updatedCollection,lesson:e.updatedLesson}}));if(null===g)return;c.setupHandler.actionUpdate(o.enums.nextStep.NEXT_LESSON,{asyncFunc:g})}}}},"./src/ui/setup/setup-handler.js":function(e,n,t){"use strict";t.r(n),t.d(n,"setupHandler",(function(){return o}));var r=t("./src/redux/subscriptions.js"),a=t("./src/redux/actions/action-creators.js"),i=t("./src/ui/helpers/enum-helper.js"),s=t("./src/ui/screens/lists/lesson-state-handler.js"),o={isRequired:function isRequired(e,n){var t=n.layout,r=n.counter,a=n.lessonPlan,s=n.config,o=n.lesson,c=n.collection,l=!1;switch(e){case i.enums.nextStep.NEXT_ITEM:l=t&&!t.bonus;break;case i.enums.nextStep.NEXT_LAYOUT:l=!r.isLessonPaused&&((l=a&&a.layouts)&&null!==a.layouts[r.index]);break;case i.enums.nextStep.NEXT_LESSON:l=s.collection.id>0&&!r.isLessonPaused||s.collection.id>0&&s.collection.id!==c.id;break;case i.enums.nextStep.NEXT_ROUND:l=0===r.index&&o.isNextRound&&c.items&&c.items.length>0}return l},actionUpdate:function actionUpdate(e,n){var t=n.layout,o=n.config,c=n.asyncFunc;switch(e){case i.enums.nextStep.NEXT_ITEM:a.actions.boundNextItem(t.itemIndex);break;case i.enums.nextStep.NEXT_LAYOUT:a.actions.boundNextLayout(t),r.subscription.addSubs(t,o),s.lessonStateHandler.changeRequest({requestType:i.enums.lessonState.SAVE_LESSON_PROGRESS});break;case i.enums.nextStep.NEXT_LESSON:a.actions.boundNextLesson(c)}}}}});
//# sourceMappingURL=app.bundle.js.map