!function(t){function webpackJsonpCallback(a){for(var c,l,u=a[0],p=a[1],m=a[2],h=0,g=[];h<u.length;h++)l=u[h],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&g.push(i[l][0]),i[l]=0;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(t[c]=p[c]);for(d&&d(a);g.length;)g.shift()();return o.push.apply(o,m||[]),checkDeferredModules()}function checkDeferredModules(){for(var t,a=0;a<o.length;a++){for(var c=o[a],l=!0,u=1;u<c.length;u++){var d=c[u];0!==i[d]&&(l=!1)}l&&(o.splice(a--,1),t=__webpack_require__(__webpack_require__.s=c[0]))}return t}var a={},i={0:0,1:0},o=[];function __webpack_require__(i){if(a[i])return a[i].exports;var o=a[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}__webpack_require__.m=t,__webpack_require__.c=a,__webpack_require__.d=function(t,a,i){__webpack_require__.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:i})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,a){if(1&a&&(t=__webpack_require__(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var o in t)__webpack_require__.d(i,o,function(a){return t[a]}.bind(null,o));return i},__webpack_require__.n=function(t){var a=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(a,"a",a),a},__webpack_require__.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},__webpack_require__.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=webpackJsonpCallback,c=c.slice();for(var u=0;u<c.length;u++)webpackJsonpCallback(c[u]);var d=l;o.push([468,2]),checkDeferredModules()}({1:function(t,a,i){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}i.r(a),i.d(a,"utils",(function(){return u})),Array.prototype.concatAll=function(){var t=[];return this.forEach((function(a){a.forEach((function(a){t.push(a)}))})),t};var o=function timer(t,a){var i=null;return Bacon.fromBinder((function(){i=setInterval((function(){t()}),a)})).onValue((function(t){})),i};var c=function shuffleArray(t){if(t&&0!==t.length){for(var a,i,o=t.length;0!==o;)i=Math.floor(Math.random()*o),a=t[o-=1],t[o]=t[i],t[i]=a;return _toConsumableArray(t)}},l=function getCellValue(t,a,i,o){var c=t.children;return o||(c=_toConsumableArray(t.children).filter((function(t){return-1===_toConsumableArray(t.classList).join("").indexOf("wide-screen")}))),c[a].dataset.snapIndex||c[a].querySelector("button")&&c[a].querySelector("button").dataset.vernacularName||c[a].querySelector("button")&&c[a].querySelector("button").dataset.name||c[a].children[i].innerText||c[a].innerText||c[a].classList[0]||c[a].textContent},u={encodeQuery:function encodeQuery(t){return void 0===t||Number.isInteger(t)?t:encodeURIComponent(t.trim())},timer:o,shuffleArray:c,randomiseSelection:function randomiseSelection(t,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function r(o){var l=c(t);return(o=o.concat(l.map((function(t,c){if(c+o.length<a)return i?--t:t}))).filter((function(t){return void 0!==t}))).length<a?r(o):o};return o([])},onlyUnique:function onlyUnique(t,a,i){return i.indexOf(t)===a},sortBy:function sortBy(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";return"asc"===i?t.sort((function(t,i){return parseFloat(t[a])-parseFloat(i[a])})):t.sort((function(t,i){return parseFloat(i[a])-parseFloat(t[a])}))},sortAlphabeticallyBy:function sortAlphabeticallyBy(t,a){return t.sort((function(t,i){return t[a]<i[a]?-1:t[a]>i[a]?1:0})),t},calcItemIndex:function calcItemIndex(t,a,i){return(t+i)%a==0?t:t+(t+i)%a},capitaliseFirst:function capitaliseFirst(t){return t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()},capitaliseAll:function capitaliseAll(t){return t.toLowerCase().split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.substring(1)})).join(" ")},makeSortable:function makeSortable(t,a,i){Array.from(t.querySelectorAll("th > span")).forEach((function(t){t.addEventListener("click",(function(){var t="ORDER"===this.innerText.toUpperCase()?1:0,o=[],c=this.parentElement;if("not-sortable"!==c.classList[0]){var u=c.closest("table"),d=u.querySelector("tbody"),p=u.querySelector("tfoot");snapLog('Array.from(tbody.querySelectorAll("tr")): ',Array.from(d.querySelectorAll("tr"))),Array.from(d.querySelectorAll("tr")).sort(function comparer(t,a,i,o){return function(c,u){return d=l(a?c:u,t,i,o),p=l(a?u:c,t,i,o),""===d||""===p||isNaN(d)||isNaN(p)?d.toString().localeCompare(p.toString()):d-p;var d,p}}(Array.from(c.parentNode.children).indexOf(c),this.asc=!this.asc,t,i)).forEach((function(t){t!==p&&(d.appendChild(t),o.push(t.cells[0].id))})),a(o)}}))}))},flatten:function flatten(t){return t.reduce((function(t,a){return t.concat(a)}),[])},getObservableMonths:function getObservableMonths(t){var a=function daysAway(a,i){var o=t,c="future"===a?1:-1;return o.setDate(o.getDate()+c*i),o},i=a("past",30).getMonth(),o=t.getMonth()+1,c=a("future",30).getMonth()+1,l=function getMonthName(t){return new Date(2e3,t,1).toLocaleString("en-uk",{month:"long"})},u=[{index:i,name:l(i)},{index:o,name:l(o)},{index:c,name:l(c)}];return u},getRandomInt:function getRandomInt(t){return Math.floor(Math.random()*Math.floor(t))},createSessionToken:function createSessionToken(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=16*Math.random()|0;return("x"==t?a:3&a|8).toString(16)}))},getRandomObjectProperty:function getRandomObjectProperty(t){if(0===Object.keys(t).length&&t.constructor===Object)return{};var a=Object.keys(t),i=a[Math.floor(Math.random()*a.length)];return{key:i,value:t[i]}},toCamelCase:function toCamelCase(t){if(void 0===t)return"";var a="";return t.split(" ").forEach((function(t,i){var o=t.toLowerCase();a+=0===i?o:o[0].toUpperCase()+o.slice(1)})),a},fromCamelCase:function fromCamelCase(t){return void 0===t?"":t.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase()},parseToLowerCase:function parseToLowerCase(t){return null==t?"":"object"===_typeof(t)?t:t?t.toLowerCase():""}}},104:function(t,a){t.exports='<figure> <figcaption class=hide>{{ title }}</figcaption> <audio controls src="{{ mp3 }}"> Your browser does not support the <code>audio</code> element. </audio> </figure>'},105:function(t,a){t.exports='<li> <div data-lesson-id="{{ lesson.id }}" class="relative lesson-list-carousel-item js-lesson-list-carousel-item"> <div class="landscape double-centred-block"> <img class=lesson-icon src="{{ lesson.icon }}" alt="{{ lesson.name }}"> </div> <div data-lesson-id="{{ lesson.id }}" class="lesson-list-item js-lesson-list-item" data-has-video="{{ lesson.hasVideo }}"> <div> <div class="lesson-name js-lesson-title" data-lesson-id="{{ lesson.id }}"> <span id="lesson_{{ lesson.id }}" class="lesson-title margin-right {{ lesson.isCollectionEditableClass }}">{{ lesson.name }}</span> </div> <div class=lesson-taxa data-lesson-id="{{ lesson.id }}">{{ lesson.taxa }}</div> <div class="latin hide-empty js-lesson-video-state" data-lesson-id="{{ lesson.id }}">{{ lesson.videoState }}</div> </div> <div data-lesson-id="{{ lesson.id }}" class="lesson-review js-lesson-review"> <div class=flex> <div class="centred-block fit-width margin-top"> <button data-toggle=modal data-target=#glossaryModal data-lesson-id="{{ lesson.id }}" data-lesson-id="{{ lesson.id }}" aria-label="vocab test for {{ lesson.name }} lesson" class="lesson-terms-review {{ lesson.hasTermsClass }} margin-right fit-width js-terms-review-link btn snap-btn smaller-text" data-toggle=modal data-target=#glossaryModal>Vocab test</button> </div> <div class="vertical-centred-block relative margin-top"> <button data-toggle=modal data-target=#lessonModal data-lesson-id="{{ lesson.id }}" aria-label="{{ lesson.name }} lesson quiz" class="landscape btn snap-btn smaller-text margin-right fit-width js-review-link">{{ lesson.reviewState }}</button> <button data-lesson-id="{{ lesson.id }}" aria-label="{{ lesson.name }} lesson quiz" class="portrait btn snap-btn smaller-text margin-right fit-width js-review-link">{{ lesson.reviewState }}</button> <span data-lesson-id="{{ lesson.id }}" class="hide-important inline-progress-container js-review"> <span class=absolute>&nbsp;</span> </span> <span data-lesson-id="{{ lesson.id }}" class="hide margin-right js-loading-review-message"> <span><i class="fas fa-sync slow-spin"></i></span> </span> </div> </div> </div> </div> <div class="lesson-list-action-icons js-lesson-list-action-icons"> <div class=""> <button data-lesson-id="{{ lesson.id }}" data-lesson-is-youtube-icon=true class="snap-icon-btn fit-width js-lesson-list-youtube" aria-label="play video for the lesson {{ lesson.name }}"> <i class="fab fa-youtube youtube-icon {{ lesson.hideVideoClass }}"></i> <i class="fas fa-glasses youtube-icon {{ lesson.hideTextIntroClass }}"></i> </button> <button data-lesson-id="{{ lesson.id }}" class="landscape snap-icon-btn fit-width js-lesson-list-chevron" aria-label="species list for the lesson {{ lesson.name }}"> <i class="fas fa-chevron-down"></i> </button> </div> </div> </div> <div data-container-id="{{ lesson.id }}" class="species-container js-species-container"></div> </li>'},106:function(t,a){t.exports='<div class="standard-block border-bottom double-centred-block"></div> <div class=tiles-container> <div class="squares js-tiles" data-repeat-image="{{ images }}"> <div> <img class=square src="{{ image.medium }}" data-toggle=modal data-target=#imageModal data-item-name="{{ image.itemName }}" data-url="{{ image.url }}"/> </div> </div> </div> <div class=lesson-companion> </div>'},137:function(t,a){t.exports='<div id="imageSlider_{{ identifier }}" class="imageSlider carousel slide" data-ride=carousel data-interval=false> <div class="carousel-inner js-carousel-inner"> <div data-repeat-image="{{ images }}"> <div class="carousel-item image-slider-190"> <img role=button src="{{ image.medium }}" data-title="{{ image.itemName }}" data-source="{{ image.source }}" data-license="{{ image.license }}" data-rights-holder="{{ image.rightsHolder }}" data-photographers-name="{{ image.photographersName }}" data-url="{{ image.url }}" data-provider="{{ image.provider }}" data-item-name="{{ image.itemName }}" data-index="{{ image.index }}" alt="Give {{ image.itemName }} as your answer"> </div> </div> <div> <div class="attribution-layer js-attribution-layer {{ identifier }}"></div> <ol class="carousel-indicators js-carousel-indicators" data-repeat-image="{{ images }}"> <li data-target=#carouselExampleIndicators data-slide-to="{{ image.index }}"></li> </ol> </div> </div> <a class=carousel-control-prev href="#imageSlider_{{ identifier }}" role=button data-slide=prev data-slider="#imageSlider_{{ identifier }}"> <button class="btn snap-icon-btn carousel-control-prev-icon" data-slider="#imageSlider_{{ identifier }}"></button> <button class=sr-only>Previous</button> </a> <div class=carousel-control-next href="#imageSlider_{{ identifier }}" role=button data-slide=next data-slider="#imageSlider_{{ identifier }}"> <button class="btn snap-icon-btn carousel-control-next-icon" data-slider="#imageSlider_{{ identifier }}"></button> <button class=sr-only>Next</button> </div> <div class="description_{{ identifier }} image-description"></div> <div class=double-centred-block></div> </div>'},180:function(t,a){t.exports='<div class=attribution-layer> <div class="rights-link js-rights-link"> <div class="rights-link-copyright double-centred-block js-copyright"> <i class="fas fa-copyright"></i> </div> <div></div> <div class="rights-link-copyright double-centred-block"> <a href="{{ large }}" target=_blank> <span class=sr-only>Opens in new window</span> <i class="fas fa-external-link-alt"></i> </a> </div> </div> <div class="rights-attribution hide-important js-rights-attribution"> <div class="rights-link-copyright double-centred-block js-copyright"> <i class="fas fa-copyright"></i> </div> <div class=double-centred-block> <a href="{{ source }}" target=_blank> <span class=centred-block> <span class=sr-only>Opens in new window</span> <span class="underline-link half-margin-right">{{ author }}</span> <i class="super active-icon fas fa-external-link-alt"></i> </span> </a> </div> </div> </div>'},181:function(t,a){t.exports='<span class="feature-label js-compare-species-label"></span> <span title="Lookalike species" class="landscape compare-species-link js-compare-species-link" data-toggle=modal data-target=#imageComparisonModal data-slides="{{ slides }}"> <i class="fas fa-clone"></i> </span> <span title="Lookalike species" class="portrait compare-species-link js-compare-species-link"> <i class="fas fa-clone"></i> </span>'},182:function(t,a){t.exports='<div class=js-relationship-card-list data-repeat-lookalike="{{ lookalikes }}"> <div class=lookalike-card> <div>{{ lookalike.species }}</div> <div>{{ lookalike.speciesDescription }}</div> <div class=js-test-card-container-link> <span data-toggle="{{ lookalike.modal }}" data-target=#cardModal class="{{ lookalike.className }}" id="{{ lookalike.lookalike }}">{{ lookalike.lookalike }}</span> </div> <div>{{ lookalike.lookalikeDescription }}</div> </div> </div> '},183:function(t,a){t.exports=' <div class=js-relationship-card-list data-repeat-relationship="{{ relationships }}"> <div class=relationship-card> <div class=cols> <div>Relationship</div><div>{{ relationship.type }}</div> </div> <div class=cols> <div class=js-test-card-container-link> <span data-toggle="{{ relationship.modal }}" data-target=#cardModal class="{{ relationship.className }}" id="{{ relationship.speciesA }}">{{ relationship.speciesA }}</span> </div> <div class=capitalise>{{ relationship.speciesARole }}</div> </div> <div class=cols> <div>{{ relationship.speciesB }}</div><div class=capitalise>{{ relationship.speciesBRole }}</div> </div> <div>{{ relationship.description }}</div> </div> </div>'},184:function(t,a){t.exports="<div class=id-box> <div>{{ id }}</div> </div>"},185:function(t,a){t.exports='<div data-repeat-detail="{{ details }}"> <dl class=info_detail> <dt>{{ detail.term }}</dt> <dd><img class="{{ detail.imgClassName }}" src="{{ detail.img.url }}" alt=""></dd> <dd>{{ detail.definition }}</dd> </dl> </div>'},186:function(t,a){t.exports='<div id="traitSlider{{ id }}" class="info carousel slide" data-ride=false data-interval=false> <div class=carousel-inner data-repeat-trait="{{ traits }}"> <dl class=carousel-item> <div> <dt>{{ trait.name }}</dt> <dd>{{ trait.value }} {{ trait.unit }}</dd> </div> <div class=hide-important>{{ trait.description }}</div> </dl> </div> <a class="carousel-control carousel-control-prev" href="#traitSlider{{ id }}" role=button data-slide=prev> <button class=carousel-control-prev-icon aria-hidden=true></button> <button class=sr-only>Previous</button> </a> <a class="carousel-control carousel-control-next" href="#traitSlider{{ id }}" role=button data-slide=next> <button class=carousel-control-next-icon aria-hidden=true></button> <button class=sr-only>Next </button></a> </div>'},187:function(t,a){t.exports='<div class=data-box> <div> <span class=js-world>Worldwide</span><span class=js-taxon-count>---</span> </div> <div> <span class=js-place>Location</span><span class=js-place-taxon-count>---</span> </div> <div> <span><a target=_blank href="" class="underline-link js-taxon-link underline-link-left-margin">iNat</a></span> <span class=js-test-card-container-wiki></span> <span><a class="species-card-eol-link js-test-card-container-eol-link underline-link">EOL</a></span> </div> </div>'},188:function(t,a){t.exports='<div class=calendar-box> <div data-repeat-row="{{ data }}" class=""> <div class=col data-repeat-value="{{ row }}"> <div title="{{ value.count }}" class="{{ value.class }}">{{ value.month }}</div> </div> </div> </div>'},189:function(t,a){t.exports='<span> <span class="uppercase small-text js-native-container"></span> <span class=rank>{{ trait }}</span> <span class="lookalikes js-lookalikes"></span> <span class="badge badge-light js-subspecies-badge" data-toggle=modal data-target=#badgeListModal>{{ subSpeciesCount }}</span> <span class=sr-only>species of this family in the collection</span> </span> <span class=hide-empty>{{ familyVernacularName }}</span> <span class="latin hide-empty">{{ familyName }}</span> '},190:function(t,a){t.exports='<ul data-repeat-language="{{ languageNames }}" class="scrollable badge-list"> <li class=capitalise> <div class="margin-top uppercase">{{ language.name }}</div> <ul data-repeat-common="{{ language.names }}"> <li>{{ common }}</li> </ul> </li> </ul>'},191:function(t,a){t.exports='<div class="snapdragon-container test-card-container js-test-card-container"> <div class="card-card js-species-card"> <div id=card-header class=question-container> <div class="iconic-icon double-centred-block js-iconic-icon"> <i class=""></i> </div> <div class="hide-empty question-header"> <div> <div class="names-container vernacular-name-badge js-names-container"> <div> <span class=vernacular-name>{{ vernacularName }}</span> </div> <div> <span class=binomial>{{ name }}</span> <span class=js-names-badge></span> <span class="portrait bird-song-icon-disabled js-bird-song-player" data-src=player data-toggle=modal data-target=#basicModal> <i class="fas fa-music"></i> </span> </div> </div> </div> </div> <div class=card-link-container> <i class="disabled-icon far fa-arrow-alt-circle-right js-card-link"></i> </div> </div> <div class="data-box-container landscape"> <div class="calendar-container landscape"> <div class=js-calendar-box></div> </div> <div class="inat-box js-inat-box"></div> <div class="taxa-container landscape js-taxa-box"></div> </div> <div class="portrait-grid species-card-images carousel js-test-card-container-images"></div> <div class="mixed-content-container scrollable"> <div class="landscape bird-song"> <div class=hide-empty> <iframe class=js-bird-song src="" scrolling=no frameborder=0 width=80vw height=115> </iframe> </div> </div> <div class="card-txt-block lookalikes js-lookalikes"></div> <div class="js-info-box-details info-details"></div> </div> <div class="info-box js-info-box"></div> </div> </div>'},192:function(t,a){t.exports='<div class="snapdragon-container test-card-container"> <div class="taxon card-card js-taxon-card"> <div id=taxon-card-header class=question-container> <div class="iconic-icon double-centred-block js-iconic-icon"> <i class=""></i> </div> <div class="hide-empty question-header"> <div> <div class="names-container vernacular-name-badge js-names-container"> <div> <span>{{ vernacularName }}</span> </div> <div> <span class=binomial>{{ name }}</span> <span class="names-badge js-names-badge" data-toggle=modal data-target=#badgeListModal>{{ occurrences }}</span> </div> </div> </div> </div> <div class=card-link-container> <i class="disabled-icon far fa-arrow-alt-circle-right js-card-link"></i> </div> </div> <div class="data-box-container sub-header"> <div class=data-box> <div class="taxon-data js-taxon-rank"><span>Rank</span> <span>{{ rank }}</span></div> <div class=taxon-data><span>Species</span> <span>{{ species }}</span></div> <div class="taxon-data js-taxon-genus"><span>Genera</span> <span>{{ genera }}</span></div> <div class="taxon-data js-taxon-family"><span>Families</span> <span>{{ families }}</span></div> </div> <div class="landscape external-links js-external-links"> <div><a href="{{ eol }}" target=_blank class=underline-link>EOL</a><span> taxon home page</span> <span class=names-badge> <i class="super fas fa-external-link-alt"></i></span></div> <div><a href="{{ wiki }}" class=underline-link data-toggle=modal data-target=#wikiModal>Wikipedia page</a></div> </div> </div> <div class=mixed-content-container> <div class=centred-block> <div class=id-box-container> <div class=id-box> <div> </div> <div> <div class=taxon-identification>{{ identification }}</div> </div> </div> </div> <div class=taxon-summary> <div>{{ summary }}</div> </div> </div> </div> <div class="info-box js-taxon-info-box"></div> </div> </div>'},193:function(t,a){t.exports='<div class="snapdragon-container test-card-container js-test-card-container"> <div class="portrait-grid non-taxon-card-images carousel js-non-taxon-card-images"></div> <div class="card-card card non-taxon js-non-taxon-card"> <div id=taxon-card-header class=question-container> <div class="species-header js-species-header"> <img src="{{ image.small }}" alt=""> </div> <div class="hide-empty question-header"> <div> <div class="names-container js-names-container"> <div> Foliose </div> <div> </div> </div> </div> </div> <div class=card-link-container> <i class="disabled-icon far fa-arrow-alt-circle-right js-card-link"></i> </div> </div> <div class="non-taxa js-non-taxa"> <div class="btn-group btn-group-toggle" data-toggle=buttons data-repeat-taxon="{{ group }}"> <label class="btn btn-secondary" id="{{ taxon.id }}"> <input type=radio name=options id="{{ taxon.id }}" autocomplete=off checked=checked> {{ taxon.id }} </label> </div> </div> <div class=definitions> <div class="non-taxa-definition js-non-taxa-definition"> <div></div> </div> <div class=non-taxa-definition> <div class=id-box> <div> <div class=landscape></div> <div class=portrait></div> </div> <div> <div></div> </div> </div> </div> <div class="landscape species-card-wiki"> <span class="non-taxon-card-wiki js-non-taxon-card-wiki"></span> </div> </div> </div> </div> '},194:function(t,a){t.exports='<table id="species_list_id_{{ id }}" class="species-table js-species-list" style=width:100%> <tbody data-repeat-item="{{ itemImages }}"> <tr class="table-row master js-list-item" id="id_{{ item.id }}"> <td id="{{ item.name }}" data-snap-index="{{ item.snapIndex }}"> <button class="btn snap-icon-btn double-centred-block"> <img id="{{ item.name }}" src="{{ item.small }}" alt="Open gallery to more photos of {{ item.name }}" data-toggle=modal data-item-name="{{ item.name }}" data-target=#imageModal data-id="{{ item.name }}" data-url="{{ item.url }}" data-rights-holder="{{ item.rightsHolder }}" data-title="{{ item.name }}" data-license="{{ item.license }}" data-source="{{ item.source }}" data-provider="{{ item.provider }}"> </button> </td> <td> <button data-toggle=modal data-name="{{ item.name }}" data-vernacular-name="{{ item.vernacularName }}" data-id="{{ item.id }}" data-type=speciesCardLink data-target=#cardModal class="snap-link-btn underline-link js-test-card-container-link">{{ item.vernacularName }}</button> <span class="no-underline-link latin-name"> <button data-toggle=modal data-name="{{ item.name }}" data-url="{{ item.url }}" data-rank=genus data-genus="{{ item.genus }}" data-target=#cardModal class="{{ item.genusLinkClass }}">{{ item.genus }}</button> <span>{{ item.species }}</span> </span> </td> <td class=wide-screen> <button data-toggle=modal data-name="{{ item.taxonomy.family }}" data-url="{{ item.url }}" data-rank=family data-family="{{ item.taxonomy.family }}" data-target=#cardModal class="no-underline-link {{ item.familyLinkClass }}">{{ item.taxonomy.family }}</button> <button data-toggle=modal data-name="{{ item.taxonomy.order }}" data-url="{{ item.url }}" data-rank=order data-order="{{ item.taxonomy.order }}" data-target=#cardModal class="no-underline-link {{ item.orderLinkClass }} js-order-link">{{ item.taxonomy.order }}</button> </td> <td class="{{ item.iconicTaxon }} {{ item.hasTaxonClassName }}"> <span id="{{ item.id }}" name="{{ item.name }}"><i class="{{ item.iconicTaxonIcon }}"></i></span> <span class="mushroom-icon {{ item.hideFungiIcon }}"></span> </td> <td class="{{ item.hasVideoClassName }}"> <button data-name="{{ item.name }}" class="snap-icon-btn fit-width js-youtube" aria-label="start video from the species {{ item.name }}"> <i class="fab fa-youtube youtube-icon" data-name="{{ item.name }}"></i> </button> </td> <td class="{{ item.hasVideoClassName }}"> <button data-name="{{ item.name }}" class="snap-icon-btn fit-width accordion-icon js-accordion" aria-label="video commentary for the species {{ item.name }}"> <i data-name="{{ item.name }}" class="fas fa-chevron-down"></i> </button> </td> </tr> </tbody> </table> <button class="btn snap-action-btn portrait btn-current-lesson-begin js-btn-current-lesson-begin">Quiz</button>'},195:function(t,a){t.exports='<div class="home-scrolling-container js-home-scrolling-container"> <div class="title standard-block double-centred-block">{{ video.title }}</div> <div class=video> <div style=min-height:1px></div> <iframe type=text/html id=embedded-video width=100% src="https://www.youtube.com/embed/{{ video.id }}?enablejsapi=1&playsinline=1&start={{ video.playAt }}" frameborder=0 allowfullscreen> </iframe> </div> <div class=scrollable> <div class="one-and-half-standard-block centred-block justify-space-between padding-left"> <div class=centred-block> <div class=margin-right> <img width=48px height=48px src="{{ video.src }}" alt=""> </div> <div class=vertical-centred-block> <div><span class="hide margin-right">Created by:</span><span class=emphasis>{{ video.presenter }}</span></div> <div><span class="hide margin-right">Location:</span><span class=font-size-small>{{ video.location }}</span></div> </div> </div> </div> </div> </div>'},196:function(t,a){t.exports="<div> <div>{{ note.tag }}</div> <div>{{ note.description }}</div> </div>"},197:function(t,a){t.exports='<div class="snapdragon-container score-summary-container js-test-card-container"> <div class=js-summary-card> <div class="test-card-question standard-block centred-block js-test-card-question"> <div class="question question-txt"> <div> <span class="hide-empty question-question js-question-question">Quiz progress</span> <span class="hide-empty question-statement"></span> </div> </div> </div> <div id=accordion class="score-summary scrollable review-summary"> <div class=score-summary-row-title> <div> <div class=double-centred-block> <span class=uppercase>{{ collection.name }}</span> </div> <div class=double-centred-block> <span>Round {{ lesson.currentRound }} of {{ lesson.rounds }}</span> </div> </div> </div> <div class="score-summary-footer running-block centred-block"> <button class="btn snap-btn fit-width js-continue-link">Continue lesson</button> </div> <div class=js-score-summary-rows></div> <div class="score-summary-footer running-block centred-block"> <button class="btn snap-btn fit-width js-continue-link">Continue lesson</button> </div> </div> </div> </div> '},198:function(t,a){t.exports='<div class="score-summary-row species"> <div></div> <div> <div></div> <div> <span>{{ vernacularName }}</span> <span class=latin>{{ binomial }}</span> </div> </div> <div>{{ score }}</div> </div> <div data-repeat-row="{{ rows }}"> <button class="btn snap-icon-btn collapsed score-summary-row header" type=button data-toggle=collapse data-target="#{{ row.id }}" aria-expanded=false aria-controls="{{ row.id }}"> <div data-is-true="{{ row.success }}"> <i class="fas fa-check"></i> <i class="fas fa-times"></i> </div> <div> <div class=binomial>{{ row.statement }}</div> <div>{{ row.questionText }}</div> </div> <div> <i class="fas fa-chevron-down"></i> </div> </button> <div id="{{ row.id }}" class="collapse score-summary-row in-columns" data-repeat-answer="{{ row.answers }}" data-parent=#accordion> <div data-question="{{ ^.row.question }}"> <div> </div> <div data-is-true="{{ answer.isTrue }}" data-is-wrong-answer="{{ answer.isWrongAnswer }}"> <div> <img data-has-image="{{ answer.hasImage }}" src="{{ answer.url }}" alt="{{ answer.value }}"> </div> <div> <span>{{ answer.value }}</span><span class="hide-empty margin-left">{{ answer.name }}</span> </div> <div></div> </div> <div></div> </div> </div> </div>'},199:function(t,a){t.exports='<div class="horizontal-evenly-spaced-block js-no-questions"> <span>You haven\'t answered any questions yet.</span> </div>'},200:function(t,a){t.exports='<div class="snapdragon-container test-card-container js-test-card-container"> <div class=js-test-card> <div id=test-card-header class=question-container> <div class="iconic-icon double-centred-block js-iconic-icon"> <i class=""></i> </div> <div class="hide-empty question-header"> <div> <div class="names-container {{ headerClassName }}"> <div> <h2 class=vernacular-name>{{ vernacularName }}</h2> <span class="hide-empty names-badge"></span> </div> <div> <h2 class=binomial>{{ binomial }}</h2> <span class="names-badge traits-count-badge js-traits-count-badge"></span> <h2 class="term-header hide-empty js-term-header">{{ term }}</h2> </div> </div> </div> </div> <div class=card-link-container> <i class="far fa-arrow-alt-circle-right js-card-link"></i> </div> </div> <form action=""> <fieldset> <div class="test-card-question standard-block centred-block js-test-card-question border-bottom"> <div class="question question-txt {{ className }}"> <div> <legend class="hide-empty question-question js-question-question">{{ question }}</legend> <legend class="hide-empty question-help js-question-help">{{ help }}</legend> <legend class="hide-empty question-statement js-statement-para">{{ statement }}</legend> <legend class="hide-empty margin-top question-provider-question js-question-para">{{ providerQuestion }}</legend> </div> </div> </div> <div class="test-card-content js-test-card-content scrollable"> </div> </fieldset> </form> <div class="text-question js-txt-question"></div> <div class=action-update-container> <div class=action-update> <button disabled=disabled class="btn snap-action-btn js-continue-lesson-btn">Continue lesson</button> </div> </div> </div> </div> <div class="swap-out-card js-species-container"></div> <div class="swap-out-card js-taxon-container"></div> <div class="swap-out-card js-summary-container"></div>'},201:function(t,a){t.exports='<div class=filter-language-option-block> <div class=filter-options> <div class=language-options> <div class=dropdown> <button class="btn smaller-text snap-btn dropdown-toggle" type=button id=taxonLanguageBtn data-toggle=dropdown aria-haspopup=true aria-expanded=false> Taxon language </button> <div class=dropdown-menu aria-labelledby=dropdownMenuButton data-repeat-language="{{ languages }}"> <a id="{{ language.lang }}" class=dropdown-item href=#>{{ language.name }}</a> </div> </div> </div> </div> <h2 class="half-standard-block centred-block">Common names will be shown in<span id=taxonLanguageTxt>English</span>.</h2> </div>'},202:function(t,a){t.exports='<menu> <ul class=custom-lesson-menu-options data-repeat-option="{{ options }}"> <li data-option="{{ option.id }}"> <button class="icon snap-icon-btn arrow-wrapper"><span class=small-text>{{ option.text }}</span><i class="far fa-arrow-alt-circle-right"></i></button> </li> </ul> </menu> <hr class="double-margin-top double-margin-bottom"> <div class=js-language-selection-container></div> <h3 class="standard-block centred-block js-persistence-warning"> <span><i class="fas fa-exclamation"></i> You are not currently logged in. Your collection will not be availble outside this browser.</span> </h3>'},203:function(t,a){t.exports='<div class=border-bottom> <div class="running-block vertical-centred-block location-option html5-location"> <div class=html5-location-place><button class="btn snap-action-btn js-set-location-btn"></button><span class=landscape></span></div> </div> <div class="standard-block location-option place bottom-aligned"> <form id=locationForm action=#> <div class=standard-block> <label for=#inat-place class=extra-small-text>Location</label> <input id=inat-place type=text placeholder="Or start typing the name of a place."> <input class=hide type=submit value=""> </div> </form> </div> <div class="location-option margin-top range"> <div class=range-slider> <div class=js-range></div> <div> <span class=range-limits>0km</span> <span class=margin-right style=width:100%><input class="set-range-input js-set-range-input" type=range min=0 max=250 value=10></span> <span class=range-limits> 250km</span> <span class="saved js-range-saved"></span> </div> </div> </div> </div> <div class=location-filter-options> <div> <div class=black-text>Species by season</div> <div class="season snap-switch margin-top margin-bottom"> <div class=embedded-switch> <div class=txt-left><span>{{ observableMonths }}</span></div> <div class="snap-switch-slider left js-snap-switch-slider"> <div></div> </div> <div class=txt-right><span>All Year</span></div> </div> </div> </div> <div> <div class=black-text>Species by observation count</div> <div class="margin-top margin-bottom"> <span> Top <input min=1 max=500 required class="medium half-margin-right js-location-no-of-records" type=number value="{{ noOfRecords }}"> most observed. </span> </div> </div> </div>'},204:function(t,a){t.exports='<div> <div class="inat snap-switch running-block"> <div class=embedded-switch> <div class=txt-left><span>iNaturalist User</span></div> <div class="snap-switch-slider left js-snap-switch-slider"> <div></div> </div> <div class=txt-right><span>Project</span></div> </div> </div> <div class="location-option inat-entry"> <div class="input-container standard-block bottom-aligned"> <form id=inatForm action=#> <input id=inat-identity type=text placeholder="Start typing a user or project Id."> </form> </div> </div> <div class="location-option chosen-guide-filter js-chosen-inat standard-block"> <div>Learn more about <a href=https://www.inaturalist.org/ target=_blank class=underline-link>iNaturalist</a>.</div> </div> </div>'},205:function(t,a){t.exports='<div class="iconic-taxa-categories js-iconic-taxa-categories"> <div class=double-centred-block id=aves><div> <button class=snap-icon-btn aria-label=birds><i class="fas fa-dove" aria-hidden=true></i></button> <div>Birds</div></div> </div> <div class=double-centred-block id=amphibia><div> <button class=snap-icon-btn aria-label=amphibians><i class="fas fa-frog" aria-hidden=true></i></button> <div>Amphibians</div></div> </div> <div class=double-centred-block id=mammalia><div> <button class=snap-icon-btn aria-label=mammals><i class="fas fa-paw" aria-hidden=true></i></button> <div>Mammals</div></div> </div> <div class=double-centred-block id=insecta><div> <button class=snap-icon-btn aria-label=insects><i class="fas fa-bug" aria-hidden=true></i></button> <div>Insects</div></div> </div> <div class=double-centred-block id=fungi><div> <button class=snap-icon-btn aria-label="fungi and lichens"><svg-icon class=si-glyph-mushrooms><src href=./icons/si-glyph-mushrooms.svg /></svg-icon></button> <div class=small-text>Fungi & Lichens</div></div> </div> <div class=double-centred-block id=plantae><div> <button class=snap-icon-btn aria-label=plants><i class="fas fa-leaf" aria-hidden=true></i></button> <div>Plants</div></div> </div> <div class=double-centred-block id=reptilia><div> <button class=snap-icon-btn aria-label=reptiles><i class="far fa-registered" aria-hidden=true></i></button> <div>Reptiles</div></div> </div> <div class=double-centred-block id=lepidoptera><div> <button class=snap-icon-btn aria-label="butterflies and moths"><i class="fas fa-barcode" aria-hidden=true></i></button> <div class=small-text>Butterflies & Moths</div></div> </div> </div> <div class="hide-important guide-bottom-actions"> <span>Know what you want?</span> <span class="underline-link species-picker-link js-species-picker-link">Species picker</span> </div>'},206:function(t,a){t.exports='<div class="guide-text-container hide-empty"> <input id=input-species type=text placeholder="Start typing a latin species name" autofocus> </div> <div class="autocomplete-options-container hide-important" id=snapdragon-species-autocomplete style=width:unset></div> <ul class="selected-species js-selected-species" data-repeat-species="{{ selectedSpecies }}"> <li class="custom-control custom-checkbox"> <input type=checkbox class=custom-control-input id="{{ species.name }}" checked=checked> <label class=custom-control-label for="{{ species.name }}">{{ species.name }}</label> </li> </ul>'},207:function(t,a){t.exports='<div> <input id=input-species type=text placeholder="Start typing a latin species name" autofocus> </div> <div class="autocomplete-options-container hide-important" id=snapdragon-species-autocomplete style=width:unset></div>'},208:function(t,a){t.exports='<div class=selected-species-container> <div class="scrollable open js-selected-species-container"></div> </div>'},209:function(t,a){t.exports='<div> <div class="species-search js-species-search"> <div><div class=icon><i class="fas fa-sun slow-spin"></i></div></div> <h2 class=standard-block>This search is based on observations recorded by the public on <a class=underline-link target=_blank href=https://www.inaturalist.org/ >iNaturalist</a>.</h2> </div> <div> <div class="hide-empty request-feedback js-request-feedback">Contacting iNaturalist…</div> </div> </div>'},210:function(t,a){t.exports='<div class="lesson-list-item one-and-half-standard-block vertical-evenly-spaced-block"> <div class="lesson-name hide-important" id=js-input-collection-name> <label for=#new-collection-name class=extra-small-text>lesson name</label> <input id=new-collection-name type=text value="{{ collection.name }}"> </div> <div class=lesson-taxa><span class=js-lesson-taxa-count>{{ collection.items.length }}</span> <span class=js-lesson-taxa>{{ collection.taxa }}</span></div> </div> <div class="edit-species centred-block half-standard-block js-edit-species"> <button class="snap-btn fit-width">Edit lesson</button> </div> <div class=selected-species-container> <div class="scrollable js-selected-species-container"></div> </div>'},211:function(t,a){t.exports='<div class="{{ className }}"> <div class="actions js-actions"></div> <div class="save-your-changes js-save-your-changes"></div> </div> <div class="chosen js-chosen"> <div class=prop-value-block><span></span><span class=selected-text></span></div> </div>'},212:function(t,a){t.exports='<div class=snapdragon-container> <dl data-repeat-item="{{ glossary }}" class="definition card scrollable"> <dt>{{ item.term }}</dt><dd>{{ item.definition }}</dd> </dl> </div> '},213:function(t,a){t.exports='<div class=quick-fire> <div class="margin-left centred-block standard-block padding-top"> Answer <input min=1 max="{{ quickFire.count }}" required class="big half-margin-left half-margin-right js-input-quick-fire" type=number value="{{ quickFire.count }}"> <span class=landscape>questions selected at random from <span class=js-quick-fire-count>{{ quickFire.count }}</span> terms.</span> <span class=portrait>from <span class=js-quick-fire-count>{{ quickFire.count }}</span> terms.</span> </div> <div class="landscape half-standard-block"></div> <div class="portrait padding"></div> <ul class="quick-fire-taxa margin-left js-quick-fire-taxa" data-repeat-taxon="{{ quickFire.filter.taxa }}"> <li class="custom-control custom-checkbox" data-name="{{ taxon.name }}"> <input type=checkbox class=custom-control-input id="{{ taxon.name }}" checked=checked> <label class=custom-control-label for="{{ taxon.name }}">{{ taxon.name }}</label> <span data-taxon="{{ taxon.name }}" class="">{{ taxon.count }}</span> </li> </ul> <div class="landscape half-standard-block"></div> <div class="portrait padding"></div> <div class="btn-group btn-group-toggle quick-fire-branches js-quick-fire-branches" data-toggle=buttons data-repeat-branch="{{ branches }}"> <label data-key="{{ branch.name }}" class="btn btn-secondary margin-left active" data-value="{{ branch.name }}"> <input type=checkbox name=branches id="{{ branch.name }}" autocomplete=off> {{ branch.name }} <span data-name="{{ branch.name }}">{{ branch.count }}</span> </label> </div> <div class="landscape half-standard-block"></div> <div class="portrait half-padding"></div> <div class="btn-group btn-group-toggle margin-left quick-fire-options margin-bottom js-quick-fire-filter-options" data-toggle=buttons data-repeat-option="{{ options }}"> <label data-key="{{ option.key }}" class="btn btn-secondary margin-right" data-value="{{ option.value }}"> <input type=radio name=options id="{{ option.key }}" autocomplete=off> {{ option.value }} </label> </div> <div class="landscape half-standard-block"></div> <div class="low-relief-block standard-block centred-block horizontal-evenly-spaced-block"> <div class="custom-control custom-checkbox"> <input type=checkbox class="custom-control-input js-quick-fire-technical" id=technical> <label class=custom-control-label for=technical>Include technical (advanced)</label> </div> <div> <div class="btn snap-action-btn js-quick-fire-reset">Reset filters</div> </div> </div> <div class="centred-block absolute-bottom"> <button class="btn snap-action-btn js-create-quick-fire">Start quick-fire review</button> </div> </div>'},214:function(t,a){t.exports='<div class=quick-fire> <div class="margin-left centred-block standard-block justify-space-between"> <h2> <span>Question {{ total }} of {{ count }}</span> </h2> <div class=margin-right> <button class="btn snap-btn small-text js-quick-review-progress">Progress</button> </div> </div> <div class="centred-block double-standard-block modal-background-relief border-light js-quick-fire-definition"> <span class=padding>{{ question.definition }}</span> </div> <ul id=0 class="strips description margin-top js-quick-layouts js-quick-fire-options" data-repeat-answer="{{ answers }}"> <li class=strip id="{{ answer.term }}" role=group aria-label="answers to the question"> <button class=snap-icon-btn data-answer-index="{{ answer.index }}"> <span>{{ answer.term }}</span> </button> </li> </ul> <div id=1 class="hide vertical-block centred-block margin-top js-quick-layouts quick-fire-text-entry js-quick-fire-text-entry"> <div class="centred-block standard-block"> <input type=text placeholder="Enter the term that fits this description"> </div> <div class=half-standard-block> <div class="hide centered-block js-quick-fire-hint"> <span class="margin-left latin">Hint: </span><span>The answer has two words.</span> </div> </div> </div> <div class="vertical-centred-block centred-block absolute-bottom"> <div class="margin-left centred-block standard-block js-quick-fire-message"></div> <div class=half-standard-block> Score {{ correct }} of {{ answered }} </div> <div class=action-update> <button disabled=disabled class="btn snap-action-btn js-continue-quick-fire-btn">Continue lesson</button> </div> </div> </div>'},215:function(t,a){t.exports='<div class=quick-fire> <div class="justify-space-between centred-block margin-left standard-block js-quick-fire-summary"> <div> <span>You have answered all of the questions.</span> </div> <div class="margin-right padding-left nowrap"> <button class="btn snap-btn small-text js-quick-review-continue-review">Vocab</button> </div> </div> <div class="border-light standard-block padding-left centred-block modal-background-relief js-score-text-summary"> You have scored {{ score.correct }} out of {{ score.total }} so far. </div> <ul class="margin-top nav nav-pills nav-fill quick-review-tabs js-quick-review-tabs mb-3" role=tablist> <li class=nav-item> <a class=nav-link href=# id=js-quick-review-correct data-toggle=pill role=tab> <span class=landscape>Correct answers</span> <span class=portrait>Correct</span> </a> </li> <li class=nav-item> <a class="nav-link active" href=# id=js-quick-review-incorrect data-toggle=pill role=tab> <span class=landscape>Incorrect answers</span> <span class=portrait>Incorrect</span> </a> </li> </ul> <div class="scrollable accordions-container"> <div id=accordion-correct data-type=js-quick-review-correct class="hide-important quick-review-answers js-quick-review-answers" data-repeat-pass="{{ passes }}"> <div class="card quick-fire-summary-row margin-bottom"> <div class="card-header capitalise" id="pass_header_{{ pass.index }}"> <div data-toggle=collapse data-target="#pass_target_{{ pass.index }}" aria-expanded=true aria-controls="pass_target_{{ pass.index }}"> <div>{{ pass.term }}</div> </div> </div> </div> <div id="pass_target_{{ pass.index }}" class=collapse aria-labelledby="pass_header_{{ pass.index }}" data-parent=#accordion-correct> <div class=card-body> <div>{{ pass.definition }}</div> <div class="centred-block half-standard-block"> <span class=sr-only>Opens in new window</span> <a class="small-text underline-link underline-link-left-margin {{ pass.showWikiClass }}" href="{{ pass.wiki }}" target=_blank> <span class=sr-only>Opens in new window</span> <span>View Wikipedia page for {{ pass.term }} in a new window</span> <i aria-hidden=true class="super fas fa-external-link-alt"></i> </a> </div> </div> </div> </div> <div id=accordion-incorrect data-type=js-quick-review-incorrect class="quick-review-answers js-quick-review-answers" data-repeat-fail="{{ fails }}"> <div class="card quick-fire-summary-row margin-bottom"> <div class="card-header capitalise" id="fail_header_{{ fail.index }}"> <div data-toggle=collapse data-target="#fail_target_{{ fail.index }}" aria-expanded=true aria-controls="fail_target_{{ fail.index }}"> <div>{{ fail.term }}</div> </div> </div> </div> <div id="fail_target_{{ fail.index }}" class=collapse aria-labelledby="fail_header_{{ fail.index }}" data-parent=#accordion-incorrect> <div class=card-body> <div>{{ fail.definition }}</div> <div class="centred-block half-standard-block"> <a class="small-text underline-link underline-link-left-margin {{ fail.showWikiClass }}" href="{{ fail.wiki }}" target=_blank> <span class=sr-only>Opens in new window</span> <span>View Wikipedia page for {{ fail.term }} in a new window</span> <i aria-hidden=true class="super fas fa-external-link-alt"></i> </a> </div> <div class="small-text margin-top"><span>You answered: </span><span>{{ fail.answer }}</span></div> </div> </div> </div> </div> </div>'},216:function(t,a){t.exports='<div class="lesson-list-header centred-block btn standard-block"> <div class="standard-block js-toggle-element"> <div> <div class=main-header> <h2>Lessons</h2> </div> </div> </div> <div class="margin-right standard-block js-toggle-control"> <button data-toggle=modal data-target=#createGuide class="btn snap-btn margin-right small-text js-create-custom-lesson">Create lesson</button> </div> </div>'},217:function(t,a){t.exports='<div class="home-scrolling-container js-home-scrolling-container"> <div class="title standard-block double-centred-block border-bottom">{{ title }}</div> <div class="snapdragon-intro padding"> <div class=half-standard-block> <span class=js-species-summary>{{ speciesSummary }}</span> </div> <div class=half-standard-block> <span>{{ season }}</span> </div> <div class="centred-block standard-block landscape js-intro-text">{{ lessonIntro }}</div> </div> <div class=scrollable></div> </div>'},218:function(t,a){t.exports='<div class="lesson-list-item one-and-half-standard-block vertical-evenly-spaced-block"> <div class=lesson-name id=js-input-collection-name> <input type=text value="{{ collection.name }}"> </div> <div class="margin-left lesson-taxa"><span class=js-lesson-taxa-count>{{ collection.items.length }}</span> <span class=js-lesson-taxa>{{ collection.taxa }}</span></div> </div> <div class=selected-species-container> <div class="open scrollable js-selected-species-container"></div> </div>'},219:function(t,a){t.exports='<div class="lesson-list js-lesson-list"> <ul class="scrollable js-lesson-container" data-toggle=buttons> </ul> </div>'},220:function(t,a){t.exports='<div class="double-standard-block vertical-centred-block"> <p>Clear all data (and delete your score).</p> <button class="btn snap-action-btn js-clear-cache-btn">Clear all data</button> </div> <hr> <div class="half-standard-block centred-block">Time for answer to remain visible:</div> <div class=delay-slider> <div class="standard-block double-centred-block"> <span>0 secs</span> <input class=js-set-delay-input type=range min=0 max=5 value="{{ delay }}"><span> 5 secs</span> </div> <button class="btn snap-action-btn js-set-delay-btn">Set delay</button> <div class="half-standard-block centred-block js-delay-text"></div> </div> <hr class=portrait> <div class="portrait js-language-selection-container"></div> <hr class=portrait> <div class="portrait email centred-block"> <a target=_blank href="mailto:danhartleybcn@gmail.com?subject=Learn The Planet"> <i class="fas fa-envelope"></i> </a> <span class=margin-left>Contact Snapdragon</span> </div>'},221:function(t,a){t.exports='<div class=modal-content> <div class=snapdragon-container> <div class="large-text centred-block standard-block">User access</div> <form id=login-form> <div class="standard-block centred-block"> <input id=login-email type=text placeholder=Email> </div> <div class="standard-block centred-block"> <input id=login-password type=text placeholder=Password> </div> <button id=js-login-btn class="btn snap-action-btn">Log in</button> </form> <div class="standard-block centred-block hide-important js-logged-in">You are now logged in.</div> <div class="standard-block vertical-centred-block hide-important js-not-logged-in"> <span class="standard-block centred-block">Please check your email and password.</span> <span class="standard-block centred-block js-message"></span> </div> </div> </div>'},222:function(t,a){t.exports='<div class=modal-content> <div class=snapdragon-container> <form id=logout-form> <div class="vertical-centred-block double-standard-block"> <span>You are logged in with the account:</span> <span>{{ email }}</span> </div> <div> <button id=js-logout-btn class="btn snap-action-btn">Log out</button> </div> </form> <div class="standard-block centred-block hide-important js-logged-out">You are now logged out.</div> </div> </div>'},223:function(t,a){t.exports='<div class="large-text centred-block standard-block">Language preference</div> <div class=standard-block> <div>Your selection will affect the vernacular names of species only.</div> <br> <div>It will not apply to lessons in progress.</div> <br> </div> <div class="double-standard-block js-language-selection-container"></div>'},224:function(t,a){t.exports='<li> <button id=PORTRAIT_HOME class="snap-icon-btn portrait icon list js-list" aria-label=home> <i aria-hidden=true focusable=false class="fas fa-chalkboard"></i> <span class=visually-hidden>Lesson home</span> </button> </li> <li> <button id=SETTINGS class="snap-icon-btn icon settings js-settings" data-toggle=modal data-target=#basicModal aria-label=settings> <i aria-hidden=true focusable=false class="fas fa-cog"></i> <span class=visually-hidden>Settings</span> </button> </li> <li> <button id=LOGIN class="snap-icon-btn icon login js-login" data-toggle=modal data-target=#basicModal data-is-logged-in=false aria-label=login> <i aria-hidden=true focusable=false class="fas fa-user-slash"></i> <i aria-hidden=true focusable=false class="fas fa-user-check"></i> <span class=visually-hidden>Login or logout</span> </button> </li> <li> <button id=GLOSSARY class="snap-icon-btn icon glossary js-glossary" data-toggle=modal data-target=#glossaryModal aria-label=glossary> <i aria-hidden=true focusable=false class="fas fa-book-open"></i> <span class=visually-hidden>Glossary</span> </button> </li>'},225:function(t,a){t.exports='<li> <button id=GLOSSARY class="snap-icon-btn icon glossary js-glossary" data-toggle=modal data-target=#glossaryModal aria-label=glossary> <i aria-hidden=true focusable=false class="fas fa-book-open"></i> <span class=visually-hidden>Glossary</span> </button> </li> <li> <button id=LANGUAGE class="snap-icon-btn icon language js-language" data-toggle=modal data-target=#basicModal aria-label="language settings"> <i aria-hidden=true focusable=false class="fas fa-language"></i> <span class=visually-hidden>Language</span> </button> </li>'},226:function(t,a){t.exports='<li> <button id=SETTINGS class="snap-icon-btn icon settings js-settings" data-toggle=modal data-target=#basicModal aria-label=settings> <i aria-hidden=true focusable=false class="fas fa-cog"></i> <span class=visually-hidden>Settings</span> </button> </li> <li> <button id=LOGIN class="snap-icon-btn icon login js-login" data-toggle=modal data-target=#basicModal data-is-logged-in=false aria-label=login> <i aria-hidden=true focusable=false class="fas fa-user-slash"></i> <i aria-hidden=true focusable=false class="fas fa-user-check"></i> <span class=visually-hidden>Login or logout</span> </button> </li> <li> <a id=EMAIL class="landscape icon email js-email" target=_blank href="mailto:danhartleybcn@gmail.com?subject=Learn The Planet"> <i aria-hidden=true focusable=false class="fas fa-envelope"></i> <span class=visually-hidden>Open email link</span> </a> </li>'},227:function(t,a){t.exports='<div class="centred-block standard-block"> <input disabled=disabled class=js-txt-input type=text placeholder=Genus autocomplete=off autocorrect=off autocapitalize=off spellcheck=false> </div> <div> <div class="help-txt binomial margin-left js-help-txt"></div> </div> <div class=text-entry-container> <div class="js-pool-letters pool margin-left margin-top margin-bottom"></div> <div class=horizontal-buttons> <button class="btn btn-tertiary js-toggle-keyboard">Enable keyboard</button> <button class="btn btn-tertiary js-delete-letter">Delete last letter</button> <button class="btn snap-action-btn js-check-answer">Check answer</button> </div> </div>'},228:function(t,a){t.exports='<div class="js-test-card-container-images species-card-images"></div> <div class=text-entry> <input class=js-txt-input type=text placeholder=Genus> </div> <div class="landscape help-txt binomial js-help-txt"></div>'},229:function(t,a){t.exports='<ul class="strips description js-rptr-strips" data-repeat-answer="{{ answers }}"> <li class=strip> <button class="btn snap-icon-btn" data-answer-index="{{ answer.index }}" data-name="{{ answer.name }}" data-names="{{ answer.names }}"> <span>{{ answer.term }}</span> </button> </li> </ul>'},230:function(t,a){t.exports='<div class="strips description js-rptr-strips" data-repeat-answer="{{ answers }}"> <div class=strip> <button class="double-centred-block btn snap-icon-btn" data-answer-index="{{ answer.index }}"> <img width=25px height=25px src="{{ answer.img.url }}" alt=""> <span>{{ answer.term }}</span> </button> </div> </div>'},231:function(t,a){t.exports='<div class="centred-block standard-block"> <button class="btn snap-icon-btn block"> <span class="given genus">{{ genus }}</span> </button> <button class="btn snap-icon-btn block"> <span class=species>{{ species }}</span> </button> </div> <div class=text-complete-container> <div class="margin-bottom landscape">Click to select the correct name:</div> <div class="margin-bottom portrait">Tap to select the correct name:</div> <div class="pool js-pool" data-repeat-answer="{{ answers }}"> <button type=submit class="btn snap-icon-btn block"> <span>{{ answer.value }}</span> </button> </div> </div>'},232:function(t,a){t.exports='<div class=snapdragon-container> <div class="cultivar revision card"> <div class=taxon-highlight><span>{{ item.name }}</span><hr></div> <div class=title>The following cultivars are all derived from the single species {{ item.name }}:</div> <div> <div class=list-group-headers> <span>Name</span><span>Variety</span><span class=landscape>Form</span><span class=landscape>More</span> </div> <div class=scrollable> <ul class="list-group list-group-flush" data-repeat-cultivar="{{ cultivars }}"> <li class=list-group-item> <span>{{ cultivar.vernacular }}</span> <span>{{ cultivar.variety }}</span> <span class=landscape>{{ cultivar.form }}</span> <span class=landscape><a class=underline-link href="{{ cultivar.wiki }}" title="{{ cultivar.wikiAlt }}">WIKI</a> <a class=underline-link href="{{ cultivar.eol }}" target=_blank title="{{ cultivar.eolAlt }}">EOL</a></span> </li> </ul> </div> </div> </div> </div>'},233:function(t,a){t.exports='<div class="species-card-images carousel js-test-card-container-images"></div>'},234:function(t,a){t.exports='<div class=hide-important>mixed-specimen-images-template.html</div> <div class="standard-block border-bottom double-centred-block"></div> <div> <div class="tiles-container squares js-tiles" data-repeat-image="{{ images }}"> <div> <img class=square src="{{ image.medium }}" data-item-name="{{ image.itemName }}" data-url="{{ image.url }}"/> </div> </div> </div> <div class=lesson-companion> </div>'},235:function(t,a){t.exports='<div class=mixed-specimen-container> <div class=margin-bottom> <span>You are choosing from</span> <br> <br> <span> Species shown (in no particular order): </span> </div> <ul class="images-names-txt js-images-names-txt"></ul> <div class=vertical-evenly-spaced-block> <button class="btn snap-action-btn btn-auxiliary js-help-txt">Click to refresh selection</button> </div> </div>'},236:function(t,a){t.exports='<div class=mixed-specimen-container> <div class=margin-bottom><span>{{ help }}</span></div> <ul class="traits-names-txt js-traits-names-txt" data-repeat-trait="{{ traits }}"> <li> <img src="{{ trait.img.url }}" alt="{{ trait.term }}"> <span>{{ trait.term }}</span> </li> </ul> </div>'},237:function(t,a){t.exports='<div class="strips description js-rptr-strips" data-repeat-answer="{{ answers }}"> <div class=strip> <button class="btn snap-icon-btn" data-answer-index="{{ answer.index }}"> <span>{{ answer.term }}</span> </button> </div> </div> '},238:function(t,a){t.exports='<div class=home-container> <div class="snapdragon-header double-centred-block"> <h1> <a href="">Welcome</a> </h1> </div> <main id=main class="snapdragon-intro scrollable js-snapdragon-intro"> <h3>Learn The Planet is a collection of a video lessons about the natural world.</h3> <h4 class="centred-block landscape"> <i class="margin-left extra-large-text fab fa-youtube youtube-icon"></i><span class=margin-left>Click to watch a lesson video.</span> </h4> <h4 class="centred-block landscape"> <i class="margin-left extra-large-text fas fa-glasses youtube-icon"></i><span class=margin-left>Click to see lesson species.</span> </h4> <h4 class=landscape> <button class="btn snap-btn extra-small-text fit-width" disabled=disabled style=opacity:1>Vocab test</button> <span class=margin-left>Brush up on terms and definitions.</span> </h4> <h4 class=landscape> <button class="btn snap-btn extra-small-text fit-width" disabled=disabled style=opacity:1>Lesson Quiz</button> <span class=margin-left>Test yourself on the contents of a lesson.</span> </h4> <br class=landscape> <br class=landscape> <h4 class=portrait> Tap on the home icon <span><i class="fas fa-chalkboard"></i></span> below to get started, then select an <span><i class="fab fa-youtube youtube-icon"></i></span> icon to begin a lesson. </h4> <h5>These lessons took time and effort to make; Learn The Planet would like to thank the people who created them.</h5> </main> </div>'},239:function(t,a){t.exports=' <div class="modal fade" id=imageModal role=dialog aria-labelledby=imageModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-modal-image-title"> <span></span><span></span> </div> <button type=button class=close data-dismiss=modal aria-label=Close> <span aria-hidden=true>&times;</span> </button> </div> </header> <div class="modal-rights-attribution js-modal-rights-attribution"></div> <div class="modal-body centred-block"> <div class="modal-image js-modal-image" style=flex:auto></div> </div> <div class="modal-footer double-centred-block" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div> </div> <div class="modal fade" id=imageComparisonModal tabindex=-1 role=dialog aria-labelledby=imageModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-modal-image-title"> <div class="modal-rights-attribution js-modal-rights-attribution"></div> <span></span><span></span><span class=hide-empty></span><span class=hide-empty></span> </div> </div></header> </div> <div class=modal-body> <div class="modal-image js-modal-image"></div> </div> <div class="modal-footer double-centred-block" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div>  <div class="modal fade" id=wikiModal tabindex=-1 role=dialog aria-labelledby=exampleModalLongTitle aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-external-page-title"></div> </div> </header> <div class="modal-body js-external-page-body"> </div> <div class="modal-footer double-centred-block" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div> </div> <div class="modal fade basic-modal" id=basicModal tabindex=-1 role=dialog aria-labelledby=basicModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <div class=modal-header-container> <div class=modal-header> <div class="centred-block justify-space-between js-modal-header-block"> <div class="modal-title small-text js-modal-text-title"><header></header></div> <div></div> </div> </div> </div> <div class=modal-body> <div class="modal-text js-modal-text"></div> </div> <footer class="modal-footer double-centred-block js-modal-footer" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </footer> </div> </div> </div> <div class="modal fade basic-modal" id=glossaryModal tabindex=-1 role=dialog aria-labelledby=glossaryModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="centred-block justify-space-between js-modal-header-block"> <div class="modal-title small-text js-modal-text-title"><h1>Glossary</h1></div> <button class="btn fit-width snap-btn double-margin-right small-text js-quick-fire-filters">Glossary</button> <button class="btn hide-important fit-width snap-btn double-margin-right small-text js-quick-fire-questions">Quick-fire questions</button> </div> </div> </header> <div class=modal-body> <div class="modal-text js-modal-text"></div> </div> <footer class="modal-footer double-centred-block js-modal-footer" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </footer> </div> </div> </div> <div class="modal fade" id=cardModal tabindex=-1 role=dialog aria-labelledby=speciesCardLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-modal-text-title"></div> </div> </header> <div class="carousel slide"> <div class=carousel-inner> <div class="prev landscape js-prev" role=button> <span class=carousel-control-prev-icon data-direction=prev aria-hidden=true></span> <span class=sr-only>Previous</span> </div> <div class="modal-body js-modal-body"> <div class="modal-text js-modal-text"></div> </div> <div class="next landscape js-next" role=button> <span class=carousel-control-next-icon data-direction=next aria-hidden=true></span> <span class=sr-only>Next</span> </div> </div> </div> <div class="modal-footer double-centred-block" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div> </div>  <div class="modal fade" id=badgeListModal tabindex=-1 role=dialog aria-labelledby=badgeListModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-modal-text-title"></div> </div> </header> <div class="modal-body js-modal-body"> <div class="modal-text js-modal-text"></div> </div> <div class="modal-footer double-centred-block" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div> </div> <div class="modal fade modal-guide-wrapper" id=createGuide tabindex=-1 role=dialog aria-labelledby=createGuideModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-modal-title"> <header class=header></header> </div> </div> </header> <div class="modal-body modal-guide-body"> <div class="modal-guide-progress standard-block js-modal-guide-progress"> <div class="modal-subheader js-options"> <h1>Select species</h1> </div> <div class="hide-important steps js-steps"> <div class=completed>Step 1</div> <div>Step 2</div> <div>Step 3</div> </div> </div> <div class="step-action-content js-step-action-content">Step action</div> <nav aria-label="navigation for creating new lesson" class="modal-guide-navigation js-modal-guide-navigation"> <button class="snap-icon-btn js-left"> <span class="arrow-wrapper js-arrow-wrapper"><i class="far fa-arrow-alt-circle-left"></i></span> <span class=title></span> </button> <div class="centred-block js-centre"><span class=title>Provenance</span></div> <button class="snap-icon-btn right-justify js-right"> <span class=title></span> <span class="arrow-wrapper js-arrow-wrapper"><i class="far fa-arrow-alt-circle-right"></i></span> </button> </nav> </div> <div class="modal-footer double-centred-block js-create-guide-close-btn" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div> </div> <div class="modal fade basic-modal" id=lessonModal data-backdrop=static data-keyboard=false tabindex=-1 role=dialog aria-labelledby=lessonModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="centred-block justify-space-between js-modal-header-block margin-right"> <div class="modal-title small-text js-modal-text-title"><header></header></div> <button class="btn small-text fit-width snap-btn margin-right js-review-progress">Progress</button> </div> </div> </header> <div class=modal-body> <div class="modal-text js-modal-text"> <div class="lesson-spinner double-centred-block"> <div class=icon><i class="fas fa-sun slow-spin"></i></div> </div> </div> </div> <footer class="modal-footer double-centred-block js-modal-footer" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </footer> </div> </div> </div>'},444:function(t,a,i){var o=i(445);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(62)(o,c);o.locals&&(t.exports=o.locals)},445:function(t,a,i){(a=i(61)(!1)).push([t.i,':root {\n  --blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}\n\n*,::after,::before {\n  box-sizing: border-box\n}\n\nhtml {\n  font-family: sans-serif;\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  -webkit-tap-highlight-color: transparent\n}\n\narticle,aside,figcaption,figure,footer,header,hgroup,main,nav,section {\n  display: block\n}\n\nbody {\n  margin: 0;\n  font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  text-align: left;\n}\n\nh1,h2,h3,h4,h5,h6 {\n  margin-top: 0;\n  margin-bottom: .5rem\n}\n\ndl,ol,ul {\n  margin-top: 0;\n  margin-bottom: 1rem\n}\n\na {\n  color: #007bff;\n  text-decoration: none;\n  background-color: transparent\n}\n\nimg {\n  vertical-align: middle;\n  border-style: none\n}\n\nbutton {\n  border-radius: 0\n}\n\nbutton,input,optgroup,select,textarea {\n  margin: 0;\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit\n}\n\nbutton,input {\n  overflow: visible\n}\n\nbutton,select {\n  text-transform: none\n}\n\n[type=button],[type=reset],[type=submit],button {\n  -webkit-appearance: button\n}\n\n[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled) {\n  cursor: pointer\n}\n\nprogress {\n  vertical-align: baseline\n}\n\n.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6 {\n  margin-bottom: .5rem;\n  font-weight: 500;\n  line-height: 1.2\n}\n\n.h1,h1 {\n  font-size: 2.5rem\n}\n\n.h2,h2 {\n  font-size: 2rem\n}\n\n.h3,h3 {\n  font-size: 1.75rem\n}\n\n.h4,h4 {\n  font-size: 1.5rem\n}\n\n.h5,h5 {\n  font-size: 1.25rem\n}\n  .btn {\n  display: inline-block;\n  font-weight: 400;\n  color: #212529;\n  text-align: center;\n  vertical-align: middle;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-color: transparent;\n  border: 1px solid transparent;\n  padding: .375rem .75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: .25rem;\n  transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out\n}\n\n.btn:hover {\n  color: #212529;\n  text-decoration: none\n}\n\n.btn.disabled,.btn:disabled {\n  opacity: .65\n}\n\n.btn:not(:disabled):not(.disabled) {\n  cursor: pointer\n}\n\n.fade {\n  transition: opacity .15s linear\n}\n\n.fade:not(.show) {\n  opacity: 0\n}\n\n.modal-open {\n  overflow: hidden\n}\n\n.modal-open .modal {\n  overflow-x: hidden;\n  overflow-y: auto\n}\n\n.modal-dialog {\n  position: relative;\n  width: auto;\n  margin: .5rem;\n  pointer-events: none\n}\n\n.modal.fade .modal-dialog {\n  transition: -webkit-transform .3s ease-out;\n  transition: transform .3s ease-out;\n  transition: transform .3s ease-out,-webkit-transform .3s ease-out;\n  -webkit-transform: translate(0,-50px);\n  transform: translate(0,-50px)\n}\n\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1050;\n  display: none;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  outline: 0\n}\n\n@media (prefers-reduced-motion:reduce) {\n  .modal.fade .modal-dialog {\n      transition: none\n  }\n}\n\n.modal.show .modal-dialog {\n  -webkit-transform: none;\n  transform: none\n}\n\n.modal.modal-static .modal-dialog {\n  -webkit-transform: scale(1.02);\n  transform: scale(1.02)\n}\n\n.modal-dialog-scrollable {\n  display: -ms-flexbox;\n  display: flex;\n  max-height: calc(100% - 1rem)\n}\n\n.modal-dialog-scrollable .modal-content {\n  max-height: calc(100vh - 1rem);\n  overflow: hidden\n}\n\n.modal-dialog-scrollable .modal-footer,.modal-dialog-scrollable .modal-header {\n  -ms-flex-negative: 0;\n  flex-shrink: 0\n}\n\n.modal-dialog-scrollable .modal-body {\n  overflow-y: auto\n}\n\n.modal-dialog-centered {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  min-height: calc(100% - 1rem)\n}\n\n.modal-dialog-centered::before {\n  display: block;\n  height: calc(100vh - 1rem);\n  height: -webkit-min-content;\n  height: -moz-min-content;\n  height: min-content;\n  content: ""\n}\n\n.modal-dialog-centered.modal-dialog-scrollable {\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -ms-flex-pack: center;\n  justify-content: center;\n  height: 100%\n}\n\n.modal-dialog-centered.modal-dialog-scrollable .modal-content {\n  max-height: none\n}\n\n.modal-dialog-centered.modal-dialog-scrollable::before {\n  content: none\n}\n\n.modal-content {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 100%;\n  pointer-events: auto;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid rgba(0,0,0,.2);\n  border-radius: .3rem;\n  outline: 0\n}\n\n.modal-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1040;\n  width: 100vw;\n  height: 100vh;\n  background-color: #000\n}\n\n.modal-backdrop.fade {\n  opacity: 0\n}\n\n.modal-backdrop.show {\n  opacity: .5\n}\n\n.modal-header {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: start;\n  align-items: flex-start;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n  padding: 1rem 1rem;\n  border-bottom: 1px solid #dee2e6;\n  border-top-left-radius: calc(.3rem - 1px);\n  border-top-right-radius: calc(.3rem - 1px)\n}\n\n.modal-header .close {\n  padding: 1rem 1rem;\n  margin: -1rem -1rem -1rem auto\n}\n\n.modal-title {\n  margin-bottom: 0;\n  line-height: 1.5\n}\n\n.modal-body {\n  position: relative;\n  -ms-flex: 1 1 auto;\n  flex: 1 1 auto;\n  padding: 1rem\n}\n\n.modal-footer {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: end;\n  justify-content: flex-end;\n  padding: .75rem;\n  border-top: 1px solid #dee2e6;\n  border-bottom-right-radius: calc(.3rem - 1px);\n  border-bottom-left-radius: calc(.3rem - 1px)\n}\n\n.modal-footer>* {\n  margin: .25rem\n}\n\n.modal-scrollbar-measure {\n  position: absolute;\n  top: -9999px;\n  width: 50px;\n  height: 50px;\n  overflow: scroll\n}\n\n@media (min-width: 576px) {\n  .modal-dialog {\n      max-width:500px;\n      margin: 1.75rem auto\n  }\n\n  .modal-dialog-scrollable {\n      max-height: calc(100% - 3.5rem)\n  }\n\n  .modal-dialog-scrollable .modal-content {\n      max-height: calc(100vh - 3.5rem)\n  }\n\n  .modal-dialog-centered {\n      min-height: calc(100% - 3.5rem)\n  }\n\n  .modal-dialog-centered::before {\n      height: calc(100vh - 3.5rem);\n      height: -webkit-min-content;\n      height: -moz-min-content;\n      height: min-content\n  }\n\n  .modal-sm {\n      max-width: 300px\n  }\n}\n\n@media (min-width: 992px) {\n  .modal-lg,.modal-xl {\n      max-width:800px\n  }\n}\n\n@media (min-width: 1200px) {\n  .modal-xl {\n      max-width:1140px\n  }\n}\n\n\n/* carousel */\n\n.carousel {\n  position: relative\n}\n\n.carousel.pointer-event {\n  -ms-touch-action: pan-y;\n  touch-action: pan-y\n}\n\n.carousel-inner {\n  position: relative;\n  width: 100%;\n  overflow: hidden\n}\n\n.carousel-inner::after {\n  display: block;\n  clear: both;\n  content: ""\n}\n\n.carousel-item {\n  position: relative;\n  display: none;\n  float: left;\n  width: 100%;\n  margin-right: -100%;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  transition: -webkit-transform .6s ease-in-out;\n  transition: transform .6s ease-in-out;\n  transition: transform .6s ease-in-out,-webkit-transform .6s ease-in-out\n}\n\n@media (prefers-reduced-motion:reduce) {\n  .carousel-item {\n      transition: none\n  }\n}\n\n.carousel-item-next,.carousel-item-prev,.carousel-item.active {\n  display: block\n}\n\n.active.carousel-item-right,.carousel-item-next:not(.carousel-item-left) {\n  -webkit-transform: translateX(100%);\n  transform: translateX(100%)\n}\n\n.active.carousel-item-left,.carousel-item-prev:not(.carousel-item-right) {\n  -webkit-transform: translateX(-100%);\n  transform: translateX(-100%)\n}\n\n.carousel-fade .carousel-item {\n  opacity: 0;\n  transition-property: opacity;\n  -webkit-transform: none;\n  transform: none\n}\n\n.carousel-fade .carousel-item-next.carousel-item-left,.carousel-fade .carousel-item-prev.carousel-item-right,.carousel-fade .carousel-item.active {\n  z-index: 1;\n  opacity: 1\n}\n\n.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right {\n  z-index: 0;\n  opacity: 0;\n  transition: opacity 0s .6s\n}\n\n@media (prefers-reduced-motion:reduce) {\n  .carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right {\n      transition: none\n  }\n}\n\n.carousel-control-next,.carousel-control-prev {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 1;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  width: 15%;\n  color: #fff;\n  text-align: center;\n  opacity: .5;\n  transition: opacity .15s ease\n}\n\n@media (prefers-reduced-motion:reduce) {\n  .carousel-control-next,.carousel-control-prev {\n      transition: none\n  }\n}\n\n.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover {\n  color: #fff;\n  text-decoration: none;\n  outline: 0;\n  opacity: .9\n}\n\n.carousel-control-prev {\n  left: 0\n}\n\n.carousel-control-next {\n  right: 0\n}\n\n.carousel-control-next-icon,.carousel-control-prev-icon {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background: no-repeat 50%/100% 100%\n}\n\n.carousel-control-prev-icon {\n  background-image: url("data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23fff\' width=\'8\' height=\'8\' viewBox=\'0 0 8 8\'%3e%3cpath d=\'M5.25 0l-4 4 4 4 1.5-1.5L4.25 4l2.5-2.5L5.25 0z\'/%3e%3c/svg%3e")\n}\n\n.carousel-control-next-icon {\n  background-image: url("data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23fff\' width=\'8\' height=\'8\' viewBox=\'0 0 8 8\'%3e%3cpath d=\'M2.75 0l-1.5 1.5L3.75 4l-2.5 2.5L2.75 8l4-4-4-4z\'/%3e%3c/svg%3e")\n}\n\n.carousel-indicators {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 15;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n  justify-content: center;\n  padding-left: 0;\n  margin-right: 15%;\n  margin-left: 15%;\n  list-style: none\n}\n\n.carousel-indicators li {\n  box-sizing: content-box;\n  -ms-flex: 0 1 auto;\n  flex: 0 1 auto;\n  width: 30px;\n  height: 3px;\n  margin-right: 3px;\n  margin-left: 3px;\n  text-indent: -999px;\n  cursor: pointer;\n  background-color: #fff;\n  background-clip: padding-box;\n  border-top: 10px solid transparent;\n  border-bottom: 10px solid transparent;\n  opacity: .5;\n  transition: opacity .6s ease\n}\n\n@media (prefers-reduced-motion:reduce) {\n  .carousel-indicators li {\n      transition: none\n  }\n}\n\n.carousel-indicators .active {\n  opacity: 1\n}\n\n.carousel-caption {\n  position: absolute;\n  right: 15%;\n  bottom: 20px;\n  left: 15%;\n  z-index: 10;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  color: #fff;\n  text-align: center\n}\n\n.collapse:not(.show) {\n  display: none\n}\n\n.collapsing {\n  position: relative;\n  height: 0;\n  overflow: hidden;\n  transition: height .35s ease\n}\n\n@media (prefers-reduced-motion:reduce) {\n  .collapsing {\n      transition: none\n  }\n}',""]),t.exports=a},452:function(t,a,i){var o=i(453);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(62)(o,c);o.locals&&(t.exports=o.locals)},453:function(t,a,i){(a=i(61)(!1)).push([t.i,":root {\n\n    --snap-lesson-row-blue: rgb(218, 230, 237);\n    --snap-lesson-row-green: rgb(216, 223, 210);\n\n    --snap-dd-non-taxa-bg-intial: rgb(197, 193, 175);\n    --snap-dd-non-taxa-bg-hover: rgb(229, 227, 220);\n    --snap-dd-non-taxa-bg-active: rgb(229, 227, 220);\n\n    --snap-text-black: rgb(30,30,30);\n    --snap-text-dark: rgb(60, 60, 60);\n    --snap-text-dark-medium-dark: rgb(50, 50, 50);\n    --snap-text-medium-dark: rgb(65, 65, 65);\n    --snap-text-medium-dark-hover: rgb(108, 114, 120);\n    --snap-text-medium-light:rgb(73, 80, 87);\n    --snap-text-light:rgb(245, 245, 245);\n    --snap-text-green: rgb(16, 66, 28);\n    \n    --snap-portrait: rgb(179, 197, 174);\n    --snap-landscape: rgb(185, 200, 204);\n    \n    --snap-collection: rgb(87, 97, 99);\n    --snap-collection-active: rgb(95, 125, 89);    \n    --snap-collection-light: rgb(117, 126, 126);\n    --snap-collection-faint: rgb(240, 242, 235);\n    --snap-non-taxa: rgb(165, 159, 131);\n\n    --snap-active: rgb(246, 157, 53);\n    --snap-alert: rgb(197, 59, 67);\n    --snap-alert-medium: rgb(225, 155, 155);\n    --snap-alert-light: rgb(241, 229, 225);\n    --snap-inactive: rgba(7, 2, 2, 0.4);\n    --snap-success: rgb(84, 137, 84);\n    --snap-success-medium: rgb(169, 196, 163);\n    --snap-success-light: rgb(216, 225, 208);\n    \n    --snap-link: rgb(54, 69, 82);\n\n    --snap-progress-bg: rgb(168, 168, 168);\n    --snap-progress-bar: rgb(255, 255, 255);\n  \n    --snap-block-light: rgb(245, 245, 245);\n\n    --snap-main-background: rgb(244, 244, 244);\n    --snap-content-background: rgb(255, 255, 243);\n    --snap-content-background-relief: rgb(251, 251, 247);\n    --snap-header-background: rgb(213, 213, 210);\n    --snap-list-header-background: rgb(252, 251, 246);\n    --snap-row-background: rgb(240, 239, 233);\n    \n    --snap-taxon-card-background: rgba(52, 105, 23,.1);\n    --snap-species-highlight-background: rgb(249, 248, 238);\n    --snap-species-header-background: rgb(226, 222, 180);\n    --snap-species-header-dark-background: rgb(146, 139, 56);\n    \n    --snap-btn-auxillary: rgb(96, 117, 90);\n    --snap-btn-hover: rgb(240, 240, 240);\n    \n    --snap-btn-dropdown: rgb(252, 193, 186);\n    --snap-btn-dropdown-options: rgb(254, 240, 229);\n\n    --snap-btn-blue: rgb(54, 69, 82);\n    --snap-snap-action-btn: rgb(245, 245, 245);\n\n    --snap-tertiary-background: rgb(95, 125, 89);\n\n    --snap-btn-filter-on: rgb(214, 208, 213);\n    --snap-btn-filter-off: rgb(235, 231, 228);\n\n    --snap-border-light: rgb(175,175,175);\n    --snap-border-medium: rgb(211, 211, 211);\n    --snap-border-lightest: rgb(225,225,225);\n\n    --snap-iconic-icon-header: rgb(193, 186, 112);\n\n    --snap-inat: rgb(127, 151, 122);\n\n    --snap-youtube-green: rgb(52, 105, 23);\n\n    --snap-button-light: #576163; \n    --snap-button-main: #3c4345; \n    --snap-button-dark: #788082; \n  }",""]),t.exports=a},454:function(t,a,i){var o=i(455);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(62)(o,c);o.locals&&(t.exports=o.locals)},455:function(t,a,i){(a=i(61)(!1)).push([t.i,'* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nhtml {\n  height: var(--vhGrid, 100vh);\n}\n\nbody {\n  /* width: var(--vwGrid, 100vh);\n  max-width: var(--vwGrid, 100vh); */\n  height: var(--vhGrid, 100vh);\n  /* font-size: .8em; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: \'Open Sans\', sans-serif;\n  color: var(--snap-text-dark);\n  margin: auto;\n  background-color: var(--snap-main-background);\n}\n\nbutton {\n  width: 100%;\n  letter-spacing: .03rem;\n}\n\nbutton[disabled] {\n  opacity: .38; /* why  38%? google material design */\n  pointer-events: none;\n}\n\ninput[type="text"] {\n  padding: .5rem;\n  width: 100%;\n  border-color: var(--snap-border-lightest);\n  border-style: solid;\n}\n\nfigure {\n  margin: .5rem 0 0;\n}\n\na:hover {\n  text-decoration: none;\n}\n\nul {\n  margin: 0;\n  padding: 0;\n}\n\nli {\n  list-style-type: none;\n  margin: 0 0 .5rem 0;\n}\n\nprogress {\n  margin: 0 !important;\n  width: 100%;\n  border: 0;\n  background: var(--snap-progress-bg);\n  max-height: 5px;\n}\n\nprogress::-webkit-progress-bar {\n  background-color: var(--snap-progress-bg);\n}\nprogress::-webkit-progress-value {\n  background-color: var(--snap-text-black);\n}\nprogress::-moz-progress-bar {\n  background-color: var(--snap-progress-bar);\n}\n\n.progress-icon {\n  color: var(--snap-progress-bar) !important;\n  cursor: pointer;\n}\n\n.no-progress {\n  background-color: var(--snap-progress-bg);\n}\n\n.inline-progress-container progress {\n  width: 95px;\n  height: 3px;\n  left: 0;\n  top: 2.5rem;\n}\n\nhr {\n  margin: 0;\n}\n\n.font-size-small {\n  font-size: .7rem;\n}\n\n.desaturate {\n  opacity: .6;\n  filter: grayscale(80%);\n}\n\n.no-progress {\n  background-color: var(--snap-progress-bg);\n}\n\n\n\n.btn-collection {\n  background-color: var(--snap-portrait);\n  color: var(--snap-text-dark);\n}\n\n.btn-language {\n  background-color: var(--snap-landscape);\n  color: var(--snap-text-medium-dark);\n}\n\n.btn.btn-non-taxa {\n  width: 15rem;\n  background-color: var(--snap-non-taxa);\n  float: left;\n}\n\n.non-taxa-definition {\n  padding: 0 0.5rem;\n}\n\n.icon::after\n{\n  display: inline-block;\n  font-style: normal;\n  font-variant: normal;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  font-family: "Font Awesome 5 Free";\n}\n\n.icon.active::after {\n  font-weight: 900;\n  content: "\\f00c";\n  padding: 0 0.5rem 0 0;\n  margin: 0 0 0 -1.5rem;\n  color: rgb(99, 127, 91);\n}\n\n.icon.choice::after {\n  font-weight: 900;\n  content: "\\f2e7";\n  padding: 0 0 0 0.25rem;\n  color: rgb(99, 127, 91);\n}\n\n.icon.edible::after {\n  font-weight: 900;\n  content: "\\f2e7";\n  padding: 0 0 0 0.25rem;\n  color: var(--snap-inactive);\n}\n\n.icon.inedible::after {\n  font-weight: 900;\n  content: "\\f056";\n  padding: 0 0 0 0.25rem;\n  color: var(--snap-inactive);\n}\n\n.icon.toxic::after {\n  font-weight: 900;\n  content: "\\f071";\n  padding: 0 0 0 0.25rem;\n  color: var(--snap-alert);\n}\n\n.dropdown-menu {\n  margin: 0.15rem 0 0 0;\n  padding: 0;\n  color: var(--snap-text-dark);\n  border: .05rem solid var(--snap-border-light);\n  left: inherit !important;\n}\n\n.non-taxa .dropdown-menu {\n  width: 15rem !important;\n  background-color: var(--snap-dd-non-taxa-bg-intial);\n}\n\n.non-taxa a.dropdown-item.active {\n  background-color: var(--snap-dd-non-taxa-bg-active);\n}\n\na.dropdown-item {\n  color: var(--snap-text-medium-dark);\n  padding: 0.5rem 0 0.5rem 1rem;\n  cursor: pointer;\n}\n\n.dropdown-menu.show {\n  top: -.25rem !important;\n}\n\n.non-taxa a.dropdown-item:hover {\n  background-color: var(--snap-dd-non-taxa-bg-hover);\n}\n\n.underline-external-link {\n  color: var(--snap-link) !important;\n  text-decoration: none;\n  border-bottom: solid .05rem !important;\n  color: inherit;\n  cursor: pointer;\n}\n\n.lesson-title {\n  line-height: 1.6;\n}\n\n.toUpperCase {\n  text-transform: uppercase;\n}\n\n.home, .settings, .nav-info, .list, .glossary, .email, .login, .email > a, .language {\n  cursor: pointer;\n  color: var(--snap-text-dark);\n  font-size: 1.4rem;\n}\n\na.icon:hover {\n  color: var(--snap-text-light);\n}\n\n.email span {\n  font-size: .8rem;\n}\n\n.glossary svg {\n  vertical-align: middle;\n}\n\n.grid-header {\n  background-color: rgb(153, 172, 149);\n  background-color: var(--snap-portrait);\n  display: flex;\n  align-items: center;\n  color: var(--snap-text-dark);\n  width: 100%;\n  border-radius: 0.25rem 0.25rem 0 0;\n  letter-spacing: 0.07rem;\n  text-transform: uppercase;\n}\n\n.grid-header > div {\n  padding: 0 0.5rem;\n}\n\n.hover-box {\n  border: .05rem solid rgba(48, 94, 37,.8);\n  padding: .25rem;\n  margin: 0 0 0 -.25rem;\n  border-radius: 0.25rem;\n}\n\n.nav-icons .active-icon, .active-icon {\n  color: white;\n}\n\n.nav-icons .inactive-icon {\n  color: var(--snap-inactive);\n  cursor: not-allowed;\n}\n\n.info-box .inactive-icon {\n  display: none;\n}\n\n.disabled-icon {\n  cursor: initial;\n  opacity: .38; /* why  38%? google material design */\n  pointer-events: none;\n}\n\n.scrollable.card {\n  text-align: left;\n}\n\n.score-summary-container {\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh));\n}\n\n.snapdragon-container {\n  justify-content: flex-start;\n  position: relative;\n}\n\n.test-card-question.standard-block, .lesson-list-header.centred-block {\n  border-bottom: .03rem solid var(--snap-border-medium);\n}\n\n.home-container {\n  position: relative;\n  display: grid;\n  grid-template-rows: var(--vhStandardBlock) auto;\n}\n\n.feature-types {\n  background-color: var(--snap-content-background);\n}\n\n.species.card {\n  margin: 0;\n}\n\n.non-taxa {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n}\n\n.non-taxa .btn-group {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 .5rem;\n  justify-content: space-evenly;\n  background-color: var(--snap-landscape);\n}\n\n.non-taxa .btn.btn-secondary {\n  height: initial;\n}\n\n.non-taxa .species-header {\n  padding: 0 1.25rem 0 0;\n}\n\n.non-taxon.card img {\n  height: 4rem;\n  width: 4rem;\n}\n\n.non-taxon .btn.btn-secondary {\n  width: 100%;\n  background-color: var(--snap-landscape);\n  border-radius: unset;\n}\n\n.non-taxa-definition {\n  display: flex;\n  align-items: center;\n  padding: 0 2rem;\n}\n\n.non-taxon .definitions {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  height: 100%;\n  text-align: left;\n}\n\n.species.card-small {\n  padding: 0.5rem;\n}\n\n.card.radio-buttons-container {\n  margin: 0 0 0.5rem 0;\n}\n\n.binomial {\n  font-style: italic;\n  text-transform: initial;\n}\n\n.lesson-plans .table-row.species-background:nth-child(n) {\n  background-color: var(--snap-species-highlight-background);\n}\n\n.lesson-plans .table-row.taxon-background:nth-child(n) {\n  background-color: var(--snap-taxon-card-background);\n}\n\n.snapdragon-options {\n  padding: 0 .5rem;\n}\n\n.grid {\n  display: grid;\n  grid-auto-flow: column;\n  width: 100%;\n  height: var(--vhGrid, 100vh);\n  font-size: .8rem;\n}\n\n.left-grid, .right-grid {\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-flow: column;\n  grid-template-rows: var(--vhRunningBlock, 7.5vh) 5px auto var(--vhRunningBlock, 7.5vh);\n}\n\n.left-body, .right-body {\n  display: grid;\n  grid-auto-flow: row;\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh));  \n  background-color: var(--snap-content-background);\n}\n\n.header, .footer {\n  display: flex;\n  align-items: center;\n  padding: 0 0.5rem;\n  letter-spacing: 0.1rem;\n  text-transform: uppercase;\n  color: var(--snap-text-medium-dark);\n}\n\n.header > div:nth-child(2) {\n  max-width: 50%;\n  font-size: .9rem;  \n}\n\n.footer {\n  bottom: 0;\n}\n\n.left-grid .footer .nav-icons, .right-grid .footer .nav-icons {\n  flex: auto;\n  justify-content: space-evenly;\n}\n\n.left-grid .footer .nav-icons li, .right-grid .footer .nav-icons li {\n  margin: 0 !important;\n}\n\n.footer-round, .footer-score span {\n  color: var(--snap-text-medium-dark);\n  padding: 0.75rem;\n}\n\n.left-grid .header, .left-grid .footer {\n  justify-content: flex-end;\n  background-color: var(--snap-portrait);\n}\n\n.right-grid .header, .right-grid .footer {\n  justify-content: center;\n  background-color: var(--snap-landscape);\n}\n\n.header-text {\n  color: var(--snap-text-dark-medium-dark);\n}\n\n.scrollable {\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;  \n}\n\n/* .txt-specimen-species {\n  margin: 0 0 0 1rem;\n} */\n\n.answer {\n  padding: 1rem;\n  text-transform: capitalize;\n  cursor: pointer;\n}\n\n.answer button {\n  width: 10rem;\n}\n\n.squares {\n  display: grid;\n  grid-auto-flow: row;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr 1fr;\n}\n\n.tiles {\n  display: grid;\n  height: 50%;\n  grid-auto-flow: column;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n}\n\n.squares > div {\n  display: grid;\n  justify-self: center;\n  height: 140px;\n  width: 224px;\n}\n\n.squares img, .tiles img {\n  cursor: pointer;\n  height: inherit;\n  width: inherit;\n  object-fit: cover;\n}\n\n.traits.squares img {\n  object-fit: scale-down;\n}\n\n.traits.squares > div.multiple {\n  grid-template-columns: 1fr 1fr;\n  cursor: pointer;\n  width: 80%;\n}\n\n.square, .tile {\n  border-radius: 0.2rem;\n  cursor: pointer;\n}\n\n.strips {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  cursor: pointer;\n  height: calc( (var(--vh, 1vh) * 100) \n    - var(--vhFixtures, 15vh) \n    - var(--vhStandardBlock, 10vh)\n    - var(--vhStandardBlock, 10vh)\n    - var(--vhStandardBlock, 10vh)\n    - var(--vhButtonBlock, 9vh)\n    );\n}\n\n.strip {\n  background: #fff;\n  border: 1px solid transparent;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0,0,0,.2);\n  margin: .5rem .25rem;\n  padding: .75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.strip > div::first-letter {\n  text-transform: capitalize;\n}\n\n  .strip > * {\n    pointer-events: none;\n  }\n\n  .pointer-events-none {\n    pointer-events: none !important;\n  }\n  \n  .pointer-events-initial {\n    pointer-events: initial !important;\n  }\n\n.strips .strip.snap-success {\n  background-color: var(--snap-success-medium);\n  box-shadow: 0 2px 8px rgba(0,0,0,.8);\n}\n\n.strips .strip.snap-alert {\n  background-color: var(--snap-alert-medium);\n  box-shadow: 0 2px 8px rgba(0,0,0,.8);\n  border: none;\n}\n\n.strip.snap-success > div.disabled {\n  color: var(--gray-dark) !important;\n}\n\n.strip div {\n  text-align: center;\n}\n\n.names-container .vernacular-name {\n  max-width: 12rem;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: inline-block;\n}\n\n.names-container.definition .vernacular-name {\n  margin-top: 1.25rem;\n}\n\n.align-left {\n  text-align: left;\n}\n\n.snapdragon.card {\n  border: 0;\n}\n\n.snapdragon.card.align-left {\n  color: var(--snap-text-medium-dark);\n  padding: 0.5rem;\n}\n\n.snapdragon.card.align-left .feature-label {\n  letter-spacing: 0.03rem;\n  width: fit-content;\n  display: inline-table;\n}\n\n.taxon-highlight {\n  background-color: var(--snap-taxon-card-background);\n  padding: 0.5rem;\n  margin: -0.5rem -0.5rem 0 -0.5rem;\n  display: flex;\n  justify-content: right;\n}\n\n.taxon-highlight > div:nth-child(1) {\n  flex: 1;\n  align-self: center;\n}\n\n.taxon-highlight > div:nth-child(2) {\n  align-self: center;\n}\n\n.taxon-highlight img {\n  height: 5.5rem;\n  width: 5.5rem;\n  margin: 0 0 0 1rem;\n  object-fit: cover;\n}\n\n.latin-name {\n  font-style: italic;\n  font-family: serif;\n  text-transform: initial;\n}\n\n.common-name {\n  font-style: normal;\n  text-transform: capitalize;\n}\n\n.taxon-header {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  text-align: left;\n}\n\n.species-header img {\n  filter: grayscale(80%);\n  object-fit: scale-down;\n  max-height: var(--vhStandardBlock, 10vh);\n}\n\n.species-header > div:nth-child(1) {\n  display: flex;\n  flex-direction: column;\n  padding: 0.25rem 1rem 0 0;\n}\n\n.card-link-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.card-link-container i {\n  font-size: 2rem;\n  cursor: pointer;\n  color: var(--snap-iconic-icon-header);\n}\n\n.card-link-container i:hover {\n  color: var(--snap-text-medium-light);\n}\n\n.block-container {\n  position: relative;\n  justify-content: flex-start;\n}\n\n.species-common-name {  \n  text-transform: capitalize;\n}\n\n.data-box-container {\n  height: var(--vhCalendar, 11vh);\n  display: grid;\n  grid-template-columns: 2fr 2fr 3fr;\n  grid-gap: .5rem;\n  border-bottom: .03rem solid var(--snap-dd-non-taxa-bg-hover);\n  font-size: .8rem;\n}\n\n.mixed-content-container {\n  top: calc(\n      var(--vhStandardBlock, 10vh)\n    + var(--vhSmallImageCarousel,23vh));\n  height: calc(\n        var(--vh, 1vh) * 100\n      - var(--vhFixtures,15vh)\n      - var(--vhSmallImageCarousel,23vh)\n      - var(--vhDoubleStandardBlock,20vh)      \n      - .5rem);\n}\n\n.taxon.card-card .mixed-content-container {\n  height: calc(\n        var(--vh, 1vh) * 100\n      - var(--vhFixtures,15vh)\n      - var(--vhDoubleStandardBlock,20vh) \n      - var(--vhCalendar)\n      - 5px);\n      padding: .5rem;\n}\n\n.taxon.card-card .mixed-content-container .centred-block {\n  flex-direction: column;\n  height: 100%;\n  align-items: flex-start;\n  justify-content: space-evenly;\n}\n\n.taxon.card-card .data-box-container {\n  grid-template-columns: 1fr 2fr;\n  padding: 0 .5rem;\n}\n\n.inat-box .data-box {\n  color: var(--snap-text-medium-light);\n  height: 100%;\n  border-left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  border-right: 1px solid var(--snap-border-lightest);\n  font-size: .8rem\n}\n\n.inat-box .data-box > div:nth-child(1), .inat-box .data-box > div:nth-child(2) {\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  grid-gap: .25rem;\n}\n\n.inat-box .data-box > div:nth-child(2) > div:nth-child(1) {\n  padding: 0 0.5rem 0 0;\n}\n\n.inat-box .data-box > div > div:nth-child(2) > div {\n  text-align: center;\n}\n\n.taxon-data > span:nth-child(1) {\n  min-width: 50%;\n}\n\n.data-box .taxon-data:nth-child(1) > span {\n  text-transform: uppercase;\n} \n\n.taxon-data {\n  display: flex;\n  flex-direction: row;\n}\n\n.latin {\n  font-style: italic;\n  font-family: serif;\n}\n\n.taxon-members {\n  font-style: italic;\n}\n\n.family-img {\n  filter: grayscale(80%);\n}\n\n.family-name {\n  text-transform: uppercase;\n}\n\n.history div {\n  margin: 0 0 1rem 0;\n}\n\n.clickable {\n  cursor: pointer;\n}\n\n.btn {\n  font-size: inherit;\n  padding: .5rem;\n  border: none;\n}\n\n.btn:hover {\n  opacity: .8;  \n}\n\n.btn.focus, .btn:focus {\n  box-shadow: none;\n}\n\nbtn:disabled {\n  pointer-events: none;\n}\n\n.btn-placeholder.btn {\n  color: var(--snap-text-dark);\n}\n\n.snap-btn {\n  background-color: var(--snap-list-header-background);\n  color: var(--snap-text-black);\n  letter-spacing: .05rem;\n  border: 1px solid var(--snap-portrait);\n  padding: .25rem .75rem;\n}\n\n.snap-btn:focus {\n  outline: 1px solid var(--snap-border-medium);\n}\n\n.snap-btn:active {\n  color: green !important;\n}\n\n.snap-btn:focus:not(:focus-visible), .snap-icon-btn:focus:not(:focus-visible) {\n  color: var(--snap-youtube-green) !important;\n  outline: 1px solid var(--snap-border-medium);\n  border: 1px solid var(--snap-youtube-green);\n}\n\n.snap-icon-btn {\n  color: var(--snap-text-dark);\n  background-color: transparent;\n  border: 1px solid transparent;\n  padding: 0 .5rem;\n}\n\n.snap-icon-btn:focus, .snap-icon-btn:hover {\n  color: var(--snap-youtube-green);\n  outline: 1px solid var(--snap-border-medium);\n}\n\n.snap-link-btn, .snap-no-link-btn {\n  color: var(--snap-text-dark);\n  background-color: transparent;\n  border: none;\n  font-size: .7rem;\n  width: intrinsic;           /* Safari/WebKit uses a non-standard name */\n  width: -moz-max-content;    /* Firefox/Gecko */\n  width: -webkit-max-content; /* Chrome */\n}\n\n.snap-no-link-btn {\n  pointer-events: none;\n}\n\n.snap-action-btn {\n  background-color: var(--snap-tertiary-background);\n  color: var(--snap-text-light);\n  letter-spacing: .05rem;\n  border: 1px solid var(--snap-non-taxa) !important;\n  padding: .5rem .75rem;\n}\n\n.snap-action-btn:focus {\n  outline: 1px solid var(--snap-border-medium);\n  color: var(--snap-text-black);\n}\n\n.snap-action-btn.snap-success {\n  color: var(--snap-text-light) !important;\n  background-color: var(--snap-success) !important;\n  border: 0.05rem solid var(--snap-success);\n}\n\n.snap-action-btn.snap-alert {\n  color: var(--snap-text-light) !important;\n  background-color: var(--snap-alert) !important;\n  border: 0.05rem solid var(--snap-alert);\n}\n\n.btn-tertiary {\n  color: var(--snap-text-light);\n  background-color: var(--snap-tertiary-background) !important;\n  border: 1px solid var(--snap-border-light);\n  cursor: pointer !important;\n}\n\n.btn-tertiary:focus {\n  outline: 1px solid var(--snap-border-medium);\n  color: var(--snap-text-black);\n}\n\n.dropdown-toggle::after {\n  vertical-align: 0.2rem;\n  margin-left: 0.2rem;\n}\n\n.course-description {\n  margin: 1rem 0;\n}\n\n.course-description span {\n  margin: 0 0 0.5rem 0;\n}\n\n.course-description span:nth-child(1) {\n  background-color: lightblue;\n  padding: 0.25rem;\n}\n\n.course-description .snap-alert {\n  width: 50%;\n}\n\n.species-count {\n  vertical-align: super;\n}\n\n.clear-lesson button {\n  float: left;\n}\n\n.collection span {\n  padding: 0 0.5rem;\n  cursor: pointer;\n}\n\n.dropdown div {\n  white-space: nowrap;\n}\n\n.single-tile {\n  display: flex;\n  flex-direction: column;\n  margin: 2rem 1rem;\n}\n\n.image-border {\n  text-align: center;\n  margin: 0 0 2rem 0;\n  border: .05rem solid;\n  border-radius: .2rem;\n  padding: 1rem;\n}\n\n.blocks {\n  flex: auto;\n  flex-direction: column;\n  padding: 2rem;\n}\n\n.block {\n  font-size: 1rem;\n  display: inline-block;\n  cursor: pointer;\n  width: fit-content;\n  background-color: var(--snap-block-light);\n  color: var(--snap-text-dark);\n  margin: 0 .5rem 0 0;\n  padding: .25rem .5rem;\n  letter-spacing: .1rem;\n  border-radius: .2rem;\n  border: .05rem solid var(--snap-text-dark);\n}\n\n.pool .block {\n  margin: 0 .5rem .5rem 0;\n}\n\n.block + hr {\n  margin: .5rem 0 0 0;\n}\n\n.pool {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.pool .block.active {\n  color: var(--snap-text-light);\n  background-color: rgb(128, 128, 128);\n}\n\n.pool .block.correct {\n  color: var(--snap-text-light);\n  background-color: var(--snap-success);\n}\n\nspan.correct {\n  color: rgb(2, 107, 26);\n}\n\n.block.snap-success, .block.snap-alert {\n  color: var(--snap-text-light) !important;\n  background-color: var(--snap-success) !important;\n  border: none;\n}\n\n.block.snap-alert {\n  background-color: var(--snap-alert) !important;\n}\n\n.snap-alert-fg {\n  color: var(--snap-alert);\n}\n\n.btn.snap-alert {\n  padding: 0.175rem 0.75rem;\n}\n\n.block.white {\n  color: var(--snap-text-dark);\n}\n\n.blocks button {\n  margin: 2rem 0 0 0;\n}\n\n.delay-slider {\n  margin: 1rem 0;\n}\n\n.delay-slider > div input {\n  flex: auto;\n  margin: 0 .5rem;\n}\n\n.response-update {\n  flex: initial;\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  bottom: 0.5rem;\n  right: .5rem;\n  left: .5rem;\n}\n\n.action-update {\n  width: 100%;\n}\n\n.action-update button {\n  width: 100%;\n}\n\n.answer-container .icon-container {\n  position: relative;\n  display: inline-block;\n}\n\n.answer-container .icon {\n  font-size: 1.5rem;\n  position: absolute;\n  top: -0.9rem;\n}\n\n.taxa svg {\n  margin: 0 .25rem 0 0;\n}\n\n.taxa .si-glyph-mushrooms svg {\n  margin: 0;\n}\n\n.species-answer {\n  display: none;\n}\n\n.species-question,\n.species-answer,\n.btn-placeholder {\n  text-align: center;\n  border: 1px solid var(--snap-border-light);\n}\n\n.species-question.btn,\n.btn-placeholder.btn {\n  color: var(--snap-text-dark);\n  background-color: var(--snap-block-light);\n}\n\nbutton:disabled {\n  cursor: initial !important;\n}\n\n.species-answer {\n  text-align: center;\n  color: var(--snap-text-dark);\n  background-color: var(--snap-block-light);\n  border-left: 1px solid var(--snap-border-light);\n  border-right: 1px solid var(--snap-border-light);\n  border-bottom: 1px solid var(--snap-border-light);\n}\n\n.answer-box-success .icon {\n  color: var(--snap-success);\n}\n\n.answer-box-alert .icon {\n  color: var(--snap-alert);\n}\n\n.species-card-images,\n.non-taxon-card-images {\n  /* height: initial; */\n  display: grid;\n  grid-template-columns: 1fr;\n  cursor: pointer;\n}\n\n.non-taxon-card-images {\n  margin: 0;\n}\n\n.trait.card li span:nth-child(1) {\n  width: 25%;\n  text-align: left;\n}\n\n.trait.card li span:nth-child(2) {\n  width: 75%;\n  text-align: left;\n}\n\n.toggle-content,\n.toggle-content * {\n  display: none;\n}\n\n.toggle-content.is-visible,\n.toggle-content.is-visible * {\n  display: initial;\n}\n\n.btn-secondary:not(:disabled):not(.disabled).active {\n  background-color: var(--snap-text-light);\n  color: var(--snap-text-dark);\n}\n\n.non-taxon .btn-secondary:not(:disabled):not(.disabled).active {\n  background-color: var(--snap-species-header-background);\n}\n\n.rb.btn-group {\n  display: flex;\n  flex-direction: column;\n}\n\n.rb.btn-group .btn.btn-secondary.active {\n  color: var(--snap-success);\n  background-color: inherit;\n  border: none;\n}\n\n.btn-secondary:not(:disabled):not(.disabled):active {\n  color: var(--snap-text-medium-dark);\n  background-color: initial;\n  border: none;\n}\n\n.rb.btn-group .btn:hover {\n  color: rgb(100, 100, 100);\n}\n\n.btn.btn-secondary.disabled.active {\n  opacity: 1;\n}\n\n.rb.btn-group label {\n  margin: 0 0 .5rem 0;\n}\n\n.rb.btn-group input[type=radio] {\n  box-sizing: border-box;\n  padding: 0;\n  position: absolute;\n  clip: rect(0,0,0,0);\n  pointer-events: none;\n}\n\n.btn.btn-secondary {\n  color: var(--snap-text-medium-dark);\n  background-color: var(--white);\n  border: 0;\n  width: fit-content;\n  border: none;\n}\n\n.btn.btn-secondary:hover {\n  transition: none;\n}\n\n.btn.btn-secondary.disabled .collectionName, .btn.btn-secondary.active .guideName {\n  border: none;  \n}\n\n.left-grid,\n.species-card-wiki-entry,\n.collection-preview,\n.collection button,\n.collections-skills {\n  display: none;\n}\n\n.species-table td .portrait input {\n  height: 1.15rem;\n  width: 1.15rem;\n}\n\n.badge {\n  vertical-align: text-top;\n  cursor: pointer;\n}\n\n.badge-light {\n  color: inherit;\n  background-color: transparent;\n  margin: -0.25rem 0 0 0.25rem;\n  padding: 0.4rem 0.4rem 0.3rem 0.4rem;\n}\n\n.badge-list {\n  height: 100%;\n  padding: 1rem;\n  background-color: var(--snap-snap-action-btn);\n}\n\n.question-images {\n  display: grid;\n  height: 8rem;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  grid-gap: 0.5rem;\n}\n\n.layer-container {\n  cursor: pointer;\n  background-size: cover;\n  background-position: center;\n}\n\n.layer {\n  height: 100%;\n  width: 100%;\n  color: rgb(101, 132, 37, 0);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.layer > div {\n  text-align: center;\n}\n\n.feature-label {\n  color: var(--snap-text-green);\n}\n\n.lesson-option-headers {\n    height: 2.5rem;\n    display: flex;\n    align-items: center;\n    color: var(--snap-text-dark);\n    letter-spacing: 0.03rem;\n    padding: 0;\n    width: fit-content;\n}\n\n.faded {\n  color: var(--snap-border-lightest);\n}\n\n.compare-species-link {\n  cursor: pointer;\n}\n\n.imageSlider .carousel-inner {\n  display: flex;\n  flex-direction: column;\n  background-color: rgba(211, 214, 173, 0.4);\n}\n\n.imageSlider .carousel-inner > div {\n  width: inherit;\n}\n\n.imageSlider .carousel-control-next, .imageSlider .carousel-control-prev {\n  top: 40%;\n  height: 20%;\n  width: 10%;\n  background-color: rgba(211, 214, 173, 0.2);\n  opacity: 0.5;\n}\n\n.carousel-control-next button, .carousel-control-prev button {\n  background-color: transparent !important;\n  border: none !important;\n}\n\n.carousel-control-next[disabled="disabled"],\n.carousel-control-prev[disabled="disabled"] {\n  pointer-events: none;\n}\n\n.imageSlider .carousel.slide {\n  background-color: var(--snap-text-dark-medium-dark);\n}\n\n.imageSlider .carousel-inner > div:nth-child(1), .imageSlider .carousel-item {\n  height: var(--vhExtraSmallImageCarousel);\n  min-height: var(--vhExtraSmallImageCarousel);\n}\n\n.species-card-images .carousel-item-next, .species-card-images .carousel-item-prev, .species-card-images .carousel-item.active {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.imageSlider .carousel-item-next, .imageSlider .carousel-item-prev, .imageSlider .carousel-item.active {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  pointer-events: all;\n}\n\n.info-box .carousel-item-next, .info-box .carousel-item-prev, .info-box .carousel-item.active {\n  display: grid;\n}\n\n.carousel-item.active button {\n  width: initial;\n}\n\n.imageSlider .carousel-item > div {\n  height: 90%;\n  background-size: inherit;\n  background-repeat: no-repeat;\n  background-position: center;  \n}\n\n#imageSlider_card-card .carousel-item > div, #imageSlider_card-card .carousel-item > div {\n  pointer-events: none;\n}\n\n.imageSlider .carousel-item > div.contain-image {\n  background-size: contain;\n}\n\n.imageSlider .carousel-control-next-icon,\n.imageSlider .carousel-control-prev-icon {\n  width: 1.5rem;\n  height: 1.5rem;\n  background-color: transparent;\n  border: none;\n}\n\n#imageSlider1 {\n  flex: 1;\n}\n\n#imageSlider2 {\n  flex: 1;\n}\n\n#imageSlider3 {\n  flex: 1;\n}\n\n.info-box .carousel.slide {\n  float: right;\n  width: 100%;\n  background-color: var(--snap-species-header-background);\n}\n\n.info.carousel.slide .carousel-item div dt, .info.carousel.slide .carousel-item div dd {\n  padding: .25rem 0;\n  text-align: center;\n  margin: 0 15%;\n  height: var(--vhHalfStandardBlock, 5vh);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.info.carousel.slide .carousel-item div dt, .info.carousel.slide .carousel-item div dd {\n  background-color: rgba(128, 128, 128, 0.3);\n}\n\n.info.carousel.slide .carousel-item div dd {\n  background-color: rgba(128, 128, 128, 0.1);\n  text-transform: lowercase;\n}\n\n.info.carousel-control .carousel-control-next-icon {\n  color: black;\n}\n\n.carousel-control-prev-icon {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23000\' viewBox=\'0 0 8 8\'%3E%3Cpath d=\'M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z\'/%3E%3C/svg%3E");\n}\n\n.carousel-control-next-icon {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23000\' viewBox=\'0 0 8 8\'%3E%3Cpath d=\'M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z\'/%3E%3C/svg%3E");\n}\n\n.bird-song div:nth-child(2) {\n  background-color: rgb(142, 160, 119);\n}\n\n.bird-song-bg {\n  background-color: var(--snap-collection-active);\n}\n\n.bird-song-icon {\n  color: rgba(0, 0, 0, 1);\n  margin-left: -.5rem;\n}\n\n.bird-song-icon-disabled {\n  color: rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n  margin-left: -.5rem;\n}\n\niframe#birdsong {\n  width: 1px;\n  min-width: 260px;\n}\n\n.rank {\n  border-radius: 0.24rem;\n  display: inline-block;\n  vertical-align: text-top;\n}\n\n.radio-buttons.disabled label {\n  color: rgb(100,100,100);\n}\n\n.visual-match .description div:empty,\n.visual-match .description span:empty {\n  display: none;\n}\n\ndiv.hide-empty:empty,\nspan.hide-empty:empty {\n  display: none !important;\n}\n\n.visual-match .description {\n  background-color: rgb(200, 197, 172);\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n}\n\n.visual-match .description span {\n  flex: 1;\n  padding: 0.5rem;\n}\n\n.comparison-description {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0 0.5rem;\n}\n\n.species-search .icon {\n  font-size: 2.5rem;\n  height: calc(var(--vhStandardBlock, 30vh) * 1.5);\n  color: rgb(90, 147, 252);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.species-search .icon i:not(.slow-spin) {\n  color: var(--snap-active);\n}\n\n.question-container .icon {\n  color: rgb(90, 147, 252);\n  font-size: 1.8rem;\n}\n\n.slow-spin {\n  -webkit-animation: fa-spin 6s infinite linear;\n  animation: fa-spin 6s infinite linear;\n}\n\na.collection-disabled {\n  color: grey;\n  pointer-events: none;\n}\n\n.attribution-layer {\n  color: var(--snap-text-light);\n}\n\n.rights-attribution {\n  display: grid;\n  grid-template-columns: 2rem auto;\n  height: var(--vhRunningBlock);\n  background-color: rgb(166, 177, 155);\n  font-size: .7rem;\n}\n\n.rights-attribution .underline-link {\n  color: white !important;\n}\n\n.rights-link-copyright {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  z-index: 25;\n}\n\n.rights-link-copyright .underline-link {\n  line-height: 1.5;\n}\n\n.rights-link-copyright i {\n  color: white;\n  font-size: 1.1rem;\n}\n\n.rights-link-copyright i.fas.fa-copyright {\n  font-size: 1.3rem;\n}\n\n.rights-link {\n  height: var(--vhRunningBlock);\n  grid-template-columns: 2rem auto 2rem;\n  background-color: rgb(166, 177, 155);\n  display: grid;\n}\n\n.rights-link > div:nth-child(1), .rights-link > div:nth-child(3) {\n  cursor: pointer;\n}\n\n.rights-attribution > div > div:nth-child(1) {\n  margin: 0 0.5rem 0 0;\n}\n\n.rights-attribution > div > div:nth-child(2) {\n  flex: 1;\n}\n\n.rights-attribution span {\n  vertical-align: baseline;\n  margin: 0 0 0 0.25rem;\n}\n\n.greek {\n  vertical-align: super;\n}\n\n.dropdown.collections {\n  display: flex;\n}\n\n.range-slider-control {\n  display: flex;\n  justify-content: space-between;\n}\n\n.carousel-indicators {\n  height: var(--vhRunningBlock);\n  bottom: 0;\n  margin: 0 !important;\n  margin-left: 2.5rem !important;\n  margin-right: 2.5rem !important;\n  align-items: center;\n}\n\n.carousel-indicators li {\n  background-color: var(--snap-text-medium-dark);\n  width: 1rem;\n  height: 0.25rem;\n  margin-bottom: 0;\n}\n\n.carousel-indicators .active {\n  background-color: white;\n}\n\n.question-header {\n  display: flex;\n  background-color: var(--snap-species-header-background);\n  color: var(--snap-dark);\n  justify-content: center;\n}\n\n.card-link {\n  cursor: pointer;\n  color: rgb(128, 121, 49);\n}\n\n.calendar-container {\n  display: flex;\n  align-items: center;\n  border-right: 1px solid var(--snap-border-lightest);\n  justify-content: center;\n}\n\n.calendar-box .row {\n  display: grid;\n  grid-auto-flow: row;\n}\n\n.calendar-box .col {\n  display: grid;\n  grid-auto-flow: column;\n}\n\n.calendar-box .col div {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.4rem;\n  height: 1.4rem;\n}\n\n.most-observations {\n  color: var(--orange);\n}\n\n.current-month {\n  border: 0.05rem solid rgba(108, 117, 125,.8);\n}\n\n.floating-card > span:nth-child(1) {\n  background: #fff;\n  border: none;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0,0,0,.2);\n  display: inline-block;\n  font-weight: 300;\n  margin: .5rem;\n  padding: .8rem 1.1rem;\n}\n\n.home-container .snapdragon-header {\n  text-transform: uppercase;\n  color: var(--snap-text-medium-light);\n  font-size: 1.6rem;\n  letter-spacing: .25rem;\n  border-bottom: 1px solid var(--snap-border-lightest);\n}\n\n.home-container .snapdragon-header a, .home-container .snapdragon-header a:visited {\n  color: var(--snap-text-medium-light);\n}\n\n.home-container .snapdragon-tag, .home-container .summary-scores, .trait-card-summary-container .summary-scores {\n  justify-content: center;\n  font-style: italic;\n  display: flex;\n  color: var(--snap-link);\n  letter-spacing: .03rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.trait-card-summary-container .summary-scores {\n  padding: 0 1rem;\n}\n\n.home-guide .taxa {\n  color: var(--snap-collection-active);\n}\n\n.home-guide .taxa > span {\n  margin-right: .25rem;\n}\n\n.summary-scores .summary-progress {\n  margin: 1rem 0 0 0;\n  position: relative;\n}\n\n.summary-scores .summary-progress span {\n  margin: 0 0 0 .5rem;\n}\n\n.summary-scores .summary-progress span.above {\n  position: relative;\n  bottom: .5rem;\n}\n\n.summary-scores .summary-progress span.below {\n  position: relative;\n  top: .5rem;\n}\n\n.summary-scores span {\n  margin: 0 .25rem 0 0;\n}\n\n.summary-scores span:nth-child(2) {\n  vertical-align: super;\n}\n\n.trait-line {\n  margin-top: 2rem;\n}\n\n.trait-line .small-icon {\n  font-size: 1rem !important;\n  margin: 0 !important;\n}\n\n.trait-icon, .trait-icon > span {\n  margin: 0 !important;\n}\n\n.trait-icon svg g g {\n  fill: var(--snap-link);\n}\n\n.home-container .snapdragon-tag .inat-widget span:nth-child(1) {\n  font-style: initial;\n}\n\n.home-container .vernacular-language {\n  font-size: 1rem;\n}\n\n.delete-guide-link > span.active {\n  color: var(--snap-alert) !important; \n  pointer-events: initial;\n}\n\n.delete-guide-link > span.disabled {\n  color: var(--secondary) !important;\n  pointer-events: none;\n}\n\n.delete-guide-link input {\n  cursor: pointer;\n  width: 1rem;\n  height: 1rem;\n  vertical-align: text-bottom;\n}\n\n.home-container .snapdragon-tag > div .underline-link {\n  text-transform: initial;\n}\n\n.home-container .snapdragon-tag > div .super-text {\n  display: inline-block;\n  margin: .5rem 0 0 .25rem;\n  vertical-align: top;\n  color: var(--secondary);\n  font-style: italic;\n}\n\n.snapdragon-create-guide {  \n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  color: var(--snap-link);\n}\n\n.snapdragon-create-guide > div:nth-child(1) {\n  letter-spacing: .05rem;\n  text-transform: uppercase;\n}\n\n.snapdragon-create-guide .for-text {\n  vertical-align: middle;\n}\n\n.snapdragon-create-guide .toggle-links {\n  display: flex;\n  justify-content: flex-end;\n  margin: .5rem .25rem 0 0;\n}\n\n.edit-guide-link, .save-guide-link, .margin-right {\n  margin: 0 .5rem 0 0;\n}\n\n.swap-in-card {\n  display: initial;\n}\n\n.swap-out-card {\n  display: none !important;\n}\n\n.no-pointer-events {\n  pointer-events: none;\n}\n\n.snapdragon-intro {\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhStandardBlock,20vh) - var(--vhRunningBlock));\n  top: calc(var(--vhStandardBlock));  \n}\n\n.snapdragon-intro > h3, .snapdragon-intro > h4, .snapdragon-intro > h5 {\n  line-height: 2;\n  font-size: 1rem;\n  margin: 1.2rem 2.4rem 0 2.4rem !important;\n}\n\n.snapdragon-intro .youtube-icon {\n  font-size: 1rem;\n}\n\n.lesson-list {\n  position: relative;\n  background-color: var(--snap-block-light);\n}\n\n.lesson-list-header {\n  padding: 0 !important;\n  background-color: var(--snap-list-header-background);\n  justify-content: space-between;\n}\n\n.lesson-list-header > div:nth-child(1) {\n  display: flex;\n  align-items: center;\n}\n\n.lesson-list-header > div:nth-child(1) > div {\n  color: var(--snap-text-medium-light);\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n  padding-right: 1rem;\n}\n\n.lesson-list-header > div:nth-child(2) {  \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.lesson-list-header > div:nth-child(2) > div {  \n  height: calc( var(--vh) * 5);\n  width: calc( var(--vh) * 5);\n}\n\n.lesson-list-header > div:nth-child(1) {\n  padding-left: .5rem !important;\n}\n\n.lesson-list-header > div[data-toggle-state="off"]:nth-child(1) > div:nth-child(1) {\n  display: none;\n}\n\n.lesson-list-header > div[data-toggle-state="on"]:nth-child(1) > div:nth-child(2) {\n  display: none;\n}\n\n.lesson-list-header i {\n  font-size: 1rem;\n  vertical-align: super;\n  color: var(--snap-text-medium-light);\n  cursor: pointer;\n}\n\n.lesson-list-carousel-item {\n  display: flex;\n  margin: .25rem 0;\n}\n\n.lesson-list-carousel-item > div:nth-child(3) {\n  font-size: 1.3rem;\n  cursor: pointer;\n  align-items: center;\n  display: flex;\n  position: absolute;\n  right: .5rem;\n}\n\n.lesson-list-item {\n  padding: 1rem .5rem;\n  pointer-events: none;\n}\n\n.lesson-review, .lesson-terms-review {\n  pointer-events: initial;  \n  /* line-height: 3; */\n}\n\n.lesson-review i {\n  font-size: .9rem;\n  color: var(--snap-collection);\n}\n\n.lesson-review i.fa-sync, .lesson-list-item i.fa-sync {\n  font-size: 1rem;\n  color: var(--snap-active);\n}\n\n.lesson-list > div > div:nth-child(1) {\n  justify-content: space-between;\n  /* top: 0; */\n  /* z-index: 30;\n  width: 100%; */\n}\n\n.lesson-list div.lesson-list-carousel-item:nth-of-type(2n) {\n  background-color: var(--snap-lesson-row-green);\n}\n\n.lesson-list div.lesson-list-carousel-item:nth-of-type(2n+1) {\n  background-color: var(--snap-lesson-row-green);\n}\n\n.lesson-list .scrollable {\n  width: 100%;  \n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhStandardBlock, 10vh));\n  flex-direction: column;\n  top: var(--vhStandardBlock, 10vh);\n  border-top: 1px solid var(--snap-border-lightest);\n}\n\n.lesson-list .scrollable .btn input[type=radio] {\n  position: absolute;\n  clip: rect(0,0,0,0);\n}\n\n.youtube-green-fg {\n  color: var(--snap-youtube-green);\n}\n\n.button-block {\n  height: var(--vhButtonBlock, 9vh);\n  margin: 0 !important;\n}\n\n.running-block {\n  height: var(--vhRunningBlock, 9vh);\n}\n\n.calendar-block {\n  height: var(--vhCalendar, 11vh);\n}\n\n.modal-footer.double-centred-block {\n  background-color: var(--snap-portrait);\n  text-transform: uppercase;\n  cursor: pointer;\n}\n\n.video {\n  position: sticky;\n  position: -webkit-sticky; \n  top: 0; \n  margin: 0;\n  padding: 0;\n  padding-top: .4rem;\n  border-top: 1px solid var(--snap-border-light);\n  position: relative;\n  height: 0;\n  padding-top: 56.25%;\n  width:100%;\n}\n\n.video iframe {\n  position: absolute;\n  top: 0; left: 0;\n  border: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.home-scrolling-container {\n  position: relative;\n}\n\n.home-scrolling-container .scrollable {\n  top: calc( var(--vhScrollingTop));\n}\n\n.form-check {\n  pointer-events: initial !important;\n  display: flex;\n  align-items: center;\n}\n\n.form-check-input {\n  margin-top: 0;\n}\n\n.lesson-list .btn-group label.form-check-label {\n  background-color: initial;\n  cursor: pointer;\n}\n\n.main-header {\n  font-size: 1.4rem;\n  text-transform: uppercase;\n  letter-spacing: .25rem;\n}\n\n.fa, .fab, .fal, .far, .fas {\n  line-height: 1.5;\n}\n\n#insertParent {\n  font-size: .8rem;\n  padding: 1rem;\n}\n\n.col-count-2 {\n  column-count: 2;\n}\n\n.col-count-3 {\n  column-count: 3;\n}\n\n#insertParent > div > div:nth-child(1) {\n  font-style: italic;\n  font-size: .9rem;\n}\n\n.border-bottom {\n  border-bottom: .03rem solid var(--snap-border-medium);\n}\n\n.lesson-companion {\n  display: flex;\n    align-items: center;\n    justify-content: center;\n    font-style: italic;\n    font-size: 1.1em;\n    height: var(--vhStandardBlock, 10vh);\n}\n\n.score-summary {\n  top: calc(var(--vhStandardBlock));\n  padding: .5rem 1.5rem;\n}\n\n.score-summary.scrollable.review-summary {\n  bottom: 1rem;\n}\n\n.continue-link {\n  margin-top: .5rem;  \n}\n\n.highlighted-for-review-row {\n  background-color: var(--snap-content-background) !important;\n  border-top: 1px solid var(--snap-btn-auxillary);\n  border-right: 1px solid var(--snap-btn-auxillary);\n  border-bottom: 1px solid var(--snap-btn-auxillary);\n  border-left: 1px solid var(--snap-btn-auxillary);\n}\n\n.score-summary-row {\n  border-bottom: .3rem solid var(--snap-content-background);\n  padding: 1rem 0;\n}\n\n.score-summary-row-title {\n  padding: .5rem 0 0 0;\n}\n\n.score-summary-row.species {\n  background-color: var(--snap-header-background);\n  border: none;\n  display: flex;\n  width: 100%;\n}\n\n.score-summary-row.header {\n  cursor: pointer;\n  background-color: initial;\n  font-size: initial;\n  letter-spacing: initial;\n  background-color: var(--snap-row-background);\n}\n\n.score-summary-row > div:nth-child(1), .score-summary-row > div:nth-child(3) {\n  width: 5rem;\n  min-width: 5rem;\n}\n\n.score-summary-row > div:nth-child(1) i, .score-summary-row > div:nth-child(3) i {\n  font-size: 1.2rem;\n}\n\n.score-summary-row > div {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.score-summary-row > div:nth-child(2) {\n  flex: auto;\n  align-items: flex-start;\n  max-width: 100%;\n}\n\n.score-summary-row.in-columns {\n  flex-direction: column;\n  padding: 0;\n}\n\n.score-summary-row.in-columns > div {  \n  display: flex;\n  flex-direction: row;\n  width: 100%;\n}\n\n.score-summary-row.in-columns > div > div {\n  padding: 1rem 0;\n}\n\n.score-summary-row.in-columns > div > div:nth-child(1), .score-summary-row.in-columns > div > div:nth-child(3) {\n  width: 6rem;\n  display: flex;\n  justify-content: center;\n}\n\n.score-summary-row.in-columns > div > div:nth-child(2) {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  border-bottom: .03rem solid var(--snap-dd-non-taxa-bg-hover);\n}\n\n.score-summary-row.in-columns > div > div:nth-child(2) > div {\n  font-size: .8rem;\n}\n\n.score-summary-row.in-columns > div > div:nth-child(2) > div:nth-child(1) {\n  padding: .5rem;\n}\n\n.score-summary-row.in-columns div[data-is-true="true"] > div:nth-child(2) {\n  color: var(--snap-success);\n}\n\n.score-summary-row.in-columns div[data-is-true="true"] > div:nth-child(2) {\n  border: solid 1px var(--snap-progress-bar);\n  padding: .3rem;\n  display: inline-block;\n}\n\n.score-summary-row.in-columns div[data-is-wrong-answer="true"] {\n  color: var(--snap-alert); \n}\n\nimg[data-has-image="false"] {\n  display: none;\n}\n\n.score-summary-row > div:nth-child(1) i {\n  display: none;\n}\n\n.score-summary-row > div[data-is-true="true"]:nth-child(1) i:nth-child(1) {\n  display: initial;\n  color: rgb(52, 105, 23,.5);\n  font-size: .8rem;\n  font-size: 1.5rem;\n}\n\n.score-summary-row > div:nth-child(1)[data-is-true="false"] i:nth-child(2) {\n  display: initial;\n  color: var(--snap-alert);\n  color: rgba(183, 12, 21,.5);\n  font-size: 1.5rem;\n}\n\n.score-summary-row img {\n  width: 98px;\n  height: 68px;\n}\n\n.score-summary-row.title > span {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.score-summary-footer {\n  justify-content: flex-end;\n  align-items: flex-start;\n}\n\n.concealed {\n  opacity: 0;\n}\n\n.fa, .fab, .fal, .far, .fas {\n  line-height: 1.5 !important;\n}\n\n.autocomplete {\n  height: 5rem !important;\n  position: absolute !important;\n}\n\n.login.icon > i:nth-child(2) {\n  color: var(--snap-text-light);\n}\n\n.login.icon[data-is-logged-in="true"] > i:nth-child(1) {\n  display: none;\n}\n\n.login.icon[data-is-logged-in="false"] > i:nth-child(2) {\n  display: none;\n}\n\n.quick-fire {\n  position: relative;\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh));\n  display: flex;\n  flex-direction: column;\n}\n\n/* .quick-fire .score {\n  bottom: 5rem;\n  position: absolute;\n} */\n\n.quick-fire .strips {\n  height: initial;\n}\n\ninput[type="number"].big {\n  width: 4rem;\n  padding: .5rem;\n}\n\ninput[type="number"].medium {\n  width: 3rem;\n  padding: .25rem;\n  font-size: .8rem;\n}\n\n.quick-fire-taxa {\n  column-count: 2;\n}\n\n.quick-fire label, .quick-fire-taxa label {\n  cursor: pointer;\n}\n\n.quick-fire-taxa span, .quick-fire-branches span {\n  font-size: .6rem;\n  vertical-align: super;\n  display: inline-block;\n  padding: 0 .125rem;\n  min-width: 1.5rem;\n  text-align: left;\n}\n\n.quick-fire-branches span {\n  font-size: .6rem;\n}\n\n.quick-fire .btn-group {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.quick-fire .btn-group >.btn {\n  background-color: var(--snap-snap-action-btn);\n  margin: 0 0 .5rem 0;\n  border-radius: .25rem !important;\n  letter-spacing: .03rem;\n  width: fit-content;\n  width: max-content;\n  cursor: pointer !important;  \n}\n\n.quick-fire .btn-group >.btn.active {\n  background-color: var(--snap-text-medium-dark-hover);\n  color: var(--snap-text-light);\n}\n\n.quick-fire .quick-fire-branches.btn-group >.btn {\n  background-color: var(--snap-btn-filter-off);\n  border: 1px solid var(--snap-border-lightest);\n}\n\n.quick-fire .quick-fire-options .btn-secondary {\n  border: 1px solid var(--snap-collection-active);\n}\n\n.quick-fire .quick-fire-options .btn-secondary:not(:disabled):not(.disabled).active {\n  color: var(--snap-text-light);\n  background-color: var(--snap-tertiary-background);\n  border: 1px solid var(--snap-border-light);\n}\n\n.quick-fire .quick-fire-branches .btn-secondary {\n  font-size: .7rem;\n}\n\n.quick-fire .quick-fire-branches .btn-secondary:not(:disabled):not(.disabled).active {\n  font-size: .7rem;\n  background-color: var(--snap-btn-filter-on);\n  color: var(--snap-text-dark-medium-dark);\n  border: 1px solid var(--snap-border-light);\n}\n\n.quick-fire .btn {  \n  cursor: pointer !important;\n}\n\n.quick-fire-text-entry > div{\n  width: 100%;\n}\n\n.quick-fire .custom-checkbox .custom-control-input:checked ~ .custom-control-label::before {\n  background-color: var(--snap-btn-blue);\n}\n\n.quick-fire-summary-row.card {\n  background-color: var(--snap-row-background);\n  text-align: left;\n  cursor: pointer;\n}\n\n.quick-fire-summary-row .card-header {\n  border-bottom: 0;\n}\n\n.quick-review-tabs span {\n  pointer-events: none;\n}\n\n.nav-link {\n  color: var(--snap-text-medium-dark);\n  letter-spacing: .03rem;\n}\n\n.nav-pills .nav-link.active, .nav-pills .show>.nav-link {\n  color: var(--snap-text-light);\n  color: var(--snap-text-medium-dark);\n  background-color: var(--snap-collection-light);\n}\n\n.nav-pills .nav-item:nth-child(1) .nav-link.active, .nav-pills .nav-item:nth-child(1) .show>.nav-link {\n  background-color: var(--snap-success-medium);\n}\n\n.nav-pills .nav-item:nth-child(2) .nav-link.active, .nav-pills .nav-item:nth-child(2) .show>.nav-link {\n  background-color: var(--snap-alert-medium);\n}\n\n.nav-pills .nav-link {\n  border-radius: 0;\n  position: relative;\n}\n\n.quick-fire .nav-link.active.show {\n  display: block;\n}\n\n.quick-fire .nav-item a:hover {\n  color: var(--snap-text-medium-dark);\n  background-color: var(--snap-btn-hover);\n}\n\n.quick-fire .nav-item:nth-child(1) a:hover {\n  background-color: var(--snap-success-light);\n}\n\n.quick-fire .nav-item:nth-child(2) a:hover {\n  background-color: var(--snap-alert-light);\n}\n\n.quick-fire .accordions-container {\n  height: calc(\n     (var(--vh, 1vh) * 100) \n    - var(--vhFixtures, 15vh)\n    - var(--vhDoubleStandardBlock,20vh)\n    - var(--vhStandardBlock,10vh) \n    - 1rem\n    );\n    top: calc(\n        var(--vhDoubleStandardBlock,20vh)\n      + var(--vhStandardBlock,10vh) \n    );\n}\n\n.correct-answer-color {\n  color: var(--snap-success); \n}\n\n.incorrect-answer-color {\n  color: var(--snap-alert);\n}\n\n.low-relief-block {\n  border: 1px solid var(--snap-success-light) !important;\n  background-color: var(--snap-species-highlight-background);\n}\n\n.horizontal-buttons {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: .5rem;\n}\n\n.lesson-spinner {\n  font-size: 5rem;\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh)); \n}\n\n.image-slider-190 img {\n  height: 190px;\n  min-height: 190px;\n}\n\n.lesson-icon{\n  width: 98px;\n  height: 68px;\n  object-fit: none;\n}\n\n.location-filter-options {\n  padding: .5rem;\n  grid-template-rows: 1fr 1fr;\n  display: grid;\n}\n\n.skip-link {\n  position: absolute;\n  top: -40px;\n  left: 0;\n  background: #000000;\n  color: white;\n  padding: 8px;\n  z-index: 100;\n}\n\n.skip-link:focus {\n  top: 0;\n}',""]),t.exports=a},456:function(t,a,i){var o=i(457);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(62)(o,c);o.locals&&(t.exports=o.locals)},457:function(t,a,i){(a=i(61)(!1)).push([t.i,"\n  a {\n    color: var(--snap-youtube-green);\n  }\n\n  h1 {\n    font-size: .9rem;\n  }\n\n  h2 {\n    font-size: .8rem;\n  }\n\n  h3 {\n    font-size: .7rem;\n  }\n\n  img {\n    max-width: 100%;\n    display: block;\n  }\n\n  h1, h2, h3 {\n    font-weight: unset;\n    margin: 0 !important;\n  }\n\n  fieldset {\n    border: none;\n  }\n\n  label {\n    margin: 0;\n  }\n\n  legend {\n    margin-bottom: 0 !important;\n    width: initial !important;\n  }\n\n  caption {\n    padding: 0;\n    height: 0;\n  }\n\n  dt {\n    font-weight: 500;\n  }\n\n  .flex {\n    display: flex;\n  }\n\n  .flexnowrap {\n    flex-wrap: nowrap;\n  }\n\n  .relative {\n    position: relative;\n  }\n\n  .absolute {\n    position: absolute;\n  }\n\n  .standard-block {\n    height: var(--vhStandardBlock, 10vh);\n  }\n  \n  .double-standard-block {\n    height: var(--vhDoubleStandardBlock, 20vh);\n  }\n  \n  .half-standard-block {\n    height: var(--vhHalfStandardBlock, 5vh);\n  }\n  \n  .one-and-half-standard-block {\n    height: var(--vhOneAndHalfStandardBlock, 15vh);\n  }\n\n .centred-block {\n    display: flex;\n    align-items: center;\n    width: -moz-available;\n    width: -webkit-fill-available;\n  }\n  \n  .bottom-aligned {\n    display: flex;\n    align-items: flex-end;\n  }\n  \n  .double-centred-block {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .vertical-centred-block {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  \n  .vertical-evenly-spaced-block {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n  }\n  \n  .horizontal-evenly-spaced-block {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n  }\n\n  .margin-all {\n    margin: .5rem !important;\n  }\n  \n  .margin-top {\n    margin-top: .5rem !important;\n  }\n  \n  .margin-right {\n    margin-right: .5rem !important;\n  }\n  \n  .half-margin-right {\n    margin-right: .25rem !important;\n  }\n  \n  .double-margin-right {\n    margin-right: 1rem !important;\n  }\n  \n  .margin-bottom {\n    margin-bottom: .5rem !important;\n  }\n  \n  .margin-left {\n    margin-left: .5rem !important;\n  }\n  \n  .half-margin-left {\n    margin-left: .25rem !important;\n  }\n  \n  .padding {\n    padding: .5rem;\n  }\n  \n  \n  .half-padding {\n    padding: .25rem;\n  }\n  \n  .padding-top {\n    padding-top: .5rem;\n  }\n  \n  .padding-right {\n    padding-right: .5rem;\n  }\n  \n  .padding-bottom {\n    padding-bottom: .5rem;\n  }\n  \n  .padding-left {\n    padding-left: .5rem;\n  }\n\n  .custom-control {\n    display: flex;\n    align-items: center;\n  }\n  \n  .custom-checkbox .custom-control-input:checked ~ .custom-control-label::before {\n    background-color: rgb(98, 127, 134);\n  }\n  \n  .custom-checkbox\n    .custom-control-input:disabled:checked\n    ~ .custom-control-label::before {\n    background-color: rgba(41, 108, 44, 0.3);\n    pointer-events: none;\n  }\n  \n  .custom-checkbox input {\n    margin: 0 0.5rem 0 0;\n  }\n\n  .show {\n    display: inline;\n  }\n  \n  .hide {\n    display: none;\n  }\n  \n  .hide-important {\n    display: none !important;\n  }\n\n\n  .visually-hidden:not(:focus):not(:active) {\n    position: absolute !important;\n    height: 1px; \n    width: 1px;\n    overflow: hidden;\n    clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n    clip: rect(1px, 1px, 1px, 1px);\n    white-space: nowrap; /* added line */\n}\n  \n  .underline-link {\n    color: var(--snap-youtube-green);\n    cursor: pointer;\n    display: inline-block;\n    line-height: 1.8;\n    pointer-events: initial;\n  }\n\n  .underline-link:hover, .underline-link:focus {\n    color: var(--snap-text-black);\n  }\n\n  .underline-link:focus {\n    outline: 1px solid var(--snap-border-medium)\n  }\n\n  .underline-link-left-margin {\n    margin-left: -.25rem;\n  }\n\n  a.underline-link, a.underline-link:hover, a.underline-link:active, a.underline-link:focus {\n    color: var(--blue) !important;\n    border-color: transparent;\n  }\n\n  a.underline-link:hover, a.underline-link:active, a.underline-link:focus {\n    border-color: var(--blue) !important;\n  }\n\n  .full-width {\n    width: 100%;\n  }\n\n  .cursor-pointer {\n    cursor: pointer;\n  }\n\n  .border-top {\n    border-bottom: 1px solid var(--snap-border-light);\n  }\n\n  .border-right {\n    border-right: 1px solid var(--snap-border-light);\n  }\n\n  .border-bottom {\n    border-bottom: 1px solid var(--snap-border-light);\n  }\n\n  .border-left {\n    border-left: 1px solid var(--snap-border-light);\n  }\n\n  .justify-space-between {\n    justify-content: space-between;\n  }\n\n  .justify-end {\n    justify-content: flex-end;\n  }\n\n  .small-text {\n    font-size: .8rem !important;\n  }\n\n  .smaller-text {\n    font-size: .7rem !important;\n  }\n\n  .extra-small-text {\n    font-size: .6rem !important;\n  }\n\n  .large-text {\n    font-size: 1.2rem !important;\n  }\n\n  .extra-large-text {\n    font-size: 1.5rem !important;\n  }\n\n  .capitalise {\n    text-transform: capitalize;\n  }\n  \n  .uppercase {\n    text-transform: uppercase;\n  }\n  \n  .line-through {\n    text-decoration: line-through;\n  }\n\n  .modal-background-relief {\n    background-color: var(--snap-species-highlight-background);\n  }\n\n  .modal-background-relief-emphasis {\n    border: 1px solid var(--snap-success) !important;\n  }\n\n  .border-light {\n    border: 1px solid var(--snap-success-light) !important;\n  }\n\n  .border-medium {\n    border: 1px solid var(--snap-border-medium);\n  }\n\n  .vertical-block {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .emphasis {\n    font-weight: bold;\n    letter-spacing: .03rem;\n  }\n  \n  .absolute-bottom {\n    position: absolute;\n    bottom: .5rem;\n  }\n\n  .answer-response {\n    margin: 0 0 0 .25rem;\n  }\n\n  .col-count-2 {\n    column-count: 2;\n  }\n\n  .col-count-3 {\n    column-count: 3;\n  }\n\n  .col-count-4 {\n    column-count: 4;\n  }\n\n  .col-count-5 {\n    column-count: 5;\n  }\n\n  .col-count-6 {\n    column-count: 6;\n  }\n\n  .nowrap {\n    white-space: nowrap;\n  }\n  \n  .snap-inactive {\n    color: var(--snap-inactive) !important;\n    pointer-events: none !important;\n  }\n\n  .black-text {\n    color: var(--snap-text-black);\n  }\n\n  /* If set to display inline, would width automatically be determined by the text they contain? each span vs div */\n  .fit-width {\n    width: intrinsic;           /* Safari/WebKit uses a non-standard name */\n    width: -moz-max-content;    /* Firefox/Gecko */\n    width: -webkit-max-content; /* Chrome */\n  }\n\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    border: 0;\n  }  \n\n  .super {\n    vertical-align: super;\n    font-size: .8em;\n  }  \n\n/* https://css-tricks.com/styling-cross-browser-compatible-range-inputs-css/ */\n\n/* \n  input[type=range] {\n    -webkit-appearance: none;\n    margin: 18px 0;\n    width: 100%;\n  }\n  input[type=range]:focus {\n    outline: none;\n  }\n  input[type=range]::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    background: #3071a9;\n    border-radius: 1.3px;\n    border: 0.2px solid #010101;\n  }\n  input[type=range]::-webkit-slider-thumb {\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    border: 1px solid #000000;\n    height: 36px;\n    width: 16px;\n    border-radius: 3px;\n    background: #ffffff;\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-top: -14px;\n  }\n  input[type=range]:focus::-webkit-slider-runnable-track {\n    background: #367ebd;\n  }\n  input[type=range]::-moz-range-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    background: #3071a9;\n    border-radius: 1.3px;\n    border: 0.2px solid #010101;\n  }\n  input[type=range]::-moz-range-thumb {\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    border: 1px solid #000000;\n    height: 36px;\n    width: 16px;\n    border-radius: 3px;\n    background: #ffffff;\n    cursor: pointer;\n  }\n  input[type=range]::-ms-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    border-width: 16px 0;\n    color: transparent;\n  }\n  input[type=range]::-ms-fill-lower {\n    background: #2a6495;\n    border: 0.2px solid #010101;\n    border-radius: 2.6px;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n  }\n  input[type=range]::-ms-fill-upper {\n    background: #3071a9;\n    border: 0.2px solid #010101;\n    border-radius: 2.6px;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n  }\n  input[type=range]::-ms-thumb {\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    border: 1px solid #000000;\n    height: 36px;\n    width: 16px;\n    border-radius: 3px;\n    background: #ffffff;\n    cursor: pointer;\n  }\n  input[type=range]:focus::-ms-fill-lower {\n    background: #3071a9;\n  }\n  input[type=range]:focus::-ms-fill-upper {\n    background: #367ebd;\n  } */",""]),t.exports=a},458:function(t,a,i){var o=i(459);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(62)(o,c);o.locals&&(t.exports=o.locals)},459:function(t,a,i){(a=i(61)(!1)).push([t.i,'.species-table {\n  border-right: 1px solid var(--snap-btn-auxillary);\n  border-left: 1px solid var(--snap-btn-auxillary);\n  border-bottom: 1px solid var(--snap-btn-auxillary);\n}\n\n.table-header {\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  border: 0;\n  height: var(--vhRunningBlock,7.5vh);\n  z-index: 10;\n  align-items: center;\n  top: 0;\n  background-color: var(--snap-btn-auxillary);\n  color: var(--snap-text-light);\n  font-size: 1.1em;\n  letter-spacing: .01rem;\n}\n\n.table-header th {\n  cursor: pointer;\n  font-weight: initial;\n}\n\n.table-row {\n    display: flex;\n    flex-direction: row;\n    height: var(--vhRow, 12.5vh);\n    font-size: .9em;\n  }\n  \n  .table-row-chevron {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n  }\n\n  tr.master:nth-child(2n + 1) {\n    background-color: var(--snap-content-background);\n  }\n \n  .table-row img, table input {\n    cursor: pointer;\n  }\n\n  .table-row td button i {\n    min-width: 2.5rem;\n  }\n  \n  .table-row img {\n    width: 64px;\n    height: 64px;\n    object-fit: none;\n    padding: .5rem;\n  }\n\n  .table-row img:hover {\n    opacity: .8;\n  }\n  \n  .table-row img:focus {\n    border: 1px solid black;\n  }\n  \n  .table-row .lp-level {\n    padding: 0 0 0 0.5rem;\n  }\n\n  .inserted-td {\n    font-size: .9rem;\n    white-space: normal;\n    text-align: left;\n    padding: .5rem;\n  }\n\n  th {\n    text-align: initial;\n  }\n\n\n  .table-header th:nth-child(1) {\n    min-width: 80px;\n  }\n\n  .species-list .table-header th:nth-child(2):after,\n  .species-list .table-header th:nth-child(3):after {\n    display: inline-block;\n    width: 0;\n    height: 0;\n    margin-left: 0.255rem;\n    vertical-align: middle;\n    content: "";\n    border-top: 0.3rem solid;\n    border-right: 0.3rem solid transparent;\n    border-bottom: 0;\n    border-left: 0.3rem solid transparent;\n    cursor: default;\n  }\n  \n  .table-header th:nth-child(1) > span,\n  .table-footer td:nth-child(1) > span {\n    height: 1px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .table-header th:nth-child(2) {\n    flex: 3;\n    align-items: flex-start;\n  }\n  \n  .master.table-row td:nth-child(1) {\n    width: 80px;\n    display: flex;\n    align-items: center;\n  }\n\n  .species-description > td:nth-child(1) {\n    width: 100%;\n  }\n\n  .table-row td:nth-child(2) {\n    flex: 3;\n    display: flex;\n    align-items: flex-start;\n    flex-direction: column;\n    justify-content: center;\n  }\n\n  .table-header th:nth-child(3), .table-row td:nth-child(3), .table-header th:nth-child(4), .table-row td:nth-child(4) {\n    flex: 1;\n    display: flex;\n    align-items: center;\n  }\n\n  .table-header th:nth-child(5), .table-row td:nth-child(5) {\n    flex: 1;\n    display: flex;\n    align-items: center;\n  }\n\n  .table-header th:nth-child(6), .table-row td:nth-child(6) {\n      flex: 1;\n      display: flex;\n      align-items: center;\n  }\n\n  .table-header th:nth-child(5), .table-row td:nth-child(5) button {\n    position: absolute;\n    right: 2.5rem;\n  }\n\n  .table-header th:nth-child(6), .table-row td:nth-child(6) button {\n    position: absolute;\n    right: .5rem;\n  }\n\n  .hide-column {\n    flex: 0 !important;\n    display: none !important;\n  }\n\n .species-table .mushroom-icon svg {\n  width: 1rem;\n  height: 1rem;\n  margin-top: .3rem;\n }\n\ndiv.species-description {\n  background-color: var(--snap-species-highlight-background);\n  border-top: .5px solid var(--snap-youtube-green);\n  border-bottom: .5px solid var(--snap-youtube-green);\n  padding: 1rem;\n  color: rgba(0, 0, 0, .85);\n  height: initial;\n}\n\n.species-description > td {\n  width: 100%;\n}\n\n.youtube-icon, .accordion-icon {\n  font-size: 1.8rem;\n  cursor: pointer;\n}\n\ntable .youtube-icon, .accordion-icon {\n  font-size: 1.2rem;\n}\n\n.species-container {\n  position: relative;\n  width: 100%;\n}\n\n.lesson-list-action-icons {\n  right: .5rem;\n  bottom: 1.5rem;\n}\n \n.species-table .underline-link {\n    text-transform: initial;\n    display: initial;\n}  \n\n.btn-current-lesson-begin {\n  width: calc(var(--vwGrid) - 1rem);\n  margin: .5rem;\n}',""]),t.exports=a},460:function(t,a,i){var o=i(461);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(62)(o,c);o.locals&&(t.exports=o.locals)},461:function(t,a,i){(a=i(61)(!1)).push([t.i,'/* iPhone 5, ?? */\n\n@media (max-width: 320px) and (max-height: 568px) {\n    .imageSlider .active.carousel-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n}\n\n@media (min-width: 320px) {\n}\n@media (min-width: 414px) {\n    .test-card-question .question-question {\n        font-size: 1.2rem;\n    }\n    .rights-link, .rights-attribution {\n        grid-template-columns: 4rem auto 4rem;\n    }\n}\n\n/* iPHONE 6,7,8 */\n\n@media (max-width:375px) and (min-height:667px) {\n    .autocomplete {\n        height: 8rem !important;\n    }\n}\n\n/* Galaxy S5 */\n\n@media (min-width:360px) {\n    .names-container .vernacular-name {\n        max-width: 13.5rem;\n    }\n}\n\n/* @media (min-width:414px) {\n    .youtube-icon, .accordion-icon {\n        font-size: 1.4rem;\n    }\n    .species-table .youtube-icon, .accordion-icon {\n        font-size: 1.2rem;\n    }\n} */\n\n/* iPHONE 6,7,8 PLUS, iPHONE X, GALAXY S9/S9+ */\n\n/* @media  (max-width:414px) and (min-height:736px),\n        (max-width:375px) and (min-height:812px),\n        (max-width:360px) and (min-height:740px) {\n            body {\n                font-size: 1em;\n            }\n} */\n\n@media (max-height:568px) {\n    .test-card .help-txt {\n        display: none;\n    }\n}\n\n@media (min-height: 667px) {\n    .quick-fire .quick-fire-branches .btn-secondary, .quick-fire .quick-fire-branches .btn-secondary:not(:disabled):not(.disabled).active {\n        font-size: .9rem;\n        padding: .5rem;\n    }\n}\n\n@media (min-width: 576px) {\n}\n\n@media (min-width: 600px) {\n    .test-card-question .question-question {\n        font-size: 1.4rem;\n    }\n    .modal-subheader {\n        font-size: 1.2em;\n    }\n    .table-header th:nth-child(1) {\n        min-width: 105px;\n    }\n    \n    .master.table-row td:nth-child(1) {\n        width: 105px;\n    }\n    \n    .table-row img {\n        width: 98px;\n        height: 69px;\n    }\n}\n\n/* NEXUS 6 */\n\n@media (width: 412px) and (max-height: 732px) {\n    .youtube-icon {\n        font-size: 1.5rem !important;\n    }\n}\n\n/* NEXUS 7 */\n\n@media (width: 600px) and (max-height: 960px) {\n    \n    .block {\n        font-size: 1.3rem;\n    }    \n    .test-card-question .question-statement, .test-card-question .question-provider-question {\n        font-size: 1rem;\n    }\n    body {\n        font-size: 1.2em;\n    }\n    .snapdragon-intro > div {\n        font-size: 1.2rem;\n    }\n    .youtube-icon {\n        font-size: 1.8rem !important;\n    }\n    .lesson-name, .lesson-name .underline-link {\n        font-size: 1rem;\n    }\n}\n\n@media (min-height:812px) {\n}\n\n@media (max-width: 768px) {\n    .landscape {\n        display: none !important;\n    }\n    .portrait-grid {\n        display: grid;        \n    }\n}\n\n@media (min-height: 640px) {   \n    .modal-title {\n        line-height: 1.5;\n    } \n}\n\n@media (min-width: 768px) {\n\n  h1 {\n    font-size: 1.6rem;\n  }\n\n  h2 {\n    font-size: 1.3rem;\n  }\n\n  h3 {\n    font-size: 1rem;\n  }\n\n  .modal h1 {\n    font-size: 1.2rem;\n  }\n\n  h2 {\n    font-size: 1rem;\n  }\n\n  h3 {\n    font-size: .8rem;\n  }\n\n    .quick-fire .quick-fire-branches .btn-secondary, .quick-fire .quick-fire-branches .btn-secondary:not(:disabled):not(.disabled).active {\n        font-size: .9rem;\n        padding: .5rem;\n    }\n\n    .quick-fire-branches span {\n        font-size: .6rem;\n    }\n    \n    .autocomplete-options-container{\n        top: calc(\n            var(--vhRunningBlock, 7.5vh) + \n            5px +\n            var(--vhStandardBlock, 10vh) +\n            var(--vhStandardBlock, 10vh)\n            + .25rem\n        ) !important;\n    }\n\n    .species-search .icon {\n        font-size: 5.5rem;\n        height: calc(var(--vhStandardBlock, 30vh) * 2);\n    }\n\n    .autocomplete-options-container.autocomplete {\n        height: 15rem !important;\n    }\n\n    .squares {\n        height: calc( (var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhDoubleStandardBlock,20vh));\n    }\n\n    .imageSlider .carousel-item {\n        height: var(--vhSmallImageCarousel);\n        min-height: var(--vhSmallImageCarousel);\n    }\n\n    .score-summary-row {\n        display: flex;\n    }\n\n    #imageModal .imageSlider .carousel-item, #imageComparisonModal .imageSlider .carousel-item {        \n        height: calc( (var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - 300px ); /* see below (hack) */\n    }\n\n    .image-description {\n        padding: 1rem 4rem;\n        margin-top: -300px; /* see above (hack) */\n        color: black; /* to compensate for layer above (hack) */\n    }\n\n    .imageSlider .carousel-control-next, .imageSlider .carousel-control-prev {\n        top: 15%;\n        top: calc(\n            (var(--vh, 1vh) * 75 * .5) -\n            (var(--vh, 1vh) * 7.5) -\n            .5rem\n            - 100px /* see above (hack) */\n        );\n    }\n\n    .modal-image .carousel-inner > div:nth-child(1) {\n        height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhRunningBlock));\n    }\n\n    .carousel-indicators {\n        position: absolute;\n        left: .5rem;\n        right: .5rem;\n        padding: .5rem;\n        text-align: left;\n        margin-left: 4rem !important;\n        margin-right: 4rem !important;\n    }\n\n    .carousel-indicators li {\n        margin-bottom: 0;\n    }\n\n    .test-card-question .question-statement, .test-card-question .question-provider-question {\n        font-size: .9rem;\n    }\n\n    .species-picker-actions ul {\n        column-count: 2;\n    }  \n\n    .guide-header-container > div:nth-child(2) {\n        flex-direction: row;\n    }\n\n    .iconic-taxa-categories svg {\n        width: 2rem;\n        height: 2rem;\n    }\n\n    .iconic-taxa-categories-selected svg {\n        width: 1rem;\n        height: 1rem;\n    }\n\n    .iconic-taxa-categories i {\n        font-size: 1.5rem;\n    }\n\n    .inat.snap-switch .inat-entry {\n        display: flex;\n        align-items: center;\n        margin: 0 0 0 1rem;\n    }\n\n    .inat.snap-switch input[type="text"] {\n        margin: 0 .5rem 0 0;\n        color: var(--snap-text-medium-dark);\n        padding: 0 .1rem;\n    }\n\n    .modal-guide-wrapper .location.snap-switch {\n        width: 100%;\n        margin-top: 2rem;\n    }\n\n    .location-option.place > button {\n        margin-left: .25rem;\n    }\n\n    #inat-place::placeholder {\n        color: var(--gray);\n        font-size: 1rem;\n    }\n\n    .inat.snap-switch .inat-entry, .inat.snap-switch input[type="text"] {\n        width: 12rem;\n        width: fit-content;\n        padding: 0 .25rem;\n    }  \n\n    .range-slider {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    .range-slider > span:nth-child(2) {\n        width: fit-content;\n        border: .05rem solid var(--snap-border-lightest);\n        padding: .5rem;\n    }\n\n    .range-limits {\n        display: initial;\n    }\n\n    .inat-location-elsewhere {\n        display: grid;\n        grid-template-columns: 1fr .25rem 1fr;\n    }\n\n    .location-filter-options {\n      padding: 2rem;\n      grid-template-columns: 1fr 1fr;\n    }\n    \n    .traits-names-txt {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        padding: 1rem;\n        border-bottom: 1px solid var(--snap-border-lightest);\n    }\n\n    .iconic-icon {\n        font-size: 2rem;\n    }\n\n    .question-container .mushroom-icon-header svg {\n        width: 1.8rem;\n        height: 1.8rem;\n        fill: var(--snap-iconic-icon-header);\n    }\n\n    .species-header {\n        text-align: right;\n    }\n\n    .test-card-question .help-txt {\n        margin: 1rem .5rem;\n        font-family: serif;\n        font-weight: bold;\n        letter-spacing: .05rem;\n    }\n\n    div.text-entry {\n        margin: 1rem 0;\n        padding: 0.5rem;\n    }\n\n    .text-entry input {\n        width: 75%;\n        padding: 0.5rem;\n        border: 0.05rem solid var(--snap-border-light);\n    }\n\n    .video {\n        top: -2px;\n    }\n\n    .table-row {\n        font-size: .8rem;\n    }\n\n    .table-row td:nth-child(3) {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n        justify-content: center;\n    }\n\n    .species-list .scrollable {\n        bottom: 0;\n        top: 0;      \n    }\n        \n    .right-grid .header, .right-grid .footer {\n        justify-content: flex-start;\n        padding-right: 1rem;\n    }\n\n    .right-grid .footer > ul, .left-grid .footer > ul {\n        max-width: 50%;\n        text-transform: none;\n        justify-content: space-between;\n    }\n\n    .snapdragon-intro > div:nth-child(1) {\n        margin: 0rem 2.4rem 0 2.4rem !important;\n    }\n\n    .snapdragon-intro {\n        height: initial;  \n        padding: 2rem;\n    }\n\n    .lesson-icon {\n        width: 80px;\n        height: 80px;\n        object-fit: none;\n    }\n\n    .lesson-list-carousel-item {\n        align-items: center;\n        display: grid;\n        grid-template-columns: 1fr 3fr 1fr;\n    }\n\n    .lesson-list-carousel-item > div:nth-child(3) {\n        justify-content: center;\n        margin: 0;\n    }\n\n    .lesson-list-carousel-item > div:nth-child(3) > div {\n        display: flex;\n    }\n\n    body {\n        max-width: 1200px;\n    }\n\n    .left-grid {\n        width: 458px;\n        grid-area: left;\n    }\n\n    .right-grid {\n        width: 742px;\n        grid-area: right;\n    }\n\n    .grid {\n        grid-template-columns: 1fr 1fr;\n        grid-template-areas: "right left";\n    }\n\n    .left-grid {\n        display: grid;\n    }  \n\n    .pool {\n        max-width: 70%;\n    }\n\n    .bird-song, .taxon-identification, .taxon-summary {\n        margin: 1rem 4rem 0 4rem;\n    }\n\n    .strips {\n        cursor: pointer;\n        width: initial;\n        overflow-y: auto;\n        padding: .5rem;\n    }\n\n    .strip {\n        min-width: initial;\n        margin: .75rem .5rem .75rem 0;\n        padding: .75rem;\n    }\n\n    body {\n        font-size: .9em;\n    }\n\n    .home-scrolling-container .scrollable {\n        position: relative; \n        top: 0;\n    }\n\n    .mixed-content-container {\n        top: calc(\n              var(--vhStandardBlock, 10vh)\n            + var(--vhCalendar,11vh));\n        height: calc(\n              var(--vh, 1vh) * 100\n            - var(--vhRunningBlocks,15vh)\n            - var(--vhDoubleStandardBlock,20vh) \n            - var(--vhCalendar,11vh) \n            - 1.5rem);\n      }\n\n      .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n      }\n    \n      iframe {\n          width: 100%;\n          border: 0;\n      }\n\n      #badgeListModal .modal-dialog {\n        width: 30vw;\n        margin: calc( var(--vhRunningBlock) + var(--vhStandardBlock) + 5px + .5rem ) auto auto auto;\n      }\n\n      #badgeListModal .modal-body {\n        height: calc(var(--vhDoubleStandardBlock, 20vh) * 2);\n      }\n\n      #wikiModal .modal-dialog {\n        max-width: 900px;\n        margin: auto;\n      }\n\n      #wikiModal iframe {\n          height: 100%;\n      }\n    \n      #imageModal .modal-dialog {\n        max-width: 600px;\n        margin: auto;\n      }\n        \n      #imageModal .modal-title span {\n          display: flex;\n          flex-direction: row;\n      }\n    \n      #imageModal .modal-title span > span:nth-child(1) {\n          margin: 0 .5rem 0 0;\n      }\n    \n      #iNatWidgetModal .modal-dialog {\n          max-width: 45vw;\n      }\n      \n      #iNatWidgetModal .modal-header {\n          display: inline;\n      }\n    \n      #cardModal .feature-types {\n          width: 100%;\n          margin: 0;\n      }\n\n      .info-details {\n        padding: 1rem 4rem;\n      }\n\n      .info.carousel.slide .carousel-item div dt, .info.carousel.slide .carousel-item div dd {\n          padding: .5rem;\n      }\n\n    .non-taxon.card img {\n        height: 5.5rem;\n        width: 5.5rem;\n      }\n\n    .response-update {\n        left: 0;\n        right: 0;\n        justify-content: flex-end;\n    }\n\n    .strip:hover, .strip:focus, .strip:focus-within {\n        box-shadow: 0 2px 8px transparent;\n        border: 1px solid var(--snap-border-light);\n    }\n\n    .strip:hover button, .strip:focus button, .strip:focus-within button {\n      color: var(--snap-text-medium-dark);\n    }\n\n    .strip {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .strip > div:nth-child(2) {\n        margin-top: .5rem;\n    }\n\n    .strip-single-line {\n        padding: 1.5rem;\n    }\n\n    .portrait, .portrait-grid {\n        display: none !important;\n    }  \n\n    .header > div:nth-child(2) {\n        max-width: initial;\n        text-transform: initial;\n    }\n\n    .non-taxa {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n    }\n\n    .non-taxa .btn-group {\n        width: 12rem;\n        flex-direction: column;\n        margin: 0 .5rem;\n    }\n\n    .non-taxa .btn.btn-secondary {\n        height: 3rem;\n        cursor: pointer !important;\n    }\n\n    .non-taxon-card-wiki {\n        margin: 0 .5rem 0 0;\n    }\n\n    .modal-header-container {\n        padding-bottom: 4px;\n        border-bottom: 1px solid var(--snap-border-light);\n    }\n}\n\n@media (min-width: 1024px) {\n\n    .left-grid {\n        width: 391px;\n    }\n\n    .right-grid {\n        width: 633px;\n    }\n\n    .squares {\n        padding-top: 2rem;\n    }\n\n    .squares > div {\n        width: 190px;\n        height: 150px;\n    }\n\n    .table-header th:nth-child(2), .table-row td:nth-child(2) {\n        flex: 5;\n    }\n    \n    .table-header th:nth-child(3), .table-row td:nth-child(3) {\n        flex: 5;\n        font-size: .8rem;\n        line-height: 2;\n    }\n    \n    .table-header th:nth-child(4), .table-row td:nth-child(4) {\n        flex: 2 !important;\n    }\n\n    .table-header th:nth-child(3) span:nth-child(2):after {\n        margin-left: .355rem;\n    }\n\n    .table-header th:nth-child(3):after {\n        display: none;\n    }\n\n    .species-list .table-header th:nth-child(3) span:after {\n        display: inline-block;\n        width: 0;\n        height: 0;\n        margin-left: .255rem;\n        vertical-align: middle;\n        content: "";\n        border-top: .3rem solid;\n        border-right: .3rem solid transparent;\n        border-bottom: 0;\n        border-left: .3rem solid transparent;\n        cursor: default;\n    }\n\n    .species-list .table-header th:nth-child(4):after, .species-list .table-header th:nth-child(5):after {\n        display: inline-block;\n        width: 0;\n        height: 0;\n        margin-left: .255rem;\n        vertical-align: middle;\n        content: "";\n        border-top: .3rem solid;\n        border-right: .3rem solid transparent;\n        border-bottom: 0;\n        border-left: .3rem solid transparent;\n        cursor: default;\n    }\n\n    .table-header th:nth-child(3) {\n        flex-direction: column;\n        display: flex;\n        align-items: start;\n    }\n\n    .table-header th:nth-child(3) span {\n        flex: 1;\n        line-height: initial;\n    }\n\n    .table-header th:nth-child(5), .table-row td:nth-child(5),\n    .table-header th:nth-child(6), .table-row td:nth-child(6) {\n        flex: 1;\n    }\n\n    .narrow-screen {\n        display: none !important;\n    }\n\n    .names-container .vernacular-name {\n        max-width: none;\n      }\n}\n\n@media (max-width: 1024px) {    \n    .wide-screen {\n      display: none !important;\n    }\n}\n\n@media (min-width: 1112px) {\n\n    .left-grid, .tiles-container {\n        width: 450px;\n    }\n\n    .squares > div {\n        height: calc( ((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhDoubleStandardBlock,20vh)) / 3);\n        width: 225px; \n    }\n\n    .squares {\n        padding-top: 1rem;\n    }\n    \n    .squares > div img {\n        padding: .5rem;\n    }\n\n    .right-grid {\n        width: 662px;\n    }\n}\n\n@media (min-width: 1200px) {\n    \n    .left-grid, .tiles-container {\n        width: 458px;\n    }\n\n    .right-grid {\n        width: 742px;\n    }\n\n    .squares > div {\n        width: 229px;\n    }\n}',""]),t.exports=a},465:function(t,a,i){var o=i(466);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(62)(o,c);o.locals&&(t.exports=o.locals)},466:function(t,a,i){(a=i(61)(!1)).push([t.i,'#createGuide .modal-dialog {\n  max-width: 600px;\n  margin: auto;\n}\n\n.step-action-content {\n  padding: 0 .5rem;\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhStandardBlock,20vh) - var(--vhRunningBlock) - .5rem);  \n}\n  \n  .species-picker-link {\n    font-size: .8rem !important;\n    font-style: initial;\n  }\n\n  .modal-guide-progress > div {\n    display: flex;\n    align-items: center;\n    padding: .5rem;    \n    height: inherit;    \n  }\n\n  .modal-subheader {\n    font-size: 1.1em;\n  }\n\n  .modal-guide-progress .steps {\n    text-transform: uppercase;\n  }\n\n  .modal-body .modal-guide-progress > div div {\n    flex: 1;\n    text-align: center;\n    padding: .5rem 0;\n  }\n  \n  .modal-body .modal-guide-progress > div > div {\n    border-right: .005rem solid var(--snap-border-lightest);\n  }\n  \n  .modal-body .modal-guide-progress > div > div:last-child {\n    border-right: none;\n  }\n\n  .modal-body .modal-guide-progress .active {\n    color: var(--snap-text-dark);\n    background-color: var(--snap-active);\n  }\n  \n  .modal-guide-navigation {\n    display: grid;\n    grid-template-columns: 4fr auto 4fr;\n    margin: 0 .5rem;\n    height: var(--vhRunningBlock, 10vh);\n    border: 1px solid var(--snap-border-light);\n  }\n\n  .modal-guide-navigation > button {\n    display: flex;\n    align-items: center;\n  }\n\n  .custom-lesson-menu-options .snap-icon-btn:hover, .modal-guide-navigation .snap-icon-btn:hover {\n    color: var(--snap-collection-active);\n  }\n\n  .right-justify {\n    justify-content: flex-end;\n  }\n\n  .arrow-wrapper {\n    padding: 0 .5rem;\n    font-size: 1.6rem;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;    \n  }\n  \n  .arrow-wrapper-hidden > span {\n    display: none;\n  }\n\n  .arrow-wrapper i {\n    pointer-events: initial;\n    cursor: pointer;\n  }\n  \n  .modal-guide-wrapper .modal-body .location .current {\n    display: flex;\n    align-items: center;\n    margin: 1rem 0;\n  }\n\n  #set-inat-location-btn {\n    width: 100%;\n  }\n\n  .species-picker-container {\n    position: relative;\n  }\n\n  .species-picker-container > div {\n    position: absolute;\n    top: -5rem;\n    width: 100%;\n    display: flex;\n  }\n\n  .chosen-guide-filter {\n    display: flex;\n    align-items: center;\n  }\n\n  .chosen {\n    position: absolute;\n    left: .5rem;\n    right: .5rem;\n    bottom: calc(var(--vhStandardBlock));  \n    height: var(--vhHalfStandardBlock, 5vh);\n  }\n  \n  .chosen > div span:nth-child(2) > span {\n    margin: 0 .25rem;\n  }\n  \n  .save-your-changes {\n    display: flex;\n    align-items: center;\n    position: absolute;\n    bottom: 1.5rem;\n    width: 100%;\n  }\n  \n  .modal-body .save-your-changes button {\n    margin: 0 1rem 0 0;\n  }\n  \n  .modal-body .inat-location-location button {\n    width: 100%;  \n    background-color: var(--snap-text-medium-dark);\n  }\n\n  .html5-location-place {\n    width: 100%;\n  }\n\n  #set-inat-identity-btn {\n    color: var(--snap-text-light);        \n    background-color: rgb(127, 151, 122);\n    width: 100%;\n  }\n\n  .modal-guide-wrapper .modal-body .inat button.js-set-inat-identity-btn {\n    color: var(--snap-text-light);        \n    background-color: rgb(127, 151, 122);\n  }\n\n  #inat-place, #input-species, #inat-identity {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    width: 100%;\n  }\n\n  #inat-place::placeholder {\n    display: inline;\n  }\n  \n  .inat.snap-switch .inat-entry, .inat.snap-switch input[type="text"] {\n    width: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  /* SLIDER */\n\n.modal-guide-body .range-slider {\n    font-size: .9em;\n    height: var(--vhStandardBlock);\n    display: flex;\n    flex-direction: column;\n    align-items: normal;\n    justify-content: space-evenly;\n  }\n  \n  .modal-guide-body .range-slider > div:nth-child(2) {\n    display: flex;\n  }\n\n  .range-limits {\n    display: none;\n  }\n  \n  .modal-guide-body .set-range-input {\n    cursor: pointer;\n    width: 100%;\n    margin: 0 .25rem;\n  }\n\n  .set-range-input:focus {\n    outline: 1px solid var(--snap-border-medium);\n  }\n  \n  .modal-guide-body .range-slider.disabled .set-range-input {\n    pointer-events: none;\n  }\n  \n  /* SNAPDRAGON SWITCH */\n\n  .snap-switch {\n    display: flex;\n    align-items: center;\n  }\n  \n  .snap-switch-slider {\n    cursor: pointer;\n    background-color: rgb(197, 203, 204);\n  }\n  \n  .snap-switch-slider div {\n    height: 1.6rem;\n    width: 1.6rem;\n    border-radius: .2rem;\n    background-color: var(--snap-collection);\n    transition-property: all;\n    transition-duration: .4s;\n    transition-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    transition-delay: 0s;\n    position: absolute;\n  }\n\n  .inat .snap-switch-slider div {\n    background-color: var(--snap-inat);\n  }\n  \n.embedded-switch {\n  display: grid;\n  grid-template-columns: auto 3.2rem 1fr;\n  height: 1.6rem;\n}\n\n  .snap-switch-slider.left div {\n    transform: translateX(0);\n  }\n  \n  .snap-switch .txt-left {\n    align-self: center;\n    padding: 0 .5rem 0 0;\n    font-size: .9em;\n  }\n\n  .snap-switch .txt-right {\n    align-self: center;\n    padding: 0 0 0 .5rem;\n  }\n\n  .snap-switch-slider.right div {\n    transform: translateX(1.6rem);\n  }\n\n  .guides .inat .snap-switch {\n    flex-direction: column;\n  }\n   \n  /* AUTOCOMPLETE */\n  \n  #inat-place.active, #input-species.active {\n    border: .1rem solid var(--snap-text-medium-dark);\n  }\n  \n  .autocomplete-options-container, .inat-autocomplete-options-container {\n    z-index: 9999;\n    color: var(--snap-text-dark-medium-dark);\n    background-color: rgb(250, 250, 250);\n    border: .05rem solid var(--snap-border-lightest);\n    text-align: left;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n    top: calc(\n      var(--vhRunningBlock, 7.5vh) + \n      5px +\n      var(--vhStandardBlock, 10vh) +\n      var(--vhRunningBlock, 7.5vh)       \n      + .25rem\n      ) !important;\n      left: .5rem;\n      right: .5rem;\n  }\n\n  .autocomplete-options-container.autocomplete {\n    height: 10rem !important;\n  }\n\n  .inat-autocomplete-options-container {\n    top: calc(\n      var(--vhRunningBlock, 7.5vh) + \n      5px\n      + var(--vhStandardBlock, 10vh)\n      + var(--vhRunningBlock, 7.5vh)\n      + var(--vhStandardBlock, 10vh)\n      + .5rem\n      ) !important;\n  }\n\n  .autocomplete-options-container > div, .inat-autocomplete-options-container > div {\n    padding: .25rem;\n  }\n  \n  .autocomplete-options-container .selected, .inat-autocomplete-options-container .selected {\n    color: var(--snap-dd-non-taxa-bg-hover);\n    background-color: var(--snap-text-medium-dark);\n  }\n\n  .inat-autocomplete-options-container .selected {\n    background-color: var(--snap-inat);\n  }\n\n  .autocomplete-options-container .selected {\n    color: var(--snap-dd-non-taxa-bg-hover);\n    background-color: var(--snap-text-medium-dark);\n  }\n\n  .autocomplete-options-container > div:hover:not(.group) {\n    color: var(--snap-dd-non-taxa-bg-hover);\n    background-color: var(--snap-text-medium-dark-hover);\n    cursor: pointer;    \n  }\n\n.autocomplete-options-container > div.selected {\n    color: var(--snap-dd-non-taxa-bg-hover);\n    background-color: var(--snap-text-medium-dark);\n    cursor: pointer;\n  }\n  \n  #place span {\n    margin: 0 .25rem 0 0;\n  }\n\n  /* CATEGORIES */\n\n  .iconic-taxa-categories {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhDoubleStandardBlock,20vh) - var(--vhHalfStandardBlock) );\n    padding: 0 1rem 1rem 1rem;\n  }\n\n  .iconic-taxa-categories > div > div {\n    cursor: pointer;\n  }\n  \n  /* Icon categories list, icon container and size */\n\n  .iconic-taxa-categories > div > div > div:nth-child(1), .iconic-taxa-categories button {    \n    display: flex;\n    align-items: center;\n    justify-content: center;  \n    cursor: pointer;\n  }\n\n  .iconic-taxa-categories > div > div > div:nth-child(1) svg {\n    color: var(--snap-collection);\n  }\n\n  .iconic-taxa-categories g {\n    fill: var(--snap-collection);\n  }\n\n  .iconic-taxa-categories i {\n    font-size: 1rem;\n    color: var(--snap-collection);\n  }\n\n  .iconic-taxa-selected svg {\n    color: var(--snap-collection-active) !important;\n  }\n\n  .iconic-taxa-selected svg g {\n    fill: var(--snap-collection-active) !important;\n  }\n\n  .prop-value-block {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n  }\n\n  .prop-value-block > span:nth-child(2) {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    display: inline-block;\n    width: inherit;\n    /* font-size: 1.1rem; */\n  }\n\n  /* Mushroom icon sizes */\n\n  .iconic-taxa-categories svg, .iconic-taxa-categories-selected svg {\n    width: 1rem;\n    height: 1rem;\n  }\n\n  .selected-text svg, .selected-text i, .iconic-taxa-selected i {\n    color: var(--snap-collection-active);\n  }\n\n  .lesson-taxa .iconic-taxa-categories-selected svg g {\n    fill: var(--snap-text-medium-dark);\n  }\n  \n  .iconic-taxa-categories-selected svg {\n    vertical-align: -.125em;\n  }\n  \n  .lesson-taxa .iconic-taxa-categories-selected svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  \n  .home-guide .iconic-taxa-categories-selected svg {\n    width: 2rem;\n    height: 2rem;\n  }\n\n  .iconic-taxa-categories-selected svg g {\n    fill: var(--snap-collection-active);\n  }\n\n  .svg-icon {\n    margin: 0.25rem 0 0;\n  }\n  \n  .svg-icon-selected {\n    fill: var(--snap-success);\n    color: var(--snap-success);\n  }  \n\n  /* EXAMPLE LESSONS INC. RB LIST */\n\n  .btn.btn-secondary {\n    flex-direction: row;\n    align-items: center;\n  }\n\n  .lesson-taxa {\n    overflow-wrap: break-word;\n    white-space: initial;\n    font-size: .8em;\n  }\n\n  .locations .btn.btn-secondary > * {\n    pointer-events: all;\n  }\n\n  .non-taxon .btn.btn-secondary input {\n    pointer-events: none;\n  }\n\n  .lesson-name {\n    line-height: initial !important;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    height: 1.5rem;\n    display: flex;\n    align-items: center;\n    font-size: .8rem;\n    color: var(--snap-text-black);\n}\n\n  .lesson-name .underline-link {\n    text-transform: initial;\n    font-size: .8rem;\n  }\n\n  .lesson-name input {\n    pointer-events: initial;\n  }\n\n  .lesson-taxa span:nth-child(1) {\n    margin: 0 .15rem 0 0;\n  }\n\n  .btn.btn-secondary.active .lesson-taxa .iconic-taxa-categories-selected svg g {\n    fill: white;\n  }\n\n  #confirm-lesson-btn {\n    margin: 1.5rem 0;\n    width: 9rem;\n    background-color: var(--snap-text-medium-dark);\n  }\n\n  .lesson-radio-button {\n    margin-right: .5rem;\n  }\n\n  /* PORTRAIT & LANDSCAPE EXAMPLE GUIDE */\n\n  .btn.btn-secondary {\n    width: 100%;\n  }\n\n  .start-lesson-wrapper.disabled {\n    pointer-events: none;\n  }    \n\n  .modal-guide-progress {\n    cursor: pointer;\n  }\n\n  .modal-guide-progress span {\n    pointer-events: none;\n  }\n\n  .location-checkbox {\n    line-height: 3rem;\n  }\n\n  .guide-bottom-actions {\n    display: flex;\n    position: absolute;\n  }\n\n  .guide-bottom-actions span:nth-child(1) {\n    font-size: .8rem;\n  }\n\n  .guide-bottom-actions span:nth-child(2) {\n    margin-left: .25rem;\n  }\n\n  .location-option > div {\n    width: 100%;\n  }\n\n  .location-option.inat-entry {\n    position: relative;\n  }\n\n  .location-option.or-options {\n    text-align: center;\n    font-style: italic;\n  }\n\n  .location-option.range {\n    border: none;\n  }\n\n  .location-option button {\n    width: 100%;\n  }\n  \n  .location-option:nth-child(3) > div:nth-child(2) {\n    flex: auto;\n    position: relative;\n  }\n\n  #googleLogo {\n    width:  auto;\n    height: 1rem\n  }\n\n  .location-actions {\n    height: 100%;\n  }\n\n  .location-actions .actions {\n    display: grid;\n    grid-template-rows: 1fr 2rem 1fr;\n    height: 100%;\n  }\n\n  .species-picker-actions {\n    height: initial;\n  }\n\n  .filter-option {\n    color: black;\n  }\n\n  .taxa-actions .actions {\n    grid-template-rows: 1fr;\n  }\n\n  .filter-actions .actions {\n    grid-template-rows: auto;\n  }\n\n  .filter-actions .actions {\n    justify-content: space-between; \n  }\n\n  .filter-actions + div {\n    display: none !important;\n  }\n\n  .filter-language-option-block {\n    width: 100%;\n  }\n  \n  .filter-language-option-block span {\n    text-transform: uppercase;\n    margin-left: .15rem;\n  }\n\n  .custom-lesson-menu-options {\n    display: flex;\n    flex-direction: column;\n    pointer-events: initial;\n    cursor: pointer;\n  }\n\n  .custom-lesson-menu-options li {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border: 1px solid var(--snap-border-light);\n  }\n\n  .custom-lesson-menu-options li span {\n    padding: .5rem;\n  }\n\n  .species-actions + div {\n    display: none !important;\n  }\n\n  .request-feedback .edit-species {\n    margin: .5rem;\n    height: var(--vhHalfStandardBlock, 10vh);\n  }\n\n  .request-feedback .lesson-list-item {\n    padding: .5rem;\n    background-color: var(--snap-lesson-row-green);\n    pointer-events: all;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n  }\n\n  .request-feedback .lesson-list-item {\n    line-height: initial !important ;\n  }\n\n  .request-feedback .lesson-name {\n    line-height: initial;\n  }\n\n  .selected-species-container {\n    position: relative;    \n  }\n\n  .selected-species-container > div.scrollable {\n    height: 0;\n    margin: .5rem;\n  }\n\n  .selected-species-container > div.scrollable.open {\n    height: calc( (var(--vh, 1vh) * 100) \n                 - var(--vhFixtures, 15vh) \n                 - var(--vhStandardBlock,10vh)\n                 - var(--vhOneHalfStandardBlock,20vh)\n                 - var(--vhHalfStandardBlock,5vh)\n                 - var(--vhRunningBlock)\n                 - .5px\n      );\n    top: .5rem;\n  }\n\n  .selected-species {\n    margin: 1rem;\n  }\n\n  .selected-species-container ul {\n    columns: 2 200px;\n    column-gap: 2rem;\n  }\n  \n  #locationForm, #inatForm {\n    width: 100%;\n  }\n\n@media (min-height: 640px) {  \n  .modal-guide-wrapper .modal-body .modal-guide-navigation > div:nth-child(1) > div svg {\n      font-size: 2rem;\n  }\n}\n\n@media (min-height: 667px) {\n\n  .iconic-taxa-categories > div > div > div:nth-child(1) svg, .iconic-taxa-categories i {\n    width: 1.6rem;\n    font-size: 1.6rem;\n  }\n\n  .taxa-actions svg-icon.si-glyph-mushrooms svg {\n    height: 2rem;\n  }\n}',""]),t.exports=a},468:function(t,a,i){"use strict";i.r(a);i(242),i(444),i(447),i(448),i(449),i(451),i(452),i(454),i(456),i(458),i(460);var o=i(1),c=i(45),l=i(138),u=i(178),d=i(179),p=i.n(d),m="[CHANGE_LESSON_PLANS] Edit the set of lesson plans",h="[CHANGE_LESSON_PLAN] Edit the original lesson plan",g="[NEXT_LESSON] Get (new) lesson plan",v="[NEXT_LAYOUT] Render next layout",y="[NEXT_ITEM] Get next item",b="[UPDATE_SCORE] Check user answer and update running score",_="[UPDATE_TRAIT_SCORE] Check user answer and update running score",x="[END_REVISION] Revision complete",S="[UPDATE_HISTORY] Copy round score to history",w="[SET_ACTIVE_COLLECTION] New collection",k="[UPDATE_COLLECTION] Change collection",T="[UPDATE_COLLECTION_ITEMS] Change collection items",E="[UPDATE_COLLECTIONS] Update collections list",L="[RESET_COLLECTION] Reset collection to initial state",A="[NEXT_ROUND] Go to next round",O="[NEXT_LEVEL] Go to next level",I="[UPDATE_CONFIG] change to config",P="[STOP_START_LESSON] Pause or play current lesson",j="[SELECT_COLLECTION] Update the current selected collection",C="[UPDATE_LANGUAGE] Update the current language",R="[UPDATE_ENUMS] Update enums by config language",N="[UPDATE_LESSON] Create new lesson",M="[SAVE_LESSON] Add lesson to saved lessons",q="[REMOVE_LESSON] Remove lesson from saved lessons on restarting lesson",H="[UPDATE_VIDEO_PLAYER] Update video player state",D="[UPDATE_USER] Update user",G="[CREATE_QUICKFIRE] Add quick-fire",U="[UPDATE_QUICKFIRE] Update quick-fire",B="[CREATE_GLOSSARY] Add glossary",W="[CLICK_EVENT] User triggered event",Y={language:"en",moduleSize:4,callbackTime:1500,callbackDelay:1500,excludeRevision:!1,isPortraitMode:!1,isLandscapeMode:!0,collection:{id:0},mode:"learn",languages:[{name:"Deutsche",lang:"de"},{name:"English",lang:"en"},{name:"Español",lang:"es"},{name:"Français",lang:"fr"},{name:"Italiano",lang:"it"},{name:"Português",lang:"pt"}],guide:{iconicTaxa:null,locationLongLat:"",locationPlace:"",locationType:null,place:{id:1,name:""},speciesRange:10,inatId:{key:"",type:"",param:"user_id"},season:{},perPage:200,noOfRecords:50}};function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var V=i(83),z=i(474);function species_reducers_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function species_reducers_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?species_reducers_ownKeys(Object(i),!0).forEach((function(a){species_reducers_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):species_reducers_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function species_reducers_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var K=function resetScore(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.total,i=void 0===a?0:a,o=t.correct,c=void 0===o?0:o,l=t.taxon,u=void 0===l?"":l,d=t.binomial,p=void 0===d?"":d,m=t.answer,h=void 0===m?"":m,g=t.success,v=void 0!==g&&g,y=t.incorrect,b=void 0===y?0:y,_=t.question,x=void 0===_?"":_,S=t.fails,w=void 0===S?[]:S,k=t.passes,T=void 0===k?[]:k,E=t.answers,L=void 0===E?[]:E,A=t.statement,O=void 0===A?"":A,I=t.mode,P=void 0===I?"":I,j=t.totalPassPoints,C=void 0===j?0:j,R=t.totalPoints,N=void 0===R?0:R;return{total:i,correct:c,taxon:u,binomial:p,answer:h,success:v,incorrect:b,question:x,fails:w,passes:T,answers:L,statement:O,mode:P,totalPassPoints:C,totalPoints:N}},$={score:K(),resetScore:K};function progress_reducers_toConsumableArray(t){return function progress_reducers_arrayWithoutHoles(t){if(Array.isArray(t))return progress_reducers_arrayLikeToArray(t)}(t)||function progress_reducers_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function progress_reducers_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return progress_reducers_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return progress_reducers_arrayLikeToArray(t,a)}(t)||function progress_reducers_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function progress_reducers_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function progress_reducers_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function progress_reducers_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?progress_reducers_ownKeys(Object(i),!0).forEach((function(a){progress_reducers_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):progress_reducers_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function progress_reducers_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function layout_reducers_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function layout_reducers_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?layout_reducers_ownKeys(Object(i),!0).forEach((function(a){layout_reducers_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):layout_reducers_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function layout_reducers_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function lesson_reducers_toConsumableArray(t){return function lesson_reducers_arrayWithoutHoles(t){if(Array.isArray(t))return lesson_reducers_arrayLikeToArray(t)}(t)||function lesson_reducers_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function lesson_reducers_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return lesson_reducers_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lesson_reducers_arrayLikeToArray(t,a)}(t)||function lesson_reducers_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lesson_reducers_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function lesson_reducers_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_reducers_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_reducers_ownKeys(Object(i),!0).forEach((function(a){lesson_reducers_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_reducers_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_reducers_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var X={currentRound:1,rounds:0,isNextRound:!0},Q=function cleanAndReturnIncomingState(t){var a=t;return a.onClickFiltersLinkListeners&&delete a.onClickFiltersLinkListeners,a.onClickGlossaryLinkListeners&&delete a.onClickGlossaryLinkListeners,a},J=(i(464),Object(c.b)({counter:function counter(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"persist/REHYDRATE":return a.payload?progress_reducers_objectSpread(progress_reducers_objectSpread({},a.payload.counter),{},{isLessonRehydrated:!0,isLessonPaused:!0}):t;case L:return progress_reducers_objectSpread(progress_reducers_objectSpread({},t),{},{isLessonSelected:!1,isLessonPaused:!1});case k:return progress_reducers_objectSpread(progress_reducers_objectSpread({},t),{},{isLessonRehydrated:!1});case A:case g:return{index:0};case O:return progress_reducers_objectSpread(progress_reducers_objectSpread({},t),{},{index:a.data.index});case P:var i=t&&t.index||0;return progress_reducers_objectSpread(progress_reducers_objectSpread({},a.data),{},{index:i});case b:case x:var o=t.index+1<=a.data.layoutCount?t.index+1:t.index;return{index:o};case w:return progress_reducers_objectSpread(progress_reducers_objectSpread(progress_reducers_objectSpread({},t),a.data.lesson.counter),{},{isLessonPaused:!!a.data.lesson.counter.isCustomLessonPausedOverride});default:return t}},lessonPlans:function lessonPlans(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:return a.data;default:return t}},lessonPlan:function lessonPlan(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h:return a.data||t;case g:return a.data.lessonPlan||t;case w:return a.data.lesson.lessonPlan||t;default:return t}},layout:function layout(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v:if(t){if(a.data.screens.length>1){var i=t.screens[0].name===a.data.screens[0].name?t.itemIndex:null;return layout_reducers_objectSpread(layout_reducers_objectSpread({},a.data),{},{prevItemIndex:i})}return a.data}return a.data;case w:return a.data.lesson.layout||t;default:return t}},config:function config(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case k:return _objectSpread(_objectSpread(_objectSpread({},a.data.config),{coordinates:t.coordinates}),{place:t.place});case I:return _objectSpread(_objectSpread({},t),a.data);case C:return _objectSpread(_objectSpread({},t),{language:a.data.lang});case w:return _objectSpread(_objectSpread({},t),a.data.lesson.config);default:return t}},lessons:function lessons(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case M:var i=t.map((function(t){return t.name}));if(V.a(a.data.collection.name,i)){var o=t.filter((function(t){return t.name!==a.data.collection.name}));return o.push(a.data),o}return[].concat(lesson_reducers_toConsumableArray(t),[a.data]);case q:return t.filter((function(t){return t.name!==a.data.name}));default:return t}},lesson:function lesson(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"persist/REHYDRATE":return t;case N:return lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),a.data);case v:return lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),{},{layoutName:a.data.name});case y:var i,o,c,l=!1;return o=(i=(i=t.layoutCounter?t.layoutCounter+1:1)>t.layoutCount?t.layoutCount:i)===t.layoutCount,t.layoutName&&"summary"===t.layoutName&&(o=!0),c=0!==t.rounds&&t.currentRound===t.rounds,t.level&&t.level.id&&t.levels&&(l=c&&t.levels[t.levels.length-1].id===t.level.id),lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),{},{layoutCounter:i,isNextRound:o,isLevelComplete:c,isLessonComplete:l});case A:var u=a.data.lesson.currentRound,d=0!==t.rounds&&u===t.rounds,p=t.layoutCounter,m=t.level;return lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),{},{currentRound:u,layoutCounter:p,level:m,isLessonComplete:d});case g:var h=!!t.layoutCount&&t.layoutCounter===t.layoutCount,b=0,_=a.data.lesson.layoutCount;return lesson_reducers_objectSpread(lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),a.data.lesson),{},{isNextRound:h,layoutCounter:b,layoutCount:_});case O:return lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),{},{currentRound:1});case k:if("learn-again"===a.data.config.mode){var x=!0,S=!0;return lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),{},{currentRound:1,isNextRound:x,isLevelComplete:S})}return t;case w:return lesson_reducers_objectSpread(lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),a.data.lesson.lesson),{},{isNextRound:!0});default:return t}},collection:function collection(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:0},a=arguments.length>1?arguments[1]:void 0,i=function getNextRound(t,a){var i=t.data.lesson,o=i.moduleSize*(i.currentRound-1),c=a.items[o];return i.isLevelComplete&&(o=0,c=a.items[o]),{itemIndex:o,nextItem:c}},o=function updateCollection(t,a){var i=species_reducers_objectSpread(species_reducers_objectSpread({},t),a.data.collection);t.id&&t.id===a.data.collection.id&&(i.itemIndex=t.itemIndex);var o=i.items[i.itemIndex];return"review"===a.data.config.mode&&(i.allItems=a.data.collection.allItems),"learn-again"===a.data.config.mode&&(i.itemIndex=0,i.nextItem=i.items[i.itemIndex]),{collection:i,nextItem:o}};switch(a.type){case"persist/REHYDRATE":return t;case j:return a.data;case T:var c=z.a(t);return c.items=a.data.filter((function(t){return!t.isDeselected})),c;case w:return species_reducers_objectSpread(species_reducers_objectSpread({},a.data.lesson.collection),{},{nextItem:a.data.lesson.collection.items[a.data.lesson.collection.itemIndex]});case L:return a.data.collection;case k:var l=o(t,a),u=l.collection,d=l.nextItem;return species_reducers_objectSpread(species_reducers_objectSpread(species_reducers_objectSpread({},t),u),{},{nextItem:d});case v:var p=a.data;return p.bonus,t;case y:var m=a.data,h=t.items[m];return species_reducers_objectSpread(species_reducers_objectSpread({},t),{},{itemIndex:m,nextItem:h});case A:var b=i(a,t),_=b.itemIndex,x=b.nextItem;return species_reducers_objectSpread(species_reducers_objectSpread({},t),{},{itemIndex:_,nextItem:x});case g:var S=species_reducers_objectSpread(species_reducers_objectSpread({},t),a.data.collection);return species_reducers_objectSpread(species_reducers_objectSpread({},t),S);case O:default:return t}},score:function score(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.score,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case b:var i=progress_reducers_objectSpread(progress_reducers_objectSpread(progress_reducers_objectSpread({},t),a.data),{},{statement:a.data.statement||""});return i.totalPoints=i.totalPoints||0,i.totalPassPoints=i.totalPassPoints||0,i.totalFailPoints=i.totalFailPoints||0,i.totalPoints+=i.points?i.points:0,i.total++,i.success?(i.totalPassPoints+=i.points?i.points:0,i.correct++,i.passes.push({itemId:i.itemId,taxon:i.taxon,binomial:i.binomial,question:i.question,statement:i.statement||"",answer:i.answer,answers:i.answers,index:i.total-1,success:i.success,questionText:i.questionText})):(i.incorrect++,i.totalFailPoints+=i.points?i.points:0,i.fails.push({itemId:i.itemId,taxon:i.taxon,binomial:i.binomial,question:i.question,statement:i.statement||"",answer:i.answer,answers:i.answers,index:i.total-1,success:i.success,questionText:i.questionText})),i.questionTotal=i.passes.length+i.fails.length,i.passesTotals=z.a(t.passesTotals)||{},i.failsTotals=z.a(t.failsTotals)||{},i.success?(i.passesTotals[i.itemId]=i.passesTotals[i.itemId]?i.passesTotals[i.itemId]+1:1,i.failsTotals[i.itemId]||(i.failsTotals[i.itemId]=0)):(i.failsTotals[i.itemId]=i.failsTotals[i.itemId]?i.failsTotals[i.itemId]+1:1,i.passesTotals[i.itemId]||(i.passesTotals[i.itemId]=0)),progress_reducers_objectSpread(progress_reducers_objectSpread({},t),i);case j:return z.a($.score);case A:case O:case k:return progress_reducers_objectSpread(progress_reducers_objectSpread({},$.score),{fails:[],passes:[]});case _:var o=t.bonusScores||[];return o.push({id:a.data.itemId,name:a.data.binomial,success:a.data.success,guid:a.data.guid}),progress_reducers_objectSpread(progress_reducers_objectSpread({},t),{},{bonusScores:o});case w:return a.data.lesson.score;case g:return progress_reducers_objectSpread(progress_reducers_objectSpread({},t),{},{mode:"learn"});default:return t}},collections:function collections(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case j:var i=_toConsumableArray(t);return i.forEach((function(t){t.id===a.data.id?t.selected=!0:t.selected=!1})),i;case E:return t?[].concat(_toConsumableArray(t),_toConsumableArray(a.data)):a.data;case k:var o=_toConsumableArray(t);return o.forEach((function(t){t.id===a.data.collection.id&&(t=a.data.collection)})),o;case w:a.data.lesson.collection.isActive=!0;var c=V.a(a.data.lesson.collection.id,t.map((function(t){return t.id})));return[].concat(_toConsumableArray(c?t.filter((function(t){return t.id!==a.data.lesson.collection.id})):t),[a.data.lesson.collection]);default:return t}},history:function history(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case S:var i={scores:[]};i.scores=null===t?[a.data]:t.scores[t.scores.length-1].question===a.data.question?progress_reducers_toConsumableArray(t.scores):[].concat(progress_reducers_toConsumableArray(t.scores),[a.data]);var o=0,c=0;return i.scores.forEach((function(t){o+=t.correct,c+=t.total})),i.correct=o,i.total=c,i.incorrect=i.total-i.correct,i;case j:return null;case w:return a.data.lesson.history;default:return t}},videoPlayer:function videoPlayer(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case H:return a.data;default:return t}},enums:function enums(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case R:return a.data;default:return t}},bonusLayout:function bonusLayout(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"persist/REHYDRATE":return t;case v:var i=a.data;return i.bonus&&(t=i),t;case w:return species_reducers_objectSpread(species_reducers_objectSpread({},t),a.data.lesson.bonusLayout);default:return t}},user:function user(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case D:return a.data;default:return t}},quickFire:function quickFire(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case G:case U:return Q(a.data);default:return t}},glossary:function glossary(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case B:return a.data;default:return t}},userAction:function userAction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case W:return a.data;default:return t}}})),Z={key:"root",storage:p.a},ee=Object(l.a)(Z,J),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,te=Object(c.d)(ee,ne(Object(c.a)((function logger(t){return function(t){return function(a){return t(a)}}}),u.a))),re=Object(l.b)(te),ae=i(139),ie={leftGrid:document.getElementsByClassName("js-left-grid")[0],leftHeader:document.getElementsByClassName("js-left-header")[0],leftBody:document.getElementsByClassName("js-left-body")[0],leftFooter:document.getElementsByClassName("js-left-footer")[0],leftHeaderTxt:document.getElementsByClassName("js-left-txt-header")[0],specimenRptr:document.getElementsByClassName("js-rptr-specimen")[0],rightGrid:document.getElementsByClassName("js-right-grid")[0],rightHeader:document.getElementsByClassName("js-right-header")[0],rightHeaderTxt:document.getElementsByClassName("js-right-txt-header")[0],rightHeaderScoreTxt:document.getElementsByClassName("js-right-txt-score")[0],rightBody:document.getElementsByClassName("js-right-body")[0],rightRptrSummary:document.getElementsByClassName("js-summary")[0],rightBodyBottom:document.getElementsByClassName("js-right-body-bottom")[0],rightFooter:document.getElementsByClassName("js-right-footer")[0]},oe=function getRoundItems(t,a,i){var o=(t-1)*a,c=o+a;return i.slice(o,c)},se=i(475),ce=i(473),le=i(476),ue=i(472),de=[{latin:["armeniaca"],en:["from Armenia"]},{latin:["agastache"],en:["many spikes"]},{latin:["aster"],en:["star"]},{latin:["alba"],en:["white"]},{latin:["avium"],en:["bird"]},{latin:["nigrum"],en:["black"]},{latin:["ater"],en:["black"]},{latin:["botanikos"],en:["plant"]},{latin:["capitata"],en:["having a head"]},{latin:["chrysus"],en:["yellow"]},{latin:["erythro"],en:["red"]},{latin:["lactuca"],en:["milky"]},{latin:["sylvestris"],en:["woodland"]},{latin:["contorta"],en:["twisted"]},{latin:["globosa"],en:["rounded"]},{latin:["maculata"],en:["spotted"]},{latin:["pendula"],en:["weeping"]},{latin:["pratense"],en:["of meadows"]},{latin:["prostrata"],en:["creeping"]},{latin:["phyllos"],en:["leaf","foliage"]},{latin:["platy"],en:["broad","flat"]},{latin:["angustus"],en:["narrow"]},{latin:["arena"],en:["sand"]},{latin:["argentum"],en:["silver"]},{latin:["arvensis"],en:["in the field"]},{latin:["brachy-"],en:["short"]},{latin:["brachyphyllus"],en:["short leaved"]},{latin:["caprae"],en:["goat"]},{latin:["chroma"],en:["colour"]},{latin:["cilium"],en:["eyelash"]},{latin:["coccineus"],en:["scarlet"]},{latin:["cordifolius"],en:["heart-shaped"]},{latin:["coronatus"],en:["crowned"]},{latin:["crassus"],en:["thick","fat"]},{latin:["crocos"],en:["yellow"]},{latin:["cruciferae"],en:["cross-bearing"]},{latin:["derma"],en:["skin"]},{latin:["digitalis"],en:["having fingers"]},{latin:["domus"],en:["home"]},{latin:["domestica"],en:["which lives in the house"]},{latin:["echinatus"],en:["prickly","spiny"]},{latin:["edulis"],en:["edible"]},{latin:["elatior"],en:["taller"]},{latin:["electro-"],en:["amber"]},{latin:["emarginatus"],en:["having no edges"]},{latin:["enanti-"],en:["opposite","against"]},{latin:["endemos"],en:["native"]},{latin:["ensatus"],en:["sword-like"]},{latin:["erectus"],en:["upright"]},{latin:["erica"],en:["heath","broom"]},{latin:["erio-"],en:["wool","woolly"]},{latin:["erosus"],en:["indented","jagged","serrated"]},{latin:["fallax"],en:["false"]},{latin:["foeniculum"],en:["hay"]},{latin:["filium"],en:["thread"]},{latin:["flavus"],en:["golden yellow","light yellow"]},{latin:["floridus"],en:["flowery"]},{latin:["furcatus"],en:["forked"]},{latin:["fuscus"],en:["dark","dark brown"]},{latin:["gala"],en:["milk"]},{latin:["galum"],en:["milk"]},{latin:["glaber"],en:["smooth; hairless"]},{latin:["glaucus"],en:["blue-green","blue-gray"]},{latin:["glycy-"],en:["sweet"]},{latin:["perennis"],en:["perennial, lasting, yearlong"]},{latin:["gracile"],en:["slender","graceful"]},{latin:["gravis"],en:["heavy"]},{latin:["hali-"],en:["of the sea","salt"]},{latin:["hetero-"],en:["diversely or different"]},{latin:["hirsutus"],en:["hairy"]},{latin:["hirsuta"],en:["hairy"]},{latin:["hortensis"],en:["from the garden"]},{latin:["hydro-"],en:["water"]},{latin:["hymen"],en:["membrane"]},{latin:["hypo-","hyp-"],en:["under","beneath"]},{latin:["hyper-"],en:["over","above"]},{latin:["laevis"],en:["smooth"]},{latin:["lateralis"],en:["side"]},{latin:["lepis","lepido-"],en:["scale","rind","husk","flake"]},{latin:["lepto-","lepti-"],en:["light"]},{latin:["mel"],en:["honey"]},{latin:["muralis"],en:["growing on the wall"]},{latin:["nobilis"],en:["noble"]},{latin:["nix"],en:["snow"]},{latin:["nucifer"],en:["bearing nuts"]},{latin:["officinale"],en:["of or belonging to the officina (storeroom for medicines)"],wiki:"https://en.wikipedia.org/wiki/Officinalis"},{latin:["officinalis"],en:["of or belonging to the officina (storeroom for medicines)"],wiki:"https://en.wikipedia.org/wiki/Officinalis"},{latin:["oleo"],en:["oily"]},{latin:["palustris"],en:["of the marsh"]},{latin:["parviflorus"],en:["small-flowered"]},{latin:["parvifolius"],en:["small-leaved"]},{latin:["pelagicus"],en:["of the open sea"]},{latin:["persica"],en:["from Persia"],examples:["Prunus persica"]},{latin:["petro-"],en:["rock","stone"]},{latin:["phyto-"],en:["plant"]},{latin:["pomum"],en:["fruit"]},{latin:["pratum"],en:["meadow"]},{latin:["proto-"],en:["first"]},{latin:["pteron"],en:["feather","wing"]},{latin:["radix"],en:["root or radish"]},{latin:["ramus"],en:["branch"]},{latin:["rapum"],en:["turnip"]},{latin:["repandus"],en:["curved upwards","turned up"]},{latin:["rhiza"],en:["root"]},{latin:["sativus"],en:["sown","cultivated"]},{latin:["sativum"],en:["sown","cultivated"]},{latin:["sativa"],en:["sown","cultivated"]},{latin:["setosus"],en:["bristly or shaggy"]},{latin:["silvestris"],en:["from woodland or forest; wild"]},{latin:["sylvestris"],en:["from woodland or forest; wild"]},{latin:["speciosus"],en:["showy"]},{latin:["sperma"],en:["seed"]},{latin:["striatus"],en:["striped"]},{latin:["strictus"],en:["straight","narrow","erect"]},{latin:["suber"],en:["cork"]},{latin:["sucus"],en:["juice"]},{latin:["sulcatus"],en:["furrowed"]},{latin:["tenuis"],en:["thin","slender","fine"]},{latin:["tinctorius"],en:["or dyeing"]},{latin:["tomentosus"],en:["furry","hairy"]},{latin:["ulmus"],en:["elm"]},{latin:["vernus"],en:["spring"]},{latin:["vernalis"],en:["spring"]},{latin:["verus"],en:["true","genuine"]},{latin:["villosus"],en:["hairy","shaggy"]},{latin:["viridis"],en:["green"]},{latin:["vulgaris"],en:["common"]},{latin:["vulgare"],en:["common"]},{latin:["xanthos"],en:["yellow"]},{latin:["zygos"],en:["joined"]},{latin:["stipula"],en:["straw, stalk"]},{latin:["convolvulus"],en:["wound"]},{latin:["ranunculus"],en:["little frog"]},{latin:["esculenta"],en:["edible"]},{latin:["ascus"],en:["sack, wineskin"]},{latin:["sclero"],en:["hard"]},{latin:["derma"],en:["skin"]},{latin:["odora"],en:["perfumed"]},{latin:["kantharos"],en:["tankard","cup"]},{latin:["pyriforme"],en:["pear-shaped"]},{latin:["Lycoperdon"],en:["wolf's fart"]},{latin:["Lycopersicon"],en:["wolf's peach"]},{latin:["Grifola"],en:["Something intricate or braided"]},{latin:["Frondosa"],en:["Full of leaves"]},{latin:["calvus"],en:["bald, without hair"]},{latin:["thallus"],en:["a green shoot or twig"]},{latin:["vasculum"],en:["duct"]},{latin:["xylem"],en:["wood"]},{latin:["phloios"],en:["bark"]},{latin:["parietina"],en:["on walls"]},{latin:["eutrophos"],en:["well nourished"]},{latin:["askos"],en:["sac, wineskin"]},{latin:["Suillus"],en:["of pigs"]},{latin:["sus"],en:["pig"]},{latin:["collinitus"],en:["smeared","greased"]},{latin:["pyrrho"],en:["fire"]},{latin:["coris"],en:["bug"]},{latin:["boreal"],en:["(far) northern"]},{latin:["physcia"],en:["inflated, sausage-like"]},{latin:["apis"],en:["bee"],species:["Apis mellifera"]},{latin:["mellifera"],en:["honey-bearing"],species:["Apis mellifera"]},{latin:["instar"],en:["likeness, form"]},{latin:["skia"],en:["shadow"]},{latin:["oura"],en:["tail"]},{latin:["geo"],en:["earth"]},{latin:["metron"],en:["measure"]},{latin:["pente"],en:["five"]},{latin:["tomos"],en:["section"]},{latin:["praecox"],en:["before its time"]},{latin:["rudus"],en:["rubble"]},{latin:["phoinix"],en:["red"]},{latin:["ouros"],en:["tailed"]},{latin:["coluber"],en:["snake"]},{latin:["noctua"],en:["little owl"]},{latin:["epidermis"],en:["over-skin"]},{latin:["septem"],en:["seven"],species:["Coccinella septempunctata"]},{latin:["punctus"],en:["spot"],species:["Coccinella septempunctata"]},{latin:["tussis"],en:["cough"],species:["Tussilago farfara"]},{latin:["stoechas"],en:["in rows"],species:["Lavandula stoechas"]},{latin:["ros marinus"],en:["dew of the sea"],species:["Rosmarinus officinalis"]},{latin:["auriculata"],en:["with ears"],species:["Plumbago auriculata"]},{latin:["baccata"],en:["bearing red berries"],species:["Taxus baccata"]},{latin:["pleurotus"],en:["sideways"],species:["Pleurotus ostreatus"]},{latin:["sema"],en:["sign"],genus:["Bombus"]}];function _slicedToArray(t,a){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],o=!0,c=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done)&&(i.push(u.value),!a||i.length!==a);o=!0);}catch(t){c=!0,l=t}finally{try{o||null==d.return||d.return()}finally{if(c)throw l}}return i}(t,a)||function data_checking_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return data_checking_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return data_checking_arrayLikeToArray(t,a)}(t,a)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_checking_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var pe=function getTrait(t,a,i){if(!t.traits)return"";for(var o,c=0,l=Object.entries(t.traits);c<l.length;c++){var u=_slicedToArray(l[c],2),d=u[0],p=u[1];d===a&&(o=p.value)}return o?i?i(o):o:""},me=function reducer(t,a){return t+a},fe=function statsReducer(t,a){return t[a]=t[a]||0,t[a]++,t},he=function getVernacularName(t,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vernacularName";try{var l;if(i){var u=t.names.find((function(t){return"en"===t.language&&t.shortForm}));u=u?u.shortForm:void 0;var d=t.names.find((function(t){return t.language===a.language&&t.shortForm}));l=(d=d?d.shortForm:void 0)||u}if(l)return l;var p=t.names.filter((function(t){return"en"===t.language})),m=p.length>0?p[0][c]:"Unknown",h=t.names.filter((function(t){return t.language===a.language})),g=h.length>0?h[0][c]:m,v=g.split(" ");return"fr"===a.language?o.utils.capitaliseFirst(v.join(" ")):v.map((function(t){return o.utils.capitaliseFirst(t)})).join(" ")}catch(a){return console.error("Failing getting vernacular name for: ",t,"error: ",a.message),""}},ge=function getSpeciesName(t){return t.split(" ")[1]},ve=function getNestedTaxonProp(t,a,i,o,c){if(!t||!t[i])return"";var l=t[i].find((function(t){return t.language===a}))?t[i].find((function(t){return t.language===a})):t[i].find((function(t){return"en"===t.language}));if(!l)return"";var u=l[o];return u?c?u[c]:u:""},ye=function trimLatinName(t){var a=t;return t.indexOf(".")<0&&(a=t.split(" ").map((function(t,a){return 0===a?t.slice(0,1).trim()+".":t.trim()})).join(" ")),a},be=function getActiveTrait(t,a){return a.map((function(a){var i=a.name,o=a.formatter;return pe(t,i,o)})).reduce(me,"")},_e=function getVernacularNames(t,a){try{return t.names.filter((function(t){return t.language===a.language})).map((function(t){return o.utils.capitaliseFirst(t.vernacularName)}))}catch(a){return console.error("Failing getting vernacular names for: ",t),""}},xe=function getFamilyStats(t){return t.map((function(t){return t.taxonomy.family})).reduce(fe,{})},Se=function getRootTraitValue(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end",i=/[A-Z]+[^A-Z]*|[^A-Z]+/g,o=t.match(i),c=["colour","shape"];c.forEach((function(i){t.toLowerCase().indexOf(i)>-1&&(a="start")}));var l="";return"start"===a?(o.forEach((function(t,a){a===o.length-1&&(l+=t)})),l=l.charAt(0).toLowerCase()+l.slice(1)):o.forEach((function(t,a){a<o.length-1&&(l+=t)})),l};function traits_handler_toConsumableArray(t){return function traits_handler_arrayWithoutHoles(t){if(Array.isArray(t))return traits_handler_arrayLikeToArray(t)}(t)||function traits_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||traits_handler_unsupportedIterableToArray(t)||function traits_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function traits_handler_slicedToArray(t,a){return function traits_handler_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function traits_handler_iterableToArrayLimit(t,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],o=!0,c=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done)&&(i.push(u.value),!a||i.length!==a);o=!0);}catch(t){c=!0,l=t}finally{try{o||null==d.return||d.return()}finally{if(c)throw l}}return i}(t,a)||traits_handler_unsupportedIterableToArray(t,a)||function traits_handler_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function traits_handler_unsupportedIterableToArray(t,a){if(t){if("string"==typeof t)return traits_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?traits_handler_arrayLikeToArray(t,a):void 0}}function traits_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var we=function getTraitValues(t,a){var i;return t.key.split(" ").forEach((function(t,a){0===a?i=t.toLowerCase():i+=o.utils.capitaliseFirst(t)})),a[i]},ke=function getTraitByKey(t,a){return t[Object.keys(t).find((function(t){return t===a}))]},Te=function hasTraitPropeties(t){for(var a in t)if(t.hasOwnProperty(a))return!0},Ee=function handleUnit(t){switch(t=t||""){case"DD":return" days";case"MM":return"";case"YY":return" years";default:return t}},Le=ce.a(le.a,ue.a),Ae={getRandomTrait:function getRandomTrait(t,a){for(var i={},c=0,l=Object.entries(t);c<l.length;c++){var u=traits_handler_slicedToArray(l[c],2),d=u[0],p=u[1];V.a(d.toLowerCase(),a)||(i[d]=p.unit?["".concat(p.value).concat(p.unit)]:p.value)}return o.utils.getRandomObjectProperty(i)},getTraitsPoolForUnits:function getTraitsPoolForUnits(t){return t.unit,{traitsPool:[1,2,3,4,5,6,7,8,9],help:"Pick the best range"}},getTraitsPoolForRoles:function getTraitsPoolForRoles(t){enumKey=t.role;return{traitsPool:["role1","role2","role3","role4","role5","role6","role7","role8","role9","role10"],help:"symbiosis"}},getTraitValues:we,getTraitsPool:function getTraitsPool(t,a){var i=[],c=we(t,a);if(c||(c=a[Se(o.utils.toCamelCase(t.key))])&&(c.help=t.key),c)for(var l=0,u=Object.entries(c);l<u.length;l++){var d=traits_handler_slicedToArray(u[l],2),p=d[0],m=d[1];V.a(p,["type","name","help"])||p!==t.key&&i.push(m)}return{traitsPool:i,help:c?c.help||c.name:t.key}},getSetOfTraitAnswers:function getSetOfTraitAnswers(t,a){var i=a.value;i=i.map((function(t){return t.trim()})),i=o.utils.shuffleArray(i);var c=se.a(2,i),l=[];return 1===c.length?l=[].concat(traits_handler_toConsumableArray(se.a(5,t.filter((function(t){return t!==a.value[0]})))),[a.value[0]]):(t.forEach((function(a){t.forEach((function(t){a!==t&&(l.filter((function(i){return i===[a,t]||i===[t,a]})).length>0||l.push([a,t]))}))})),l=(l=se.a(6,o.utils.shuffleArray(l))).map((function(t){if(t[0]!==i[0]&&t[1]!==i[1]||t[0]!==i[1]&&t[1]!==i[0])return t})).filter((function(t){return t})),l=se.a(5,l),0===(l=[].concat(traits_handler_toConsumableArray(l),[i])).length&&(l=["a","b",a.value]),l=l.map((function(t){return t.join(", ")}))),o.utils.shuffleArray(l)},getTraitByKey:ke,getTraitValueByKey:function getTraitValueByKey(t,a){var i=ke(t,a);if(i)return i.value},getLinkedTaxaTraits:function getLinkedTaxaTraits(t){for(var a=[],i=0,o=Object.entries(t);i<o.length;i++){var c=traits_handler_slicedToArray(o[i],2),l=c[0],u=c[1];u.type?a.push({name:l,value:u.value,type:u.type}):"lookalikes"===l?a.push({name:l,value:u.value,type:"lookalike"}):"symbionts"===l&&a.push({name:l,value:u.value,type:"symbionts"})}return a},getTraitsToExclude:function getTraitsToExclude(){return["symbionts","voice","pollination","name","units","song","uk rank","colour","bark colour","height","physiology","description","usage","habitat","symbiont"]},convertTraitsToNameValuePairsArray:function convertTraitsToNameValuePairsArray(t,a,i){if(!Te(t))return{};for(var o=[],c=function _loop(){var t=traits_handler_slicedToArray(u[l],2),i=t[0],c=t[1];V.a(i,a)||("lookalikes"===i?c.forEach((function(t){o.push({name:i,value:[t.lookalike.name],description:t.description,lookalike:{name:t.lookalike.name,description:t.lookalike.description}})})):"relationships"===i?c.forEach((function(t){o.push({name:i,value:[t.symbiont.name]})})):o.push({name:i,value:c.value,unit:Ee(c.unit),type:c.type||""}))},l=0,u=Object.entries(t);l<u.length;l++)c();return o},getNMultiplesFromArray:function getNMultiplesFromArray(t,a){if(0===t.length)return[];for(var i,o=[],c=0;c<Math.pow(2,t.length);c++){i=[];var l=t.length-1;do{0!=(c&1<<l)&&i.push(t[l])}while(l--);i.length>=a&&o.push(i)}return o.filter((function(t){return t.length===a}))},doArraysHaveSameValues:Le,hasTraitPropeties:Te};function traits_for_tests_toConsumableArray(t){return function traits_for_tests_arrayWithoutHoles(t){if(Array.isArray(t))return traits_for_tests_arrayLikeToArray(t)}(t)||function traits_for_tests_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function traits_for_tests_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return traits_for_tests_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return traits_for_tests_arrayLikeToArray(t,a)}(t)||function traits_for_tests_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function traits_for_tests_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var Oe=function getTraitTests(t){return void 0===t?[]:t.map((function(t){var a=function getTraitsForTests(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(void 0===a.traits||0===Object.keys(a.traits).length&&a.traits.constructor===Object)return{};var c=[].concat(traits_for_tests_toConsumableArray(Ae.getTraitsToExclude()),traits_for_tests_toConsumableArray(i),["lookalikes","relationships"]).filter((function(t){return t})),l=Ae.getRandomTrait(a.traits,c);if(0===Object.keys(l).length&&l.constructor===Object)return{};var u=l.unit?Ae.getTraitsPoolForUnits(l):l.role?Ae.getTraitsPoolForRoles(l):Ae.getTraitsPool(l,t),d=u.traitsPool,p=u.help,m=l.unit?l.value.join("-"):l.value.join(",");l.value=l.value.map((function(t){return o.utils.capitaliseFirst(t)}));var h=Ae.getSetOfTraitAnswers(d,l),g={question:"Match the trait",help:p=p||l.key,trait:l};return{question:m,answers:h,overrides:g,typedItemTraits:a.traits}}(te.getState().enums,t),i=a.question,c=a.answers,l=a.overrides;return i?{item:t,question:i,answers:c,overrides:l}:{}}))};function birdsong_test_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function birdsong_test_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Ie,Pe,je=function getBirdsongTests(t,a){return void 0===t?[]:t.map((function(i){if(i.taxonomy.class&&"aves"!==i.taxonomy.class.toLowerCase())return[];var o=Ce(i,t,a),c=o.question,l=o.answers,u=o.overrides;return c?{item:i,question:c,answers:l,overrides:u}:{}}))},Ce=function getBirdsongTest(t,a,i){if(t.traits&&0!==Object.keys(t.traits).length){var c=function birdsong_test_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?birdsong_test_ownKeys(Object(i),!0).forEach((function(a){birdsong_test_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):birdsong_test_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}({name:"song"},t.traits.song),l=se.a(3,i.items.filter((function(a){return a.name.toLowerCase()!==t.name.toLowerCase()})));l.push(t);var u=o.utils.shuffleArray(l.map((function(t){return t.name})));return{question:t.name,answers:u,overrides:{question:"Match the birdsong",vernacularName:"Common name",binomial:"Latin name",trait:c}}}};function enums_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Re={name:(Ie={DESCRIPTION:"description",CIRCUMFERENCE:"circumference",EXPOSURE:"exposure",CAP_SHAPE:"cap shape",CAP_COLOUR:"cap colour",CAP_DIAMETER:"cap diameter",CAP_WIDTH:"cap width",CAP_HEIGHT:"cap height",SHELF_WIDTH:"shelf width",SHELF_THICKNESS:"shelf thickness",ECO_TYPE:"ecological type",HOW_EDIBLE:"how edible",HYMENIUM_TYPE:"hymenium type",SPORE_PRINT_COLOUR:"spore print colour",STIPE_CHARACTER:"stipe character",STIPE_LENGTH:"stipe length",STIPE_WIDTH:"stipe width",STIPE_COLOUR:"stipe colour",GILL_ATTACHMENT:"gill attachment",FLESH:"flesh",STEM_CHARACTER:"stem character",GILL_COLOUR:"gill colour",TRUNK_COLOUR:"trunk colour",SUBSTRATE:"substrate",THALLUS_TYPE:"thallus type",RHIZINE_TYPE:"rhizine type",DISC_WIDTH:"Width",LOBE_WIDTH:"Lobe width",LOBE_LENGTH:"Lobe length",LOBE_DIAMETER:"Lobe diameter",ROLE:"Role",NATIVE:"Native",NATIVE_TO:"Native to",SYMBIOSIS:"Symbiosis",ASSOCIATE:"associate",SYMBIONTS:"symbionts",LOOKALIKES:"look alikes",ECOLOGY:"ecology",HABITAT:"habitat",TROPHIC_LEVEL:"Trophic level",ORGANISATION:"Organisation",SMELL:"smell",FRUIT_TYPE:"Fruit type",FRUIT_WIDTH:"Fruit width",FRUIT_HEIGHT:"Fruit height",FRUIT_DIAMETER:"Fruit diameter",FRUIT_LENGTH:"Fruit length",FRUIT_COLOUR:"Fruit colour",FRUIT_TEXTURE:"Fruit texture",BRANCH_TEXTURE:"Branch texture",FRUIT_SURFACE:"Fruit surface",SEED_DISPERSAL:"Seed dispersal",VITAMINS:"vitamins",STAMEN_COUNT:"Stamen count",STYLE_COUNT:"Style count",LEAFLET_COUNT:"Leaflet count",LOBE_COUNT:"Lobe count",LEAFLET_LENGTH:"Leaflet length",LEAFLET_WIDTH:"Leaflet width",GROUPING:"grouping",MEDICINAL_PROPERTIES:"Medicinal properties",COLOUR:"Colour",USAGE:"Usage",FORM:"Form",LIFE_SPAN:"Life span",GERMINATION:"Germination",ACTIVE:"Active",SUBSTRATE_ADHERANCE:"Substrate adherance",RANK:"UK Rank",SIZE:"Size",LENGTH:"Length",VOICE:"Voice",HEIGHT:"Height",WEIGHT:"Weight",REPRODUCTION:"Reproduction",ASEXUAL_REPRODUCTION:"Asexual reproduction",DISPLAY:"Display",BEHAVIOUR:"behaviour",CHARACTERISTIC:"Characteristic",COMMUNICATION:"Communication",SHELTER:"Shelter",DISEASE:"Disease",THREAT:"Threat",FOOD:"Food",SEXUAL_DIMORPHISM:"Sexual dimorphism",WING_SPAN:"Wing span",TREE_SHAPE:"Tree shape",CROWN_SHAPE:"Crown shape",LEAF_DIVISION:"Leaf division",LEAFLET_DIVISION:"Leaflet division",LEAF_BLADE:"Leaf blade",LEAF_VARIATION:"Leaf variation",LEAF_SHAPE:"Leaf shape",JUVENILE_LEAF_SHAPE:"Juvenile leaf shape",LEAF_MARGIN:"Leaf margin",LEAF_ARRANGEMENT:"Leaf arrangement",LEAF_ATTACHMENT:"Leaf attachment",LEAF_LENGTH:"Leaf length",AWN_LENGTH:"Awn length",JUVENILE_LEAF_LENGTH:"Juvenile leaf length",LEAF_WIDTH:"Leaf width",LEAF_COLOUR:"Leaf colour",LEAF_SURFACE:"Leaf surface",LEAF_ABOVE_SURFACE:"Leaf above surface",LEAF_BELOW_SURFACE:"Leaf below surface",LEAF_TEXTURE:"Leaf texture",JUVENILE_TEXTURE:"Juvenile leaf texture"},enums_defineProperty(Ie,"LEAF_SHAPE","Leaf shape"),enums_defineProperty(Ie,"LEAFLET_SHAPE","Leaflet shape"),enums_defineProperty(Ie,"LEAF_BELOW_COLOUR","Leaf below colour"),enums_defineProperty(Ie,"LEAF_ABOVE_COLOUR","Leaf above colour"),enums_defineProperty(Ie,"LEAF_VENATION","Leaf venation"),enums_defineProperty(Ie,"LEAF_BUNDLE_COUNT","Leaf bundle count"),enums_defineProperty(Ie,"LEAF_FEATURES","Leaf features"),enums_defineProperty(Ie,"LEAF_FOLDING","Leaf folding"),enums_defineProperty(Ie,"BRANCH_ARRANGEMENT","Branch arrangement"),enums_defineProperty(Ie,"STALK_HEIGHT","Stalk height"),enums_defineProperty(Ie,"STEM_HEIGHT","Stem height"),enums_defineProperty(Ie,"SCAPE_HEIGHT","Scape height"),enums_defineProperty(Ie,"STEM_DIAMETER","Stem diameter"),enums_defineProperty(Ie,"TRUNK_DIAMETER","Trunk diameter"),enums_defineProperty(Ie,"BRACT_COLOUR","Bract colour"),enums_defineProperty(Ie,"BRACT_LENGTH","Bract length"),enums_defineProperty(Ie,"PETIOLE_LENGTH","Petiole length"),enums_defineProperty(Ie,"FLOWER_DIAMETER","Flower diameter"),enums_defineProperty(Ie,"FLOWER_LENGTH","Flower length"),enums_defineProperty(Ie,"FLOWER_COLOUR","Flower colour"),enums_defineProperty(Ie,"FLOWER_SHAPE","Flower shape"),enums_defineProperty(Ie,"PETAL_COUNT","Petal count"),enums_defineProperty(Ie,"LEAFLET_COUNT","Leaflet count"),enums_defineProperty(Ie,"PETAL_LENGTH","Petal length"),enums_defineProperty(Ie,"PETAL_WIDTH","Petal width"),enums_defineProperty(Ie,"PETAL_COLOUR","Petal colour"),enums_defineProperty(Ie,"SEPAL_COUNT","Sepal count"),enums_defineProperty(Ie,"INFLORESCENCE","Inflorescence"),enums_defineProperty(Ie,"FEMALE_CONE_LENGTH","Female cone length"),enums_defineProperty(Ie,"MALE_CONE_LENGTH","Male cone length"),enums_defineProperty(Ie,"CONE_LENGTH","Cone length"),enums_defineProperty(Ie,"FEMALE_CONE_WIDTH","Female cone width"),enums_defineProperty(Ie,"MALE_CONE_WIDTH","Male cone width"),enums_defineProperty(Ie,"BULB_WIDTH","Bulb width"),enums_defineProperty(Ie,"CONE_WIDTH","Cone width"),enums_defineProperty(Ie,"CONE_DIAMETER","Cone diameter"),enums_defineProperty(Ie,"CONE_COLOUR","Cone colour"),enums_defineProperty(Ie,"CONE_SHAPE","Cone shape"),enums_defineProperty(Ie,"MALE_CONE_COLOUR","Male cone colour"),enums_defineProperty(Ie,"FEMALE_CONE_COLOUR","Female cone colour"),enums_defineProperty(Ie,"CONE_SCALE_COUNT","Cone scale count"),enums_defineProperty(Ie,"BARK_TYPE","Bark type"),enums_defineProperty(Ie,"BARK_TEXTURE","Bark texture"),enums_defineProperty(Ie,"CAP_TEXTURE","Cap texture"),enums_defineProperty(Ie,"BARK_COLOUR","Bark colour"),enums_defineProperty(Ie,"ALLOCHORY","Allochory"),enums_defineProperty(Ie,"REPRODUCTIVE_CONTAINER","Reproductive container"),enums_defineProperty(Ie,"CATERPILLAR_FOOD","Caterpillar food"),enums_defineProperty(Ie,"CATERPILLAR_LENGTH","Caterpillar length"),enums_defineProperty(Ie,"CATERPILLAR_COLOUR","Caterpillar colour"),enums_defineProperty(Ie,"HIBERNATING_STAGE","Hibernating stage"),enums_defineProperty(Ie,"PHYSIOLOGY","Physiology"),enums_defineProperty(Ie,"MATING","Mating season"),enums_defineProperty(Ie,"MATING_SYSTEM","mating system"),enums_defineProperty(Ie,"PREGNANCY","Pregnancy"),enums_defineProperty(Ie,"LITTER_SIZE","Litter size"),enums_defineProperty(Ie,"JUVENILE","Juvenile"),enums_defineProperty(Ie,"GESTATION","Gestation"),enums_defineProperty(Ie,"WEANING","Weaning"),enums_defineProperty(Ie,"LACTATION","Lactation"),enums_defineProperty(Ie,"SENSORY_ACUITY","Sensory acuity"),enums_defineProperty(Ie,"CRYPSIS","Crypsis"),enums_defineProperty(Ie,"CACHE_SIZE","Number of caches"),enums_defineProperty(Ie,"COLLECTIVE","Collective"),enums_defineProperty(Ie,"FEMALE","Female"),enums_defineProperty(Ie,"MALE","Male"),enums_defineProperty(Ie,"TAIL_LENGTH","Tail length"),enums_defineProperty(Ie,"MAX_SPEED","Maximum speed"),enums_defineProperty(Ie,"DIET","Diet"),enums_defineProperty(Ie,"ALTRICIAL","Altricial"),enums_defineProperty(Ie,"MOULTING","Moulting"),enums_defineProperty(Ie,"MATURITY","Maturity"),enums_defineProperty(Ie,"FUNGUS_MARGIN_TYPE","Fungus margin type"),enums_defineProperty(Ie,"SOIL_TYPE","Soil type"),enums_defineProperty(Ie,"PH","pH"),enums_defineProperty(Ie,"PH_VALUE","pH value"),enums_defineProperty(Ie,"LICEN_CUP_COLOUR","Licen cup colour"),enums_defineProperty(Ie,"RIM","Rim"),enums_defineProperty(Ie,"CENTRE","Centre"),enums_defineProperty(Ie,"POLLINATION","Pollination"),enums_defineProperty(Ie,"PROPAGATION","Propagation"),enums_defineProperty(Ie,"CLIMATE","Climate"),enums_defineProperty(Ie,"SONG","Song"),enums_defineProperty(Ie,"DIAMETER","diameter"),enums_defineProperty(Ie,"NUT_TYPE","nut type"),enums_defineProperty(Ie,"TREE_ECOLOGY","Tree ecology"),enums_defineProperty(Ie,"KEY_FEATURE","Key feature"),enums_defineProperty(Ie,"GILL_ATTACHMENT","gill attachment"),enums_defineProperty(Ie,"MUSHROOM_GROUP","Mushroom group"),enums_defineProperty(Ie,"QUEEN_LENGTH","Queen length"),enums_defineProperty(Ie,"QUEEN_WINGSPAN","Queen wingspan"),enums_defineProperty(Ie,"QUEEN_WEIGHT","Queen weight"),enums_defineProperty(Ie,"WORKER_LENGTH","Worker length"),enums_defineProperty(Ie,"WORKER_WINGSPAN","Worker wingspan"),enums_defineProperty(Ie,"WORKER_WEIGHT","Worker weight"),enums_defineProperty(Ie,"MALE_LENGTH","Male length"),enums_defineProperty(Ie,"MALE_WINGSPAN","Male wingspan"),enums_defineProperty(Ie,"MALE_WEIGHT","Male weight"),enums_defineProperty(Ie,"COLONY_SIZE","colony size"),enums_defineProperty(Ie,"TONGUE_LENGTH","Tongue length"),enums_defineProperty(Ie,"INFRUCTESCENCE_LENGTH","Infructescence length"),enums_defineProperty(Ie,"INFRUCTESCENCE_WIDTH","Infructescence width"),enums_defineProperty(Ie,"UMBEL_DIAMETER","Umbel diameter"),enums_defineProperty(Ie,"WIDTH","Width"),enums_defineProperty(Ie,"BREADTH","Breadth"),enums_defineProperty(Ie,"UMBEL_TYPE","Umbel type"),Ie),howEdible:{help:"How edible is this species?",CHOICE:"Choice",EDIBLE:"Edible",INEDIBLE:"Inedible",POISONOUS:"Poisonous",DEADLY:"Deadly",TOXIC:"Toxic",type:"howEdible",name:"how edible"},habitat:{help:"What is the habitat of this species?",WOOD:"Wood",WOODLAND:"Woodland",WOODLAND_LITTER:"Woodland litter",GRASSLAND:"Grassland",SOIL:"Soil",VEGETATION:"Vegetation",DUNG:"Dung",DUNES:"Dunes",WIDESPREAD:"Widespread",DEAD_WOOD:"Dead wood",WASTELAND:"Wasteland",MEADOW:"Meadow",FIELDS:"Fields",MOSS:"Moss",PASTURE:"Pasture",BARK:"Bark",SHOOTS:"Shoots",COMMONS:"Common",HEATH:"Heath",ORCHARDS:"Orchards",HEDGEROWS:"Hedgerows",LAWNS:"Lawns",RINGS:"Rings",DAMP:"Damp",TREE_BASE:"Tree base",FOREST_EDGE:"Forest edge",PARKS:"Parks",TRUNKS:"Trunks",STUMPS:"Stumps",ROCKS:"Rocks",FENCES:"Fences",TREES:"Trees",SHRUBS:"Shrubs",SHRUBLAND:"Shrubland",MARSHLAND:"Marshland",EXPOSED_WOOD:"Exposed wood",BRANCHES:"Branches",HILLS:"Hills",URBAN:"Urban",VALLEYS:"Valleys",MAQUIS:"Maquis",SAVANNA:"Savanna",FOREST_STEPPE:"Forest steppe",MEADOW_STEPPE:"meadow steppe",BOREAL:"Boreal",SCRUB:"Scrub",WALLS:"Walls",MOORLAND:"Moorland",COAST:"Coast",BRUSH:"Brush",WATER:"Water",SNOW:"Snow",NO_SNOW:"No snow",CONIFERS:"conifers",BROAD_LEAF:"broad-leaf",PINE:"pine",BEECH:"beech",OAK:"oak",DITCH:"Ditch",WET_MEADOW:"Wet meadow",LAKESIDE:"Lakeside",RIPERIAN:"Riperian",WETLANDS:"Wetlands"},ecologicalType:{help:"What is the ecological type of this mushroom?",SAPROTROPHIC:"Saprotrophic",PARASITIC:"Parasitic",MYCORRHIZAL:"Mycorrhizal",PLANT_PATHOGEN:"Plant pathogen"},capShape:{help:"How would you describe the pileus?",CAMPANULATE:"Campanulate",CONICAL:"Conical",CONVEX:"Convex",DEPRESSED:"Depressed",FLAT:"Flat",INFUNDIBULIFORM:"Infundibuliform",OFFSET:"Offset",OVATE:"Ovate",UMBILLICATE:"Umbillicate",UMBONATE:"Umbonate",POTATO_SHAPED:"Potato shaped",NA:"N/A",SPHERICAL:"Spherical",PEAR_SHAPED:"Pear shaped",BRAIN_LIKE:"Brain-like",HONEYCOMB:"Honeycomb",HEMI_SPHERICAL:"Hemispherical",type:"capShape",name:"cap shape"},treeEcology:{OAK:"Oak",BEECH:"Beech",BIRCH:"Birch",DECIDUOUS:"Deciduous",SOFTWOOD:"Softwood",HARDWOOD:"Hardwood",MIXED_WOODLAND:"Mixed woodland",CONIFEROUS:"Coniferous",PINE:"Pine",ELM:"Elm",ASH:"Ash",SYCAMORE:"Sycamore",ASPEN:"Aspen",ELDER:"Elder",CHESTNUT:"Chestnut",HARDWOODS:"Hardwoods",PRUNUS:"Prunus",PYRUS:"Pyrus",SALIX:"Salix",ROBINIA:"Robinia",CERATONIA:"Ceratonia",EUCALYPTUS:"Eucalyptus",BROAD_LEAF:"Broad-leaf",SWEET_CHESTNUT:"Sweet chestnut",POPLAR:"Poplar",CORK:"Cork",FIR:"Fir",SPRUCE:"Spruce",PLANE:"Plane",WILLOW:"Willow",MAPLE:"Maple",LARCH:"Larch",CEDAR:"Cedar",YEW:"Yew",TURKEY_OAK:"Turkey oak",HAWTHORN:"Hawthorn",BUSH:"Bush",SHRUB:"Shrub"},hymeniumType:{help:"What is the hymenium type?",GILLS:"Gills",PORES:"Pores",GLEBA:"Gleba",SMOOTH:"Smooth",TEETH:"Teeth",RIDGES:"Ridges",FALSE_GILLS:"False gills"},associate:{ALGA:"Alga",CYNOBACTERIUM:"Cyanobacterium",FUNGUS:"Fungus",type:"associate",name:"associate"},thallusType:{help:"What is this lichen's thallus type?",FOLIOSE:"Foliose",FRUTICOSE:"Fruticose",CRUSTOSE:"Crustose",SQUAMULOSE:"Squamulose",LEPROSE:"Leprose",EPIPHYTE:"Epiphyte",type:"thallusType",name:"thallus type"},rhizineType:{SPARSE:"Sparse",HAPTER:"Hapter",type:"rhizineType",name:"rhizine type"},substrate:{WOOD:"Wood",BARK:"Bark",ROCKS:"Rocks",SOIL:"Soil",type:"substrate",name:"substrate"},level:{HIGH:"High",MEDIUM:"Medium",LOW:"Low",VARIABLE:"Variable",type:"level",name:"level"},medicinalProperties:{ANTIVIRAL:"Antiviral",ANTISEPTIC:"Antiseptic",ANTI_INFLAMMATORY:"Anti-inflammatory",ANTIBIOTIC:"Antibiotic",ANLAGESIC:"Analgesic",ANTIBACTERIAL:"Antibacterial",ANTICOAGULANT:"Anticoagulant",ANTIFUNGAL:"Antifungal",type:"medicinalProperties",name:"medicinal properties"},ph:{ACIDIC:"Acidic",ALKALINE:"Alkaline",NEUTRAL:"Neutral",type:"pHLevel",name:"ph level"},colour:{LILAC:"Lilac",BUFF:"Buff",WHITE:"White",YELLOW:"Yellow",DARK_GREEN:"Dark green",GREEN:"Green",WHITE_GREEN:"White-green",BRIGHT_GREEN:"Bright green",OLIVE_GREEN:"Olive-green",BRIGHT_YELLOW_GREEN:"Bright yellow-green",YELLOW_GREEN:"Yellow-green",YELLOW_BROWN:"Yellow-brown",PURPLE_BROWN:"Purple-brown",GREY_BROWN:"Grey-brown",DARK_YELLOW:"Dark yellow",DARK_RED:"Dark red",DARK_PINK:"Dark pink",ORANGE:"Orange",SCARLET:"scarlet",BLOOD_RANGE:"Blood orange",RED:"Red",RED_BROWN:"Red-brown",ORANGE_RED:"Orange-red",GREY:"Grey",PALE_GREY:"Pale grey",PALE_BROWN:"Pale brown",GREY_GREEN:"Grey-green",GREY_WHITE:"Grey-white",BROWN:"Brown",CHESTNUT_BROWN:"Chestnut brown",PAPER_BROWN:"Paper brown",BLACK:"Black",BLUE:"Blue",PALE_BLUE:"Pale blue",BLUE_BLACK:"Blue-black",JET_BLACK:"Jet-black",BLUE_GREEN:"Blue-green",VIOLET:"Violet",BURGUNDY:"Burgundy",PALE_VIOLET:"Pale violet",VIOLET_PURPLE:"Violet purple",PALE_GREEN:"Pale green",PALE_YELLOW:"Pale yellow",PALE_YELLOW_GREEN:"Pale yellow-green",PALE_GREY_GREEN:"Pale yellow-green",GLAUCOUS:"Glaucous",GREY_YELLOW:"Grey-yellow",ORANGE_YELLOW:"Orange-yellow",CREAM:"Cream",CHALKY:"Chalky",PINK:"Pink",PALE_PINK:"Pale pink",PURPLE:"Purple",PALE_PURPLE:"Pale purple",DARK_PURPLE:"Dark purple",TAN:"Tan",DARK_BROWN:"Dark brown",HONEY:"Honey",RED_PURPLE:"Red-purple",type:"colour",name:"colour"},usage:{help:"To what use do humans put this species?",PERFUMERY:"Perfumery",TANNING:"Tanning",DYING:"Dying",BREWING:"Brewing",FOOD:"Food",WINE:"Wine",COFFEE:"Coffee",TEA:"Tea",BIRDS_NEST:"Bird's nest",POISON:"Poison",FODDER:"Fodder",FORAGE:"Forage",GREEN_MANURE:"Green manure",MEDICINE:"Medicine",FUR:"Fur",TIMBER:"Timber",PEST_CONTROL:"Pest control",HERB:"Herb",SPICE:"Spice",ESSENTIAL_OIL:"Essential oil",MORDANT:"Mordant",ASTRINGENT:"Astringent"},nonTaxaType:{FORM:"Form",type:"nonTaxaType",name:"non taxa type"},element:{NITROGEN:"Nitrogen",SULPUR_DIOXIDE:"Sulpur dioxide",type:"element",name:"element"},leafBlade:{SIMPLE:"Simple ",COMPOUND:"Compound",type:"leaf blade",name:"leaf blade"},leafDivision:{PALMATE:"Palmate",COMPOUND_PALMATE:"Compound Palmate",PALMATELY_LOBED:"Palmately lobed",PINNATE:"Pinnate",COMPOUND_PINNATE:"Compound Pinnate",ODD_PINNATE:"Odd pinnate",EVEN_PINNATE:"Even pinnate",BIPINNATE:"Bipinnate",COMPOUND_BIPINNATE:"Compound Bipinnate",TRIFOLIATE:"Trifoliate",PINNATIFID:"Pinnatifid",TRIPINNATE:"Tripinnate",SIMPLE:"Simple ",COMPOUND:"Compound",IMPARIPINNATE:"Imparipinnate",PARIPINNATE:"Paripinnate"},leafletDivision:{PALMATE:"Palmate",COMPOUND_PALMATE:"Compound Palmate",PALMATELY_LOBED:"Palmately lobed",PINNATE:"Pinnate",COMPOUND_PINNATE:"Compound Pinnate",ODD_PINNATE:"Odd pinnate",EVEN_PINNATE:"Even pinnate",BIPINNATE:"Bipinnate",COMPOUND_BIPINNATE:"Compound Bipinnate",TRIFOLIATE:"Trifoliate",PINNATIFID:"Pinnatifid",TRIPINNATE:"Tripinnate",SIMPLE:"Simple ",COMPOUND:"Compound"},leafVariation:{HOMOBLASTIC:"Homoblastic",HETEROBLASTIC:"Heteroblastic",type:"leafVariation",name:"leaf variation"},shape:(Pe={LINEAR:"Linear",OVATE:"Ovate",OBLANCEOLATE:"Oblanceolate",OBOVATE:"Obovate",ACICULAR:"Acicular",ACUMINATE:"acuminate",ACUTE:"acute",APICULATE:"apiculate",ATTENUATE:"attenuate",AURICULATE:"auriculate",ASYMMETRICAL:"asymmetrical",CAUDATE:"caudate",CORDATE:"cordate",CUNEATE:"cuneate",CUSPIDATE:"cuspidate",DELTOID:"deltoid",DIGITATE:"digitate",ELLIPTIC:"elliptic",ENSIFORM:"ensiform",EMARGINATE:"emarginate",FALCATE:"falcate",FENESTRATE:"fenestrate",FILIFORM:"filiform",FLABELLATE:"flabellate",HASTATE:"hastate",LACINIATE:"laciniate",LANCEOLATE:"lanceolate",LAMINAR:"laminar"},enums_defineProperty(Pe,"LINEAR","linear"),enums_defineProperty(Pe,"LOBED","lobed"),enums_defineProperty(Pe,"LORATE","lorate"),enums_defineProperty(Pe,"LYRATE","lyrate"),enums_defineProperty(Pe,"MUCRONATE","mucronate"),enums_defineProperty(Pe,"MULTIFID","multifid"),enums_defineProperty(Pe,"OBCORDATE","obcordate"),enums_defineProperty(Pe,"OBLANCEOLATE","oblanceolate"),enums_defineProperty(Pe,"OBLIQUE","oblique"),enums_defineProperty(Pe,"OBLONG","oblong"),enums_defineProperty(Pe,"OBOVATE","obovate"),enums_defineProperty(Pe,"OBTRULLATE","obtrullate"),enums_defineProperty(Pe,"OBTUSE","obtuse"),enums_defineProperty(Pe,"ORBICULAR","orbicular"),enums_defineProperty(Pe,"OVATE","ovate"),enums_defineProperty(Pe,"PALMATE","palmate"),enums_defineProperty(Pe,"PALMATELY_LOBED","palmately lobed"),enums_defineProperty(Pe,"PALMATIFID","palmatifid"),enums_defineProperty(Pe,"PALMATIPARTITE","palmatipartite"),enums_defineProperty(Pe,"PALMATISECT","palmatisect"),enums_defineProperty(Pe,"PANDURATE","pandurate"),enums_defineProperty(Pe,"PEDATE","pedate"),enums_defineProperty(Pe,"PELTATE","peltate"),enums_defineProperty(Pe,"PERFOLIATE","perfoliate"),enums_defineProperty(Pe,"PERFORATE","perforate"),enums_defineProperty(Pe,"PINNATELY_LOBED","pinnately lobed"),enums_defineProperty(Pe,"PINNATIFID","pinnatifid"),enums_defineProperty(Pe,"PINNATIPARTITE","pinnatipartite"),enums_defineProperty(Pe,"PINNATISECT","pinnatisect"),enums_defineProperty(Pe,"PLICATE","plicate"),enums_defineProperty(Pe,"RENIFORM","reniform"),enums_defineProperty(Pe,"RETUSE","retuse"),enums_defineProperty(Pe,"RHOMBOID","rhomboid"),enums_defineProperty(Pe,"ROUNDED","rounded"),enums_defineProperty(Pe,"TRIANGULAR","Triangular"),enums_defineProperty(Pe,"QUADRANGULAR","Quadrangular"),enums_defineProperty(Pe,"SEMITERETE","semiterete"),enums_defineProperty(Pe,"SINUATE","sinuate"),enums_defineProperty(Pe,"SAGITTATE","sagittate"),enums_defineProperty(Pe,"SPATULATE","spatulate"),enums_defineProperty(Pe,"SPEAR_SHAPED","spear-shaped"),enums_defineProperty(Pe,"SUBOBTUSE","subobtuse"),enums_defineProperty(Pe,"SUBULATE","subulate"),enums_defineProperty(Pe,"TERETE","terete"),enums_defineProperty(Pe,"TRULLATE","trullate"),enums_defineProperty(Pe,"TRUNCATE","truncate"),enums_defineProperty(Pe,"UNDULATE","undulate"),enums_defineProperty(Pe,"UNIFOLIATE","unifoliate"),enums_defineProperty(Pe,"FLAT","Flat"),enums_defineProperty(Pe,"NEEDLE","Needle"),Pe),reproduction:{SELF_POLLINATION:"Self-pollination",CROSS_POLLINATION:"Cross-pollination",type:"reproduction",name:"reproduction"},asexualReproduction:{BUDDING:"budding",FRAGMENTATION:"fragmentation",FISSION:"fission",SPORE_FORMATION:"spore formation",VEGETATIVE_PROPAGATION:"vegetative propagation",type:"asexualReproduction",name:"asexual reproduction"},leafArrangement:{ALTERNATE:"Alternate",BASAL:"Basal",CAULINE:"Rosulate",OPPOSITE:"Opposite",WHORLED:"Whorled",ROWS:"Rows",SPIRAL:"Spiral",OVERLAPPING:"Overlapping",INCURVED:"Incurved",DECUSSATE:"Decussate",type:"leafArrangement",name:"leaf arrangement"},leafAttachment:{SESSILE:"Sessile",SUBSESSILE:"Subsessile",PEDICELLATE:"Pedicellate"},leafMargin:{ENTIRE:"Entire",CILIATE:"Ciliate",CRENATE:"Crenate",DENTATE:"Dentate",DENTICULATE:"Denticulate",DOUBLY_SERRATE:"Doubly serrate",SERRATE:"Serrate",SERRULATE:"Serrulate",SINUATE:"Sinuate",LOBATE:"Lobate",UNDULATE:"Undulate",SPINY:"Spiny",SMOOTH:"Smooth",type:"leafMargin",name:"leaf margin"},food:{GRASS:"Grass",ROTTEN_FRUIT:"Rotten fruit",NECTAR:"Nectar",HONEYDEW:"Honeydew",SEEDS:"Seeds",NUTS:"Nuts",GRAINS:"Grains",BERRIES:"Berries",HERBAGE:"Herbage",SWARD:"Sward",LEAVES:"Leaves",WOOD:"Wood",ROOTS:"Roots",TUBERS:"Tubers",RHIZOMES:"Rhizomes",BULBS:"Bulbs",BARK:"Bark",SHOOTS:"Shoots",type:"food",name:"food"},hibernatingStage:{ADULT:"Adult",CATERPILLAR:"Caterpillar",PUPA:"Pupa",type:"hibernatingStage",name:"hibernating stage"},symbiosis:{MUTUALISM:"Mutualism",COMMENSALISM:"Commensalism",PREDATION:"Predation",PARASITISM:"Parasitism",HERBIVORY:"Herbivory",COMPETITION:"Competition",MYCORRHIZAL:"Mycorrhizal",ECTOMYCORRHIZAL:"Ectomycorrhizal",COMPANION:"Companion planting",POLLINATION:"Pollination",SEED_PREDATION:"Seed predation",type:"symbiosis",name:"symbiosis"},trophicLevel:{help:"What is the trophic level or this species?",PRIMARY_PRODUCER:"Primary producer",PRIMARY_CONSUMER:"Primary consumer",SECONDARY_CONSUMER:"Secondary consumer",OMNIVORE:"Omnivore",TERTIARY_CONSUMER:"Tertiary consumer",APEX_PREDATOR:"Apex predator",type:"trophicLevel",name:"trophic level"},shelter:{help:"What is the name of this species`s shelter?",DREY:"Drey",BURROW:"Burrow",DEN:"Den",WARREN:"Warren",SETT:"Sett",ROOKERY:"Rookery",LODGE:"Lodge",DAM:"Dam",NEST:"Nest",SHELTER:"Shelter",VEGETATION:"vegetation",type:"shelter",name:"shelter"},active:{help:"When is this species most active?",CREPUSCULAR:"Crepuscular",DIURNAL:"Diurnal",NOCTURNAL:"Nocturnal",MATUTINAL:"Matutinal",VESPERTINE:"Vespertine",type:"active",name:"active"},juvenile:{help:"What is the name for the juvenile of this species?",KIT:"Kit",SQUEAKER:"Squeaker",CUB:"Cub",KITTEN:"Kitten",CHICK:"Chick",PUP:"Pup",CALF:"Calf",DUCKLING:"Duckling",EYAS:"Eyas",MAGGOT:"Maggot",KID:"Kid",GOSLING:"Gosling",LEVERET:"Leveret",NYMPH:"Nymph",CATERPILLAR:"Caterpillar",LARVA:"Larva",SALAMANQUESA:"Salamanquesa",type:"juvenile",name:"juvenile"},month:{JANUARY:"January",FEBRUARY:"February",MARCH:"March",APRIL:"April",MAY:"May",JUNE:"June",JULY:"July",AUGUST:"August",SEPTEMBER:"September",OCTOBER:"October",NOVEMBER:"November",DECEMBER:"December",type:"month",name:"month"},female:{help:"What is the name for a female of this species?",VIXEN:"Vixen",DOE:"Doe",JILL:"Jill",BITCH:"Bitch",SOW:"Sow",HEN:"Hen",DUCK:"Duck",GOOSE:"Goose",PEN:"Pen",type:"female",name:"female"},male:{help:"What is the name for a male of this species?",BUCK:"Buck",DOG:"Dog",BOAR:"Boar",TOM:"Tom",JACK:"Jack",COCK:"Cock",DRAKE:"Drake",REYNARD:"Reynard",TOD:"Tod",TERCEL:"Tercel",GANDER:"Gander",COB:"Cob",type:"male",name:"male"},diet:{help:"How is the diet of this species best described?",HERBIVORE:"Herbivore",OMNIVORE:"Omnivore",CARNIVORE:"Carnivore",XYLOPHAGOUS:"Xylophagous",POLYPHAGOUS:"Polyphagous",type:"diet",name:"diet"},fungusMarginType:{ENTIRE:"Smooth entire",APPENDICULATE:"Appendiculate",UNDULATE:"Undulate",STRIATE:"Striate",PLICATE:"Plicate",RIMMOSE:"Rimmose",ERODED:"Eroded",INROLLED:"Inrolled",type:"marginType",name:"fungus margin type"},soilType:{SILICEOUS:"Siliceous",CALCAREOUS:"Calcareous",NITROGENOUS:"Nitrogenous",NUTRIENT_POOR:"Nutrient poor",WELL_DRAINED:"Well-drained",WELL_WATERED:"Well-watered",LOAM:"Loam",CHALK:"Chalk",SAND:"Sand",RICH:"Rich",MOIST:"Moist"},organisation:{help:"How is this species organised?",EUSOCIAL:"Eusocial",SOCIAL:"Social",SOLITARY:"Solitary",MATRIARCHY:"Matriarchy",type:"organisation",name:"organisation"},role:{INDICATOR:"Indicator",KEYSTONE:"Keystone",FOUNDATION:"Foundation",SPECIALIST:"Specialist",GENERALIST:"Generalist",PIONEER:"Pioneer",INVASIVE:"Invasive",DOMINANT:"Dominant",POLLINATOR:"Pollinator",PREDATOR:"Predator",HERBIVORE:"Herbivore",OMNIVORE:"Omnivore",CARNIVORE:"Carnivore",GRANIVORE:"Granivore",MUCIVORE:"Mucivore",PREY:"Prey",COMPETITOR:"Competitor",HOST:"Host",CARRIER:"Carrier",RUDERAL:"Ruderal",SUPERTRAMP:"Supertramp",SYMBIONT:"Symbiont",OCCUPANT:"Lives in",PARASITE:"Parasite",COLONISER:"Coloniser",EARLY_SUCCESSION:"early-succession",SEED_DISPERSAL:"Seed dispersal",FERTILISATION:"Fertilisation",PROPAGATION:"propagation",REPRODUCTION:"reproduction",BIOINDICATOR:"Bioindicator",STRANGLER:"Strangler",FOOD_SOURCE:"Food source",EPIPHYTIC:"Epiphytic",EPIPHYTIC_STRANGLER:"Epiphytic strangler",NUTRIENT_CYCLING:"Nutrient cycling",CARBON_DIOXIDE_PRODUCTION:"Carbon dioxide production",MYCOREMEDIATION:"Mycoremediation",type:"role",name:"role"},fruitType:{help:"What fruit type does this plant have?",DRUPE:"Drupe",POME:"Pome",BERRY:"Berry",AGGREGATE_FRUIT:"Aggregate fruit",LEGUME:"Legume",CAPSULE:"Capsule",NUT:"Nut",GRAIN:"Grain",MULTIPLE_FRUIT:"Multiple fruit",SAMARA:"Samara",ACHENE:"Achene",POD:"Pod",ARIL:"Aril",SYCONIUM:"syconium",FOLLICLE:"Follicle",SILIQUE:"Silique",type:"fruitType",name:"fruit type"},inflorescence:{help:"What type of inflorescence does this plant have?",CATKIN:"catkin",UMBEL:"umbel",RACEME:"raceme",CORYMB:"corymb",SPIKE:"Spike",SPADEX:"Spadex",SINGLE:"Single",PANICLE:"Panicle",CYMOSE:"Cymose",BRANCHED_SPIKE:"Branched spike"},umbelType:{FLAT:"Flat",SPHERICAL:"Spherical",SIMPLE:"Simple",COMPOUND:"Compound",TERMINAL:"Terminal"},display:{help:"Which form of display does this species exhibit?",DIEMATIC:"Diematic",SEXUAL_COLOUR_DIMORPHISM:"Sexual colour dimorphism",NO_SEXUAL_COLOUR_DIMORPHISM:"No sexual colour dimorphism",SEXUAL_DIMORPHISM:"Sexual dimorphism",NO_SEXUAL_DIMORPHISM:"No sexual dimorphism",MELANISTIC:"Melanistic",type:"display",name:"display"},behaviour:{help:"This species exhibits which form of behaviour?",SEXUAL_CANNIBALISM:"Sexual cannibalism",MONANDROUS:"Monandrous",VOCALISATION:"Vocalisation",CRYPSIS:"Crypsis",HOARDING:"Hoarding",HIBERNATION:"Hibernation",GAME_PLAYING:"Game playing",PLAYFUL:"Playful",TERRITORIAL:"Territorial",NON_TERRITORIAL:"Non territorial",BIPARENTAL_CARE:"Biparental care",COOPERATIVE_BREEDING:"Cooperative breeding",TOOL_MAKING:"Tool making",PROBLEM_SOLVING:"Problem solving",DIVISION_OF_LABOUR:"Division of labour",SUPERORGANISM:"Superorganism",ANAUTOGENY:"Anautogeny",MASS_PROVISIONING:"Mass provisioning",PRECOCIAL:"Precocial",ALTRICIAL:"Altricial",AUTOTOMIC:"Autotomic",ECTOTHERMIC:"Ectothermic",ADHESION:"Adhesion",POLYPHYODONT:"Polyphyodont",VIVIPAROUS:"Viviparous",REGURGITATION:"Feeding through regurgitation",MULTIVOLTINE:"Multivoltine",BIVOLTINE:"Bivoltine",UNIVOLTINE:"Univoltine",SEMIVOLTINE:"Semivoltine",METAMORPHOSIS:"Metamorphosis",RUTTING:"Rutting",WHELPING:"Whelping",FARROWING:"Farrowing",SWIMMING:"Swimming",DECUMBENT:"Decumbent",ETHYLENE_RIPENING:"Ethylene ripening",MIGRATORY:"Migratory",type:"behaviour",name:"behaviour"},sense:{help:"Which sense does this species favour?",SIGHT:"Sight",MOVEMENT:"Movement",SMELL:"Smell",SPATIAL:"Spatial",MEMORY:"Memory",ECHOLOCATION:"Echolocation",type:"sense",name:"sense"},crypsis:{CAMOUFLAGE:"Camouflage",NOCTURNALITY:"Nocturnality",SUBTERRANEAN:"Subterranean",MIMICRY:"Mimicry",VISUAL:"Visual",OLFACTORY:"Olfactory",AUDITORY:"Auditory"},allochory:{ANEMOCHORY:"Anemochory",HYDROCHORY:"Hydrochory",ZOOCHORY:"Zoochory",ANTHROPOCHORY:"Anthropochory",type:"allochory",name:"allochory"},reproductiveContainer:{CONE:"Cone",type:"reproductiveContainer",name:"reproductive container"},communication:{VOCALISATION:"Vocalisation",POSTURING:"Posturing",type:"communication",name:"communication"},matingSystem:{POLYGYNOUS:"Polygynous",MONOGAMOUS:"Monogamous",type:"matingSystem",name:"mating system"},physiology:{NEGATIVE_ALLELOPATHY:"Negative allelopathy",POSITIVE_ALLELOPATHY:"Positive allelopathy",C3_CARBON_FIXATION:"C3 carbon fixation",NITROGEN_FIXING:"Nitrogen fixing",MYCORRHIZAL:"Mycorrhizal",ECTOMYCORRHIZAL:"Ectomycorrhizal",DORMANCY:"Dormancy",EVERGREEN:"Evergreen",DECIDUOUS:"Deciduous",CONIFEROUS:"Coniferous",ADVENTITIOUS:"Adventitious",NYCTINASTY:"Nyctinasty",XEROMORPHIC:"Xeromorphic",SUCCULENT:"Succulent",DROUGHT_TOLERANT:"Drought tolerant",FIRE_TOLERANT:"Fire tolerant",FIRE_RESISTANT:"Fire resistant",POLLUTION_TOLERANT:"Pollution tolerant",PH_TOLERANT:"pH tolerant",SALT_TOLERANT:"Salt tolerant",FROST_TOLERANT:"Frost tolerant",HEAT_TOLERANT:"Heat tolerant",NITROGEN_TOLERANT:"Nitrogen tolerant",HEAVY_METAL_TOLERANT:"heavy metal tolerant",ACID_RAIN_TOLERANT:"Acid rain tolerant",COMPACT_SOIL_TOLERANT:"Compact soil tolerant",FLORAL_SCENT:"Floral scent",AROMATIC:"Aromatic",MONOCARPIC:"Monocarpic",POLYCARPIC:"Polycarpic",PYROPHYTIC:"Pyrophytic",SEROTINOUS:"Serotinous",STYPTIC:"Styptic",BIOLUMINESCENCE:"Bioluminescence",type:"physiology",name:"physiology"},collective:{help:"What is the term for a collective of this species?",SOUNDER:"Sounder",SLOTH:"Sloth",MURMURATION:"Murmuration",PACK:"Pack",type:"collective",name:"collective"},ecology:{DIGGING:"Digging",SCRAPING:"Scraping",ROOTING:"Rooting",SCAVENGING:"Scavenging",type:"ecology",name:"ecology"},characteristic:{help:"Which characteristic/s does this species display?",PERENNIAL:"Perennial",ANNUAL:"Annual",BIENNIAL:"Biennial",HERBACEOUS:"Herbaceous",DIOECIOUS:"Dioecious",MONOECIOUS:"Monoecious",SYNOECIOUS:"Synoecious",PERFECT:"Perfect",COMPLETE:"Complete",DICOTYLEDON:"Dicot",MONOCOTYLEDON:"Monocot",CAULIFLORY:"Cauliflory",RAMIFLORY:"Ramiflory",PUBESCENT:"Pubescent",CHAMAEPHYTE:"Chamaephyte",FIBROUS_ROOT_SYSTEM:"Fibrous root system",TAPROOT_SYSTEM:"Taproot system",KIN_SELECTION:"Kin selection",BROADLEAF:"Broadleaf",AERIAL_ROOTS:"Aerial roots",EPICORMIC_ROOTS:"Epicormic shoots",BASAL_ROOTS:"Basal shoots",RUNNER:"Runner",CLIMBER:"Climber",BUTTRESS_ROOT:"Buttress root",MONOPODIAL:"Monopodial",APICAL_DOMINANCE:"Apical dominance",POLYMORPHIC:"Polymorphic",CRYPTIC_SPECIES_COMPLEX:"Cryptic species complex",RHIZOMORPHS:"Rhizomorphs",GEOPHYTE:"Geophyte",RICTAL_BRISTLES:"Rictal bristles",DEHISCENCE:"Dehiscence",EXPLOSIVE_DEHISCENCE:"Explosive dehiscence",RESIN_CANAL:"Resin canal",APOSEMATIC:"Aposematic"},climate:{HOT:"Hot",DRY:"Dry",TEMPERATE:"Temperate",COOL:"Cool",TROPICAL:"Tropical",CONTINENTAL:"Continental",DROUGHT_TOLERANT:"Drought-tolerant",type:"climate",name:"climate"},pollination:{ALLOGAMY:"Allogamy",ANEMOPHILY:"Anemophily",HYDROPHILY:"Hydrophily",ENTOMOPHILY:"Entomophily",AMBOPHILY:"Ambophily",MELITTOPHILY:"Melittophily",PSYCHOPHILY:"Psychophily",PHALAENOPHILY:"Phalaenophily",SONICATION:"Sonication",GENERALISED_SYNDROME:"Generalised syndrome",CLEISTOGAMY:"Cleistogamy"},stipeCharacter:{RING:"Ring",RING_AND_VOLVA:"ring and volva",BARE:"Bare",NA:"N/A",SHORT:"short",STUMPY:"stumpy",CLUB_LIKE:"Club-like",WARTS:"warts",HOLLOW:"hollow",PRUINOSE:"pruinose",PARTIAL_VEIL:"Partial veil",type:"stipeCharacter",name:"stipe character"},stemCharacter:{HOLLOW:"hollow",TERETE:"terete",HAIRY:"Hairy",GLAUCOUS:"Glaucous",FARINOSE:"Farinose",SCURFY:"Scurfy",VISCOUS:"Viscous",PUNCTATE:"Punctate",PAPILLATE:"Papillate",TUBERCULATE:"Tuberculate",RUGOSE:"Rugose",GLABROUS:"Glabrous",PUBESCENT:"Pubescent"},gillAttachment:{ADNATE:"Adnate",ADNEXED:"Adnexed",DECURRENT:"Decurrent",EMARGINATE:"Emarginate",FREE:"Free",Seceding:"Seceding",SINUATE:"Sinuate",SUBDECURRENT:"Subdecurrent",NA:"N/A",type:"gillAttachment",name:"gill attachment"},grouping:{LARGE_GROUPS:"large groups",CLUSTERS:"clusters",LARGE_CLUSTERS:"large clusters",SCATTERED_CLUSTERS:"scattered clusters",FAIRY_RINGS:"fairy rings",GREGARIOUS:"gregarious",NUMEROUS:"numerous",type:"grouping",name:"grouping"},propagation:{RHIZOMES:"Rhizomes",SEEDS:"Seeds",SUCKERS:"Suckers",STOLONS:"Stolons",BULBS:"Bulbs",TUBERS:"Tubers",CORMS:"Corms",PLANTLETS:"Plantlets",KEIKIS:"Keikis",APOMIXIS:"Apomixis",type:"propagation",name:"propagation"},seedDispersal:{AUTOCHORY:"autochory",ANEMOCHORY:"anemochory",HYDROCHORY:"Hydrochory",ZOOCHORY:"Zoochory",ANTHROPOCHORY:"Anthropochory"},exposure:{FULL_SUN:"Full sun",PARTIAL_SUN:"Partial Sun",PARTIAL_SHADE:"Partial Shade",SHADE:"shade"},nutType:{ACORN:"acorn",HAZELNUT:"hazelnut",CHESTNUT:"chestnut"},surface:{GLAUCOUS:"Glaucous",FARINOSE:"Farinose",SCURFY:"Scurfy",VISCOUS:"Viscous",PUNCTATE:"Punctate",PAPILLATE:"Papillate",TUBERCULATE:"Tuberculate",RUGOSE:"Rugose",GLABROUS:"Glabrous",PUBESCENT:"Pubescent",TOMENTOSE:"tomentose"},texture:{LEATHERY:"Leathery",FLESHY:"Fleshy",GLOSSY:"Glossy",WOOLY:"Wooly",TOMENTOSE:"tomentose",SCALY:"Scaly",ROUGH:"Rough",SMOOTH:"Smooth",VELVETY:"Velvety",HAIRY:"Hairy",PUBESCENT:"Pubescent"},treeShape:{help:"Which descrption is the best match for this tree?",COLUMNAR:"Columnar",OPEN_HEAD_IRREGULAR:"Open head irregular",WEEPING:"Weeping",PYRAMIDAL:"Pyramidal",GLOBE:"Globe",FASTIGIATE:"Fastigiate",VASE:"Vase",HORIZONTAL_SPREADING:"Horizontal spreading",NARROW_DOMED:"Narrow domed"},crownShape:{OVOID_CONIC:"Ovoid-conic",CONIC:"Conic",DOMED:"Domed",SPIRE_LIKE:"Spire-like",SLENDER:"Slender"},barkType:{SMOOTH:"Smooth",LENTICELS:"Lenticels",PEELING_STRIPS:"Peeling strips",VERTICAL_CRACK:"Vertical cracks",VERTICAL_STRIPS:"Vertical strips",SCALES:"Scales",PLATES:"Plates",INTERSECTING_RIDGES:"Intersecting ridges",UNINTERRUPTED_RIDGES:"Uninterrupted ridges",RIDGES_BROKEN_HORIZONTALLY:"Ridges broken horizontally",PAPER_LIKE:"Paper-like",SQUARE_CRACKED:"Square-cracked",RESINOUS:"Resinous",THICK:"Thick"},coneShape:{BARREL_SHAPED:"Barrel-shaped",GLOBULAR:"Globular"},leafVenation:{ARCUATE:"Arcuate",DICHOTOMOUS:"Dichotomous",LONGITUDINAL:"Longitudinal",PARALLEL:"Parallel",PINNATE:"Pinnate",RETICULATE:"Reticulate",ROTATE:"Rotate",TRANSVERSE:"Transverse"},flowerShape:{TRUMPET_SHAPED:"Trumpet-shaped",BILABIATE:"Bilabiate",REGULAR:"Regular",ACTINOMORPHIC:"Actinomorphic",ZYGOMORPHIC:"Zygomorphic"},branchArrangement:{HORIZONTAL:"Horizontal",WHORLS:"Whorls"},leafFeatures:{BLUNT_TIPS:"Blunt tips",STOMATAL_LINES:"Stomatal lines",DROOPING:"Drooping"},leafFolding:{CARINATE:"Carinate",CONDUPLICATE:"Conduplicate",CUCULLATE:"Cucullate",INVOLUTE:"Involute",PLICATE:"Plicate",REDUPLICATE:"Reduplicate",REVOLUTE:"Revolute",SUPERVOLUTE:"Supervolute"},mushroomGroup:{MYCOTROPHS:"Mycotrophs",POLYPORES:"Polypores",BOLETES:"Boletes",PUFFBALLS:"Puffballs",GILLED_MUSHROOMS:"Gilled Mushrooms",CHANTERELLES_AND_TRUMPETS:"Chanterelles and Trumpets",TOOTHED_MUSHROOMS:"Toothed Mushrooms",STINKHORNS:"Stinkhorns",CUP_FUNGI:"Cup Fungi",BIRDS_NEST_FUNGI:"Bird's Nest Fungi",TRUE_MORELS_AND_VERPAS:"True Morels and Verpas",FALSE_MORELS:"False Morels",SADDLES:"Saddles",JELLY_FUNGI:"Jelly Fungi",CLUBS_AND_CORALS:"Clubs and Corals",CRUST_FUNGI:"Crust Fungi"},units:[{lifeSpan:["DD","MM","YY"]},{gestation:["DD","MM","YY"]},{weaning:["DD","MM","YY"]},{germination:["DD","WW","MM","YY"]},{height:["m","cm","mm"]},{diameter:["m","cm","mm"]},{circumference:["m","cm","mm"]},{trunkDiameter:["m","cm","mm"]},{capDiameter:["m","cm","mm"]},{umbelDiameter:["cm","mm"]},{capWidth:["m","cm","mm"]},{infructescenceWidth:["m","cm","mm"]},{width:["m","cm","mm"]},{breadth:["m","cm","mm"]},{capHeight:["m","cm","mm"]},{shelfWidth:["m","cm","mm"]},{shelfThickness:["m","cm","mm"]},{length:["m","cm","mm"]},{leafLength:["m","cm","mm"]},{awnLength:["cm","mm"]},{infructescenceLength:["m","cm","mm"]},{juvenileLeafLength:["m","cm","mm"]},{leafWidth:["m","cm","mm"]},{petalLength:["cm","mm"]},{petalWidth:["cm","mm"]},{petioleLength:["cm","mm"]},{bractLength:["cm","mm"]},{fruitWidth:["cm","mm"]},{fruitLength:["cm","mm"]},{fruitDiameter:["cm","mm"]},{fruitHeight:["cm","mm"]},{flowerDiameter:["cm","mm"]},{flowerLength:["cm","mm"]},{coneDiameter:["cm","mm"]},{coneLength:["cm","mm"]},{maleConeLength:["cm","mm"]},{femaleConeLength:["cm","mm"]},{bulbWidth:["cm","mm"]},{coneWidth:["cm","mm"]},{maleConeWidth:["cm","mm"]},{femaleConeWidth:["cm","mm"]},{stalkHeight:["m","cm","mm"]},{stemHeight:["m","cm","mm"]},{scapeHeight:["m","cm","mm"]},{stemDiameter:["m","cm","mm"]},{stipeLength:["m","cm","mm"]},{tailLength:["m","cm","mm"]},{leafletLength:["cm","mm"]},{leafletWidth:["cm","mm"]},{queenLength:["cm","mm"]},{queenWingspan:["cm","mm"]},{workerLength:["cm","mm"]},{workerWingspan:["cm","mm"]},{maleLength:["cm","mm"]},{maleWingspan:["cm","mm"]},{stipeWidth:["m","cm","mm"]},{wingSpan:["m","cm","mm"]},{tongueLength:["cm","mm"]},{phValue:["pH"]},{weight:["g","kg"]},{queenWeight:["g"]},{workerWeight:["g"]},{maleWeight:["g"]}]};function firestore_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function firestore_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?firestore_ownKeys(Object(i),!0).forEach((function(a){firestore_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):firestore_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function firestore_toConsumableArray(t){return function firestore_arrayWithoutHoles(t){if(Array.isArray(t))return firestore_arrayLikeToArray(t)}(t)||function firestore_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||firestore_unsupportedIterableToArray(t)||function firestore_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function firestore_unsupportedIterableToArray(t,a){if(t){if("string"==typeof t)return firestore_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?firestore_arrayLikeToArray(t,a):void 0}}function firestore_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function firestore_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}firebase.initializeApp({apiKey:"AIzaSyCA5oDmWevmZy2Ginb9eKcIe72Titk7szM",authDomain:"snapdragon-222014.firebaseapp.com",databaseURL:"https://snapdragon-222014.firebaseio.com",projectId:"snapdragon-222014",storageBucket:"snapdragon-222014.appspot.com",messagingSenderId:"947213844747",appId:"1:947213844747:web:97c1a5e664a670de"});var Ne=firebase.storage(),Me=firebase.firestore(),qe=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,a=t.key,i=t.operator,o=t.value,c=t.limit,l=c?Me.collection("species").where(a,i,o).limit(c):Me.collection("species").where(a,i,o),p.next=5,l.get();case 5:return u=p.sent,d=[],u.forEach((function(t){d.push(t.data())})),p.next=10,d;case 10:return p.abrupt("return",p.sent);case 13:p.prev=13,p.t0=p.catch(0);case 15:case"end":return p.stop()}}),_callee,this,[[0,13]])})));return function getSpeciesWhere(a){return t.apply(this,arguments)}}(),He=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var a;return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,qe(t);case 2:return a=i.sent,i.abrupt("return",a);case 4:case"end":return i.stop()}}),_callee2,this)})));return function getSpecies(a){return t.apply(this,arguments)}}(),De=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var t,a,i;return regeneratorRuntime.wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=Me.collection("species").where("collection_property","==","names"),o.next=4,t.get();case 4:return a=o.sent,i=[],a.forEach((function(t){i.push(t.data())})),o.next=9,i;case 9:return o.abrupt("return",o.sent);case 12:o.prev=12,o.t0=o.catch(0);case 14:case"end":return o.stop()}}),_callee3,this,[[0,12]])})));return function getSpeciesNames(){return t.apply(this,arguments)}}(),Ge=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var t,a,i;return regeneratorRuntime.wrap((function _callee4$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=Me.collection("taxa").where("collection_property","==","names"),o.next=4,t.get();case 4:return a=o.sent,i=[],a.forEach((function(t){i.push(t.data())})),o.next=9,i;case 9:return o.abrupt("return",o.sent);case 12:o.prev=12,o.t0=o.catch(0);case 14:case"end":return o.stop()}}),_callee4,this,[[0,12]])})));return function getTaxaNames(){return t.apply(this,arguments)}}(),Ue=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){var a,i,c,l,u,d,p,m,h,g=arguments;return regeneratorRuntime.wrap((function _callee5$(v){for(;;)switch(v.prev=v.next){case 0:if(a=g.length>1&&void 0!==g[1]?g[1]:6,i=t.iconicTaxon,c=t.lichen,t.eolId,u=[],d=Me.collection("species"),p=o.utils.getRandomInt(2),m=0===p?">=":"<=",h=xn(),!c){v.next=13;break}return v.next=10,d.where("lichen","==",!0).where(firebase.firestore.FieldPath.documentId(),m,h).limit(a).get();case 10:l=v.sent,v.next=16;break;case 13:return v.next=15,d.where("iconicTaxon","==",i.toLowerCase()).where(firebase.firestore.FieldPath.documentId(),m,h).limit(a).get();case 15:l=v.sent;case 16:return l.forEach((function(t){u.push(t.data())})),v.abrupt("return",u);case 18:case"end":return v.stop()}}),_callee5,this)})));return function getSpeciesByIconicTaxon(a){return t.apply(this,arguments)}}(),Be=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var a,i=arguments;return regeneratorRuntime.wrap((function _callee6$(o){for(;;)switch(o.prev=o.next){case 0:if(i.length>1&&void 0!==i[1]&&i[1],t){o.next=3;break}return o.abrupt("return","");case 3:return o.next=5,He({key:"name",operator:"==",value:t});case 5:return a=o.sent,o.abrupt("return",a[0]);case 7:case"end":return o.stop()}}),_callee6,this)})));return function getSpeciesByName(a){return t.apply(this,arguments)}}(),Fe=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(t){var a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee7$(p){for(;;)switch(p.prev=p.next){case 0:return t.language,a=t.key,i=t.operator,o=t.value,c=t.limit,l=c?Me.collection("taxa_en").where(a,i,o).limit(c):Me.collection("taxa_en").where(a,i,o),p.next=4,l.get();case 4:return u=p.sent,d=[],u.forEach((function(t){d.push(t.data())})),p.next=9,d;case 9:return p.abrupt("return",p.sent);case 10:case"end":return p.stop()}}),_callee7,this)})));return function getTaxaWhere(a){return t.apply(this,arguments)}}(),We=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(t,a,i,o){return regeneratorRuntime.wrap((function _callee8$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe({language:o.language,key:"iconicTaxon",operator:"==",value:a,limit:7});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),_callee8,this)})));return function getFamiliesByIconicTaxon(a,i,o,c){return t.apply(this,arguments)}}(),Ye=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(t,a){var i,o,c;return regeneratorRuntime.wrap((function _callee9$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i={},o=Me.collection("taxa_en").where("name","==",a),t.next=5,o.get();case 5:return(c=t.sent).docs.length>0&&c.forEach((function(t){i=t.data()})),t.abrupt("return",i);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),_callee9,this,[[0,10]])})));return function getTaxonByName(a,i){return t.apply(this,arguments)}}(),Ve=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee10(t){var a,i,o,c=arguments;return regeneratorRuntime.wrap((function _callee10$(l){for(;;)switch(l.prev=l.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"traits_en",c.length>2?c[2]:void 0,l.prev=2,i=Me.collection(a).where("name","==",t),l.next=6,i.get();case 6:return o=l.sent,l.next=9,o;case 9:return l.abrupt("return",l.sent);case 12:l.prev=12,l.t0=l.catch(2);case 14:case"end":return l.stop()}}),_callee10,this,[[2,12]])})));return function getAsyncTraitsByNameAndCollection(a){return t.apply(this,arguments)}}(),ze=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee11(t){var a,i,o,c=arguments;return regeneratorRuntime.wrap((function _callee11$(l){for(;;)switch(l.prev=l.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"en",l.next=3,Ve(t,"traits_en",a);case 3:if((o=l.sent)&&o.docs){l.next=6;break}return l.abrupt("return",new Promise((function(t){return t({})})));case 6:return o.docs.length>0&&o.forEach((function(t){i=t.data()})),l.next=9,i;case 9:return l.abrupt("return",l.sent);case 10:case"end":return l.stop()}}),_callee11,this)})));return function getTraitsBySpeciesName(a){return t.apply(this,arguments)}}(),Ke=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee12(t){var a,i,o,c=arguments;return regeneratorRuntime.wrap((function _callee12$(l){for(;;)switch(l.prev=l.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"en",l.next=3,Ve(t,"taxa_en",a);case 3:if((o=l.sent)&&o.docs){l.next=6;break}return l.abrupt("return",new Promise((function(t){return t({})})));case 6:return o.docs.length>0&&o.forEach((function(t){i=t.data()})),l.next=9,i;case 9:return l.abrupt("return",l.sent);case 10:case"end":return l.stop()}}),_callee12,this)})));return function getTraitsByTaxonName(a){return t.apply(this,arguments)}}(),$e=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee13(t){var a,i;return regeneratorRuntime.wrap((function _callee13$(o){for(;;)switch(o.prev=o.next){case 0:return a=Ne.ref(),o.next=3,a.child("birdsong/".concat(t,".mp3")).getDownloadURL();case 3:return i=o.sent,o.abrupt("return",i);case 5:case"end":return o.stop()}}),_callee13,this)})));return function getBirdsong(a){return t.apply(this,arguments)}}(),Xe=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee14(t){var a,i;return regeneratorRuntime.wrap((function _callee14$(o){for(;;)switch(o.prev=o.next){case 0:return a=Ne.ref(),o.next=3,a.child("images/".concat(t)).getDownloadURL();case 3:return i=o.sent,o.abrupt("return",i);case 5:case"end":return o.stop()}}),_callee14,this)})));return function getImage(a){return t.apply(this,arguments)}}(),Qe=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee15(t){var a;return regeneratorRuntime.wrap((function _callee15$(i){for(;;)switch(i.prev=i.next){case 0:return t.images&&(t.images=t.images.map((function(t){return{license:t.license||"",photographer:t.photographer||"",rightsHolder:t.rightsHolder||"",source:t.source||"",title:t.title||"",url:t.url||""}}))),i.prev=1,i.next=4,Me.collection("species").add(t);case 4:a=i.sent,i.next=9;break;case 7:i.prev=7,i.t0=i.catch(1);case 9:return i.abrupt("return",a);case 10:case"end":return i.stop()}}),_callee15,this,[[1,7]])})));return function addSpecies(a){return t.apply(this,arguments)}}(),Je=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee16(t){var a;return regeneratorRuntime.wrap((function _callee16$(i){for(;;)switch(i.prev=i.next){case 0:return t.images&&(t.images=t.images.map((function(t){var a={license:t.license||"",photographer:t.photographer||"",rightsHolder:t.rightsHolder||"",source:t.source||"",title:t.title||"",url:t.url||""};return t.starred&&(a.starred=t.starred),t.provider&&(a.provider=t.provider),a}))),i.next=3,Me.collection("species").where("name","==",t.name).get();case 3:return i.sent.forEach((function(t){a=t.ref})),i.next=7,a.update(t);case 7:return i.abrupt("return",i.sent);case 8:case"end":return i.stop()}}),_callee16,this)})));return function updateSpecies(a){return t.apply(this,arguments)}}(),Ze=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee17(t,a){var i;return regeneratorRuntime.wrap((function _callee17$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Me.collection("species").where("name","==",t.name).get();case 2:return o.sent.forEach((function(t){i=t.ref})),o.next=6,i.update({names:a});case 6:return o.abrupt("return",o.sent);case 7:case"end":return o.stop()}}),_callee17,this)})));return function updateSpeciesNames(a,i){return t.apply(this,arguments)}}(),en=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee18(){return regeneratorRuntime.wrap((function _callee18$(t){for(;;)switch(t.prev=t.next){case 0:return Re,t.abrupt("return",new Promise((function(t){return t(Re)})));case 2:case"end":return t.stop()}}),_callee18,this)})));return function getTraitValues(){return t.apply(this,arguments)}}(),nn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee19(t){return regeneratorRuntime.wrap((function _callee19$(a){for(;;)switch(a.prev=a.next){case 0:Me.collection("species").where("name","==",t).get().then((function(t){t.forEach((function(t){t.ref.delete()}))}));case 2:case"end":return a.stop()}}),_callee19,this)})));return function deleteSpeciesByName(a){return t.apply(this,arguments)}}(),tn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee20(t,a){var i,o,c,l=arguments;return regeneratorRuntime.wrap((function _callee20$(u){for(;;)switch(u.prev=u.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:"traits_en",u.prev=1,u.next=4,Me.collection(i).where("name","==",t).get();case 4:if(!(c=u.sent).empty){u.next=12;break}return a.name=t,u.next=9,Me.collection(i).add(a);case 9:return u.abrupt("return",u.sent);case 12:return c.forEach((function(t){o=t.ref})),u.next=15,o.update(a);case 15:return u.abrupt("return","Update successful");case 16:u.next=21;break;case 18:return u.prev=18,u.t0=u.catch(1),u.abrupt("return","Update failed. Error ".concat(u.t0.message,"."));case 21:case"end":return u.stop()}}),_callee20,this,[[1,18]])})));return function addTraits(a,i){return t.apply(this,arguments)}}(),rn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee23(t,a){var i,o;return regeneratorRuntime.wrap((function _callee23$(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,i=Me.batch(),o=function(){var i=_asyncToGenerator(regeneratorRuntime.mark((function _callee22(){return regeneratorRuntime.wrap((function _callee22$(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(a.map(function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee21(a){var i,o;return regeneratorRuntime.wrap((function _callee21$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Me.collection("traits_en").where("name","==",a.name).get();case 2:if(!(o=c.sent).empty){c.next=10;break}return a.name=name,c.next=7,Me.collection("traits_en").add(a);case 7:i=c.sent,c.next=11;break;case 10:o.forEach((function(t){i=t.ref}));case 11:i.update(firestore_defineProperty({},t,firebase.firestore.FieldValue.arrayUnion(a.update)));case 12:case"end":return c.stop()}}),_callee21,this)})));return function(t){return a.apply(this,arguments)}}())));case 1:case"end":return i.stop()}}),_callee22,this)})));return function readyBatch(){return i.apply(this,arguments)}}(),c.next=5,o();case 5:return c.next=7,i.commit();case 7:return c.abrupt("return","Relationship added.");case 10:return c.prev=10,c.t0=c.catch(0),c.abrupt("return",c.t0.message);case 13:case"end":return c.stop()}}),_callee23,this,[[0,10]])})));return function addSpeciesRelationship(a,i){return t.apply(this,arguments)}}(),an=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee24(t,a){var i,o;return regeneratorRuntime.wrap((function _callee24$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Me.collection("species").where("name","==",t).get();case 2:return c.sent.forEach((function(t){i=t.ref})),c.prev=4,c.abrupt("return",i.update({images:(o=firebase.firestore.FieldValue).arrayUnion.apply(o,firestore_toConsumableArray(a))}));case 8:return c.prev=8,c.t0=c.catch(4),c.abrupt("return",c.t0.message);case 11:case"end":return c.stop()}}),_callee24,this,[[4,8]])})));return function addPhotos(a,i){return t.apply(this,arguments)}}(),on=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee25(t,a){var i,o;return regeneratorRuntime.wrap((function _callee25$(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.prev=1,c.next=4,Me.collection("traits_en").where("name","==",t).get();case 4:c.sent.forEach((function(t){i=t.ref})),c.next=10;break;case 8:c.prev=8,c.t0=c.catch(1);case 10:return o=i.update(firestore_defineProperty({},a,firebase.firestore.FieldValue.delete())),c.abrupt("return",o);case 14:c.prev=14,c.t1=c.catch(0);case 16:case"end":return c.stop()}}),_callee25,this,[[0,14],[1,8]])})));return function deleteSpeciesTraitField(a,i){return t.apply(this,arguments)}}(),sn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee26(t){var a,i,c,l;return regeneratorRuntime.wrap((function _callee26$(u){for(;;)switch(u.prev=u.next){case 0:return a=[],i=Me.collection("species"),c=o.utils.getRandomInt(2),l=0===c?">=":"<=",u.next=6,i.where(firebase.firestore.FieldPath.documentId(),l,xn()).limit(t).get();case 6:return u.sent.forEach((function(t){a.push(t.data())})),u.abrupt("return",a);case 9:case"end":return u.stop()}}),_callee26,this)})));return function getRandomSpecies(a){return t.apply(this,arguments)}}(),cn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee27(t){var a,i;return regeneratorRuntime.wrap((function _callee27$(o){for(;;)switch(o.prev=o.next){case 0:return t.language,a=t.taxon,o.prev=1,o.next=4,Me.collection("taxa_en").add(a);case 4:return i=o.sent,o.abrupt("return","Taxon saved.");case 8:o.prev=8,o.t0=o.catch(1);case 10:return o.abrupt("return",i);case 11:case"end":return o.stop()}}),_callee27,this,[[1,8]])})));return function addTaxon(a){return t.apply(this,arguments)}}(),ln=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee29(t){return regeneratorRuntime.wrap((function _callee29$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",Promise.all(t.map((function(t){return _n.getSpeciesByName(t.name).then(function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee28(a){return regeneratorRuntime.wrap((function _callee28$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,firestore_objectSpread(firestore_objectSpread({},a),{},{description:t.description||"",time:t.time||0,questionIds:t.questionIds,quickId:t.quickId||""});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),_callee28,this)})));return function(t){return a.apply(this,arguments)}}())}))));case 4:a.prev=4,a.t0=a.catch(0);case 6:case"end":return a.stop()}}),_callee29,this,[[0,4]])})));return function getSpeciesInParallel(a){return t.apply(this,arguments)}}(),un=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee31(t){return regeneratorRuntime.wrap((function _callee31$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",Promise.all(t.map((function(t){return _n.getSpeciesByName(t).then(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee30(t){return regeneratorRuntime.wrap((function _callee30$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,firestore_objectSpread({},t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),_callee30,this)})));return function(a){return t.apply(this,arguments)}}())}))));case 4:a.prev=4,a.t0=a.catch(0);case 6:case"end":return a.stop()}}),_callee31,this,[[0,4]])})));return function getSpeciesByNameInParallel(a){return t.apply(this,arguments)}}(),dn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee32(t,a){var i;return regeneratorRuntime.wrap((function _callee32$(o){for(;;)switch(o.prev=o.next){case 0:if(a){o.next=2;break}return o.abrupt("return");case 2:return o.next=4,pn(t);case 4:if(!o.sent){o.next=7;break}return o.abrupt("return");case 7:return t.user=a,i=null,o.prev=9,o.next=12,Me.collection("collections").add(t);case 12:i=o.sent,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(9);case 17:return o.abrupt("return",i);case 18:case"end":return o.stop()}}),_callee32,this,[[9,15]])})));return function addCollection(a,i){return t.apply(this,arguments)}}(),pn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee33(t){var a;return regeneratorRuntime.wrap((function _callee33$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t.items=[],a=null,i.next=5,Me.collection("collections").where("name","==",t.name).get();case 5:if(i.sent.forEach((function(t){a=t.ref})),!a){i.next=10;break}return i.next=10,a.update(t);case 10:return i.abrupt("return",{message:"Success",success:!0});case 13:return i.prev=13,i.t0=i.catch(0),i.abrupt("return",{message:"Failure",details:i.t0.message,success:!1});case 16:case"end":return i.stop()}}),_callee33,this,[[0,13]])})));return function updateCollection(a){return t.apply(this,arguments)}}(),mn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee34(t){var a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee34$(p){for(;;)switch(p.prev=p.next){case 0:return a=t.key,i=t.operator,o=t.value,c=t.limit,l=c?Me.collection("collections").where(a,i,o).limit(c):a?Me.collection("collections").where(a,i,o):Me.collection("collections"),p.next=4,l.get();case 4:return u=p.sent,d=[],u.forEach((function(t){d.push(t.data())})),p.abrupt("return",d);case 8:case"end":return p.stop()}}),_callee34,this)})));return function getCollectionsWhere(a){return t.apply(this,arguments)}}(),fn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee35(t){var a;return regeneratorRuntime.wrap((function _callee35$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Me.collection("questions").add(t);case 3:a=i.sent,i.next=8;break;case 6:i.prev=6,i.t0=i.catch(0);case 8:return i.abrupt("return",a);case 9:case"end":return i.stop()}}),_callee35,this,[[0,6]])})));return function addQuestion(a){return t.apply(this,arguments)}}(),hn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee36(t){var a,i,o,c,l,u;return regeneratorRuntime.wrap((function _callee36$(d){for(;;)switch(d.prev=d.next){case 0:return a=t.key,i=t.operator,o=t.value,c=a?Me.collection("questions").where(a,i,o):Me.collection("questions"),d.next=4,c.get();case 4:return l=d.sent,u=[],l.forEach((function(t){u.push(t.data())})),d.abrupt("return",u);case 8:case"end":return d.stop()}}),_callee36,this)})));return function getQuestionsWhere(a){return t.apply(this,arguments)}}(),gn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee37(t){var a;return regeneratorRuntime.wrap((function _callee37$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Me.collection("glossary").where("term","==",t.term).get();case 2:if(!i.sent.empty){i.next=15;break}return i.prev=4,i.next=7,Me.collection("glossary").add(t);case 7:a=i.sent,i.next=12;break;case 10:i.prev=10,i.t0=i.catch(4);case 12:return i.abrupt("return",a);case 15:throw"That definition already exists!";case 16:case"end":return i.stop()}}),_callee37,this,[[4,10]])})));return function addDefinition(a){return t.apply(this,arguments)}}(),vn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee38(t){var a,i,o,c,l,u;return regeneratorRuntime.wrap((function _callee38$(d){for(;;)switch(d.prev=d.next){case 0:return a=t.key,i=t.operator,o=t.value,c=a?Me.collection("glossary").where(a,i,o):Me.collection("glossary"),d.next=4,c.get();case 4:return l=d.sent,u=[],l.forEach((function(t){u.push(firestore_objectSpread(firestore_objectSpread({},t.data()),{},{id:t.id}))})),d.abrupt("return",u);case 8:case"end":return d.stop()}}),_callee38,this)})));return function getDefinitionsWhere(a){return t.apply(this,arguments)}}(),yn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee39(t){return regeneratorRuntime.wrap((function _callee39$(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Me.collection("glossary").doc(t).get().then((function(t){return firestore_objectSpread(firestore_objectSpread({},t.data()),{},{id:t.id})})));case 1:case"end":return a.stop()}}),_callee39,this)})));return function getDefinitionById(a){return t.apply(this,arguments)}}(),bn=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee42(t){var a,i,o;return regeneratorRuntime.wrap((function _callee42$(c){for(;;)switch(c.prev=c.next){case 0:return a=[],c.prev=1,i=Me.batch(),o=function(){var i=_asyncToGenerator(regeneratorRuntime.mark((function _callee41(){return regeneratorRuntime.wrap((function _callee41$(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee40(t){var i;return regeneratorRuntime.wrap((function _callee40$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,yn(t);case 2:i=o.sent,a.push(i);case 4:case"end":return o.stop()}}),_callee40,this)})));return function(a){return t.apply(this,arguments)}}())));case 1:case"end":return i.stop()}}),_callee41,this)})));return function readyBatch(){return i.apply(this,arguments)}}(),c.next=6,o();case 6:return c.next=8,i.commit();case 8:return c.abrupt("return",a);case 11:c.prev=11,c.t0=c.catch(1);case 13:case"end":return c.stop()}}),_callee42,this,[[1,11]])})));return function getBatchDefinitionsById(a){return t.apply(this,arguments)}}(),_n={getSpecies:He,getSpeciesNames:De,getTaxaNames:Ge,getSpeciesByName:Be,getSpeciesByIconicTaxon:Ue,getFamiliesByIconicTaxon:We,getTaxonByName:Ye,getTraitsBySpeciesName:ze,getTraitsByTaxonName:Ke,getBirdsong:$e,getImage:Xe,getTraitValues:en,getRandomSpecies:sn,getDefinition:function getDefinition(t,a,i){var o,c=t.split(","),l=[],u=function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=firestore_unsupportedIterableToArray(t))){var a=0,i=function F(){};return{s:i,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c,l=!0,u=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(u)throw c}}}}(c);try{var d=function _loop(){var t=o.value,i=a.find((function(a){return a.term.toLowerCase()===t.trim().toLowerCase()||a.alt&&a.alt.toLowerCase()===t.trim().toLowerCase()}));l.push(i)};for(u.s();!(o=u.n()).done;)d()}catch(t){u.e(t)}finally{u.f()}return l.filter((function(t){return t}))},getSpeciesInParallel:ln,getSpeciesByNameInParallel:un,getCollections:function getCollections(t){return mn({})},getCollectionsWhere:mn,getQuestionsWhere:hn,addSpecies:Qe,addTraits:tn,addSpeciesRelationship:rn,addPhotos:an,addTaxon:cn,addCollection:dn,addQuestion:fn,addDefinition:gn,updateSpecies:Je,updateSpeciesNames:Ze,updateCollection:pn,updateDefinition:function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee43(t){var a;return regeneratorRuntime.wrap((function _callee43$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Me.collection("glossary").where("term","==",t.term).get();case 2:return i.sent.forEach((function(t){a=t.ref})),i.next=6,a.update(t);case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),_callee43,this)})));return function updateDefinition(a){return t.apply(this,arguments)}}(),deleteSpeciesByName:nn,deleteSpeciesTraitField:on,getTraitDefinitions:function getTraitDefinitions(t,a,i){var o=t.filter((function(t){return t.trait})).filter((function(t){return t.trait.toLowerCase()===i.toLowerCase()}));return new Promise((function(t){return t(o)}))},getDefinitionsWhere:vn,getDefinitionsByTaxa:function getDefinitionsByTaxa(t){return vn({key:"taxon",operator:"in",value:t})},getDefinitionById:yn,getBatchDefinitionsById:bn},xn=function getRandomId(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a="",i=0;i<20;i++)a+=t.charAt(Math.floor(Math.random()*t.length));return a};function lookalike_test_toConsumableArray(t){return function lookalike_test_arrayWithoutHoles(t){if(Array.isArray(t))return lookalike_test_arrayLikeToArray(t)}(t)||function lookalike_test_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function lookalike_test_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return lookalike_test_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lookalike_test_arrayLikeToArray(t,a)}(t)||function lookalike_test_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lookalike_test_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function lookalike_test_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function lookalike_test_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){lookalike_test_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){lookalike_test_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Sn=function(){var t=lookalike_test_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){var a,i;return regeneratorRuntime.wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return a=function(){var a=lookalike_test_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}return a.abrupt("return",new Promise((function(t){return t([])})));case 2:return a.abrupt("return",Promise.all(t.map(function(){var t=lookalike_test_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var a,i,o,c;return regeneratorRuntime.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,kn(t);case 2:if(a=l.sent,i=a.question,o=a.answers,c=a.overrides,i){l.next=8;break}return l.abrupt("return",new Promise((function(t){return t({})})));case 8:return l.abrupt("return",{item:t,question:i,answers:o,overrides:c});case 9:case"end":return l.stop()}}),_callee,this)})));return function(a){return t.apply(this,arguments)}}())));case 3:case"end":return a.stop()}}),_callee2,this)})));return function init(){return a.apply(this,arguments)}}(),o.next=3,a();case 3:return i=o.sent,o.abrupt("return",i);case 5:case"end":return o.stop()}}),_callee3,this)})));return function getLookalikeTests(a){return t.apply(this,arguments)}}(),wn=function(){var t=lookalike_test_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var a,i,o;return regeneratorRuntime.wrap((function _callee6$(c){for(;;)switch(c.prev=c.next){case 0:if(t.traits&&0!==Object.keys(t.traits).length){c.next=2;break}return c.abrupt("return",{});case 2:if(a=t.traits.lookalikes){c.next=5;break}return c.abrupt("return",new Promise((function(t){return t([])})));case 5:if(0!==(i=a.map((function(t){return t.lookalike.name}))).length){c.next=8;break}return c.abrupt("return",{});case 8:return o=function(){var t=lookalike_test_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(i.map(function(){var t=lookalike_test_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t){return regeneratorRuntime.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_n.getSpeciesByName(t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),_callee4,this)})));return function(a){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),_callee5,this)})));return function getLookalikes(){return t.apply(this,arguments)}}(),c.next=11,o();case 11:return i=(i=c.sent).filter((function(t){return t})),c.abrupt("return",i);case 14:case"end":return c.stop()}}),_callee6,this)})));return function getItemLookalikes(a){return t.apply(this,arguments)}}(),kn=function getLookalikeTest(t){return function(){var a=lookalike_test_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){var a,i,o;return regeneratorRuntime.wrap((function _callee7$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,wn(t);case 2:return a=c.sent,i=a.length>0?t.name:null,o=[i].concat(lookalike_test_toConsumableArray(a.map((function(t){return t.name})))),c.abrupt("return",{question:i,answers:o,overrides:{question:"Avoid look-alikes",help:"(Pick one correct image)",binomial:"Latin name",vernacularName:"Common name",trait:{name:"lookalikes",lookalikes:a}}});case 6:case"end":return c.stop()}}),_callee7,this)})));return function init(){return a.apply(this,arguments)}}()()},Tn={FUNGI:"Fungi",PLANTAE:"Plants",AVES:"Birds",AMPHIBIA:"Amphibians",REPTILIA:"Reptilians",MAMMALIA:"Mammals",INSECTA:"Insects",ARACHNIDA:"Arachnids",LEPIDOPTERA:"Lepidoptera"},En=function matchTaxon(t,a){return!!t&&function matchTaxonKey(t,a){var i={rank:"",value:""};return t?(t.order&&V.a(t.order.toLowerCase(),a)&&(i={rank:"order",value:t.order.toLowerCase()}),""===i.value&&t.class&&V.a(t.class.toLowerCase(),a)&&(i={rank:"class",value:t.class.toLowerCase()}),""===i.value&&t.kingdom&&V.a(t.kingdom.toLowerCase(),a)&&(i={rank:"kingdom",value:t.kingdom.toLowerCase()}),i):i}(t,Object.keys(a).map((function(t){return t.toLowerCase()})))},Ln=function findRankByIconicTaxon(t,a){return Object.keys(t).find((function(i){return t[i].toLowerCase()===a.toLowerCase()}))},An=function matchIcon(t,a){if(!t)return"";var i=En(t,a).value;return i?On(i):""},On=function matchRank(t){var a;switch(t.toLowerCase()){case"aves":a="fas fa-dove";break;case"lepidoptera":a="fas fa-barcode";break;case"amphibia":a="fas fa-frog";break;case"mammalia":case"actinopterygii":a="fas fa-paw";break;case"reptilia":a="fas fa-registered";break;case"insecta":case"arachnida":a="fas fa-bug";break;case"fungi":a="./icons/mushroom.svg";break;case"plantae":a="fas fa-leaf"}return a};function definition_test_toConsumableArray(t){return function definition_test_arrayWithoutHoles(t){if(Array.isArray(t))return definition_test_arrayLikeToArray(t)}(t)||function definition_test_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function definition_test_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return definition_test_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return definition_test_arrayLikeToArray(t,a)}(t)||function definition_test_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function definition_test_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function definition_test_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var In=function getDefinitionTests(t){return void 0===t?[]:t.map((function(t){return Pn(t)}))},Pn=function(){var t=function definition_test_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){definition_test_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){definition_test_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a,i,c,l,u,d,p,m,h,g,v,y,b;return regeneratorRuntime.wrap((function _callee$(_){for(;;)switch(_.prev=_.next){case 0:return a=te.getState(),i=a.config,c=a.collection,l=a.glossary,i.isPortraitMode,u=4,d=En(t.taxonomy,Tn).value,p=l.filter((function(t){return V.a(t.taxon,[d,"common"])})),p=o.utils.shuffleArray(p),m=t.terms?o.utils.shuffleArray(t.terms)[0]:t.genus&&t.genus.terms?t.genus.terms[c.itemIndex]?t.genus.terms[c.itemIndex]:t.family&&t.family.terms?o.utils.shuffleArray(t.family.terms)[0]:null:null,h=m?p.find((function(t){return t.term.toLowerCase()===m.toLowerCase()})):p[0],g=se.a(u-1,se.a(u,o.utils.shuffleArray(p)).filter((function(t){return t.term.toLowerCase()!==h.term.toLowerCase()}))).map((function(t){return o.utils.capitaliseFirst(t.definition)})),v=h.definition,y=o.utils.shuffleArray([v].concat(definition_test_toConsumableArray(g))),b=i.isLandscapeMode?"Select the correct answer":"Select correct answer",_.abrupt("return",{question:v,answers:y,overrides:{question:h.term,help:b,binomial:t.name,vernacularName:t.vernacularName}});case 12:case"end":return _.stop()}}),_callee,this)})));return function getDefinitionTest(a){return t.apply(this,arguments)}}();function bonus_test_handler_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function bonus_test_handler_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?bonus_test_handler_ownKeys(Object(i),!0).forEach((function(a){bonus_test_handler_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):bonus_test_handler_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function bonus_test_handler_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function bonus_test_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function bonus_test_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){bonus_test_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){bonus_test_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var jn={getTests:function(){var t=bonus_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t,a,i,o,c){var l,u,d,p,m,h,g,v,y;return regeneratorRuntime.wrap((function _callee3$(b){for(;;)switch(b.prev=b.next){case 0:if(l=t.items.map((function(t,i){return V.a(i,a)?bonus_test_handler_objectSpread(bonus_test_handler_objectSpread({},t),{},{itemIndex:i}):null})).filter((function(t){return t})),u=function addLayoutToTest(t){return t.map((function(t){return t.itemIndex=t.item?t.item.itemIndex:0,t=bonus_test_handler_objectSpread(bonus_test_handler_objectSpread(bonus_test_handler_objectSpread({},t),v),{},{lessonName:o,levelName:c})}))},d=function getTraitTypeTests(t){return new Promise((function(a){return a(Oe(t))}))},p=function getTraitTypeBirdsongTests(t,a){return new Promise((function(i){return i(je(t,a))}))},m=function getTraitTypeLookalikeTests(t){return Sn(t)},h=function getDefinitionTypeTests(t){return In(t)},g=[],[],[],[],!(v=i.find((function(t){return"trait-property-match"===t.name})))){b.next=20;break}if(!v.types){b.next=16;break}return y=function(){var a=bonus_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var a,i,o;return regeneratorRuntime.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,v.types.map(function(){var a=bonus_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:i.t0=a,i.next="traits"===i.t0?3:"song"===i.t0?4:"lookalikes"===i.t0?5:"definition"===i.t0?6:7;break;case 3:return i.abrupt("return",d(l));case 4:return i.abrupt("return",p(l,t));case 5:return i.abrupt("return",m(l));case 6:return i.abrupt("return",h(l));case 7:case"end":return i.stop()}}),_callee,this)})));return function(t){return a.apply(this,arguments)}}());case 2:return a=c.sent,c.next=5,Promise.all(a);case 5:return i=c.sent,o=i.map((function(t){return t=t.filter((function(t){return t.question})),u(t)})),c.abrupt("return",o);case 8:case"end":return c.stop()}}),_callee2,this)})));return function getResolvedPromises(){return a.apply(this,arguments)}}(),b.next=13,y();case 13:g=b.sent,b.next=20;break;case 16:g=d(l),p(l,t),m(l),h(l);case 20:return b.abrupt("return",ae.a(g));case 21:case"end":return b.stop()}}),_callee3,this)})));return function getTests(a,i,o,c,l){return t.apply(this,arguments)}}()};function provider_test_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function provider_test_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){provider_test_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){provider_test_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Cn=function(){var t=provider_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(t.questionIds){a.next=2;break}return a.abrupt("return",new Promise((function(t){return t(null)})));case 2:case"end":return a.stop()}}),_callee,this)})));return function getItemLayouts(a){return t.apply(this,arguments)}}(),Rn={getLayouts:function(){var t=provider_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t,a){var i,o,c,l;return regeneratorRuntime.wrap((function _callee3$(u){for(;;)switch(u.prev=u.next){case 0:if(!t.species){u.next=16;break}if(i=t.species.filter((function(t){return V.a(t.name,a)})),!((o=i.filter((function(t){return t.questions}))).length>0)){u.next=5;break}return u.abrupt("return",Promise.all(o.map((function(t){return t.questions}))));case 5:if(!(c=t.items.filter((function(t){return V.a(t.name,a)})).map((function(t){return{name:t.name,questionIds:t.questionIds}})))){u.next=13;break}return l=c.map(function(){var t=provider_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(!t.questionIds){a.next=4;break}return a.next=3,Cn(t);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),_callee2,this)})));return function(a){return t.apply(this,arguments)}}()),u.next=10,Promise.all(l);case 10:return u.abrupt("return",u.sent);case 13:return u.abrupt("return",new Promise((function(t){return t(null)})));case 14:u.next=17;break;case 16:return u.abrupt("return",[]);case 17:case"end":return u.stop()}}),_callee3,this)})));return function getLayouts(a,i){return t.apply(this,arguments)}}()},Nn=function makeActionCreator(t){return function(a,i){return{type:t,data:a,meta:i}}},Mn=(Nn(m),Nn(h),Nn(g)),qn=Nn(b),Hn=(Nn(_),Nn(v)),Dn=Nn(y),Gn=(Nn(x),Nn(S)),Un=Nn(w),Bn=Nn(k),Fn=(Nn(L),Nn(E)),Wn=(Nn(T),Nn(A)),Yn=Nn(O),Vn=Nn(I),zn=Nn(P),Kn=(Nn(j),Nn(C),Nn(R)),$n=Nn(D),Xn=(Nn(N),Nn(M)),Qn=(Nn(q),Nn(H)),Jn=Nn(G),Zn=Nn(U),et=Nn(B),nt=Nn(W),tt=function boundAsyncNextLesson(t){return function(a){return t.then((function(t){return a(Mn(t))}))}},rt=function boundNextLesson(t){return te.dispatch(tt(t))},at=function boundUpdateScore(t){return te.dispatch(qn(t))},it=function boundNextItem(t){return te.dispatch(Dn(t,{delay:500}))},ot=function boundNextLayout(t){return te.dispatch(Hn(t))},st=function boundUpdateHistory(t){return te.dispatch(Gn(t))},ct=function boundSetActiveCollection(t){return te.dispatch(Un(t))},lt=function boundUpdateCollection(t){return te.dispatch(Bn(t))},ut=function boundUpdateCollections(t){return te.dispatch(Fn(t))},dt=function boundNextRound(t){return te.dispatch(Wn(t))},pt=function boundNextLevel(t){return te.dispatch(Yn(t))},mt=function boundUpdateConfig(t){return te.dispatch(Vn(t))},ft=function boundStopStartLesson(t){return te.dispatch(zn(t))},ht=function boundUpdateEnums(t){return te.dispatch(Kn(t))},gt=function boundSaveLesson(t){return te.dispatch(Xn(t))},vt=function boundUpdateVideoPlayer(t){return te.dispatch(Qn(t))},yt=function boundUpdateUser(t){return te.dispatch($n(t))},bt=function boundCreateQuickFire(t){return te.dispatch(Jn(t))},_t=function boundUpdateQuickFire(t){return te.dispatch(Zn(t))},xt=function boundCreateGlossary(t){return te.dispatch(et(t))},St=function boundClickEvent(t){return te.dispatch(nt(t))};function class_behaviour_toConsumableArray(t){return function class_behaviour_arrayWithoutHoles(t){if(Array.isArray(t))return class_behaviour_arrayLikeToArray(t)}(t)||function class_behaviour_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function class_behaviour_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return class_behaviour_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return class_behaviour_arrayLikeToArray(t,a)}(t)||function class_behaviour_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function class_behaviour_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var wt=function hasClass(t,a){if(!t)return!1;var i=class_behaviour_toConsumableArray(t.classList);return V.a(a,i)},kt=wt,Tt=function cleanText(t){return t.term?t.term.toLowerCase():t.toLowerCase().replace(/ /g,"")},Et=function isAnswerCorrect(t){var a;if(t.answeredIndex)return parseInt(t.answeredIndex)===t.answerIndex;switch(t.answer=t.answer.trim(),a=function isAnswerEqualToQuestion(t,a){return ce.a(le.a,ue.a)(Tt(t),Tt(a))}(t.question,t.answer),t.taxon){case"vernacular":if(t.names=t.names.map((function(t){return t.toLowerCase()})),t.names&&t.names.length>0){var i=V.a(t.answer,t.names);!a&&i&&(t.alternativeAccepted=!0),a=a||i}}return a},Lt=function markTest(t){var a=z.a(t);return a.success=a.trait?function isTraitAnswerCorrect(t){return ce.a(le.a,ue.a)(t.answer,t.question)}(a):Et(a),a.colour=a.success?"snap-success":"snap-alert",a},At=i(46);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function _inherits(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),a&&_setPrototypeOf(t,a)}function _setPrototypeOf(t,a){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,a){return t.__proto__=a,t})(t,a)}function _createSuper(t){var a=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=_getPrototypeOf(t);if(a){var c=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,c)}else i=o.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,a){return!a||"object"!==_typeof(a)&&"function"!=typeof a?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):a}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ot=function(t){_inherits(lessonState,t);var a=_createSuper(lessonState);function lessonState(){return _classCallCheck(this,lessonState),a.apply(this,arguments)}return lessonState}(At.Enum);Ot.initEnum(["CREATE_LESSON","BEGIN_LESSON","BEGIN_OR_RESUME_LESSON","PAUSE_LESSON","RESUME_LESSON","NEXT_ROUND","BEGIN_INTRO","REVIEW_SUMMARY","UPDATE_COLLECTION","GET_LESSON_PROGRESS","ADD_SPECIES_TO_COLLECTION","SAVE_LESSON_PROGRESS","RENDER_SPECIES_LIST"]);var It=function(t){_inherits(navigation,t);var a=_createSuper(navigation);function navigation(){return _classCallCheck(this,navigation),a.apply(this,arguments)}return navigation}(At.Enum);It.initEnum(["LANDSCAPE_HOME","SETTINGS","PORTRAIT_HOME","GLOSSARY","EMAIL","INFO","LOGIN","LANGUAGE"]);var Pt=function(t){_inherits(taxon,t);var a=_createSuper(taxon);function taxon(){return _classCallCheck(this,taxon),a.apply(this,arguments)}return taxon}(At.Enum);Pt.initEnum(["KINGDOM","PHYLUM","ORDER","FAMILY","GENUS","SPECIES"]);var jt=function(t){_inherits(guideOption,t);var a=_createSuper(guideOption);function guideOption(){return _classCallCheck(this,guideOption),a.apply(this,arguments)}return guideOption}(At.Enum);jt.initEnum(["LOCATION","INAT","PICKER"]);var Ct=function(t){_inherits(nextStep,t);var a=_createSuper(nextStep);function nextStep(){return _classCallCheck(this,nextStep),a.apply(this,arguments)}return nextStep}(At.Enum);Ct.initEnum(["NEXT_ITEM","NEXT_LAYOUT","NEXT_LESSON","NEXT_ROUND"]);var Rt=function(t){_inherits(quickFireType,t);var a=_createSuper(quickFireType);function quickFireType(){return _classCallCheck(this,quickFireType),a.apply(this,arguments)}return quickFireType}(At.Enum);Rt.initEnum(["DEFINITION","REVERSE_DEFINITION","TEXT_ENTRY"]);var Nt=function(t){_inherits(quickFireStep,t);var a=_createSuper(quickFireStep);function quickFireStep(){return _classCallCheck(this,quickFireStep),a.apply(this,arguments)}return quickFireStep}(At.Enum);Nt.initEnum(["GLOSSARY","FILTERS","QUESTIONS"]);var Mt=function(t){_inherits(userEvent,t);var a=_createSuper(userEvent);function userEvent(){return _classCallCheck(this,userEvent),a.apply(this,arguments)}return userEvent}(At.Enum);Mt.initEnum(["DEFAULT","START_LESSON","START_LESSON_REVIEW","START_TERM_REVIEW","NAVIGATE_HOME","EDIT_LESSON","TOGGLE_SPECIES_LIST"]);var qt={lessonState:Ot,navigation:It,taxon:Pt,guideOption:jt,nextStep:Ct,quickFireType:Rt,quickFireStep:Nt,userEvent:Mt};function lesson_state_helper_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_state_helper_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_state_helper_ownKeys(Object(i),!0).forEach((function(a){lesson_state_helper_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_state_helper_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_state_helper_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Ht=function getIsReviewingLesson(t,a){var i=!0;return t&&(i=a.isLandscapeMode?i&&(t.name===qt.userEvent.START_LESSON.name||t.name===qt.userEvent.TOGGLE_SPECIES_LIST.name):i&&t.name===qt.userEvent.START_LESSON.name),!i},Dt=Ht,Gt=function overrideLesson(t,a){return!Ht(t,a)},Ut=function purgeLesson(){re.purge(),window.location.reload(!0)},Bt=function clearGuide(){var t=te.getState().config;t.guide=Y.guide,mt(t)},Ft=function getCollectionToLoad(t,a,i){var o=parseInt(i),c=!0;return(c=(c=c&&t.id>0)&&t.id===o)?t:a.find((function(t){return t.id===o}))},Wt=function getLatestCounter(t){var a=te.getState(),i=a.counter,o=a.lessons,c=i.log;return{index:c?c.index:o.find((function(a){return a.collection.id===t.id}))?o.find((function(a){return a.collection.id===t.id})).counter.index:i.index}},Yt=function getUserLessonState(t,a,i,o,c,l){var u,d=t.find((function(t){return t.name===a.name}));return d?(u=d).lesson.isNextRound&&(u.score=z.a(i.score)):u={collection:a,counter:lesson_state_helper_objectSpread(lesson_state_helper_objectSpread({},o),{},{index:0}),lesson:c||{currentRound:1,rounds:0,isNextRound:!0},layout:null,history:null,score:z.a(i.score)},l&&(u.counter.isCustomLessonPausedOverride=!0),u},Vt=Vt||{};!function(t){t.Context=function(){},t.Context.prototype.import=function(t){return document.importNode(this.doc.querySelector("#"+t).content,!0)};var a,i=/{{\s([\w\.\^]+)\s}}/g;function filterState(t,a){for(var i=a,o=0,c=t.length;o<c;o++){var l=t[o];if(l in i)i=i[l];else{if(!i.hasAttribute||!i.hasAttribute(l))throw l+" is not a valid property of "+JSON.stringify(i);i=i.getAttribute(l)}}return i}function expandString(t,a){var o,c,l,u,d,p=[];for(i.exec("");null!=(o=i.exec(t));)p.push(o);for(var m=p.length-1;m>=0;m--){var h=filterState((o=p[m])[1].split("."),a);c=t,l=o.index,u=o[0].length,d=h,t=c.slice(0,l)+d+c.slice(l+u)}return p.length?t:null}function cloneAllNodes(t){for(var a=[],i=0,o=t.length;i<o;i++)"TEMPLATE"==t[i].nodeName?a.push(t[i].content.cloneNode(!0)):a.push(t[i].cloneNode(!0));return a}function appendChildren(t,a){for(var i=0,o=a.length;i<o;i++)t.appendChild(a[i])}function expand(t,o){if("#text"===t.nodeName)return null!=(T=expandString(t.textContent,o))&&(t.textContent=T),t;Array.isArray(t)||(t=[t]);for(var c=0,l=t.length;c<l;c++){var u=t[c],d=!0;if("#text"===u.nodeName)null!=(T=expandString(u.textContent,o))&&(u.textContent=T);else if(null!=u.attributes)for(var p=u.attributes.length-1;p>=0;p--){var m=u.attributes[p];if(0===m.name.indexOf("data-repeat")){d=!1;var h=m.name.split("-");if(3!==h.length&&4!==h.length)throw"Repeat format is data-repeat-<name>[-<iterName>]. Got "+m.name;for(var g=h[2],v=h[3],y=[];u.firstChild;)y.push(u.removeChild(u.firstChild));var b=[m.value];if(-1!==m.value.indexOf("}}")&&(I=m.value,b=null!=(a=i.exec(I))?a[1].split("."):null),null===b)throw m.value+" doesn't contain an address.";var _=filterState(b,o),x={"^":o};if("[object Array]"===Object.prototype.toString.call(_)){v=v||"i";for(var S=0;S<_.length;S++){var w=cloneAllNodes(y);x[g]=_[S],x[v]=S,expand(w,x),appendChildren(u,w)}}else{v=v||"key";for(var k=Object.keys(_).sort(),T=0;T<k.length;T++){var E=k[T];w=cloneAllNodes(y);x[g]=_[E],x[v]=E,expand(w,x),appendChildren(u,w)}}u.removeAttribute(m.name)}else{if(null!=(T=expandString(m.value,o)))"-"==(g=m.name).charAt(g.length-1)?(u.removeAttribute(m.name),u.setAttribute(m.name.slice(0,-1),T)):m.value=T}}if(d)for(var L=u.firstChild;null!=L;){var A=L.nextSibling;if("TEMPLATE"==L.nodeName){for(var O=expand(L.content.cloneNode(!0),o);O[0].childNodes.length>0;)u.insertBefore(O[0].firstChild,L);u.removeChild(L)}else expand(L,o);L=A}}var I;return t}t.appendChildren=appendChildren,t.expand=expand,t.expandInto=function expandInto(t,a,i){!function replaceChildren(t,a){t.innerHTML="",appendChildren(t,a)}(t,expand(a,i))}}(Vt);var zt=function renderTemplate(t,a,i,o){var c=o||document.importNode(a,!0),l=(new Vt.Context,Vt.expand(c,t));Vt.appendChildren(i,l)},Kt=i(180),$t=i.n(Kt),Xt=function handleRightsAttribution(t){var a,i=document.createElement("template");switch(i.innerHTML=$t.a,t.license){case"http://creativecommons.org/licenses/publicdomain/":a="CC PD";break;case"http://creativecommons.org/licenses/by/2.0/":a="CC 2.0";break;case"http://creativecommons.org/licenses/by-sa/2.0/":a="CC BY SA 2.0";break;case"http://creativecommons.org/licenses/by-nc/2.0/":a="CC BY NC 2.0";break;case"http://creativecommons.org/licenses/by-nc-sa/2.0/":a="CC BY NC-SA 2.0";break;case"http://creativecommons.org/licenses/by/3.0/":a="CC 3.0";break;case"http://creativecommons.org/licenses/by-sa/3.0/":a="CC BY SA 3.0";break;case"http://creativecommons.org/licenses/by-nc-sa/3.0/":a="CC BY NC-SA 3.0";break;case"http://creativecommons.org/licenses/by/4.0/":a="CC 4.0";break;case"http://creativecommons.org/licenses/by-nc/4.0/":a="CC BY NC 4.0";break;case"http://creativecommons.org/licenses/by-nc-sa/4.0/":a="CC BY NC-SA 4.0";break;case"http://creativecommons.org/licenses/by-sa/4.0/":a="CC BY SA 4.0";break;default:a=t.license||""}var o={text:a,url:t.medium},c=t.title,l=t.rightsholder||t.rightsHolder||"Public domain",u=t.source||"",d="".concat(t.itemName.replace(" ","_")),p=t.large||cr(t).large,m=document.querySelector(".js-attribution-layer.".concat(d));(m=m||document.querySelector(".js-attribution-layer")).innerHTML="",zt({title:c,author:l,source:u,licence:o,large:p},i.content,m);var h=m.querySelector(".js-rights-attribution .js-copyright"),g=m.querySelector(".js-rights-link .js-copyright"),v=document.querySelector(".carousel-indicators"),y=function showAttribution(t){h.parentElement.classList.add("hide-important"),g.parentElement.classList.remove("hide-important"),v.classList.remove("hide-important"),g.removeEventListener("click",b),g.addEventListener("click",b,!0)};h.removeEventListener("click",y,!0),h.addEventListener("click",y,!0);var b=function showLink(t){h.parentElement.classList.remove("hide-important"),g.parentElement.classList.add("hide-important"),v.classList.add("hide-important"),h.removeEventListener("click",y,!0),h.addEventListener("click",y,!0)};g.removeEventListener("click",b),g.addEventListener("click",b,!0)},Qt=i(137),Jt=i.n(Qt),Zt=function carouselControlHandler(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;setTimeout((function(){var i=a.querySelector("".concat(t.target.dataset.slider," .carousel-item.active img")).dataset;Xt(i)}),750)},er=function imageSlider(t){var a=t.config,i=t.images,o=t.parent,c=t.image,l=t.parentScreen,u=void 0===l?document:l,d=t.identifier,p=void 0===d?"":d,m=document.createElement("template");m.innerHTML=Jt.a,o.innerHTML="",i.forEach((function(t,a){t.index=a,t.rightsHolder=t.rightsHolder||"Public domain",t.provider=t.provider||"eol",t=cr(t)})),snapLog("imageSlider, image medium values:",i.map((function(t){return t.medium}))),zt({images:i,identifier:p},m.content,o);var h=document.querySelector("#imageSlider_".concat(p," .carousel-control-next-icon")),g=document.querySelector("#imageSlider_".concat(p," .carousel-control-prev-icon"));a.isPortraitMode&&(h.classList.add("concealed"),g.classList.add("concealed")),setTimeout((function(){!function selectActiveImage(t,a,i){a.querySelectorAll(".carousel-item").forEach((function(a){var i=a.querySelector("img").dataset;ir(i,t.dataset||t)&&a.classList.add("active")}));var o=a.querySelector(".imageSlider.carousel .carousel-item.active img");document.querySelectorAll(".carousel-indicators li").forEach((function(t){t.dataset&&o.dataset&&t.dataset.slideTo===o.dataset.index&&t.classList.add("active")}));var c=t.dataset||t;c.title=c.title||c.itemName,c=cr(c),Xt(c)}(c||i[0],o)}),250),u.querySelector("#imageSlider_".concat(p," .carousel-control-prev")).addEventListener("click",(function(t){return Zt(t,u,a)})),u.querySelector("#imageSlider_".concat(p," .carousel-control-next")).addEventListener("click",(function(t){return Zt(t,u,a)})),document.addEventListener("swiped-left",(function(t){h.click()})),document.addEventListener("swiped-right",(function(t){g.click()}))},nr=function imageSideBySlider(t,a,i){var o=document.createElement("template");o.innerHTML=Jt.a,a.innerHTML="",a.classList.add("slideBySliderContainer"),document.querySelector("#imageComparisonModal .js-modal-image-title span:nth-child(3)").innerHTML="",document.querySelector("#imageComparisonModal .js-modal-image-title span:nth-child(4)").innerHTML="",t.forEach((function(t,c){var l=t.id.replace(" ","_")||c+1;document.querySelectorAll("#imageComparisonModal .js-modal-image-title > span")[c].innerHTML='<span class="common-name">'.concat(t.images[0].itemCommon,'</span><span class="latin-name">').concat(t.images[0].itemName,"</span>");var u={name:t.images[0].itemName,itemCommon:t.images[0].itemCommon,images:t.images},d=sr(u,i,rr.CAROUSEL);snapLog("imageSideBySlider, image medium values:",d.map((function(t){return t.medium}))),zt({images:d,identifier:l},o.content,a),document.querySelector("#imageSlider_".concat(l," .carousel-item")).classList.add("active"),Xt(d[0]);var p=document.querySelector("#imageSlider_".concat(l," .js-expand"));p&&p.classList.add("hide-important")}))};function image_handler_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function image_handler_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?image_handler_ownKeys(Object(i),!0).forEach((function(a){image_handler_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):image_handler_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function image_handler_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function image_handler_typeof(t){return(image_handler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var tr=function stripImageUrlOfScaleAndPrefix(t){var a="inat"===t.provider?"https://static.inaturalist.org/photos/":"https://content.eol.org/data/media/";if(!t.url||"object"===image_handler_typeof(t.url))return"";var i=t.url.replace(".260x190.jpg","");return i=(i=(i=i.replace(".98x68.jpg","")).replace(".jpg","")).replace(a,""),"inat"===t.provider&&(i=i.split("?")[0]),i},rr={SPECIES_LIST:"Species list",SPECIES_CARD:"Species card",TAXON_CARD:"Taxon card",SPECIES_SPECIMENS:"Species specimens",NON_TAXON_CARD:"Non-taxon card",VISUAL_MATCH:"Visual match",MIXED_SPECIMENS:"Mixed specimens",CAROUSEL:"Carousel",TEXT_ENTRY:"Text entry",ACTUAL_SIZE:"Actual size",SPECIES_GRID:"Species grid"},ar=function denormaliseImages(t){return t.map((function(t){return t.photographersName=t.photographer&&t.photographer.full_name||"",t}))},ir=function imageMatch(t,a){return!!a&&(t=tr(t))===(a=tr(a))},or=function prepImageForCarousel(t,a,i,o,c){var l=image_handler_objectSpread(image_handler_objectSpread({index:a+1},t),{},{url:cr(t,c,o).medium,itemName:i.name,itemCommon:i.itemCommon,rightsHolder:t.rightsHolder||"",photographersName:t.photographer&&t.photographer.full_name||"",provider:t.provider||""});return t.src&&(l=image_handler_objectSpread(image_handler_objectSpread(image_handler_objectSpread({},l),t.src),{},{medium:t.medium})),l},sr=function prepImagesForCarousel(t,a,i){return t.images.map((function(o,c){return or(o,c,t,a,i)}))},cr=function scaleImage(t){return t.url?(t.part=tr(t),"inat"===t.provider?(t.small="https://static.inaturalist.org/photos/".concat(t.part),t.medium=t.part.replace("small","medium"),t.medium="https://static.inaturalist.org/photos/".concat(t.medium),t.large=t.part.replace("small","large"),t.large="https://static.inaturalist.org/photos/".concat(t.large),t):(t.small="https://content.eol.org/data/media/".concat(t.part,".98x68.jpg"),t.medium="https://content.eol.org/data/media/".concat(t.part,".260x190.jpg"),t.large="https://content.eol.org/data/media/".concat(t.part,".jpg"),t)):t},lr=function modalImagesHandler(t,a,i,o,c){t.forEach((function(t){dr(t,a,i,o,c)}))},ur=function handleImageSelectionFromList(t,a,i,o){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"binomial",l=document.querySelector("#imageModal .js-modal-image"),u=a||i.items.find((function(a){return a.name===t.dataset.itemName})),d=z.a(u.images.map((function(t,a){return u.vernacularName=he(u,o),image_handler_objectSpread(image_handler_objectSpread({},t=cr(t,rr.CAROUSEL,o)),{},{itemName:u.name,itemCommon:u.vernacularName})})));d=ar(d);var p=u.images.find((function(a){return ir(a,t.dataset)})),m={dataset:image_handler_objectSpread(image_handler_objectSpread({},t.dataset),p)};er({config:o,images:d,parent:l,image:m,identifier:m.dataset.itemName.replace(" ","_")});var h="";switch(c){case"biomial":h=u.name;break;case"vernacular":h=u.vernacularName;break;case"withheld":h="Species name withheld";break;default:h="<span>".concat(u.vernacularName,'</span> <span class="latin-name">').concat(u.name,"</span>")}document.querySelector("#imageModal .js-modal-image-title span:nth-child(1)").innerHTML=h},dr=function modalImageHandler(t,a,i,o){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"binomial";t.addEventListener("click",(function(l){a&&ur(t,a,i,o,c)}),!0)},pr='<svg-icon class="si-glyph-mushrooms"><src href="./icons/si-glyph-mushrooms.svg"/></svg-icon>',mr=function renderIcon(t,a){if("fungi"===t.kingdom.toLowerCase()){a.querySelector(".js-iconic-icon").innerHTML='<span class="mushroom-icon-header">'.concat(pr,"</span>")}else{var i=a.querySelector(".js-iconic-icon i");An(t,Tn).split(" ").forEach((function(t){return i.classList.add(t)}))}return a.querySelector(".js-iconic-icon")},fr=function returnTaxonIcon(t){return"fungi"===t.toLowerCase()?'<span class="iconic-taxa-categories-selected">'.concat(pr,"</span>"):'<span><i class="small-icon '.concat(On(t),'"></i></span>')};function birdsong_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var hr=function getBirdSong(t,a,i){if("AVES"===t.taxonomy.class.toUpperCase()){var o=function(){var t=function birdsong_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){birdsong_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){birdsong_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a,i;return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,fetch(t);case 2:return a=o.sent,o.next=5,a.json();case 5:return i=o.sent,o.abrupt("return",i);case 7:case"end":return o.stop()}}),_callee,this)})));return function fetchAsync(a){return t.apply(this,arguments)}}(),c="https://cors-anywhere.herokuapp.com/http://www.xeno-canto.org/api/2/recordings?query=".concat(t.name," q:A"),l=function loadPlayer(t){var o="https://www.xeno-canto.org/".concat(t,"/embed?simple=1");i?a.dataset.src=o:a.src=o,i?(a.classList.remove("bird-song-icon-disabled"),a.classList.add("bird-song-icon")):a.parentElement.classList.add("bird-song-spacing")},u=t.traits.song.value[0];u?l(u):o(c).then((function(t){var a=t.recordings[0];l(a.id)}))}else a.style.display="none",document.querySelector(".bird-song").style.display="none"},gr=i(104),vr=i.n(gr),yr=i(181),br=i.n(yr);function look_alikes_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function look_alikes_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?look_alikes_ownKeys(Object(i),!0).forEach((function(a){look_alikes_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):look_alikes_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function look_alikes_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function look_alikes_typeof(t){return(look_alikes_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function look_alikes_createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=look_alikes_unsupportedIterableToArray(t))){var a=0,i=function F(){};return{s:i,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c,l=!0,u=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(u)throw c}}}}function look_alikes_toConsumableArray(t){return function look_alikes_arrayWithoutHoles(t){if(Array.isArray(t))return look_alikes_arrayLikeToArray(t)}(t)||function look_alikes_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||look_alikes_unsupportedIterableToArray(t)||function look_alikes_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function look_alikes_unsupportedIterableToArray(t,a){if(t){if("string"==typeof t)return look_alikes_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?look_alikes_arrayLikeToArray(t,a):void 0}}function look_alikes_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function look_alikes_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function look_alikes_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){look_alikes_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){look_alikes_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var _r=i(182),xr=i.n(_r),Sr=i(183),wr=i.n(Sr);function linked_taxa_createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function linked_taxa_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return linked_taxa_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return linked_taxa_arrayLikeToArray(t,a)}(t))){var a=0,i=function F(){};return{s:i,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c,l=!0,u=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(u)throw c}}}}function linked_taxa_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function linked_taxa_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function linked_taxa_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){linked_taxa_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){linked_taxa_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var kr=i(184),Tr=i.n(kr),Er=i(185),Lr=i.n(Er),Ar=function renderInfoDetails(t,a,i,o){var c=te.getState(),l=c.config,u=c.collection,d=c.glossary,p=document.createElement("template"),m=document.querySelector(".js-info-box-details");if(m)if(m.innerHTML="",a.toLowerCase().indexOf("description")>-1){p.innerHTML=Tr.a,zt({id:o},p.content,m);var h=document.querySelector(".id-box > div");h.innerHTML=h.innerHTML.replace(/\r?\n/g,"<br />")}else if("relationships"===a.toLowerCase()||"lookalikes"===a.toLowerCase()){!function linkedTaxa(t,a,i,o,c,l,u){i.innerHTML="";var d=document.createElement("template"),p=function(){var a=linked_taxa_asyncToGenerator(regeneratorRuntime.mark((function _callee3(a){return regeneratorRuntime.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:c||("MODAL"===a?document.querySelectorAll("#cardModal .js-test-card-container-link"):document.querySelectorAll(".js-test-card-container-link")).forEach(function(){var a=linked_taxa_asyncToGenerator(regeneratorRuntime.mark((function _callee2(a){return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:a.addEventListener("click",function(){var a=linked_taxa_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){var i,o;return regeneratorRuntime.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return i=a.target.id||a.target.dataset.name,c.next=3,_n.getSpeciesByName(i);case 3:(o=c.sent).species=ge(t.name),da({name:"Local species",items:[o]},"MODAL",o,document.querySelector("#cardModal .js-modal-body"),!1);case 6:case"end":return c.stop()}}),_callee,this)})));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return i.stop()}}),_callee2,this)})));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return i.stop()}}),_callee3,this)})));return function addLinksToSpeciesCards(t){return a.apply(this,arguments)}}();(function(){var c=linked_taxa_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){var c,l,m,h,g,v,y;return regeneratorRuntime.wrap((function _callee7$(b){for(;;)switch(b.prev=b.next){case 0:if(function(){var t=linked_taxa_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t){var i;return regeneratorRuntime.wrap((function _callee4$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,_n.getSpeciesByName(t);case 2:if(i=o.sent){o.next=5;break}return o.abrupt("return",{name:t,display:t,isSpecies:!1});case 5:return he(i,a),o.abrupt("return",{name:t,display:t,isSpecies:!0});case 7:case"end":return o.stop()}}),_callee4,this)})));return function addVernacularName(a){return t.apply(this,arguments)}}(),c=t.traits?t.traits.relationships:null,l=[],!c){b.next=8;break}return m=function(){var a=linked_taxa_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(c.map((function(a){return{type:a.value[0],speciesA:a.symbiont.name,speciesARole:a.symbiont.role,speciesB:t.name,speciesBRole:a.type,description:a.description}}))));case 1:case"end":return a.stop()}}),_callee5,this)})));return function convertTraitsForDisplay(){return a.apply(this,arguments)}}(),b.next=7,m();case 7:l=b.sent;case 8:if(h=t.traits?t.traits.lookalikes:null,g=[],!h){b.next=16;break}return h=h.filter((function(t){return t.lookalike.name===u})),v=function(){var a=linked_taxa_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){return regeneratorRuntime.wrap((function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(h.map((function(a){return{species:t.name,speciesDescription:a.description,lookalike:a.lookalike.name,lookalikeDescription:a.lookalike.description}}))));case 1:case"end":return a.stop()}}),_callee6,this)})));return function convertLookalikesForDisplay(){return a.apply(this,arguments)}}(),b.next=15,v();case 15:g=b.sent;case 16:y=function addDisplayRules(t){var a,i=linked_taxa_createForOfIteratorHelper(t);try{for(i.s();!(a=i.n()).done;){var c=a.value;"MODAL"!==o?(c.className="underline-link",c.modal="modal"):(c.className="",c.modal="")}}catch(t){i.e(t)}finally{i.f()}return t},l&&(l=y(l),d.innerHTML=wr.a,zt({relationships:l},d.content,i)),g&&(g=y(g),d.innerHTML=xr.a,zt({lookalikes:g},d.content,i)),p(o);case 20:case"end":return b.stop()}}),_callee7,this)})));return function getLinkedTaxa(){return c.apply(this,arguments)}})()()}(t,l,m,"MODAL",!0,0,i)}else{var g=_n.getDefinition(i,d,u.glossary);if(!m)return;g&&g.length>0&&(g.forEach((function(t){p.innerHTML=Lr.a,t.imgClassName=t.img?""===t.img.url?"hide-important":"":"hide-important",t.img=t.img||{url:""}})),zt({details:g},p.content,m))}},Or=i(186),Ir=i.n(Or);function info_slider_toConsumableArray(t){return function info_slider_arrayWithoutHoles(t){if(Array.isArray(t))return info_slider_arrayLikeToArray(t)}(t)||function info_slider_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function info_slider_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return info_slider_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return info_slider_arrayLikeToArray(t,a)}(t)||function info_slider_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function info_slider_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var Pr=function renderInfoSlider(t,a,i,c){var l=document.createElement("template");l.innerHTML=Ir.a,i.innerHTML="",(a=a.filter((function(t){return t.value}))).forEach((function(t){t.name=t.name?"ph"===t.name?"pH":o.utils.capitaliseFirst(t.name):"","role"===t.name.toLowerCase()&&(t.name=t.type||"role"),t.name="Ph value"===t.name?"pH value":t.name,t.unit=t.unit?"colour"===t.unit.toLowerCase()?"":t.unit:"",t.description=t.value,t.value="description"===t.name.toLowerCase()?"< traits >":t.value.join(", ")}));var u,d,p,m=a.find((function(t){return"description"===t.name.toLowerCase()}));m=m?m.description[0]:"",zt({id:c,traits:a},l.content,i),(u=i.querySelector("#traitSlider".concat(c," .carousel-item:nth-child(1)"))).classList.add("active"),1===a.length&&i.querySelectorAll(".carousel.slide a").forEach((function(t){t.setAttribute("disabled","disabled"),t.classList.add("inactive-icon")}));var h=function changeTraitHandler(a){setTimeout((function(){u=i.querySelector("#traitSlider".concat(c," .carousel-item.active")),d=u.querySelector("dt").innerHTML,p=u.querySelector("dd").innerHTML,Ar(t,d,p,m)}),1e3)};h(),i.querySelector("#traitSlider".concat(c," .carousel-control-prev")).addEventListener("click",h),i.querySelector("#traitSlider".concat(c," .carousel-control-next")).addEventListener("click",h)},jr=function taxonInfoSlider(t,a,i,o){var c="MODAL"===o?"taxon_1":"taxon_0",l=Ae.convertTraitsToNameValuePairsArray(a,Ae.getTraitsToExclude());l.length>0&&Pr(t,l,i,c)};function geo_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function geo_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){geo_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){geo_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Cr,Rr=function getLocation(t){return t.coordinates&&t.coordinates.lat&&t.coordinates.long?(snapLog("geolocation config",t),new Promise((function(a){a(t.coordinates)}))):(snapLog("geolocation config",t),function getHTML5Location(){return new Promise((function(t,a){navigator.geolocation.getCurrentPosition((function success(a){t([a.coords.latitude,a.coords.longitude])}),(function error(a){logError("getHTML5Location",a),t({0:0,1:0})}))}))}())},Nr=[],Mr=function(){var t=geo_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,a){var i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,t;case 2:return i=p.sent,o=i.features.find((function(t){return"locality"===t.place_type[0]})),c=i.features.find((function(t){return"region"===t.place_type[0]})),l=i.features.find((function(t){return"country"===t.place_type[0]})),i.locality=o?o.text:"",i.region=c?c.text:"",i.country=l?l.text:"",i.area=i.region||i.country,i.shortLocation="".concat(i.locality,", ").concat(i.country),i.longLocation="".concat(i.locality,", ").concat(i.region,", ").concat(i.country),i.summary=a.isLandscapeMode?"Species from ".concat(i.longLocation):"Species from ".concat(i.shortLocation),u=new Promise((function(t){t(i)})),p.next=16,u;case 16:return d=p.sent,p.next=19,d;case 19:return p.abrupt("return",p.sent);case 20:case"end":return p.stop()}}),_callee,this)})));return function parseMapBoxPlace(a,i){return t.apply(this,arguments)}}(),qr=function(){var t=geo_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t,a,i){var o,c,l,u,d,p,m;return regeneratorRuntime.wrap((function _callee2$(h){for(;;)switch(h.prev=h.next){case 0:return"pk.eyJ1IjoiZGFuaGFydGxleSIsImEiOiJjam84Zjd3aGowMDdoM2ttaDAzeDk4bHJ6In0.oEcO6w3DhHUv_mXrFW1clg",o=t,c=a,l=i.language||"en",u="https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(o,",").concat(c,".json?language=").concat(l,"&access_token=").concat("pk.eyJ1IjoiZGFuaGFydGxleSIsImEiOiJjam84Zjd3aGowMDdoM2ttaDAzeDk4bHJ6In0.oEcO6w3DhHUv_mXrFW1clg"),h.next=7,fetch(u);case 7:return d=h.sent,h.next=10,d.json();case 10:return p=h.sent,h.next=13,Mr(p,i);case 13:return m=h.sent,Nr.forEach((function(t){return t(m)})),h.next=17,m;case 17:return h.abrupt("return",h.sent);case 18:case"end":return h.stop()}}),_callee2,this)})));return function getMapBoxPlace(a,i,o){return t.apply(this,arguments)}}(),Hr=function(){var t=geo_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){var a,i,o,c,l,u,d=arguments;return regeneratorRuntime.wrap((function _callee3$(p){for(;;)switch(p.prev=p.next){case 0:if(a=d.length>1&&void 0!==d[1]&&d[1],!t.place||a){p.next=11;break}return i=new Promise((function(a){a(t.place)})),p.next=5,i;case 5:return o=p.sent,p.next=8,o;case 8:return p.abrupt("return",p.sent);case 11:return snapLog("getPlace config",t),p.next=14,Rr(t);case 14:return c=p.sent,l=c[0]||c.lat,u=c[1]||c.long,t.coordinates={lat:l,long:u},p.abrupt("return",qr(u,l,t));case 19:case"end":return p.stop()}}),_callee3,this)})));return function getPlace(a){return t.apply(this,arguments)}}(),Dr=function(){var t=geo_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){var a,i,o,c,l,u,d,p,m;return regeneratorRuntime.wrap((function _callee5$(h){for(;;)switch(h.prev=h.next){case 0:return"a8563e7b75654ae8b016dc52719dee3b",a="https://api.ipgeolocation.io/ipgeo?apiKey=".concat("a8563e7b75654ae8b016dc52719dee3b","&ip=").concat(t,"&fields=city,state_prov,country_name,latitude,longitude&output=json"),h.next=4,fetch(a);case 4:return i=h.sent,h.next=7,i.json();case 7:return o=h.sent,h.next=10,o;case 10:return c=h.sent,l=c.city,u=c.state_prov,d=c.country_name,p=c.latitude,m=c.longitude,h.abrupt("return",{city:l,state_prov:u,country_name:d,latitude:p,longitude:m});case 17:case"end":return h.stop()}}),_callee5,this)})));return function LocationLookup(a){return t.apply(this,arguments)}}(),Gr=function(){var t=geo_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var t,a,i,o;return regeneratorRuntime.wrap((function _callee6$(c){for(;;)switch(c.prev=c.next){case 0:return"https://api.ipgeolocation.io/getip",c.next=3,fetch("https://api.ipgeolocation.io/getip");case 3:return t=c.sent,c.next=6,t.json();case 6:return a=c.sent,c.next=9,a;case 9:return i=c.sent,o=i.ip,c.abrupt("return",o);case 12:case"end":return c.stop()}}),_callee6,this)})));return function IPLookup(){return t.apply(this,arguments)}}(),Ur=function(){var t=geo_asyncToGenerator(regeneratorRuntime.mark((function _callee7(t){var a,i,o,c,l,u,d,p,m,h,g=arguments;return regeneratorRuntime.wrap((function _callee7$(v){for(;;)switch(v.prev=v.next){case 0:if(a=g.length>1&&void 0!==g[1]&&g[1],!t.ipLocation||a){v.next=11;break}return i=new Promise((function(a){a(t.ipLocation)})),v.next=5,i;case 5:return o=v.sent,v.next=8,o;case 8:return v.abrupt("return",v.sent);case 11:return v.next=13,Gr();case 13:return c=v.sent,v.next=16,Dr(c);case 16:return l=v.sent,u=l.city,d=l.state_prov,p=l.country_name,m=l.latitude,h=l.longitude,v.abrupt("return",{city:u,state_prov:d,country_name:p,latitude:m,longitude:h});case 23:case"end":return v.stop()}}),_callee7,this)})));return function getIPLocation(a){return t.apply(this,arguments)}}();var Br=!0,Fr="";function inat_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function inat_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?inat_ownKeys(Object(i),!0).forEach((function(a){inat_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):inat_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function inat_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function inat_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function inat_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){inat_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){inat_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Wr=[],Yr=function unsubscribe(t){Wr=Wr.filter((function(a){return a!==t}))},Vr=function listenToInatRequests(t){return Wr.push(t),Yr},zr=function getBasePath(t){var a="all_year"===t.guide.season.type?"":t.guide.season.observableMonths.map((function(t){return t.index})).join(","),i=t.guide.perPage||200;return"https://api.inaturalist.org/v1/observations/species_counts?captive=false&rank=species&per_page=".concat(i,"&month=").concat(a)},Kr=function(){var t=inat_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){var a,i,c,l,u,d,p,m,h;return regeneratorRuntime.wrap((function _callee5$(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,_n.getSpeciesNames();case 2:return a=g.sent,i=a[0].value,snapLog("snapdragon species",i),c=Object.keys(Tn).join(","),l=function getIconicTaxa(t){try{var a=t.guide.iconicTaxa.map((function(t){return t.id}))||c;return a.find((function(t){return"mammalia"===t}))&&a.push("reptilia"),a.map((function(t){return"lepidoptera"===t&&(t="insecta"),t}))}catch(t){logError("Error for getIconicTaxa: ",t)}},u=function getUserOrProjectKeyValuePair(t){if(!t.guide.inatId)return"";var a=t.guide.inatId.param,i=t.guide.inatId.id,o="&".concat(a,"=").concat(i);return i?o:""},d=function(){var t=inat_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,a){var i,o,c,l,u,d,p,h;return regeneratorRuntime.wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:i=[],o=[],c=!0,l=1;case 4:if(!c){g.next=30;break}return g.prev=5,g.next=8,m(t,l);case 8:return u=g.sent,g.next=11,o.push.apply(o,u);case 11:return d=u.filter((function(t){return V.a(t.taxon.name,a)})),g.next=14,i.push.apply(i,d);case 14:if(l+=1,p=u.length<200,h=i.length>=t.guide.noOfRecords,snapLog("snapdragonSpecies",i),snapLog("records",o),!p&&!h){g.next=22;break}return c=!1,g.abrupt("return",i);case 22:g.next=28;break;case 24:return g.prev=24,g.t0=g.catch(5),logError("getInatObservations",g.t0),g.abrupt("return",i);case 28:g.next=4;break;case 30:case"end":return g.stop()}}),_callee,this,[[5,24]])})));return function getAllInatObservations(a,i){return t.apply(this,arguments)}}(),p=function(){var t=inat_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",Promise.all(t.map((function(t){return _n.getSpeciesByName(t.taxon.name).then(function(){var a=inat_asyncToGenerator(regeneratorRuntime.mark((function _callee2(a){return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,inat_objectSpread(inat_objectSpread({},a),{},{observationCount:t.taxon.observations_count,iconicTaxon:t.taxon.iconic_taxon_name});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),_callee2,this)})));return function(t){return a.apply(this,arguments)}}())}))));case 4:a.prev=4,a.t0=a.catch(0),logError("loadSpeciesInParallel: ",a.t0);case 7:case"end":return a.stop()}}),_callee3,this,[[0,4]])})));return function loadSpeciesInParallel(a){return t.apply(this,arguments)}}(),m=function(){var t=inat_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t,a){var i,o,c,d,p,m,h,g,v,y;return regeneratorRuntime.wrap((function _callee4$(b){for(;;)switch(b.prev=b.next){case 0:b.prev=0,i="",o="",c="",d=t.guide.speciesRange?parseInt(t.guide.speciesRange):10,p="",b.t0=t.guide.locationType,b.next="place"===b.t0?7:"longLat"===b.t0?9:"inat"===b.t0?12:18;break;case 7:return c=t.guide.place.id,b.abrupt("break",18);case 9:return i=t.guide.coordinates.lat,o=t.guide.coordinates.long,b.abrupt("break",18);case 12:return i="",o="",c="",d="",p="&".concat(t.guide.inatId.param,"=").concat(t.guide.inatId.key),b.abrupt("break",18);case 18:return m=l(t),h="INAT"===t.guide.guideTpe?u(t):"",g=zr(t)+"&page=".concat(a,"&iconic_taxa=").concat(m,"&place_id=").concat(c,"&lat=").concat(i,"&lng=").concat(o,"&radius=").concat(d).concat(p).concat(h),snapLog("inat species request url",g),b.next=24,fetch(g);case 24:return v=b.sent,snapLog("inat recordsFromThisRequest",v),b.next=28,v.json();case 28:if(y=b.sent,Wr.forEach((function(t){return t({page:y.page,numberOfRequests:Math.ceil(y.total_results/y.RECORDS_per_page)})})),!y){b.next=36;break}return b.next=33,y.results;case 33:b.t1=b.sent,b.next=37;break;case 36:b.t1=[];case 37:return b.abrupt("return",b.t1);case 40:return b.prev=40,b.t2=b.catch(0),logError("getInatObservations",b.t2),b.abrupt("return",[]);case 44:case"end":return b.stop()}}),_callee4,this,[[0,40]])})));return function getInatObservations(a,i){return t.apply(this,arguments)}}(),g.prev=11,g.next=14,d(t,i);case 14:h=(h=g.sent).filter((function(t){return V.a(t.taxon.name,i)})),h=se.a(t.guide.noOfRecords,o.utils.sortBy(h.filter((function(t){return t})),"observationCount","desc")),g.next=22;break;case 19:g.prev=19,g.t0=g.catch(11),logError("getAllInatObservations",g.t0);case 22:if(snapLog("observations",h),h){g.next=25;break}return g.abrupt("return",[]);case 25:return g.next=27,p(h);case 27:return g.abrupt("return",g.sent);case 28:case"end":return g.stop()}}),_callee5,this,[[11,19]])})));return function getInatSpecies(a){return t.apply(this,arguments)}}();function getInatPlaceId(t){return _getInatPlaceId.apply(this,arguments)}function _getInatPlaceId(){return(_getInatPlaceId=inat_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var a,i,o;return regeneratorRuntime.wrap((function _callee6$(c){for(;;)switch(c.prev=c.next){case 0:return a="https://api.inaturalist.org/v1/places/autocomplete?q=".concat(t),c.next=3,fetch(a);case 3:return i=c.sent,c.next=6,i.json();case 6:return o=c.sent,c.abrupt("return",o);case 8:case"end":return c.stop()}}),_callee6,this)})))).apply(this,arguments)}function getInatTaxonStats(t,a,i){return _getInatTaxonStats.apply(this,arguments)}function _getInatTaxonStats(){return(_getInatTaxonStats=inat_asyncToGenerator(regeneratorRuntime.mark((function _callee7(t,a,i){var o,c,l,u,d;return regeneratorRuntime.wrap((function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return o=i||"any",c=t.name,l="https://api.inaturalist.org/v1/observations/species_counts?&verifiable=true&taxon_name=".concat(c,"&place_id=").concat(o),a.next=5,fetch(l);case 5:return u=a.sent,a.next=8,u.json();case 8:return d=a.sent,a.abrupt("return",d);case 10:case"end":return a.stop()}}),_callee7,this)})))).apply(this,arguments)}function getHistogram(t,a){return _getHistogram.apply(this,arguments)}function _getHistogram(){return(_getHistogram=inat_asyncToGenerator(regeneratorRuntime.mark((function _callee8(t,a){var i,o,c,l,u;return regeneratorRuntime.wrap((function _callee8$(d){for(;;)switch(d.prev=d.next){case 0:return i=a||"any",o=t.name,c="https://api.inaturalist.org/v1/observations/histogram?taxon_name=".concat(o,"&place_id=").concat(i),d.next=5,fetch(c);case 5:return l=d.sent,d.next=8,l.json();case 8:return u=d.sent,d.abrupt("return",u);case 10:case"end":return d.stop()}}),_callee8,this)})))).apply(this,arguments)}function getAutocompleteBy(t,a){return _getAutocompleteBy.apply(this,arguments)}function _getAutocompleteBy(){return(_getAutocompleteBy=inat_asyncToGenerator(regeneratorRuntime.mark((function _callee9(t,a){var i,o,c;return regeneratorRuntime.wrap((function _callee9$(l){for(;;)switch(l.prev=l.next){case 0:return i="https://api.inaturalist.org/v1/".concat(a,"/autocomplete?q=").concat(t),l.next=3,fetch(i);case 3:return o=l.sent,l.next=6,o.json();case 6:return c=l.sent,l.abrupt("return",c);case 8:case"end":return l.stop()}}),_callee9,this)})))).apply(this,arguments)}var $r=i(71),Xr=function renderWikiModal(t,a,i){a&&a.addEventListener("click",(function(o){document.querySelector(".js-external-page-title").innerHTML="".concat(t.name);var c=document.querySelector(".species-card-wiki-entry").innerText,l="<header>".concat("\n                <style type='text/css'>\n                body {\n                    font-family: PT Sans', 'Roboto', arial,sans-serif;\n                }\n                a {\n                    text-decoration: none;\n                    border: solid 1px;\n                    border-top: none;\n                    border-left: none;\n                    border-right: none;\n                    color: black;\n                    cursor: pointer;\n                }\n            </style>","</header><p>").concat(c,"</p><p><a href='https://en.wikipedia.org/wiki/Salvia_officinalis' target='_blank'>Wikipedia page</a></p>");document.querySelector(".js-external-page-body").innerHTML=i.isPortraitMode?'<iframe class="modal-iframe" title="Wikipedia page for the species '.concat(t.name,'" src="data:text/html,').concat(l,'"></iframe>'):'<iframe class="modal-iframe" title="Wikipedia page for the species '.concat(t.name,'" src="').concat(a.querySelector("span").dataset.src,'"></iframe>'),document.querySelector("#wikiModal").focus()}))},Qr=i(187),Jr=i.n(Qr);function inat_box_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function inat_box_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){inat_box_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){inat_box_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}function _renderInatDataBox(){return(_renderInatDataBox=inat_box_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,a,i,o){var c,l,u,d,p,m,h;return regeneratorRuntime.wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:return(c=document.createElement("template")).innerHTML=Jr.a,t.innerHTML="",zt({},c.content,t),(l=document.querySelector(".js-test-card-container-eol-link")).setAttribute("href","http://eol.org/pages/".concat(a.id,"/overview")),l.setAttribute("target","_blank"),l.setAttribute("style","text-decoration: none"),setTimeout((function(){var t=document.querySelector(".js-test-card-container-wiki");Xr(a,t,i)})),(u=document.querySelector(".js-test-card-container-wiki")).innerHTML="",Object($r.renderWiki)(u,a,i.language),getInatTaxonStats(a,i).then((function(i){if(i.results){var o=i.results.find((function(t){return t.taxon.name===a.name})).taxon.id,c=i.results.find((function(t){return t.taxon.name===a.name})).count,l="https://www.inaturalist.org/taxa/".concat(o);t.querySelector(".js-taxon-count").innerHTML=c.toLocaleString(),t.querySelector(".js-taxon-link").setAttribute("href",l)}})),g.next=15,Hr(i);case 15:return d=g.sent,p=d.country.place_name_en||d.country,g.next=19,getInatPlaceId(p);case 19:if(0!==(m=g.sent).results.length){g.next=22;break}return g.abrupt("return");case 22:h=m.results.find((function(t){return t.display_name===p})).id,getInatTaxonStats(a,i,h).then((function(i){if(0!==i.results.length){var c=i.results.find((function(t){return t.taxon.name===a.name}));if(c){var l=c.count,u=c.taxon.preferred_establishment_means;document.querySelector(".js-native-container").innerHTML=u||"",t.querySelector(".js-world").innerHTML="MODAL"===o?"Worldwide":"Worldwide sightings",t.querySelector(".js-place").innerHTML="MODAL"===o?p:"".concat(p," sightings"),t.querySelector(".js-place-taxon-count").innerHTML=l.toLocaleString()}}}));case 24:case"end":return g.stop()}}),_callee,this)})))).apply(this,arguments)}var Zr=i(188),ea=i.n(Zr);function calendar_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var na=function(){var t=function calendar_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){calendar_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){calendar_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t,a,i){var c,l,u,d,p,m,h,g;return regeneratorRuntime.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:return(c=document.createElement("template")).innerHTML=ea.a,t.innerHTML="",v.next=5,Hr(i);case 5:return l=v.sent,u=l.country.place_name_en||l.country,v.next=9,getInatPlaceId(u);case 9:if(0!==(d=v.sent).results.length){v.next=12;break}return v.abrupt("return");case 12:p=d.results.find((function(t){return t.display_name===u})).id,m=[],h=function getENShortMonth(t){var a;switch(t){case 1:a="J";break;case 2:a="F";break;case 3:a="M";break;case 4:a="A";break;case 5:a="M";break;case 6:case 7:a="J";break;case 8:a="A";break;case 9:a="S";break;case 10:a="O";break;case 11:a="N";break;case 12:a="D"}return a},g=function getMonth(t,a){var i;switch(a.language){case"en":i=h(t);break;default:i=h(t)}return i},getHistogram(a,p).then((function(a){var l=a.results.month_of_year;for(var u in l)m.push({month:g(parseInt(u),i),index:parseInt(u),count:l[u]});o.utils.sortBy(m,"count","desc").forEach((function(t,a){a<4&&0!==t.count?t.class="most-observations":t.class=""})),o.utils.sortBy(m,"index","asc");var d=[],p=[];m.map((function(t,a){a<4&&p.push(t),3===a&&(d.push(p),p=[]),3<a&&a<8&&p.push(t),7===a&&(d.push(p),p=[]),7<a&&a<12&&p.push(t),11===a&&(d.push(p),p=[])})),zt({data:d},c.content,t);var h=(new Date).getMonth();document.querySelectorAll(".calendar-box .col > div").forEach((function(t,a){a===h&&t.classList.add("current-month")}))}));case 17:case"end":return v.stop()}}),_callee,this)})));return function renderCalendar(a,i,o){return t.apply(this,arguments)}}(),ta=[{name:"Brassica rapa",subspecies:[{variety:"chinensis",names:[{vernacularName:"Bok choy",language:"en"},{vernacularName:"Pak choi",language:"en"}]},{variety:"rapa",names:[{vernacularName:"Turnip",language:"en"}]},{variety:"oleifera",names:[{vernacularName:"Field mustard",language:"en"}]},{variety:"pekinensis",names:[{vernacularName:"Chinese cabbage",language:"en"},{vernacularName:"Wombok",language:"en"}]}]},{name:"Brassica oleracea",variety:"oleracea",subspecies:[{variety:"oleracea",names:[{vernacularName:"Wild cabbage",language:"en",wiki:"https://en.wikipedia.org/wiki/Brassica_oleracea",eol:"http://eol.org/pages/1283630/overview"}]},{variety:"capitata",group:"Capitata",form:"alba",names:[{vernacularName:"Cabbage",language:"en",wiki:"https://en.wikipedia.org/wiki/Cabbage",eol:"http://eol.org/pages/38390/overview"}]},{variety:"capitata",group:"Capitata",form:"sabauda",names:[{vernacularName:"Savoy cabbage",language:"en",wiki:"https://en.wikipedia.org/wiki/Savoy_cabbage",eol:"http://eol.org/pages/5148887/overview"}]},{variety:"capitata",group:"Capitata",form:"rubra",names:[{vernacularName:"Red cabbage",language:"en",wiki:"https://en.wikipedia.org/wiki/Red_cabbage"}]},{variety:"capitata",group:"Capitata",form:"acuta",names:[{vernacularName:"Cone cabbage",language:"en"}]},{variety:"viridis",group:"acephala",names:[{vernacularName:"Collards",language:"en"}]},{variety:"viridis",group:"Acephala",names:[{vernacularName:"Kale",language:"en"}]},{variety:"gemmifera",group:"Gemmifera",names:[{vernacularName:"Brussels sprouts",language:"en"}]},{variety:"gongylodes",group:"Gongylodes",names:[{vernacularName:"Kohlrabi",language:"en"}]},{variety:"italica",group:"Italica",names:[{vernacularName:"Broccoli",language:"en"}]},{variety:"botrytis",group:"Botrytis",names:[{vernacularName:"Cauliflower",language:"en"}]}]}],ra=i(189),aa=i.n(ra);function taxa_box_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var ia=function(){var t=function taxa_box_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){taxa_box_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){taxa_box_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t,a){var i,o,c,l,u,d,p,m,h,g,v;return regeneratorRuntime.wrap((function _callee$(y){for(;;)switch(y.prev=y.next){case 0:i=te.getState().enums,t.innerHTML="",o=a.item,c=a.familyName,l=a.familyVernacularName,u=[{name:i.name.RANK,formatter:function formatter(t){return"UK # ".concat(t[0])}},{name:i.name.HOW_EDIBLE,formatter:function formatter(t){return t[0]}}],d=be(o,u),p=ta.find((function(t){return t.name===o.name})),m=p?p.subspecies.length:0,(h=document.createElement("template")).innerHTML=aa.a,zt({subSpeciesCount:m,familyName:c,familyVernacularName:l,trait:d},h.content,t),g=t.querySelector(".js-subspecies-badge"),0===m?g.classList.add("hide"):(v=p.subspecies,g.addEventListener("click",(function(t){document.querySelector("#badgeListModal .js-modal-text-title").innerHTML="Cultivars of ".concat(o.name);var a=rootNode.querySelector("#badgeListModal .js-modal-text"),i='<div class="modal-list scrollable">';v.forEach((function(t){i+="<div><span>subspecies: ".concat(t.name,"</span>"),i+="<ul>",t.names.forEach((function(t){t.language===config.language&&(i+="<li>name: ".concat(t.vernacularName,"</li>"))})),i+="</ul></div>"})),i+="</div>",a.innerHTML=i})));case 12:case"end":return y.stop()}}),_callee,this)})));return function renderTaxaBox(a,i){return t.apply(this,arguments)}}(),oa=i(190),sa=i.n(oa);function badge_toConsumableArray(t){return function badge_arrayWithoutHoles(t){if(Array.isArray(t))return badge_arrayLikeToArray(t)}(t)||function badge_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function badge_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return badge_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return badge_arrayLikeToArray(t,a)}(t)||function badge_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function badge_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var ca=i(191),la=i.n(ca);function card_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function card_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){card_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){card_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var ua,da=function renderCard(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"STAND_ALONE",i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ie.rightBody,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(i){var l,u=te.getState(),d=u.layout,p=u.config,m=function(){var u=card_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var u,m,h,g,v;return regeneratorRuntime.wrap((function _callee3$(y){for(;;)switch(y.prev=y.next){case 0:return u=function(){var t=card_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var a,i,o;return regeneratorRuntime.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:if(!t.eolId){c.next=2;break}return c.abrupt("return",new Promise((function(a){return a(t)})));case 2:return a=function(){var t=card_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!t.family){a.next=4;break}a.t0=new Promise((function(a){return a(t)})),a.next=7;break;case 4:return a.next=6,_n.getSpeciesByName(t.name);case 6:a.t0=a.sent;case 7:return a.abrupt("return",a.t0);case 8:case"end":return a.stop()}}),_callee,this)})));return function getItem(a){return t.apply(this,arguments)}}(),c.next=5,a(t);case 5:return i=c.sent,c.next=8,_n.getTaxonByName(p,i.taxonomy[qt.taxon.FAMILY.name.toLowerCase()]);case 8:if(c.t0=c.sent,c.t0){c.next=11;break}c.t0={names:[i.taxonomy.family]};case 11:return i.family=c.t0,c.next=14,_n.getTaxonByName(p,i.taxonomy[qt.taxon.ORDER.name.toLowerCase()]);case 14:return i.order=c.sent,c.next=17,_n.getTraitsBySpeciesName(t.name);case 17:return i.traits=c.sent,i.vernacularName=i.vernacularName||he(t,p),o=t.name.split(" "),i.taxonomy.genus=o[0],i.taxonomy.species=o[1],c.abrupt("return",i);case 23:case"end":return c.stop()}}),_callee2,this)})));return function getItemWithProps(a){return t.apply(this,arguments)}}(),l=i||t.nextItem,y.next=4,u(l);case 4:l=y.sent,y.t0=a,y.next="STAND_ALONE"===y.t0?8:"SWAP_OUT"===y.t0?10:"MODAL"===y.t0?12:14;break;case 8:return m=p.isLandscapeMode?modal.querySelector(".js-modal-text"):document.querySelector(".right-body"),y.abrupt("break",14);case 10:return m=p.isLandscapeMode?o:document.querySelector(".js-species-container"),y.abrupt("break",14);case 12:return m=document.querySelector("#cardModal"),y.abrupt("break",14);case 14:if("STAND-ALONE"!==a){y.next=18;break}if(d.screens.filter((function(t){return"species-card"===t.name}))[0]){y.next=18;break}return y.abrupt("return");case 18:h=document.querySelector("#cardModal .js-prev"),g=document.querySelector("#cardModal .js-next"),h&&(c?h.classList.remove("hide-important"):h.classList.add("hide-important")),g&&(c?g.classList.remove("hide-important"):g.classList.add("hide-important")),(v=document.createElement("template")).innerHTML=la.a,fa(v,p,l,t,a,o,m,c),p.isPortraitMode?ma(l,p,a,m):pa(l,p,a,m);case 26:case"end":return y.stop()}}),_callee3,this)})));return function init(){return u.apply(this,arguments)}}();m()}},pa=function renderLandscape(t,a,i,o){var c=o.querySelector(".js-bird-song");hr(t,c,a.isPortraitMode),function renderInatDataBox(t,a,i,o){return _renderInatDataBox.apply(this,arguments)}(o.querySelector(".js-inat-box"),t,a,i),na(o.querySelector(".js-calendar-box"),t,a),function lookalikeSpecies(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,o=t.traits.lookalikes||t.traits["look-alikes"];if(o){var c=function(){var c=look_alikes_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var c,g,v;return regeneratorRuntime.wrap((function _callee4$(y){for(;;)switch(y.prev=y.next){case 0:return c=function(){var i=look_alikes_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var i,c,l,d;return regeneratorRuntime.wrap((function _callee2$(g){for(;;)switch(g.prev=g.next){case 0:u=[].concat(look_alikes_toConsumableArray(o.map((function(t){return t.lookalike}))),[{name:t.name,description:o[0].description}]),i=look_alikes_createForOfIteratorHelper(u),g.prev=2,l=regeneratorRuntime.mark((function _callee(){var t,i,o;return regeneratorRuntime.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return t=c.value,l.next=3,_n.getSpeciesByName(t.name);case 3:if(i=l.sent){l.next=6;break}return l.abrupt("return",{v:void 0});case 6:i.vernacularName=he(i,a),m.push(i.vernacularName),h.push(i.name),o=i.images.map((function(t,o){var c=cr({url:t.url},rr.CAROUSEL,a);return{index:o+1,src:look_alikes_objectSpread(look_alikes_objectSpread({},t),{},{url:c.medium}),url:c.medium,itemName:i.name,itemCommon:i.vernacularName}})),p.push({id:i.name,images:o});case 11:case"end":return l.stop()}}),_callee,this)})),i.s();case 5:if((c=i.n()).done){g.next=12;break}return g.delegateYield(l(),"t0",7);case 7:if("object"!==look_alikes_typeof(d=g.t0)){g.next=10;break}return g.abrupt("return",d.v);case 10:g.next=5;break;case 12:g.next=17;break;case 14:g.prev=14,g.t1=g.catch(2),i.e(g.t1);case 17:return g.prev=17,i.f(),g.finish(17);case 20:case 21:case"end":return g.stop()}}),_callee2,this,[[2,14,17,20]])})));return function readyLookalikesForRendering(){return i.apply(this,arguments)}}(),y.next=3,c();case 3:if(0!==p.length){y.next=5;break}return y.abrupt("return");case 5:d.innerHTML="",zt({slides:p,names:m.join(", ")},l.content,d),(g=i.querySelector(".js-compare-species-link")).classList.remove("hide"),v=function(){var t=look_alikes_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t,a){var i,o,c,l;return regeneratorRuntime.wrap((function _callee3$(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,_n.getSpeciesByName(t);case 2:return i=u.sent,u.next=5,_n.getTraitsBySpeciesName(i.name);case 5:if(i.traits=u.sent,"aves"!==i.taxonomy.class.toLowerCase()){u.next=18;break}if(!i.traits||0!==Object.keys(i.traits).length){u.next=9;break}return u.abrupt("return");case 9:if(o=i.traits.song.value){u.next=12;break}return u.abrupt("return");case 12:return u.next=14,_n.getBirdsong(o);case 14:c=u.sent,(l=document.createElement("template")).innerHTML=vr.a,zt({mp3:c,title:i.name},l.content,a);case 18:case"end":return u.stop()}}),_callee3,this)})));return function getTrait(a,i){return t.apply(this,arguments)}}(),g.addEventListener("click",(function(){var t=document.querySelector("#imageComparisonModal .js-modal-image");nr(p,t,!0),u.forEach((function(t){var a=".description_".concat(t.name.replace(" ","_"));document.querySelector(a).innerHTML=t.description,v(t.name,document.querySelector("".concat(a," + div")))}))}));case 11:case"end":return y.stop()}}),_callee4,this)})));return function renderLookalikes(){return c.apply(this,arguments)}}(),l=document.createElement("template");l.innerHTML=br.a;var u,d=i.querySelector(".js-lookalikes"),p=[],m=[],h=[];c()}}(t,a,o)},ma=function renderPortrait(t,a,i,o){var c=sr(t,a,rr.SPECIES_CARD),l=o.querySelector(".js-test-card-container-images");er({config:a,images:c,parent:l,parentScreen:o.querySelector(".card-card"),identifier:t.name.replace(" ","_")});var u=o.querySelector(".js-bird-song-player");"MODAL"!=i?(hr(t,u,a.isPortraitMode),u.addEventListener("click",(function(){var a=document.createElement("iframe");a.id="birdsong",a.style.border=0,a.src=u.dataset.src,document.querySelector("#basicModal .modal-body").classList.add("bird-song-bg"),document.querySelector("#basicModal .js-modal-text-title").innerHTML="".concat(t.name);for(var i=document.querySelector("#basicModal .js-modal-text");i.firstChild;)i.removeChild(i.firstChild);i.appendChild(a)}))):u.style.display="none"},fa=function renderCommonParts(t,a,i,o,c,l,u,d){var p=cr({url:i.starred||i.images[0].url},rr.SPECIES_CARD,a),m=document.importNode(t.content,!0);if(l.innerHTML="",zt({name:i.name,vernacularName:i.vernacularName,image:p,iconicTaxon:i.iconicTaxon},t.content,l,m),ia(u.querySelector(".js-taxa-box"),{item:i,familyName:i.taxonomy.family,familyVernacularName:i.family.vernacularName||""}),function infoSlider(t,a,i){if(Ae.hasTraitPropeties(t.traits)){var o=Ae.convertTraitsToNameValuePairsArray(t.traits,Ae.getTraitsToExclude(),t);if(t.traits.description)o=[{name:"description",value:t.traits.description.value}].concat(info_slider_toConsumableArray(o));if(0!==o.length)Pr(t,o,a,"MODAL"===i?1:0)}}(i,u.querySelector(".js-info-box"),c),function renderBadge(t,a,i){var o=badge_toConsumableArray(new Set(a.names.map((function(t){return{common:t.vernacularName.toLowerCase(),language:t.language}})))),c=o.reduce((function(t,a){return t[a.language]=t[a.language]||{},t[a.language].name=i.languages.find((function(t){return t.lang===a.language})).name,t[a.language].names=t[a.language].names||[],t[a.language].names.push(a.common),t}),Object.create(null)),l=o.length,u=document.createElement("template");0===l?t.classList.add("hide"):(t.innerHTML="",u.innerHTML='<span class="names-badge js-names-badge" data-toggle="modal" data-target="#badgeListModal">'.concat(l,"</span>"),zt({},u.content,t),t.addEventListener("click",(function(t){document.querySelector("#badgeListModal .js-modal-text-title").innerHTML="Common species names";var a=document.querySelector("#badgeListModal .js-modal-text");a.innerHTML="",u.innerHTML=sa.a,zt({languageNames:c},u.content,a)})))}(u.querySelector(".js-names-badge"),i,a),mr(i.taxonomy,u),"MODAL"===c){u.querySelector("#cardModal .js-modal-text-title").innerHTML=o.name;var h=u.querySelector("#cardModal .js-prev > span");h.dataset.id=i.id,h.dataset.transition="prev",h.dataset.modal="cardModal";var g=u.querySelector("#cardModal .js-next > span");g.dataset.id=i.id,g.dataset.transition="next",g.dataset.modal="cardModal";var v=document.getElementsByTagName("hr");Array.from(v).forEach((function(t){return t.style.display="none"}))}setTimeout((function(){a.isPortraitMode&&(document.querySelectorAll(".js-attribution-layer").forEach((function(t){return t.classList.add("hide-important")})),document.querySelectorAll(".js-carousel-indicators").forEach((function(t){return t.classList.add("hide-important")})))}))},ha=i(192),ga=i.n(ha),va=document.querySelector("#cardModal .carousel");va&&va.addEventListener("click",(function(t){ua=t.target.dataset.transition}));var ya,ba=function renderTaxonCard(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"STAND_ALONE",i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ie.rightBody,c=arguments.length>5?arguments[5]:void 0,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];try{var u=i||t.nextItem;u||document.querySelector("#cardModal .close").click();var d,p=te.getState(),m=p.config;switch(a){case"STAND_ALONE":d=document.querySelector(".right-body");break;case"SWAP_OUT":d=document.querySelector(".js-taxon-container");break;case"MODAL":d=document.querySelector("#cardModal")}var h=document.createElement("template");h.innerHTML=ga.a;var g,v=document.importNode(h.content,!0);switch(o.innerHTML="",c=c?c.toUpperCase():"FAMILY"){case"ORDER":g=u.order;break;case"FAMILY":g=u.family;break;case"GENUS":g=u.genus;break;default:g=u.family}var y=xe(t.items),b=y?y[g.name]:0,_=u.images&&u.starred?u.images[0].url:"",x=cr({url:_},rr.TAXON_CARD,m),S=g.vernacularName||ve(g,m.language,"names","names","0").split(",")[0],w=g.identification?g.identification:g.descriptions?g.descriptions[0].identification:"",k=g.summary?g.summary:g.descriptions?g.descriptions[0].summary:"",T={rank:c,name:g.name,image:x,alt:g?g.alt:"",vernacularName:S,species:g.species||"--",genera:g.genera||"--",families:g.families||"--",identification:w,summary:k,eol:g.eol?g.eol.replace("en",m.language):"",wiki:g.wiki?g.wiki.replace("en",m.language):"",occurrences:b,toxic:g.toxic?"Toxic species: ".concat(g.toxic.members.join(", ")):"",notableMembers:g.members?se.a(2,g.members).join(", "):""};switch(zt(T,h.content,o,v),jr(u,g.traits,d.querySelector(".js-taxon-info-box"),a),c){case"GENUS":d.querySelector(".js-taxon-genus").classList.add("hide-important"),d.querySelector(".js-taxon-family").classList.add("hide-important");break;case"FAMILY":d.querySelector(".js-taxon-family").classList.add("hide-important");break;case"ORDER":d.querySelector(".js-taxon-rank").classList.add("hide-important")}if(mr(u.taxonomy,d),"MODAL"===a){d.querySelector(".js-external-links").classList.add("hide"),d.querySelector("#cardModal .js-modal-text-title").innerHTML=t.name;var E=d.querySelector("#cardModal .js-prev > span");E.dataset.id=u.id,E.dataset.transition="prev",E.dataset.modal="cardModal";var L=d.querySelector("#cardModal .js-next > span");L.dataset.id=u.id,L.dataset.transition="next",L.dataset.modal="cardModal",E&&(l?E.classList.remove("hide-important"):E.classList.add("hide-important")),L&&(l?L.classList.remove("hide-important"):L.classList.add("hide-important"))}document.querySelector(".js-external-page-title").innerHTML="".concat(g.name),document.querySelector(".js-external-page-body").innerHTML='<iframe class="modal-iframe" title="Wikipedia page for '.concat(g.name,'" src="').concat(T.wiki,'"></iframe>');var A=document.querySelector("#taxon-card-header .js-names-badge");T.occurrences&&0!==T.occurrences||A.classList.add("hide-important"),A.addEventListener("click",(function(a){document.querySelector("#badgeListModal .js-modal-text-title").innerHTML="Members of the ".concat(g.name," family");var i=t.items.filter((function(t){return t.taxonomy.family.toLowerCase()===g.name.toLowerCase()})),o=document.querySelector("#badgeListModal .js-modal-text");o.innerHTML="",i.forEach((function(t){o.innerHTML+="<div>".concat(t.name,"</div>")}))}))}catch(t){console.error(t),setTimeout((function(){switch(ua){case"next":document.querySelector("#cardModal .carousel-control-next-icon").click();break;case"prev":document.querySelector("#cardModal .carousel-control-prev-icon").click()}}))}};function trait_types_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var _a=function(){var t=function trait_types_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){trait_types_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){trait_types_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(ya!==t.language){i.next=2;break}return i.abrupt("return");case 2:if(ya=t.language,le.a(te.getState().enums)){i.next=5;break}return i.abrupt("return");case 5:return i.next=7,_n.getTraitValues();case 7:a=i.sent,ht(a);case 9:case"end":return i.stop()}}),_callee,this)})));return function traitValuesHandler(a){return t.apply(this,arguments)}}(),xa=[{term:"Lichen",definition:"Composite organism of algae or cyanobacteria (or rarely, both), fungi and yeast living in a mutualistic relationship.",wiki:"https://en.wikipedia.org/wiki/Lichen",level:2,branch:"general"},{term:"Fruticose",definition:"Growing like tuft or multiple-branched leafless mini-shrub (beardy), upright or hanging down, flat or round 3D branches.",wiki:"https://en.wikipedia.org/wiki/Fruticose_lichen",level:2,branch:"classification"},{term:"Foliose",definition:"Having flat, 2D leaf-like structures.",wiki:"https://en.wikipedia.org/wiki/Foliose_lichen",level:2,image:{url:"https://content.eol.org/data/media/58/87/e8/509.25630291.260x190.jpg"},branch:"classification"},{term:"Crustose",definition:"Forming a crust that strongly adheres to a substrate (crusty).",wiki:"https://en.wikipedia.org/wiki/Crustose_lichen",level:2,branch:"classification"},{term:"Leprose",definition:"Having a powdery or granular surface.",wiki:"https://en.wikipedia.org/wiki/Leprose_lichen",level:2,branch:"classification"},{term:"Squamulose",definition:"Composed of small, often overlapping squamules( scales).",wiki:"https://en.wikipedia.org/wiki/Squamulose_lichen",level:2,branch:"classification"},{term:"Soredium",definition:"Common reproductive structures of lichens.",wiki:"https://en.wikipedia.org/wiki/Soredium",technical:"true",branch:"morphology"},{term:"Epiphyte",definition:"An organism that grows on the surface of a plant and derives its moisture and nutrients from the air, rain, water or surrounding debris.",wiki:"https://en.wikipedia.org/wiki/Epiphyte",branch:"classification"},{term:"Gametophyte",definition:"One of the two alternating phases in the life cycle of plants and algae. It is the sexual phase (see Sporophyte).",wiki:"https://en.wikipedia.org/wiki/Gametophyte",branch:"general"},{term:"Sporophyte",definition:"One of the two alternating phases in the life cycle of plants and algae. In seed plants it is the roots, stem, leaves, cones and flowers (see Gametophyte).",wiki:"https://en.wikipedia.org/wiki/Sporophyte",branch:"general"},{term:"Thallus",definition:"Nonreproductive, undifferentiated tissue, or vegetative body part of a lichen. Usually visually prominent.",level:2,branch:"morphology"},{term:"Thallus type",definition:"Means of distinuguishing lichen e.g. foliose, crustose.",level:2,branch:"general"},{term:"Squamule",definition:"One of the scalelike lobes of the thallus of a lichen.",level:2,branch:"morphology"},{term:"Podetium",definition:"The upright secondary thallus in Cladonia lichens. It is a hollow stalk extending from the primary thallus.",technical:"true",branch:"morphology"},{term:"Apothecium",definition:"Wide, open, saucer-shaped or cup-shaped fruit body. Sessile and fleshy.",technical:"true",branch:"morphology"},{term:"Rhizine",definition:"Multiceullar, root-like structures which anchor licen to substrate.",technical:"true",branch:"morphology"},{term:"Erhizinate",definition:"Without rhizines.",technical:"true",branch:"general"},{term:"Hapter",definition:"Short, peg-like attachments of the lower surface of lichen to the substrate on which they grow.",technical:"true",branch:"morphology"},{term:"Soredium",definition:"Common reproductive structures of lichen.",technical:"true",branch:"morphology"},{term:"Cortex (lichen)",definition:"Composed of closely packed fungal hyphae that protects thallus from water loss (evaporation).",branch:"morphology"},{term:"Holdfast",definition:"Means by which a (bushy) lichen is attached to the substrate.",branch:"morphology"},{term:"Disc",definition:"Spore-bearing part of the fruiting body of a lichen.",branch:"morphology"},{term:"Lobe",definition:"Leaf-like part of a leafy (foliose) lichen.",branch:"morphology"},{term:"Medulla",definition:"Fungal part of the thallus situated below the skin like upper cortex.",branch:"morphology"},{term:"Mycobiont",definition:"Fungal component of a lichen.",branch:"general"},{term:"Photobiont",definition:"Photosynthetic partner in a lichen (alga or cyanobacterium).",branch:"general"},{term:"Cyanobacteria",definition:"Phylum of bacteria that obtain their energy through photosynthesis. They produce oxygen.",branch:"classification"},{term:"(Green) Algae",definition:"Heterogeneous grouping of eukaryotes photosynthesis",branch:"classification"},{term:"Placodioid",definition:"Crustose lichen which radiates out from its centre.",wiki:"https://en.wikipedia.org/wiki/Placodioid_lichen",technical:"true",branch:"classification"},{term:"Pruinescence",definition:'A "frosted" or dusty looking coating on top of a surface.',wiki:"https://en.wikipedia.org/wiki/Pruinescence",technical:"true",branch:"morphology"},{term:"Lecanorine",definition:"Shaped like a plate with a surrounding ring similar tissue to main non-fruiting body (after genus Lecanora).",wiki:"https://en.wikipedia.org/wiki/Lecanorine_lichen",technical:"true",branch:"morphology"},{term:"Apothecium",definition:"Wide, open, saucer-shaped or cup-shaped fruit body.",wiki:"https://en.wikipedia.org/wiki/Ascocarp#Apothecium",technical:"true",branch:"morphology"},{term:"Ascus",definition:"Spore-bearing cell produced in ascomycete fungi.",wiki:"https://en.wikipedia.org/wiki/Ascus",technical:"true",branch:"morphology"},{term:"Ascomycota",definition:"(Ascomycetes or Sac fungi) One of two main fungi divisions (phylum), characterised by spore-containing ascus. Majority of fungal symbionts in lichens are ascomycetes",wiki:"https://en.wikipedia.org/wiki/Ascomycota",technical:"true",branch:"morphology"},{term:"Basidiomycota",definition:"(Basidiomycetes (Mushrooms)) Reproduce sexually via formation of specialised end cells (basidia) bearing external meiospores.",wiki:"https://en.wikipedia.org/wiki/Basidiomycota",technical:"true",branch:"classification"},{term:"Soredium",definition:"Powdery (asexual) reproductive structure (propagule) composed of fungal hyphae wrapped around the photobiont.",wiki:"https://en.wikipedia.org/wiki/Soredium",technical:"true",branch:"morphology"},{term:"Isidium",definition:"Vegetative (asexual) reproductive structure. Outgrowths from the thallus.",wiki:"https://en.wikipedia.org/wiki/Isidium",technical:"true",branch:"morphology"},{term:"Podetium",definition:"The upright secondary thallus in Cladonia lichens. It is a hollow stalk extending from the primary thallus.",wiki:"https://en.wikipedia.org/wiki/Podetium",technical:"true",branch:"morphology"}],Sa=[{LICHEN_FORM:"Lichen Form"}],wa=function getNonTaxa(t){var a=t;return[{group:Sa[0].LICHEN_FORM,id:a.thallusType.FRUTICOSE,type:a.nonTaxaType.FORM,definition:xa.find((function(t){return"Fruticose"===t.term})).definition,quickId:"Free-standing branching tubes",names:[{language:"en",name:"Fruticose lichen"}],traits:[{name:a.name.SUBSTRATE,value:"".concat(a.substrate.BARK,", ").concat(a.substrate.SOIL,", ").concat(a.substrate.ROCKS)},{name:a.name.SUBSTRATE_ADHERANCE,value:a.level.LOW}],examples:["Letharia vulpina","Evernia prunastri","Ramalina polymorpha","Roccella phycopsis","Ramalina farinacea"],wiki:"https://en.wikipedia.org/wiki/Fruticose_lichen",url:"81/9d/a2/542.9769039745.260x190.jpg"},{group:Sa[0].LICHEN_FORM,id:a.thallusType.FOLIOSE,type:a.nonTaxaType.FORM,definition:xa.find((function(t){return"Foliose"===t.term})).definition,quickId:"Leaflike, with flat sheets of tissue not tightly bound",names:[{language:"en",name:"Foliose lichen"}],traits:[{name:a.name.SUBSTRATE,value:"".concat(a.substrate.BARK,", ").concat(a.substrate.ROCKS)},{name:a.name.SUBSTRATE_ADHERANCE,value:a.level.LOW},{name:a.name.USAGE,value:a.usage.FOOD,examples:[{language:"en",value:"Deer, goats, and caribou"}]},{name:a.name.USAGE,value:a.usage.BIRDS_NEST},{name:a.name.LIFE_SPAN,value:"30-60a"},{name:a.name.MEDICINAL_PROPERTIES,value:"".concat(a.medicinalProperties.ANTIBIOTIC)},{name:a.name.CHARACTERISTIC,value:a.characteristic.BIOINDICATOR},{name:a.name.SUBSTRATE_ADHERANCE,value:a.level.LOW}],examples:["Lobaria pulmonaria","Xanthoria parietina"],genera:["Usnea","Cladonia"],wiki:"https://en.wikipedia.org/wiki/Foliose_lichen",url:"81/66/25/542.8580717370.260x190.jpg"},{group:Sa[0].LICHEN_FORM,id:a.thallusType.CRUSTOSE,type:a.nonTaxaType.FORM,definition:xa.find((function(t){return"Crustose"===t.term})).definition,quickId:"Crustlike, growing tight against the substrate",names:[{language:"en",name:"Crustose lichen"}],traits:[{name:a.name.SUBSTRATE,value:"".concat(a.substrate.BARK,", ").concat(a.substrate.ROCKS)},{name:a.name.SUBSTRATE_ADHERANCE,value:a.level.HIGH}],examples:["Graphis scripta","Diploschistes scruposus","Caloplaca ochracea","Ophioparma ventosa"],wiki:"https://en.wikipedia.org/wiki/Crustose",url:"7f/69/15/542.3258067212.260x190.jpg"}]},ka=i(193),Ta=i.n(ka);function non_taxon_card_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function non_taxon_card_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){non_taxon_card_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){non_taxon_card_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}function non_taxon_card_toConsumableArray(t){return function non_taxon_card_arrayWithoutHoles(t){if(Array.isArray(t))return non_taxon_card_arrayLikeToArray(t)}(t)||function non_taxon_card_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function non_taxon_card_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return non_taxon_card_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return non_taxon_card_arrayLikeToArray(t,a)}(t)||function non_taxon_card_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function non_taxon_card_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var Ea=[],La=function renderNonTaxonCard(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"STAND_ALONE",a=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ie.rightBody,c=arguments.length>3?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=document.querySelector("#cardModal .js-prev"),d=document.querySelector("#cardModal .js-next");u&&(l?u.classList.remove("hide-important"):u.classList.add("hide-important")),d&&(l?d.classList.remove("hide-important"):d.classList.add("hide-important"));var p=te.getState(),m=p.enums,h=p.config,g=wa(m).filter((function(t){return t.group===Sa[0].LICHEN_FORM}));g.forEach((function(t){t.name=he(t,h,!1,"name")}));var v=document.createElement("template");v.innerHTML=Ta.a;var y,b=function onChange(t){Ea.forEach((function(a){return a(t)}))},_=function prepImages(t){var a,i=t.map((function(t){return sr(t,h,rr.NON_TAXON_CARD)})),c=o.utils.shuffleArray((a=[]).concat.apply(a,non_taxon_card_toConsumableArray(i)));return se.a(9,c)},x=function(){var a=non_taxon_card_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){var i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:return i=g.find((function(t){return t.id===a})),p.next=3,_n.getSpeciesByNameInParallel(i.examples);case 3:o=(o=p.sent).filter((function(t){return t.images})),c=document.querySelector(".js-non-taxon-card-images"),l=_(o),i.type?document.querySelector(".js-species-header img").src="https://content.eol.org/data/media/".concat(i.url):h.isPortraitMode?er({config:h,images:l,portraitImagesNode:c}):b(l),u=document.querySelector(".js-non-taxon-card-wiki"),d={name:i.name},document.querySelector(".id-box > div:nth-child(2) > div").innerHTML=i.quickId,document.querySelector(".js-non-taxa-definition div").innerHTML=i.definition,document.querySelector(".js-non-taxon-card .js-names-container > div:nth-child(1)").innerHTML=i.id,"MODAL"===t||(Xr(d,u,h),Object($r.renderWiki)(u,d,h.language));case 17:case"end":return p.stop()}}),_callee,this)})));return function callback(t){return a.apply(this,arguments)}}();switch(t){case"STAND_ALONE":y=document.querySelector(".right-body");break;case"SWAP_OUT":y=document.querySelector(".js-taxon-container");break;case"MODAL":y=document.querySelector("#cardModal")}i.innerHTML="",zt({group:g,image:cr({url:c})},v.content,i),"MODAL"===t&&(y.querySelector("#cardModal .js-modal-text-title").innerHTML="Lichen Forms"),y.querySelectorAll(".js-non-taxa .btn.btn-secondary").forEach((function(t){t.addEventListener("click",(function(t){var a=t.target.id;x(a)}))}));var S=a||g[0].id;document.getElementById(S).click()},Aa=i(194),Oa=i.n(Aa);function species_table_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Ia=function buildTable(t,a){try{var i=a.config,c=a.enums,l=a.overrideParent,u=document.createElement("template"),d=window.matchMedia("(min-width: 1024px)").matches,p=t.items.map((function(a){var l,u=a.images.find((function(t){return t.starred}))||o.utils.shuffleArray(a.images)[0];u=cr(u,rr.SPECIES_LIST,i);var d=function getTraitName(t,a){var i="",o="capitalise underline-link js-key-trait-link";if(t.taxonomy.phylum=t.taxonomy.phylum||"",t.taxonomy)switch(t.taxonomy.phylum.toLowerCase()){case"ascomycota":i="pezizales"===t.taxonomy.order.toLowerCase()?a.name.HOW_EDIBLE:a.name.THALLUS_TYPE,"pezizales"===t.taxonomy.order.toLowerCase()&&(o="js-key-trait-link");break;case"basidiomycota":i=a.name.HOW_EDIBLE,o="js-key-trait-link";break;default:i="-"}else o="js-key-trait-link";return{traitName:i,keyTratLinkClass:o}}(a,c),p=d.traitName,m=d.keyTratLinkClass,h=function getIconicTaxonIcon(t){var a,i;return"fungi"===t.iconicTaxon.toLowerCase()?(a="hide",i=""):(a=An(t.taxonomy,Tn),i="hide"),{iconicTaxonIcon:a,hideFungiIcon:i}}(a),g=h.iconicTaxonIcon,v=h.hideFungiIcon;return species_table_defineProperty(l={id:a.id,name:a.name,itemName:a.name,genus:a.taxonomy.genus,species:a.taxonomy.species,genusLinkClass:a.genus?"snap-link-btn underline-link js-taxon-card-link":"snap-no-link-btn no-underline-link js-taxon-card-link",shortName:ye(a.name),taxonomy:a.taxonomy,iconicTaxon:a.iconicTaxon,vernacularName:a.vernacularName,snapIndex:a.snapIndex,license:u.license,url:u.url,small:u.small,rightsHolder:u.rightsHolder||"Public domain",source:u.source},"shortName",ye(a.name)),species_table_defineProperty(l,"keyTrait",o.utils.capitaliseFirst(be(a,[{name:p,formatter:function formatter(t){return t[0]}}]))||""),species_table_defineProperty(l,"keyTratLinkClass",m),species_table_defineProperty(l,"familyLinkClass",a.family?"snap-link-btn underline-link js-taxon-card-link":"snap-no-link-btn no-underline-link js-taxon-card-link"),species_table_defineProperty(l,"orderLinkClass",function getOrderLinkClass(t){return t.taxonomy&&t.taxonomy.order&&t.order?"snap-link-btn underline-link js-taxon-card-link":"snap-no-link-btn no-underline-link js-taxon-card-link"}(a)),species_table_defineProperty(l,"taxonomy",a.taxonomy||{family:"",order:""}),species_table_defineProperty(l,"iconicTaxonIcon",g),species_table_defineProperty(l,"hideFungiIcon",v),species_table_defineProperty(l,"hasVideoClassName",t.hasVideo?"":"hide-column"),species_table_defineProperty(l,"hasTaxonClassName",t.hasVideo?"hide-column":""),species_table_defineProperty(l,"provider",u.provider||""),l}));u.innerHTML=Oa.a;var m=i.isPortraitMode?l:document.querySelector('.js-species-container[data-container-id="'.concat(t.id,'"]'));m.innerHTML="",zt({id:t.id,itemImages:p},u.content,m);var h=m.querySelector("table#species_list_id_".concat(t.id));h.querySelectorAll(".js-key-trait-link").forEach((function(t){var a=t.dataset.keyTrait,i=document.createElement("span");switch(a){case c.howEdible.CHOICE:i.innerHTML='<span class="icon choice"></span>',t.append(i);break;case c.howEdible.EDIBLE:i.innerHTML='<span class="icon edible"></span>',t.append(i);break;case c.howEdible.INEDIBLE:i.innerHTML='<span class="icon inedible"></span>',t.append(i);break;case c.howEdible.POISONOUS:case c.howEdible.DEADLY:i.innerHTML='<span class="icon toxic"></span>',t.append(i)}}));var g=h.querySelector(".species-table tbody");if(!g)return;var v=document.createElement("caption");v.innerHTML="Species in ".concat(t.name),v.classList.add("visually-hidden");var y=document.createElement("thead");h.insertBefore(y,g),h.insertBefore(v,y);var b=document.createElement("tr");b.classList.add("table-header");var _=document.createElement("th"),x=document.createElement("th"),S=document.createElement("th"),w=document.createElement("th"),k=document.createElement("th"),T=document.createElement("th");T.classList.add("not-sortable"),x.innerHTML="<span>Species</span",S.innerHTML="<span>Family</span><span>Order</span>",w.innerHTML="<span></span>",k.innerHTML='<span><i class="fas fa-sliders-h"></i></span>',_.innerHTML=l?"":'<span><i class="fas fa-undo"></i></span>',d?(b.appendChild(_),b.appendChild(x),b.appendChild(S),"dynamic"===t.behaviour&&b.appendChild(k)):(b.appendChild(_),b.appendChild(x),"dynamic"===t.behaviour&&b.appendChild(k)),"static"===t.behaviour&&b.appendChild(T),g.querySelector(".table-header")||y.appendChild(b);return o.utils.makeSortable(document,(function sortableCalback(){}),d),new Promise((function(t){return t({isReady:!0})}))}catch(t){return logError("buildTable",t),new Promise((function(t){return t({isReady:!1})}))}};function video_handler_typeof(t){return(video_handler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Pa,ja=[],Ca=[],Ra=[],Na=[],Ma=!1,qa=[{key:-1,value:"unstarted"},{key:1,value:"playing"},{key:2,value:"paused"},{key:3,value:"buffering"}],Ha={readyPlayer:function readyPlayer(){new YT.Player("embedded-video",{playerVars:{autoplay:1},events:{onReady:function onPlayerReady(t){Pa=t.target,Ma=!0},onStateChange:function onPlayerStateChange(t){(Pa=t.target)&&Na.forEach((function(t){return t(Pa)}))}}})},onSpeciesTimeMatchListeners:ja,onNoteTimeMatchListeners:Ca,onSpeciesTimeMatch:function onSpeciesTimeMatch(t){for(;ja.length>0;)ja.pop();ja.push(t)},onNoteTimeMatch:function onNoteTimeMatch(t){for(;Ca.length>0;)Ca.pop();Ca.push(t)},onSpeciesPlayRequestListeners:Ra,onSpeciesPlayRequest:function onSpeciesPlayRequest(t){Ra.push(t)},onPlayerReadyListeners:[],subscribeToPlayerStateChange:function subscribeToPlayerStateChange(t){for(;Na.length>0;)Na.pop();Na.push(t)},playVideoFrom:function playVideoFrom(t){if("function"!==!video_handler_typeof(Pa.getPlayerState)&&void 0!==Pa.getPlayerState&&"function"!==!video_handler_typeof(Pa.seekTo)&&void 0!==Pa.seekTo){Pa.seekTo(t+1);var a=Pa.getPlayerState();a!==qa[0].key&&a!==qa[2].key||Pa.playVideo()}},states:qa,setVideoState:function setVideoState(t,a){var i="",o=t.find((function(t){return t.collectionId===a.id}));return o?a.id===o.collectionId&&(i=o.pausedAt?"Video paused at ".concat(o.speciesName):""):i="",i},destroyPlayer:function destroyPlayer(){for(;Na.length>0;)Na.pop();for(;ja.length>0;)ja.pop();Pa&&(Pa.stopVideo(),Pa.destroy(),Pa=null)},saveVideoState:function saveVideoState(t){vt(t)},isVideoPlayerReady:function isVideoPlayerReady(t){if(Ma){var a=t===Pa.getVideoData().video_id;return Ma&&a}return!1},getPlayerTime:function getPlayerTime(){return Math.floor(Pa.getCurrentTime())}},Da=i(195),Ga=i.n(Da);function home_lesson_intro_video_typeof(t){return(home_lesson_intro_video_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function home_lesson_intro_video_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function home_lesson_intro_video_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?home_lesson_intro_video_ownKeys(Object(i),!0).forEach((function(a){home_lesson_intro_video_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):home_lesson_intro_video_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function home_lesson_intro_video_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Ua=function videoSetup(t,a,i,o){i.innerHTML="";var c=document.createElement("template");c.innerHTML=Ga.a,t.video.webLabel=t.video.links[1].label,t.video.webUrl=t.video.links[1].url;var l=a.find((function(a){return a.collectionId===t.id}))||{collectionId:t.id,startAt:t.video.startAt||0};l.playAt=l.pausedAt||l.startAt,zt({video:home_lesson_intro_video_objectSpread(home_lesson_intro_video_objectSpread({},t.video),{},{playAt:l.playAt,location:t.video.location||""})},c.content,i);setTimeout((function(){var a;Ha.readyPlayer();var i=function checkCurrentTime(i){a=setInterval((function(){var a=Math.floor(i.getCurrentTime()),o=Ba(a,t);if(o&&Ha.onSpeciesTimeMatchListeners.map((function(a){return a(t,o)})),t.notes){var c=t.notes.find((function(t){return V.a(a,t.time)}));c&&Ha.onNoteTimeMatchListeners.map((function(a){return a(t,c)}))}}),1e3)};Ha.subscribeToPlayerStateChange((function onPlayerStateChangeCallback(t){if("function"!==!home_lesson_intro_video_typeof(t.getPlayerState)&&void 0!==t.getPlayerState)switch(t.getPlayerState()){case Ha.states.find((function(t){return"playing"===t.value})).key:i(t);break;case Ha.states.find((function(t){return"paused"===t.value})).key:clearInterval(a),a=null;break;default:i(t)}})),o&&setTimeout((function(){Ha.playVideoFrom(o)}),1e3)}),1e3);var u=document.getElementsByTagName("iframe")[0],d=u.offsetWidth;u.height=9*d/16},Ba=function matchSpeciesTime(t,a){return(a.items?a.items.filter((function(t){return t.time})):a.species.filter((function(t){return t.time}))).find((function(a){return V.a(t,a.time)}))},Fa=i(196),Wa=i.n(Fa),Ya=null,Va=function onSpeciesChangeHandler(t){try{var a=t.id||t.eolId,i=document.querySelector("#id_".concat(a));Ya=i,t}catch(t){logError(onSpeciesChangeHandler,t)}},za=function openNoteHandler(t,a){if(Math.floor(t.time)===a){var i=document.getElementById("insertParent");i&&i.remove();var o=document.createElement("template");o.innerHTML=Wa.a;var c=document.createElement("div");if(c.setAttribute("id","insertParent"),t.colCount&&(c.classList.add("col-count-".concat(t.colCount)),c.innerHTML=t.description.replace(/\r?\n/g,"<br />")),Ya||(Ya=document.querySelector(".js-list-item")),Ya.parentElement.insertBefore(c,Ya),!t.colCount){(i=document.getElementById("insertParent")).innerHTML="",zt({note:t},o.content,i);var l=document.querySelector("#insertParent > div:nth-child(1) > div:nth-child(2)");l.innerHTML=l.innerHTML.replace(/\r?\n/g,"<br />")}}};function species_list_slicedToArray(t,a){return function species_list_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function species_list_iterableToArrayLimit(t,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],o=!0,c=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done)&&(i.push(u.value),!a||i.length!==a);o=!0);}catch(t){c=!0,l=t}finally{try{o||null==d.return||d.return()}finally{if(c)throw l}}return i}(t,a)||function species_list_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return species_list_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return species_list_arrayLikeToArray(t,a)}(t,a)||function species_list_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function species_list_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function species_list_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function species_list_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?species_list_ownKeys(Object(i),!0).forEach((function(a){species_list_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):species_list_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function species_list_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function species_list_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var Ka=function renderSpeciesList(t,a){(function(){var i=function species_list_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){species_list_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){species_list_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var i,c,l,u,d,p,m,h,g,v,y,b;return regeneratorRuntime.wrap((function _callee$(_){for(;;)switch(_.prev=_.next){case 0:return i=a.callingParentContainer,c=a.isInCarousel,l=void 0!==c&&c,u=te.getState(),d=u.config,p=u.history,m=u.enums,h=u.collections,g=h.find((function(a){return a.id===t.id})),v=function openAccordionHandler(t,a){a.innerHTML='<i class="fas fa-chevron-up" data-name="'.concat(t.name,'"></i>'),b(g,t,!0,!1);a.addEventListener("click",(function closeAccordionHandler(i){a.removeEventListener("click",closeAccordionHandler),a.innerHTML='<i class="fas fa-chevron-down" data-name="'.concat(t.name,'"></i>'),a.addEventListener("click",(function(i){openAccordionHandler(t,a)}));var o=document.querySelector(".species-description");o&&o.parentNode.removeChild(o)}))},y=function userClickHandlers(){document.querySelectorAll(".table-row img").forEach((function(t){var a=g.items.find((function(a){return a.name===t.dataset.itemName}));dr(t,a,g,d)})),document.querySelectorAll(".js-accordion").forEach((function(t){t.addEventListener("click",(function accordionHandler(a){var i=g.items.find((function(t){return t.name===a.currentTarget.dataset.name}));i&&v(i,t)}))})),document.querySelectorAll(".js-youtube").forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var a=t.currentTarget;a.classList.add("youtube-green-fg");var i=a.dataset.name,o=species_list_objectSpread(species_list_objectSpread({},g.items.find((function(t){return t.name==i}))),g.species.find((function(t){return t.name==i})));b(g,o,!0),o&&o.time&&(Ha.isVideoPlayerReady(g.video.id)?Ha.playVideoFrom(o.time[0]):Ua(g,te.getState().videoPlayer||[],ie.rightBody,o.time[0])),ni(g,o)}))}));var t=document.querySelector("#cardModal .js-modal-body");setTimeout((function(){document.querySelectorAll(".js-test-card-container-link").forEach((function(a,i){a.addEventListener("click",(function(a){var i=a.target.dataset.name;document.querySelector("#cardModal .prev > span").dataset.card="species-card",da(g,"MODAL",g.items.find((function(t){return t.name===i})),t,l)}))})),document.querySelectorAll(".js-key-trait-link").forEach((function(a){a.addEventListener("click",(function(a){var i=a.target.dataset.keyTrait,o=a.target.dataset.url;La("MODAL",i,t,o)}))})),document.querySelectorAll(".js-taxon-card-link").forEach((function(a){a.addEventListener("click",(function(a){var i=a.target.dataset.family||a.target.dataset.order,o=a.target.dataset.name,c=a.target.dataset.rank;document.querySelector("#cardModal .prev > span").dataset.rank=c,document.querySelector("#cardModal .prev > span").dataset.card="taxon-card",document.querySelector("#cardModal .next > span").dataset.rank=c,document.querySelector("#cardModal .next > span").dataset.card="taxon-card",ba(g,"MODAL",g.items.find((function(t){return t.taxonomy[c]===o})),t,i,c,l)}))})),document.querySelectorAll(".mushroom-icon").forEach((function(t){t.innerHTML='<svg-icon class="si-glyph-mushrooms"><src href="./icons/si-glyph-mushrooms.svg"/></svg>'}));var a=d.isLandscapeMode?5:3,i=document.querySelectorAll(".table-row.js-list-item td:nth-child(".concat(a,") > span"));if(p){var o=[];p.scores.map((function(t){return t.failsTotals})).forEach((function(t){for(var a=0,i=Object.entries(t);a<i.length;a++){var c=species_list_slicedToArray(i[a],2),l=c[0];0==c[1]&&o.push(parseInt(l))}})),i.forEach((function(t){Object(V.a)(parseInt(t.id),o)&&t.classList.add("correct")}))}}))},g.notes&&g.notes.time&&(g.notes.forEach((function(t){return sp.firstTime=t.time[0]})),g.notes=o.utils.sortBy(g.notes,"firstTime","asc")),_.next=8,Ia(g,{config:d,enums:m,overrideParent:i});case 8:if(_.sent.isReady){_.next=11;break}return _.abrupt("return");case 11:y(),i.querySelector(".js-btn-current-lesson-begin").addEventListener("click",(function(){gi.changeRequest({requestType:qt.lessonState.BEGIN_OR_RESUME_LESSON,requestArgs:{id:g.id}})})),b=function openSpeciesDescriptionHandler(t,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];try{var c=document.getElementById("insertParent");c&&c.remove();var l=ti(a.name),u=l.accordions,p=u.find((function(t){return t.dataset.name===a.name}));if(p&&(p.innerHTML='<i class="fas fa-chevron-up" data-name="'.concat(a.name,'"></i>'),o)){var m=p.parentElement.parentElement.querySelector(".js-youtube");m.classList.add("youtube-green-fg")}var h=a.description;if(h=h||(a.traits.description&&a.traits.description.value?a.traits.description.value[0]:"")){var g=a.id||a.eolId,v=document.querySelector("#id_".concat(g)),y=document.createElement("td"),b=document.createElement("div");b.classList.add("inserted-td"),b.innerHTML=h.replace(/\r?\n/g,"<br />"),y.appendChild(b);var _=document.createElement("div");_.classList.add("table-row"),_.classList.add("species-description"),_.appendChild(y),v.parentElement.insertBefore(_,v.nextSibling);var x=function scrollIntoView(t,a){var i=document.querySelector(".scrollable"),o=2*parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--vhStandardBlock").replace("px",""))+t*(a-1)-2*parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--vh").replace("px",""));i.scrollTop=o};i&&(d.isLandscapeMode?v.previousElementSibling.scrollIntoView():x(v.offsetHeight,a.snapIndex))}}catch(t){logError(openSpeciesDescriptionHandler,t)}},Ha.onSpeciesTimeMatch((function(t,a){b(t,a),ni(t,a),Va(a)})),Ha.onNoteTimeMatch((function(t,a){za(a,Ha.getPlayerTime())}));case 17:case"end":return _.stop()}}),_callee,this)})));return function init(){return i.apply(this,arguments)}})()()},$a=0,Xa=function carouselControlHandler(t){var a=te.getState().collection,i=t.target.dataset.transition,o=t.target.dataset.modal,c=t.target.dataset.card,l=t.target.dataset.rank;switch(i){case"prev":$a=-1===--$a?a.items.length-1:$a;break;case"next":$a=++$a===a.items.length-1?0:$a}var u=a.items.find((function(t,a){return a===$a})),d=document.querySelector("#".concat(o," .js-modal-body"));switch(c){case"species-card":da(a,"MODAL",u,d,isInCarousel);break;case"taxon-card":ba(a,"MODAL",u,d,null,l,isInCarousel)}},Qa=document.querySelector("#cardModal .js-prev"),Ja=document.querySelector("#cardModal .js-next");Qa&&Qa.addEventListener("click",Xa),Ja&&Ja.addEventListener("click",Xa);var Za=document.querySelector("#cardModal .js-prev"),ei=document.querySelector("#cardModal .js-next");Za&&Za.addEventListener("click",Xa),ei&&ei.addEventListener("click",Xa);var ni=function updateVideoPlayer(t,a){var i=te.getState().videoPlayer||[],o=i.find((function(a){return a.collectionId===t.id}));o||(o={collectionId:t.id},i.push(o)),o.speciesName=a.name,o.pausedAt=a.time?a.time[0]:0,Ha.saveVideoState(i)},ti=function closeOpenAccordions(t){var a=Array.from(document.querySelectorAll(".js-accordion"));a.filter((function(a){return a.dataset.name!==t})).forEach((function(a){a.innerHTML.indexOf("fa-chevron-up")>-1&&(a.click(),a.innerHTML='<i class="fas fa-chevron-down" data-name="'.concat(t,'"></i>'),a.parentElement.parentElement.querySelector(".js-youtube").classList.remove("youtube-green-fg"))}));var i=document.querySelector(".species-table tbody");return document.querySelectorAll(".species-description").forEach((function(t){return i.removeChild(t)})),{accordions:a}};function collection_handler_toConsumableArray(t){return function collection_handler_arrayWithoutHoles(t){if(Array.isArray(t))return collection_handler_arrayLikeToArray(t)}(t)||function collection_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function collection_handler_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return collection_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return collection_handler_arrayLikeToArray(t,a)}(t)||function collection_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function collection_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function collection_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function collection_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){collection_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){collection_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}function collection_handler_getItems(t,a){return _getItems.apply(this,arguments)}function _getItems(){return(_getItems=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee12(t,a){var i;return regeneratorRuntime.wrap((function _callee12$(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,"dynamic"!==t.behaviour){o.next=34;break}if(!(t.items&&t.items.length>0&&t.items[0].collectionId===t.id&&t.speciesRange===a.guide.speciesRange)){o.next=7;break}return o.abrupt("return",new Promise((function(a){a(t.items)})));case 7:if("LOCATION"!==a.guide.guideType){o.next=29;break}return o.prev=8,o.next=11,Hr(a,!0);case 11:i=o.sent,a.guide.coordinates={long:i.query[0],lat:i.query[1]},o.next=18;break;case 15:o.prev=15,o.t0=o.catch(8),logError("Error for getPlace: ",o.t0);case 18:return o.prev=18,o.next=21,Kr(a);case 21:return o.abrupt("return",o.sent);case 24:o.prev=24,o.t1=o.catch(18),logErrorg("getInatSpecies in getItems: ",o.t1);case 27:o.next=32;break;case 29:return o.next=31,Kr(a);case 31:return o.abrupt("return",o.sent);case 32:o.next=36;break;case 34:if("static"!==t.behaviour){o.next=36;break}return o.abrupt("return",ii(t.species));case 36:o.next=42;break;case 38:return o.prev=38,o.t2=o.catch(0),logError("Error for getItems: ",o.t2),o.abrupt("return",[]);case 42:case"end":return o.stop()}}),_callee12,this,[[0,38],[8,15],[18,24]])})))).apply(this,arguments)}var ri=function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,a){var i,o,c,l,u;return regeneratorRuntime.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:if(d.prev=0,a.collection={id:t.id},!(t.items.length>0)){d.next=5;break}return snapLog("no collection items in loadCollection, collection: ".concat(t.name)),d.abrupt("return",t);case 5:return i=[],d.prev=7,d.next=10,collection_handler_getItems(t,a);case 10:i=d.sent,d.next=16;break;case 13:d.prev=13,d.t0=d.catch(7),logError("getItems in loadCollection",d.t0);case 16:if(i){d.next=19;break}return snapLog("no items from getItems in loadCollection to filter"),d.abrupt("return",t);case 19:if(t.items=i.filter((function(t){return t.name})),!t.nextItem){d.next=23;break}return d.abrupt("return");case 23:if(Object(V.a)("lepidoptera",t.iconicTaxa.map((function(t){return t.id})))&&!Object(V.a)("insecta",t.iconicTaxa.map((function(t){return t.id})))&&(o=t.items.filter((function(t){return"insecta"===t.taxonomy.class.toLowerCase()})),c=o.filter((function(t){return"lepidoptera"===t.taxonomy.order.toLowerCase()})),l=t.items.filter((function(t){return"insecta"!==t.taxonomy.class.toLowerCase()})),t.items=[].concat(collection_handler_toConsumableArray(c),collection_handler_toConsumableArray(l))),"dynamic"===t.behaviour&&(t.speciesRange=a.guide.speciesRange),!t.items){d.next=38;break}return d.next=28,ai(t,a);case 28:return u=d.sent,d.prev=29,d.abrupt("return",u);case 33:d.prev=33,d.t1=d.catch(29),logError("Error for loadCollectionItemProperties: ",d.t1);case 36:d.next=40;break;case 38:return snapLog("No results for callbackWhenNoResults"),d.abrupt("return",t);case 40:d.next=45;break;case 42:d.prev=42,d.t2=d.catch(0),logError("Error for loadCollection: ",d.t2);case 45:case"end":return d.stop()}}),_callee,this,[[0,42],[7,13],[29,33]])})));return function loadCollection(a,i){return t.apply(this,arguments)}}(),ai=function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee10(t,a){var i,c,l,u,d,p,m,h,g,v,y,b;return regeneratorRuntime.wrap((function _callee10$(_){for(;;)switch(_.prev=_.next){case 0:return"dynamic"===t.behaviour?t.items=o.utils.sortBy(t.items.filter((function(t){return t})),"observationCount","desc"):(t.items.forEach((function(t){t.time&&(t.firstTime=t.time[0])})),t.items=o.utils.sortBy(t.items,"firstTime","asc")),i=collection_handler_toConsumableArray(new Set(t.items.map((function(t){return t.taxonomy.family})))),c=collection_handler_toConsumableArray(new Set(t.items.map((function(t){return t.taxonomy.order})))),l=collection_handler_toConsumableArray(new Set(t.items.map((function(t){return t.taxonomy.genus})).filter((function(t){return t})))),u=[],d=[],p=[],_.next=7,_n.getTaxaNames();case 7:return _.sent[0].value,m=function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t.map(function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var i;return regeneratorRuntime.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,_n.getTaxonByName(a,t);case 2:return i=o.sent,Object.entries(i).length>0&&i.constructor===Object&&p.push(i),o.abrupt("return",p);case 5:case"end":return o.stop()}}),_callee2,this)})));return function(a){return t.apply(this,arguments)}}())));case 1:case"end":return i.stop()}}),_callee3,this)})));return function getGenusTaxa(a){return t.apply(this,arguments)}}(),_.next=12,m(l);case 12:return h=function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){return regeneratorRuntime.wrap((function _callee5$(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t.map(function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t){var i;return regeneratorRuntime.wrap((function _callee4$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,_n.getTaxonByName(a,t);case 2:return i=o.sent,Object.entries(i).length>0&&i.constructor===Object&&u.push(i),o.abrupt("return",u);case 5:case"end":return o.stop()}}),_callee4,this)})));return function(a){return t.apply(this,arguments)}}())));case 1:case"end":return i.stop()}}),_callee5,this)})));return function getFamilyTaxa(a){return t.apply(this,arguments)}}(),_.next=15,h(i);case 15:return g=function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee7(t){return regeneratorRuntime.wrap((function _callee7$(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t.map(function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var i;return regeneratorRuntime.wrap((function _callee6$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,_n.getTaxonByName(a,t);case 2:return i=o.sent,Object.entries(i).length>0&&i.constructor===Object&&d.push(i),o.abrupt("return",d);case 5:case"end":return o.stop()}}),_callee6,this)})));return function(a){return t.apply(this,arguments)}}())));case 1:case"end":return i.stop()}}),_callee7,this)})));return function getOrderTaxa(a){return t.apply(this,arguments)}}(),_.next=18,g(c);case 18:return v=function getFamilyNames(t){return t.family&&t.family.names?t.family.names[0].names?t.family.names[0].names:t.family.names:""},y=function findRank(t,a,i){var o=a.taxonomy[i.name.toLowerCase()];return(t.length>0?t.find((function(t){return t.name===o})):null)||""},t.items.forEach(function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee8(t,i){var o;return regeneratorRuntime.wrap((function _callee8$(c){for(;;)switch(c.prev=c.next){case 0:o=t.name.split(" "),t.taxonomy.genus=o[0],t.taxonomy.species=o[1],t.genus=y(p,t,qt.taxon.GENUS),t.family=y(u,t,qt.taxon.FAMILY),t.family&&(t.family.names=v(t),t.family.vernacularName=t.family.names[0]),t.order=y(d,t,qt.taxon.ORDER),t.snapIndex=i+1,t.id=t.eolId,t.vernacularNames=_e(t,a),t.vernacularName=he(t,a),t.name=o.slice(0,2).join(" "),t.questionIds=t.questionIds||[];case 13:case"end":return c.stop()}}),_callee8,this)})));return function(a,i){return t.apply(this,arguments)}}()),b=function loadTraitsInParallel(t){return Promise.all(t.map(function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee9(t){var a;return regeneratorRuntime.wrap((function _callee9$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_n.getTraitsBySpeciesName(t.name);case 2:return a=i.sent,t.traits=a||{},i.abrupt("return",t);case 5:case"end":return i.stop()}}),_callee9,this)})));return function(a){return t.apply(this,arguments)}}()))},_.next=24,b(t.items);case 24:return t.itemIndex=0,t.glossary=[].concat(collection_handler_toConsumableArray(Array.from(new Set(t.items.map((function(t){return t.iconicTaxon}))))),["common"]),_.abrupt("return",t);case 27:case"end":return _.stop()}}),_callee10,this)})));return function loadCollectionItemProperties(a,i){return t.apply(this,arguments)}}(),ii=function(){var t=collection_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee11(t){return regeneratorRuntime.wrap((function _callee11$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_n.getSpeciesInParallel(t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),_callee11,this)})));return function getSnapdragonSpeciesData(a){return t.apply(this,arguments)}}(),oi={loadCollection:ri,loadCollectionItemProperties:ai,getSnapdragonSpeciesData:ii};function lesson_state_handler_toConsumableArray(t){return function lesson_state_handler_arrayWithoutHoles(t){if(Array.isArray(t))return lesson_state_handler_arrayLikeToArray(t)}(t)||function lesson_state_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function lesson_state_handler_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return lesson_state_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lesson_state_handler_arrayLikeToArray(t,a)}(t)||function lesson_state_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lesson_state_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function lesson_state_handler_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_state_handler_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_state_handler_ownKeys(Object(i),!0).forEach((function(a){lesson_state_handler_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_state_handler_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_state_handler_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function lesson_state_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function lesson_state_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){lesson_state_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){lesson_state_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var si=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var a,i,o,c,l,u,d,p,m,h,g;return regeneratorRuntime.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:a=t.requestType,i=t.requestArgs,o=te.getState(),c=o.config,l=o.collection,u=o.collections,o.counter,v.t0=a,v.next=v.t0===qt.lessonState.PAUSE_LESSON?5:v.t0===qt.lessonState.UPDATE_COLLECTION?9:v.t0===qt.lessonState.SAVE_LESSON_PROGRESS?11:v.t0===qt.lessonState.GET_LESSON_PROGRESS?13:v.t0===qt.lessonState.ADD_SPECIES_TO_COLLECTION?17:v.t0===qt.lessonState.RENDER_SPECIES_LIST?20:v.t0===qt.lessonState.BEGIN_OR_RESUME_LESSON?22:v.t0===qt.lessonState.NEXT_ROUND?25:28;break;case 5:if(!c.isLandcapeMode){v.next=7;break}return v.abrupt("return");case 7:return di(a,l,c),v.abrupt("break",28);case 9:return mi(i),v.abrupt("break",28);case 11:return hi(l),v.abrupt("break",28);case 13:return d=i.collectionToLoad,p=i.updatedCounter,m=i.guide,v.next=16,ui(d,lesson_state_handler_objectSpread(lesson_state_handler_objectSpread({},c),{},{guide:m}),u,p);case 16:return v.abrupt("return",v.sent);case 17:return v.next=19,pi(i);case 19:return v.abrupt("return",v.sent);case 20:return li(i),v.abrupt("break",28);case 22:return h=i.id,ci(h),v.abrupt("break",28);case 25:return g=i.lesson,di(qt.lessonState.NEXT_ROUND,l,g),v.abrupt("break",28);case 28:case"end":return v.stop()}}),_callee,this)})));return function changeRequest(a){return t.apply(this,arguments)}}(),ci=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t,a){var i,o,c,l,u,d,p,m,h,g;return regeneratorRuntime.wrap((function _callee2$(v){for(;;)switch(v.prev=v.next){case 0:return i=te.getState(),o=i.collections,c=i.collection,l=i.config,u=Ft(c,o,t),v.next=4,ui(u,l,o);case 4:d=v.sent,p=d.collection,m=d.score,h=d.lesson,g=a||(m&&m.collectionId===p.id?qt.lessonState.RESUME_LESSON:qt.lessonState.BEGIN_LESSON),di(g,p,h);case 10:case"end":return v.stop()}}),_callee2,this)})));return function beginOrResumeLesson(a,i){return t.apply(this,arguments)}}(),li=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){var a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee3$(p){for(;;)switch(p.prev=p.next){case 0:return a=t.lesson,i=t.container,o=te.getState(),c=o.config,l=o.collections,p.next=4,ui(a,c,l);case 4:u=p.sent,d=u.collection,setTimeout((function(){Ka(d,{callingParentContainer:i})}));case 7:case"end":return p.stop()}}),_callee3,this)})));return function renderLessonSpeciesList(a){return t.apply(this,arguments)}}(),ui=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t,a,i,o){var c,l,u,d,p;return regeneratorRuntime.wrap((function _callee4$(m){for(;;)switch(m.prev=m.next){case 0:return c=te.getState(),l=c.counter,u=c.lessons,d=c.lesson,p=Yt(u,t,$,o||l,d,o),m.next=5,oi.loadCollection(p.collection,a,p.counter,i);case 5:return fi(p),m.abrupt("return",p);case 7:case"end":return m.stop()}}),_callee4,this)})));return function getUserLessonProgressState(a,i,o,c){return t.apply(this,arguments)}}(),di=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t,a,i){var o,c;return regeneratorRuntime.wrap((function _callee5$(l){for(;;)switch(l.prev=l.next){case 0:l.t0=t,l.next=l.t0===qt.lessonState.BEGIN_LESSON?3:l.t0===qt.lessonState.PAUSE_LESSON?5:l.t0===qt.lessonState.RESUME_LESSON?7:l.t0===qt.lessonState.NEXT_ROUND?9:12;break;case 3:return ft({index:0,isLessonPaused:!1}),l.abrupt("break",12);case 5:return a.items&&(o=Wt(a),c=o.index,ft({index:c,isLessonPaused:!0,log:{index:c,collection:a.id}})),l.abrupt("break",12);case 7:return ft(lesson_state_handler_objectSpread(lesson_state_handler_objectSpread({},Wt(a)),{},{isLessonPaused:!1})),l.abrupt("break",12);case 9:return i.isLevelComplete?pt({index:0,lesson:i}):i.isNextRound&&dt({index:0,lesson:lesson_state_handler_objectSpread(lesson_state_handler_objectSpread({},i),{},{currentRound:i.currentRound+1})}),l.abrupt("break",12);case 12:return l.abrupt("return",i);case 13:case"end":return l.stop()}}),_callee5,this)})));return function changeLessonState(a,i,o){return t.apply(this,arguments)}}(),pi=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var a,i,o,c,l,u;return regeneratorRuntime.wrap((function _callee6$(d){for(;;)switch(d.prev=d.next){case 0:if(a=t.config,i=t.collection){d.next=3;break}return d.abrupt("return");case 3:if(i.items){d.next=5;break}return d.abrupt("return");case 5:return o=a.guide.species.filter((function(t){return!Object(V.a)(t.name,i.items.map((function(t){return t.name})))})),d.next=8,oi.getSnapdragonSpeciesData(o);case 8:return c=d.sent,d.next=11,oi.loadCollectionItemProperties({items:c},a);case 11:l=d.sent,i.items=[].concat(lesson_state_handler_toConsumableArray(i.items),lesson_state_handler_toConsumableArray(l.items)),u={collection:i,counter:lesson_state_handler_objectSpread(lesson_state_handler_objectSpread({},te.getState().counter),{},{index:0}),lesson:{currentRound:1,rounds:0,isNextRound:!0},layout:null,history:null,score:Object(z.a)($.score)},fi(u);case 15:case"end":return d.stop()}}),_callee6,this)})));return function addExtraSpeciesSelection(a){return t.apply(this,arguments)}}(),mi=function updateCollection(t){var a=t.config,i=t.collection;lt({config:a,collection:i})},fi=function setActiveCollection(t){t.counter=t.counter||{},ct({lesson:t});var a=te.getState().user;_n.addCollection(t.collection,a)},hi=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee7(t){var a,i,o,c,l,u,d,p,m,h,g,v;return regeneratorRuntime.wrap((function _callee7$(y){for(;;)switch(y.prev=y.next){case 0:return a=te.getState(),i=a.counter,o=a.lessonPlan,c=a.lessonPlans,l=a.layout,u=a.lesson,d=a.score,p=a.history,m=a.bonusLayout,h=a.enums,(g=a.config).collection.id=t.id,v={name:t.name,config:g,collection:t,counter:i,lessonPlan:o,lessonPlans:c,layout:l,lesson:u,score:Object(z.a)(d),history:p,bonusLayout:m,enums:h},gt(v),y.abrupt("return",v);case 5:case"end":return y.stop()}}),_callee7,this)})));return function saveCurrentLesson(a){return t.apply(this,arguments)}}(),gi={changeRequest:si,recordUserAction:function recordUserAction(t){St(t)}};function score_summary_handler_typeof(t){return(score_summary_handler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function score_summary_handler_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function score_summary_handler_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?score_summary_handler_ownKeys(Object(i),!0).forEach((function(a){score_summary_handler_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):score_summary_handler_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function score_summary_handler_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function score_summary_handler_toConsumableArray(t){return function score_summary_handler_arrayWithoutHoles(t){if(Array.isArray(t))return score_summary_handler_arrayLikeToArray(t)}(t)||function score_summary_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function score_summary_handler_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return score_summary_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return score_summary_handler_arrayLikeToArray(t,a)}(t)||function score_summary_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function score_summary_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var vi=function getLessonScores(t,a,i,o){if(!t)return[i];var c=V.a(i.binomial,t.scores.map((function(t){return t.binomial})));return a.isNextRound?c||0===i.total?t.scores:[].concat(score_summary_handler_toConsumableArray(t.scores),[i]):c?t.scores:[].concat(score_summary_handler_toConsumableArray(t.scores),[i])},yi=function getSummaryRows(t){return t=t.map((function(t,a){return score_summary_handler_objectSpread(score_summary_handler_objectSpread({},t),{},{id:"".concat(o.utils.toCamelCase(t.binomial),"_").concat(a),question:t.question.term?t.question.term:t.question,answers:t.answers.map((function(a){return function getAnswer(t,a){var i="object"===score_summary_handler_typeof(t),c=i?t.value||t.term:t,l=i&&!!t.url,u=i?t.url:"",d=a.question.term||a.question,p=""!==c&&o.utils.parseToLowerCase(c)===o.utils.parseToLowerCase(d),m=!p&&o.utils.parseToLowerCase(c)===o.utils.parseToLowerCase(a.answer),h=i&&t.name||"";return{value:c,url:u,hasImage:l,isTrue:p,isWrongAnswer:m,name:h}}(a,t)}))})}))};var bi=i(197),_i=i.n(bi),xi=i(198),Si=i.n(xi),wi=i(199),ki=i.n(wi);function score_summary_toConsumableArray(t){return function score_summary_arrayWithoutHoles(t){if(Array.isArray(t))return score_summary_arrayLikeToArray(t)}(t)||function score_summary_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function score_summary_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return score_summary_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return score_summary_arrayLikeToArray(t,a)}(t)||function score_summary_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function score_summary_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function score_summary_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function score_summary_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?score_summary_ownKeys(Object(i),!0).forEach((function(a){score_summary_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):score_summary_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function score_summary_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function score_summary_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function score_summary_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){score_summary_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){score_summary_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Ti=function renderScoreSummary(t,a){!function init(){var i=te.getState(),o=i.lessons,c=i.score,l=i.userAction,u=o.length>0&&o.find((function(a){return a.collection.id===parseInt(t)}))?o.find((function(a){return a.collection.id===parseInt(t)})):te.getState(),d=u.collection,p=u.history,m=u.config,h=u.score,g=te.getState().lesson;if(!Gt(l,m)){var v=document.createElement("template");v.innerHTML=_i.a;var y=m.isLandscapeMode?a||document.querySelector("#lessonModal .js-modal-text"):ie.rightBody;y.innerHTML="",zt({collection:d,lesson:g},v.content,y);var b=document.querySelectorAll(".js-continue-link");if(setTimeout((function(){b[0].focus()}),250),a&&b.forEach((function(t){return t.classList.add("snap-inactive")})),"summary"===g.layoutName)document.querySelector(".js-review-progress").innerHTML="";var _=vi(p,g,c,h).reverse();_.forEach((function(t){return Ei(_,t,m)}));var x=function(){var a=score_summary_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:a.preventDefault(),gi.changeRequest({requestType:qt.lessonState.NEXT_ROUND,requestArgs:{id:t,lesson:score_summary_objectSpread(score_summary_objectSpread({},g),{},{isNextRound:!0})}});case 2:case"end":return i.stop()}}),_callee,this)})));return function handleContinueLesson(t){return a.apply(this,arguments)}}(),S=function(){var t=score_summary_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){return regeneratorRuntime.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ut();case 2:case"end":return t.stop()}}),_callee2,this)})));return function handleNewLesson(a){return t.apply(this,arguments)}}();g.isLessonComplete?b.forEach((function(t){t.innerHTML="START NEW LESSON",t.addEventListener("click",S,{once:!0})})):b.forEach((function(t){t.addEventListener("click",x,{once:!0})})),window.addEventListener("keydown",(function(t){"Enter"===t.key&&x(t)}),{once:!0})}}()},Ei=function renderScoreSummaryRow(t,a,i){var o=document.createElement("template");o.innerHTML=Si.a;var c=document.querySelector(".js-score-summary-rows");if(0===a.total)return c.innerHTML="",o.innerHTML=ki.a,void zt({},o.content,c);var l=[].concat(score_summary_toConsumableArray(a.passes),score_summary_toConsumableArray(a.fails));l=yi(l);var u=a.vernacularName||he(a.binomial,i);if(zt({vernacularName:u,binomial:a.binomial,rows:l,score:"".concat(a.correct,"/").concat(a.total)},o.content,c),t.length>0){var d=c.querySelector(".js-no-questions");d&&(d.innerHTML="")}},Li=i(200),Ai=i.n(Li);function test_card_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function test_card_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){test_card_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){test_card_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Oi=function renderTestCardTemplate(t,a){var i=document.createElement("template");i.innerHTML=Ai.a;var o=te.getState().config,c=o.isLandscapeMode?document.querySelector("#lessonModal"):document,l=o.isLandscapeMode?c.querySelector(".js-modal-text"):ie.rightBody;l.innerHTML="",c.querySelector(".js-modal-text-title").innerHTML=t.name,a.className=a.className||"",a.headerClassName=a.headerClassName||"",a.statement=a.statement||"",a.providerQuestion=a.providerQuestion||"",zt(a,i.content,l);var u=c.querySelector(".js-review-progress");u&&(u.innerHTML="Progress",u.addEventListener("click",(function(a){var i=c.querySelector(".js-summary-container");!function renderSummaryCard(){Ti(t.id,i);var a=1;!function toggleScreens(t,i){g(t),u.innerHTML=a%2==0?"Progress":"Quiz",a++,i.classList.remove("swap-out-card"),u.addEventListener("click",(function(a){toggleScreens(i,t)}),{once:!0})}(d,i)}()}),{once:!0}),u.focus()),Ii(o);var d=c.querySelector(".js-test-card-container"),p=c.querySelector(".js-test-card-container"),m=p.querySelector(".js-card-link"),h=t.nextItem||t.items[a.bonus.itemIndex],g=function hideCurrentCard(t,a){t.classList.add("swap-out-card"),t.classList.remove("swap-in-card"),a&&(a.classList.add("swap-out-card"),a.classList.remove("swap-in-card"))},v=function showNextCard(t,a){t.classList.remove("swap-out-card");var i=c.querySelector(a),o=i.querySelector(".js-card-link");return o.classList.remove("disabled-icon"),{card:i,icon:o}};return m.addEventListener("click",function(){var a=test_card_asyncToGenerator(regeneratorRuntime.mark((function _callee3(a){var i,o,l;return regeneratorRuntime.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return i=c.querySelector(".js-species-container"),o=c.querySelector(".js-taxon-container"),l=function(){var a=test_card_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:da(t,"SWAP_OUT",h,i,!1),setTimeout((function(){g(d,p);var a=v(i,".js-species-card"),c=a.card;a.icon.addEventListener("click",function(){var a=test_card_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){var l,u;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:h.lichen?La("SWAP_OUT",h.keyTrait,o,h.images.find((function(t){return t.starred}))?h.images.find((function(t){return t.starred})).url:h.images[0].url):ba(t,"SWAP_OUT",h,o,!1),g(i,c),l=h.lichen?v(o,".js-non-taxon-card"):v(o,".js-taxon-card"),u=l.card,l.icon.addEventListener("click",(function(t){g(o,u),v(d,".js-test-card")}));case 4:case"end":return a.stop()}}),_callee,this)})));return function(t){return a.apply(this,arguments)}}())}),500);case 2:case"end":return a.stop()}}),_callee2,this)})));return function renderSpeciesCard(){return a.apply(this,arguments)}}(),a.next=5,l();case 5:case"end":return a.stop()}}),_callee3,this)})));return function(t){return a.apply(this,arguments)}}()),mr(h.taxonomy,c),c.querySelector(".js-test-card-content")},Ii=function toggleStatementAndQuestion(t){if(!t.isLandscapeMode){var a=document.querySelector(".js-statement-para"),i=document.querySelector(".js-question-para");i.classList.add("hide");var o=0,c=setInterval((function(){o%2?(i.classList.add("hide"),a.classList.remove("hide")):(i.classList.remove("hide"),a.classList.add("hide")),++o>=20&&clearInterval(c)}),5e3)}},Pi=(i(465),i(201)),ji=i.n(Pi),Ci=function languagePicker(t,a,i){var o=t.languages,c=document.createElement("template");c.innerHTML=ji.a,a.innerHTML="",zt({languages:o},c.content,a);var l=document.querySelector("#taxonLanguageBtn");l.innerHTML="Taxon language [ ".concat(o.find((function(a){return a.lang===t.language})).name," ] ");var u=document.querySelector("#taxonLanguageTxt");u.innerHTML=o.find((function(a){return a.lang===t.language})).name,document.querySelectorAll(".dropdown-item").forEach((function(a){a.addEventListener("click",(function(a){t.language=o.find((function(t){return t.lang===a.target.id})).lang;var c=o.find((function(t){return t.lang===a.target.id})).name;l.innerHTML="Taxon language [ ".concat(c," ]"),u.innerHTML=c,i(t)}))}))},Ri=i(202),Ni=i.n(Ri),Mi=i(72),qi=i.n(Mi);function inat_autocomplete_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function inat_autocomplete_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){inat_autocomplete_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){inat_autocomplete_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Hi=function inatAutocomplete(t,a,i,o){function _getUserSuggestions(){return(_getUserSuggestions=inat_autocomplete_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var a;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,getAutocompleteBy(t,"users");case 2:return a=i.sent,i.abrupt("return",a.results.map((function(t){return{label:t.login_autocomplete,value:t.id,photo:t.icon,name:t.name}})));case 4:case"end":return i.stop()}}),_callee,this)})))).apply(this,arguments)}function getPlaceSuggestions(t,a){!function GoogleAutocomplete(t,a){var i=function getPredictions(i){Cr||(Cr=new google.maps.places.AutocompleteService),Cr.getPlacePredictions({input:t},a)};Br?(new google.maps.places.AutocompleteSessionToken,i(),Fr=t,Br=!1):(t!==Fr&&i(),Fr=t)}(t,(function callback(t){a(t.map((function(t){return{label:t.description,value:t.place_id}})))}))}function _getProjectSuggestions(){return(_getProjectSuggestions=inat_autocomplete_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){var a;return regeneratorRuntime.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,getAutocompleteBy(t,"projects");case 2:return a=i.sent,i.abrupt("return",a.results.map((function(t){return{label:t.title,value:t.id}})));case 4:case"end":return i.stop()}}),_callee3,this)})))).apply(this,arguments)}return qi()({input:t,fetch:function fetch(t,i){switch(a){case"users":(function getUserSuggestions(t){return _getUserSuggestions.apply(this,arguments)})(t).then((function(t){i(t)}));break;case"places":getPlaceSuggestions(t,i);break;case"projects":(function getProjectSuggestions(t){return _getProjectSuggestions.apply(this,arguments)})(t).then((function(t){i(t)}))}},onSelect:function onSelect(a){t.value=a.label,t.name=a.value},className:i,rb:o,minLength:3,debounceWaitMs:200})},Di=function switchHandler(t,a,i){if(t){var o={position:"left"===a?"right":"left"},c=t.querySelector("div"),l=t.parentElement.querySelector(".txt-left"),u=t.parentElement.querySelector(".txt-right"),d=function switcher(){switch(o.position){case"left":c.parentElement.classList.add("right"),c.parentElement.classList.remove("left"),l.classList.remove("selected"),u.classList.add("selected"),o.position="right";break;case"right":c.parentElement.classList.add("left"),c.parentElement.classList.remove("right"),l.classList.add("selected"),u.classList.remove("selected"),o.position="left"}i(o.position)};d(),t.addEventListener("click",(function(t){d()}))}},Gi=i(203),Ui=i.n(Gi);function location_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function location_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){location_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){location_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Bi=function saveLocation(t,a,i,o){var c=a.value,l=a.name;t.guide.locationType="longLat",t.guide.place.name=c,t.guide.locationLongLat=c,t.guide.locationType="longLat",t.guide.locationLongLat=c;return function GooglePlaceDetails(t,a){var i={placeId:t};(new google.maps.Geocoder).geocode(i,a),Br=!0}(l,(function callback(i){if(i&&i.length>0){var c=i[0].geometry.location.lat(),l=i[0].geometry.location.lng();t.guide.coordinates={lat:c,long:l},a.value="",o.setConfig(t),o.saveStep("LOCATION")}})),i},Fi=i(204),Wi=i.n(Fi),Yi=function saveInatId(t,a,i,o){var c=t.querySelector("#inat-identity");a.isLandsapeMode&&(c.value="",c.focus());var l=c.value,u=c.name;a.guide.inatId.key=l,a.guide.inatId.id=u,""!==l&&(a.guide.locationType="inat",i.setConfig(a),i.saveStep("INAT"),t.querySelector("#inat-identity").value="")},Vi={all:[{id:"fungi",common:"Fungi & Lichens"},{id:"amphibia",common:"Amphibians"},{id:"mammalia",common:"Mammals"},{id:"plantae",common:"Plants"},{id:"lepidoptera",common:"Butterflies & Moths"},{id:"insecta",common:"Insects"},{id:"aves",common:"Birds"},{id:"reptilia",common:"Reptiles"}]},zi=i(205),Ki=i.n(zi),$i=i(206),Xi=i.n($i);function species_in_guide_editor_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function species_in_guide_editor_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){species_in_guide_editor_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){species_in_guide_editor_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}function species_in_guide_editor_toConsumableArray(t){return function species_in_guide_editor_arrayWithoutHoles(t){if(Array.isArray(t))return species_in_guide_editor_arrayLikeToArray(t)}(t)||function species_in_guide_editor_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function species_in_guide_editor_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return species_in_guide_editor_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return species_in_guide_editor_arrayLikeToArray(t,a)}(t)||function species_in_guide_editor_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function species_in_guide_editor_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var Qi=function speciesInGuideEditor(t,a,i,o,c,l){var u=a.querySelector(".js-species-search");u&&u.classList.add("hide-important");var d=document.createElement("template");d.innerHTML=Xi.a,i.innerHTML="",zt({selectedSpecies:c},d.content,i);var p=a.querySelector(".js-lesson-taxa-count");p&&(p.innerHTML=1===p?"There is ".concat(c.length," species in this lesson."):"There are ".concat(c.length," species in this lesson.")),function getTaxa(t,a,i){t&&(a.guide.iconicTaxa?t.innerHTML=a.guide.iconicTaxa.map((function(t){return t.common})).join(", "):t.innerHTML=species_in_guide_editor_toConsumableArray(new Set(i.map((function(t){return t.iconicTaxon})))).join(", "))}(a.querySelector(".js-lesson-taxa"),t,c);var m=a.querySelector("#input-species");t.isLandscapeMode&&setTimeout((function(){m.focus()}),500);var h=function(){var l=species_in_guide_editor_asyncToGenerator(regeneratorRuntime.mark((function _callee(l){var u,d;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:if(!V.a(l.name,c.map((function(t){return t.name})))){p.next=2;break}return p.abrupt("return");case 2:c.push(l),t.guide.species=c,t.guide.iconicTaxa=species_in_guide_editor_toConsumableArray(new Set(c.map((function(t){return t.iconicTaxon})))),o.setConfig(t),g=g.filter((function(t){return t.value!==m.value})),m.value="",u=te.getState(),d=u.collection,gi.changeRequest({requestType:qt.lessonState.ADD_SPECIES_TO_COLLECTION,requestArgs:{updatedConfig:t,updatedCollection:d}}),setTimeout((function(){speciesInGuideEditor(t,a,i,o,c,g)}),250);case 11:case"end":return p.stop()}}),_callee,this)})));return function addSpeciesToList(t){return l.apply(this,arguments)}}(),g=l||[];(function(){var t=species_in_guide_editor_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:if(0!==g.length){t.next=5;break}return t.next=3,_n.getSpeciesNames();case 3:g=(g=t.sent)[0].value.map((function(t){return{label:t,value:t}}));case 5:qi()({input:m,fetch:function fetch(t,a){t=t.toLowerCase(),a(g.filter((function(a){return a.value.toLowerCase().startsWith(t)&&!V.a(a.value,c.map((function(t){return t.name})))})))},onSelect:function(){var t=species_in_guide_editor_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var a;return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return m.value=t.label,i.next=3,_n.getSpeciesByName(t.label);case 3:a=i.sent,h(a);case 5:case"end":return i.stop()}}),_callee2,this)})));return function onSelect(a){return t.apply(this,arguments)}}(),minLength:3,debounceWaitMs:200,className:"autocomplete-options-container"}),m.addEventListener("change",(function(t){setTimeout(species_in_guide_editor_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var t,a;return regeneratorRuntime.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(!(t=document.querySelector(".selected"))){i.next=7;break}return m.value=t.innerText,i.next=5,_n.getSpeciesByName(m.value);case 5:a=i.sent,h(a);case 7:case"end":return i.stop()}}),_callee3,this)}))),100)}));case 7:case"end":return t.stop()}}),_callee4,this)})));return function init(){return t.apply(this,arguments)}})()(),a.querySelectorAll("li input").forEach((function(l){l.addEventListener("change",(function(l){var u=l.target.id;g.push({label:u,value:u}),c=c.filter((function(t){return t.name!==u})),t.guide.species=c,t.guide.iconicTaxa=species_in_guide_editor_toConsumableArray(new Set(c.map((function(t){return t.iconicTaxon})))),o.setConfig(t),speciesInGuideEditor(t,a,i,o,c,g)}))}))},Ji=i(207),Zi=i.n(Ji);function species_editor_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var eo=[],no=function speciesEditor(t,a,i,o,c){var l=document.createElement("template");l.innerHTML=Zi.a,a.innerHTML="",zt({addedSpecies:c},l.content,a);var u=t.querySelector("#input-species");setTimeout((function(){u.focus()}),500);var d=function addSpeciesToList(o){V.a(o,i)||(i.push(o),c.push(o),p=p.filter((function(t){return t.value!==u.value})),u.value="",eo.forEach((function(t){return t(o)})),setTimeout((function(){speciesEditor(t,a,i,p,c)}),200))},p=o||[];(function(){var t=function species_editor_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){species_editor_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){species_editor_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(0!==p.length){t.next=5;break}return t.next=3,_n.getSpeciesNames();case 3:p=(p=t.sent)[0].value.map((function(t){return{label:t,value:t}}));case 5:qi()({input:u,fetch:function fetch(t,a){t=t.toLowerCase(),a(p.filter((function(a){return a.value.toLowerCase().startsWith(t)&&!V.a(a.value,i)})))},onSelect:function onSelect(t){u.value=t.label,d(u.value)},minLength:3,debounceWaitMs:200,className:"autocomplete-options-container"}),u.addEventListener("change",(function(t){setTimeout((function(){var t=document.querySelector(".selected");t&&(u.value=t.innerText,d(u.value))}),100)}));case 7:case"end":return t.stop()}}),_callee,this)})));return function init(){return t.apply(this,arguments)}})()(),t.querySelectorAll("li input").forEach((function(o){o.addEventListener("change",(function(o){var c=o.target.id;p.push({label:c,value:c}),i=i.filter((function(t){return t!==c})),speciesEditor(t,a,i,p)}))}))},to=i(208),ro=i.n(to),ao=i(209),io=i.n(ao),oo=i(210),so=i.n(oo);function species_search_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function species_search_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?species_search_ownKeys(Object(i),!0).forEach((function(a){species_search_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):species_search_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function species_search_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function species_search_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function species_search_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){species_search_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){species_search_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var co=i(211),lo=i.n(co);function _defineProperties(t,a){for(var i=0;i<a.length;i++){var o=a[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var uo=function(){function CreateGuide(t){var a=this;!function create_guide_classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this,CreateGuide),this.listeners=[],this.steps=[{number:1,title:"Species Picker",description:"Provenance",nextStep:"",disabled:!0,className:"species-actions",nextSteps:[{id:qt.guideOption.LOCATION.name,step:"Location"},{id:qt.guideOption.INAT.name,step:"Location"},{id:qt.guideOption.PICKER.name,step:"Picker"}]},{number:2,title:"Species Picker",description:"Location",nextStep:"Taxa",prevStep:"Provenance",disabled:!0,className:"location-actions"},{number:2,title:"Species Picker",description:"Picker",nextStep:"Species",prevStep:"Provenance",disabled:!0,className:"location-actions"},{number:3,title:"Species Picker",description:"Taxa",nextStep:"Species",disabled:!0,className:"taxa-actions"},{number:4,title:"Species Picker",description:"Species",nextStep:"View Guide",disabled:!0,className:"filter-actions"}],this.currentStep=this.steps.find((function(a){return a.number==t})),this.modal=document.getElementById("createGuide"),this.modal&&(this.modalTitle=this.modal.querySelector(".js-modal-title header"),this.navigationContainer=this.modal.querySelector(".js-modal-guide-navigation"),this.progressSteps=this.modal.querySelectorAll(".js-modal-guide-progress > div > div"),this.previousStepActionArrow=this.modal.querySelector(".js-left"),this.previousStepActionTxt=this.modal.querySelector(".js-left .title"),this.optionsTxt=this.modal.querySelector(".js-centre .title"),this.nextStepActionArrow=this.modal.querySelector(".js-right"),this.nextStepActionTxt=this.modal.querySelector(".js-right .title"),this.progressSteps.forEach((function(t,i){t.innerHTML=a.steps[i].description})),this.config=this.config||te.getState().config,this.getConfig=function(){return a.config},this.setConfig=function(t){a.config=t,mt(t)},this.getCurrentStep=function(){return a.currentStep},this.setCurrentStep=function(t){a.currentStep=a.steps.find((function(a){return a.number===t}))},this.user=te.getState().user)}return function _createClass(t,a,i){return a&&_defineProperties(t.prototype,a),i&&_defineProperties(t,i),t}(CreateGuide,[{key:"addStepActions",value:function addStepActions(t){var a=this;if(t){var i=this.modal.querySelector(".js-step-action-content");i.innerHTML="";var o=document.createElement("template");o.innerHTML=lo.a;var c=this.steps.find((function(t){return t.number===a.currentStep.number})).description;zt({className:t.className},o.content,i);var l=this.modal.querySelector(".js-options > h1");switch(c){case"Provenance":l.innerHTML="How do you want to select your species?",function renderSpeciesSearchOptions(t){t.modal.querySelector(".js-modal-title > header").innerHTML="Create your own lesson";var a=[{text:"By location and season",id:qt.guideOption.LOCATION.name},{text:"From iNaturalist observations",id:qt.guideOption.INAT.name},{text:"Using a name-based search",id:qt.guideOption.PICKER.name}],i=document.createElement("template");i.innerHTML=Ni.a;var o=t.modal.querySelector(".js-actions");o.innerHTML="";var c=t.getConfig();zt({options:a},i.content,o);var l=function handleNextStepAction(a){var i=a.currentTarget.dataset.option,o=t.steps.find((function(a){return a.number===t.getCurrentStep().number})).nextSteps.find((function(t){return t.id===i})).step,c=t.steps.find((function(t){return t.description===o}));t.startLesson=!1,t.goToNextStep(t.getCurrentStep().number+1,"NEXT",i,c),t.listeners=[],t.listeners.push({element:t.nextStepActionArrow,handler:handleNextStepAction})};document.querySelectorAll(".custom-lesson-menu-options li").forEach((function(t,a){t.addEventListener("click",l,!0)})),Ci(c,document.querySelector(".js-language-selection-container"),(function(a){t.setConfig(a)}));var u=t.modal.querySelector(".js-persistence-warning");t.user&&u.classList.add("hide-important")}(this);break;case"Location":switch(l.innerHTML="Filter species by location and season.",this.option){case qt.guideOption.LOCATION.name:!function renderLocation(t,a){var i=a.getConfig();a.saveStep("LOCATION");var o,c=i.guide.locationPlace,l=document.createElement("template");l.innerHTML=Ui.a;var u=t.querySelector(".js-actions");if(u.innerHTML="",i.guide.season.observableMonths=i.guide.season.observableMonths||i.season.observableMonths,i.guide.season.observableMonths){var d=i.guide.season.observableMonths.map((function(t){return t.name})),p="".concat(d[0],"-").concat(d[d.length-1]),m=i.guide.noOfRecords;zt({observableMonths:p,noOfRecords:m},l.content,u)}var h=t.querySelector(".js-set-location-btn");function _handleSetLocationLongLat(){return(_handleSetLocationLongLat=location_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var o;return regeneratorRuntime.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return t.stopPropagation(),h.innerHTML="Updating location…",c.next=4,Hr(i,!0);case 4:o=c.sent,i.guide.locationType="longLat",i.place=o,i.guide.locationLongLat=o.longLocation,h.innerHTML="Use your current location",a.setConfig(i),a.saveStep("LOCATION");case 11:case"end":return c.stop()}}),_callee,this)})))).apply(this,arguments)}h.innerHTML="Use your current location",h.addEventListener("click",(function handleSetLocationLongLat(t){return _handleSetLocationLongLat.apply(this,arguments)}));var g=t.querySelector("#inat-place");g.placeholder=i.isLandscapeMode?"Or start typing the name of a place you are interested in.":"Or start typing the name of a place.",g.focus();g.addEventListener("keypress",(function handleLocationPlaceInput(t){g.removeEventListener("keypress",handleLocationPlaceInput),o=Hi(g,"places","autocomplete-options-container","place")})),g.addEventListener("click",(function(t){t.preventDefault()})),g.addEventListener("keyup",(function(t){t.preventDefault("e.keyCode: ",t.keyCode)})),document.getElementById("locationForm").addEventListener("submit",(function(t){t.preventDefault(),""!==g.value&&Bi(i,g,c,a)})),i.isPortraitMode&&g.addEventListener("focusout",(function(t){document.querySelector(".autocomplete-options-container")&&(setTimeout((function(){Bi(i,g,c,a)})),t.preventDefault())}));var v=i.guide.speciesRange,y=t.querySelector(".js-range");y.innerHTML="Include species within ".concat(v,"km."),t.querySelector(".js-set-range-input").value=v;t.querySelector(".js-set-range-input").addEventListener("change",(function updateSlider(t){v=t.target.value,i.guide.speciesRange=v,y.innerHTML="Include species within ".concat(v,"km."),a.setConfig(i)})),a.nextStepActionArrow.addEventListener("click",(function(t){o&&o.destroy()}));var b=u.querySelector(".js-snap-switch-slider"),_="months"===i.guide.season.type?"left":"right";Di(b,_,(function switchCallback(t){var i=a.getConfig(),o=i.guide.season.type;i.guide.season.type="right"===t?"all_year":"months",a.setConfig(i),i.guide.season.type!==o&&a.saveStep("SEASON")}));var x=document.querySelector(".js-location-no-of-records");x.addEventListener("change",(function(t){var i=a.getConfig();i.guide.noOfRecords=parseInt(x.value),a.setConfig(i)}))}(this.modal,this);break;case qt.guideOption.INAT.name:!function renderInatUser(t,a){var i=a.getConfig(),o=document.createElement("template");o.innerHTML=Wi.a,"-----"!==i.guide.inatId.key&&("inat"!==i.guide.locationType&&(i.guide.locationType="inat",a.setConfig(i)),a.saveStep("INAT"));var c,l=t.querySelector(".js-actions");l.innerHTML="",zt({},o.content,l),document.querySelector(".js-chosen > div > span:nth-child(2)").innerHTML+='<div class="delete-guide-link js-toggle-filter"><input class="hide" type="checkbox"></div>';var u="user_id"===i.guide.inatId.param?"left":"right",d="users",p=l.querySelector("#inat-identity");p.focus();p.addEventListener("keypress",(function handlerInatIdentityInput(t){p.removeEventListener("keypress",handlerInatIdentityInput),c=Hi(p,d,"inat-autocomplete-options-container","")})),p.addEventListener("click",(function(t){t.preventDefault()})),p.addEventListener("keyup",(function(t){t.preventDefault("e.keyCode: ",t.keyCode)})),document.getElementById("inatForm").addEventListener("submit",(function(t){t.preventDefault(),""!==p.value&&Yi(l,i,a,c)})),i.isPortraitMode&&p.addEventListener("focusout",(function(t){document.querySelector(".inat-autocomplete-options-container")&&(setTimeout((function(){Yi(l,i,a,c)})),t.preventDefault())}));var m=l.querySelector(".snap-switch-slider");Di(m,u,(function switchCallback(t){d="left"===t?"users":"projects";var o="left"===t?"iNat user ID":"iNat project ID",c="left"===t?"user_id":"project_id";i.guide.inatId.type=o,i.guide.inatId.param=c,a.setConfig(i)}))}(this.modal,this);break;case qt.guideOption.PICKER.name:this.modal.querySelector(".js-chosen").classList.add("hide-important"),document.querySelector(".js-step-action-content .location-actions").classList.add("species-picker-actions"),function renderSpeciesPicker(t,a){var i=t.config,o=t.container,c=t.selectedSpecies,l=document.createElement("template");l.innerHTML=ro.a,a.innerHTML="",zt({},l.content,a);var u=a.querySelector(".js-selected-species-container");u.innerHTML="",i?Qi(i,o,u,t,i.guide.species||[]):no(a,u,c,[],[])}({container:this.modal,config:this.config,setConfig:this.setConfig},this.modal.querySelector(".js-actions")),this.modal.querySelector(".js-options > h1").innerHTML="Add species by name."}break;case"Taxa":l.innerHTML="Filter species by taxa.",function renderCategories(t,a){var i=a.getConfig();i.guide.iconicTaxa=i.guide.iconicTaxa||Vi.all;var o=document.createElement("template");o.innerHTML=Ki.a;var c=t.querySelector(".js-actions");c.innerHTML="",zt({},o.content,c);var l=c.querySelectorAll(".js-iconic-taxa-categories > div > div:nth-child(1)");i.guide.iconicTaxa&&l.forEach((function(t){var a=t.parentElement.id;V.a(a,i.guide.iconicTaxa.map((function(t){return t.id})))&&t.classList.add("iconic-taxa-selected")})),setTimeout((function(){var a=t.querySelector("#fungi > div");a&&kt(a,"iconic-taxa-selected")&&a.querySelector("g g").classList.add("svg-icon-selected")}),250),i.guide.hasChanged=!1,l.forEach((function(t){t.addEventListener("click",(function(t){i.guide.hasChanged=!0;var o=t.currentTarget,c=o.parentElement.id,l=o.parentElement.innerText;i.guide.iconicTaxa.find((function(t){return t.id===c}))?("fungi"===c&&o.querySelector("g g").classList.remove("svg-icon-selected"),i.guide.iconicTaxa.length>1&&(o.classList.remove("iconic-taxa-selected"),i.guide.iconicTaxa=i.guide.iconicTaxa.filter((function(t){return t.id!==c})))):("fungi"===c&&o.querySelector("g g").classList.add("svg-icon-selected"),o.classList.add("iconic-taxa-selected"),i.guide.iconicTaxa.push({id:c,common:l})),a.setConfig(i),a.saveStep("TAXA",i)}))})),a.saveStep("TAXA"),document.querySelector(".js-right .js-arrow-wrapper").innerHTML='<i class="far fa-arrow-alt-circle-right"></i>'}(this.modal,this);break;case"Species":setTimeout((function(){!function speciesSearch(t){var a=t.config,i=t.modal,o=t.option,c=te.getState().collections,l=document.createElement("template");l.innerHTML=io.a;var u=i.querySelector(".js-step-action-content");zt({},l.content,u);var d=document.querySelector(".js-request-feedback"),p=0,m=setInterval((function(){p=p===a.guide.iconicTaxa.length?0:p,d.innerHTML="Fetching ".concat(a.guide.iconicTaxa[p].common," from iNaturalist …"),p++}),2e3),h=i.querySelector(".js-right"),g=h.querySelector("i");g.classList.add("snap-inactive");var v=i.querySelector(".js-left .js-arrow-wrapper").querySelector("i");v.classList.add("snap-inactive");var y=function renderLessonSummary(o){try{if(o&&o.items&&0===o.items.length)return void(d.innerHTML="No species were found. Try widening your parameters.");clearTimeout(m),l.innerHTML=so.a,d.innerHTML="",o.taxa=o.guide.iconicTaxa.map((function(t){return t.common})).join(", "),zt({collection:o},l.content,d),i.querySelector(".icon i").classList.remove("slow-spin"),setTimeout((function(){h.addEventListener("click",(function(i){setTimeout(species_search_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!a.guide.species){i.next=4;break}return o.items=o.items.filter((function(t){return V.a(t.name,a.guide.species.map((function(t){return t.name})))})),i.next=4,gi.changeRequest({requestType:qt.lessonState.ADD_SPECIES_TO_COLLECTION,requestArgs:{updatedConfig:a,updatedCollection:o}});case 4:4===parseInt(h.dataset.number)&&(t.callOnCreateCustomListeners(o),Bt());case 5:case"end":return i.stop()}}),_callee,this)}))))}))})),_.innerHTML="New collection species";var c=i.querySelector(".js-edit-species");c.addEventListener("click",(function(l){var u=i.querySelector(".js-selected-species-container");u.classList.add("open"),u.classList.remove("hide-important"),u.innerHTML="",c.classList.add("hide-important"),Qi(a,i,u,t,o.items);var d=i.querySelector("#js-input-collection-name");d.classList.remove("hide-important"),d.addEventListener("focusout",(function(t){var i=t.target.value;a.guide.name=i,o.name=i,gi.changeRequest({requestType:qt.lessonState.UPDATE_COLLECTION,requestArgs:{collection:o,config:a}})}))})),g.classList.remove("snap-inactive"),v.classList.remove("snap-inactive")}catch(t){logError(renderLessonSummary,t)}},b=function(){var i=species_search_asyncToGenerator(regeneratorRuntime.mark((function _callee2(i){var o,c,l,u,p,m;return regeneratorRuntime.wrap((function _callee2$(h){for(;;)switch(h.prev=h.next){case 0:return o={index:0,isLessonPaused:!0},h.next=3,gi.changeRequest({requestType:qt.lessonState.GET_LESSON_PROGRESS,requestArgs:{collectionToLoad:i,updatedCounter:o,guide:t.getConfig().guide}});case 3:c=h.sent,(l=c.collection).guide=a.guide,l.isPrivate=!0,y(l),u=function OrdinalSuffixOf(t){var a=t%10,i=t%100;return 1==a&&11!=i?t+"st":2==a&&12!=i?t+"nd":3==a&&13!=i?t+"rd":t+"th"},m=function callback(t){d?d.innerHTML="Making ".concat(u(t.page)," request of ").concat(t.numberOfRequests):p(callback)},p=Vr(m);case 11:case"end":return h.stop()}}),_callee2,this)})));return function initLesson(t){return i.apply(this,arguments)}}();switch(a.guide.guideType=o,o){case qt.guideOption.LOCATION.name:b(species_search_objectSpread(species_search_objectSpread({},c.find((function(t){return t.guideType===o}))),{},{name:a.guide.place.name,taxa:a.guide.iconicTaxa.map((function(t){return t.common})).join(", "),guide:a.guide,language:a.language,id:c.length+100010}));break;case qt.guideOption.INAT.name:b(species_search_objectSpread(species_search_objectSpread({},c.find((function(t){return t.guideType===o}))),{},{name:"".concat(a.guide.inatId.key,"'s observations"),taxa:a.guide.iconicTaxa.map((function(t){return t.common})).join(", "),iconicTaxa:a.guide.iconicTaxa,id:c.length+1e4}));break;case qt.guideOption.PICKER.name:(function(){var t=species_search_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var t,i,l,u;return regeneratorRuntime.wrap((function _callee3$(d){for(;;)switch(d.prev=d.next){case 0:if(t=te.getState(),i=t.collection,l=!1,i.items&&(l=i.items.map((function(t){return t.name})).every((function(t){return a.guide.species.map((function(t){return t.name})).includes(t)}))),!l){d.next=9;break}return u=i,d.next=7,gi.changeRequest({requestType:qt.lessonState.ADD_SPECIES_TO_COLLECTION,requestArgs:{updatedConfig:a,updatedCollection:u}});case 7:d.next=10;break;case 9:u=species_search_objectSpread(species_search_objectSpread({},c.find((function(t){return t.guideType===o}))),{},{species:a.guide.species,id:c.length+10010,name:"Your new lesson",hasVideo:!1,video:{},terms:[]});case 10:b(u);case 11:case"end":return d.stop()}}),_callee3,this)})));return function initPicker(){return t.apply(this,arguments)}})()()}var _=i.querySelector(".js-options > h1");_.innerHTML="Requesting species images and traits"}(a)}))}}}},{key:"goToNextStep",value:function goToNextStep(t,a){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.currentStep=c||this.steps.find((function(a){return a.number===t})),o===qt.guideOption.PICKER.name&&"NEXT"===a&&(this.currentStep=this.steps[2]),this.direction=a,this.option=o||this.option,this.startLesson&&(this.currentStep={number:0}),this.modalTitle)if(this.modalTitle.innerText=this.currentStep.title,this.nextStepActionTxt.innerHTML=this.currentStep.nextStep,this.progressSteps.forEach((function(t,a){if(t.classList.remove("active"),a+1===i.currentStep.number){t.classList.add("active");for(var o=0;o<a;o++)i.progressSteps[o].classList.add("completed")}})),this.addStepActions(this.steps.find((function(t){return t.number===i.currentStep.number}))),1===this.currentStep.number)this.navigationContainer.classList.remove("progress-container"),this.optionsTxt.classList.remove("hide-important"),this.previousStepActionTxt.classList.add("hide-important"),this.previousStepActionArrow.classList.add("arrow-wrapper-hidden"),this.nextStepActionArrow.classList.add("arrow-wrapper-hidden");else{this.navigationContainer.classList.add("progress-container"),this.optionsTxt.classList.add("hide-important"),this.previousStepActionArrow.classList.remove("arrow-wrapper-hidden"),this.nextStepActionArrow.classList.remove("arrow-wrapper-hidden"),this.nextStepActionArrow.dataset.number=this.currentStep.number,this.previousStepActionTxt.classList.remove("hide-important");var l=this.currentStep.prevStep?this.steps.find((function(t){return t.description===i.currentStep.prevStep})):this.steps.find((function(t){return t.number===i.currentStep.number-1}));4===this.getCurrentStep().number?this.previousStepActionTxt.innerHTML=this.option===qt.guideOption.PICKER.name?this.steps[2].description:this.steps[3].description:this.previousStepActionTxt.innerHTML=l.description}}},{key:"saveStep",value:function saveStep(t,a){!function saveGuide(t,a){var i=document.querySelector(".js-chosen span:nth-child(2)"),o=function handleSaveEvent(){switch(a){case"SPECIES":break;case"LOCATION":t.guide.locationType&&(i.innerHTML="place"===t.guide.locationType?t.guide.locationPlace:(t.isLandscapeMode,t.guide.locationLongLat));break;case"TAXA":i.innerHTML="";var o="";t.guide.iconicTaxa.length>0?(t.guide.iconicTaxa.forEach((function(t){var a=fr(t.id);o+=a})),i.innerHTML=o):i.innerHTML="All species";break;case"INAT":t.guide.inatId.key?i.innerHTML=t.guide.inatId.key||"":i.innerHTML=""}};return o}(a||this.getConfig(),t)()}}]),CreateGuide}(),po=[];function quick_fire_api_toConsumableArray(t){return function quick_fire_api_arrayWithoutHoles(t){if(Array.isArray(t))return quick_fire_api_arrayLikeToArray(t)}(t)||function quick_fire_api_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function quick_fire_api_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return quick_fire_api_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return quick_fire_api_arrayLikeToArray(t,a)}(t)||function quick_fire_api_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function quick_fire_api_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var mo={getItems:function getItems(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=te.getState().glossary,o=i.filter((function(a){return V.a(a.taxon,t)}));return(a?o:o.filter((function(t){return"true"!==t.technical}))).filter((function(a){return V.a(a.taxon,t)}))},getBranches:function getBranches(t){var a=quick_fire_api_toConsumableArray(new Set(t.map((function(t){return t.branch}))));return a=a.map((function(a){return{name:a,count:t.filter((function(t){return t.branch==a})).length}}))},getQuickFire:function getQuickFire(t,a,i){var o=i.terms?t.filter((function(t){return V.a(t.id,i.terms)})):t,c={iconicTaxa:quick_fire_api_toConsumableArray(new Set(o.map((function(t){return t.taxon})))),option:{key:"0",value:"multiple choice"}},l={index:0,isComplete:!1,items:o,count:o.length,filter:c,type:a,termScore:{total:0,correct:0,incorrect:0,isCorrect:null,isIncorrect:null,rounds:[],passes:[],fails:[]},poolSize:o.length,terms:i.terms,onClickFiltersLinkListeners:[],onClickGlossaryLinkListeners:[],lessonId:i.id};return l.filter.taxa=c.iconicTaxa.map((function(t){return{name:t,count:o.filter((function(a){return a.taxon===t})).length}})),l.filter.taxa=l.filter.taxa.filter((function(t){return t.count>0})),bt(l),l}},fo=function renderResponse(t,a){return t?'<span class="centred-block icon"><i class="fas fa-check extra-large-text correct-answer-color margin-right"></i>That is correct.</span>':'<span class="centred-block icon"><i class="fas fa-times extra-large-text incorrect-answer-color margin-right"></i>The correct answer is <span class="answer-response half-margin-left">\''.concat(a,"'.</span></span>")},ho=function updateBranchCounts(t,a){var i=t.terms?t.items.filter((function(a){return V.a(a.id,t.terms)})):t.items;a.forEach((function(t){t.innerHTML=i.filter((function(a){return a.branch===t.dataset.name})).length}))},go=function updateTaxonCounters(t,a,i){var o=t.terms?t.items.filter((function(a){return V.a(a.id,t.terms)})):t.items;return a.forEach((function(t){t.innerHTML=i?o.filter((function(a){return a.taxon===t.dataset.taxon})).length:o.filter((function(a){return a.taxon===t.dataset.taxon&&!a.technical})).length})),i?o:o.filter((function(t){return!t.technical}))},vo=function updateTotalCounts(t,a,i,o,c){var l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];ho(t,o);var u=go(t,c,l);t.count=u.length,i.forEach((function(a){a.innerHTML=t.count})),a.value=t.count,t.poolSize=parseInt(a.value)},yo=function updateHeaders(t,a,i,o){var c=a.glossary,l=a.filters,u=a.questions,d="hide-important",p=i(),m=function loadGlossary(t){o.quickFireGlossary(p.items),p.linkFromLesson?(u.classList.remove(d),l.classList.add(d)):l.classList.remove(d)},h=function loadFilters(t){o.quickFireFilters(p.linkFromLesson)},g=function handleGlossaryLink(){p.onClickGlossaryLinkListeners=p.onClickGlossaryLinkListeners||[],p.onClickGlossaryLinkListeners.length<1&&(c.addEventListener("click",m,{once:!0}),p.onClickGlossaryLinkListeners.push("filters"))},v=function handleFiltersLink(){p.onClickFiltersLinkListeners=p.onClickFiltersLinkListeners||[],p.onClickFiltersLinkListeners.length<1&&(l.addEventListener("click",h,{once:!0},!0),p.onClickFiltersLinkListeners.push("filters"))};switch(t){case qt.quickFireStep.FILTERS:l.classList.add(d),c.classList.remove(d),g();break;case qt.quickFireStep.QUESTIONS:l.classList.remove(d),l.innerHTML="Vocab filter",g(),v();break;case qt.quickFireStep.GLOSSARY:l.classList.remove(d),l.innerHTML="Vocab filter",u.classList.add(d),v()}},bo=function scoreMultipleChoice(t,a,i){var o=a===t.question.term;t.question.answer=a,t.termScore.total++,o?(t.termScore.correct++,t.termScore.isCorrect=!0,t.termScore.isIncorrect=!1,t.termScore.passes.push(t.question)):(t.termScore.incorrect++,t.termScore.isCorrect=!1,t.termScore.isIncorrect=!0,t.termScore.fails.push(t.question)),i.innerHTML=fo(o,t.question.term.toLowerCase())},_o=function scoreTextEntry(t,a,i,o,c){if("1"===t.filter.option.key){var l=/\(.+?\)/,u=t.question.term.split(",").map((function(t){var a=t;return a=(a=(a=a.replace(l,"")).trim()).toLowerCase()})),d=V.a(a.value.trim().toLowerCase(),u);t.termScore.total++,d?(t.termScore.correct++,t.termScore.passes.push(t.question)):(t.termScore.incorrect++,t.termScore.fails.push(t.question)),i.innerHTML=fo(d,t.question.term.toLowerCase()),o=setTimeout((function(){c.click()}),te.getState().config.callbackTime+500)}return o},xo=function readyTemplate(t){var a=document.createElement("template");a.innerHTML=t;var i=document.querySelector("#glossaryModal"),o=i.querySelector(".js-modal-text");return o.innerHTML="",{template:a,modal:i,parent:o}},So=function selectAnswers(t,a){t.spareItems=t.spareItems||se.a(5,a),t.question=a.splice(0,1)[0];var i=a.filter((function(a){return a.branch===t.question.branch})),c=i?i.length:0;c<=3&&se.a(3-c,t.spareItems.filter((function(a){return!V.a(a.term,i.map((function(t){return t.term})))&&a.term!==t.question.term}))).forEach((function(t){return i.push(t)}));var l=se.a(3,i);return l.push(t.question),l=(l=o.utils.shuffleArray(l)).map((function(t,a){return{term:t.term,index:a}}))},wo=i(212),ko=i.n(wo),To=i(213),Eo=i.n(To),Lo=i(214),Ao=i.n(Lo),Oo=i(215),Io=i.n(Oo);function quick_fire_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function quick_fire_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){quick_fire_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){quick_fire_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Po=function headers(t,a){var i=document.querySelector("#glossaryModal"),o={glossary:i.querySelector(".js-modal-text-title"),filters:i.querySelector(".js-quick-fire-filters"),questions:i.querySelector(".js-quick-fire-questions")};yo(t,o,(function getQuickFire(){return a}),Uo)},jo=function(){var t=quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t){var a,i,o,c,l,u,d,p,m,h,g,v,y,b,_,x,S,w,k,T,E,L,A,O;return regeneratorRuntime.wrap((function _callee4$(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,Mo();case 2:a=I.sent,i=xo(Eo.a),o=i.template,i.modal,c=i.parent,Po(qt.quickFireStep.FILTERS,{items:a.items,onClickFiltersLinkListeners:[],onClickGlossaryLinkListeners:[]}),l=a.items,u=a.type,d=a.filter,p=function resetQuickFire(){_t(mo.getQuickFire(te.getState().glossary,qt.quickFireType.DEFINITION,{})),Do(h.linkFromLesson)},m=te.getState().quickFire||mo.getQuickFire(l,d,u),(h=(h=z.a(m)).isComplete?p():h).linkFromLesson=t||!1,h.onClickFiltersLinkListeners=[],h.onClickGlossaryLinkListeners=[],_t(h),g=[{key:0,value:"multiple choice"},{key:1,value:"text entry"}],v=mo.getBranches(l),zt({quickFire:h,options:g,branches:v},o.content,c),y=document.querySelectorAll(".js-quick-fire-count"),b=document.querySelectorAll(".js-quick-fire-branches label > span"),_=document.querySelectorAll(".js-quick-fire-taxa li > span"),(x=document.querySelector(".js-input-quick-fire")).addEventListener("input",(function(t){h.poolSize=parseInt(t.target.value)})),setTimeout((function(){x.focus()}),250),h.poolSize=parseInt(x.value),S=function updateArray(t,a){return t.find((function(t){return t===a}))?t.filter((function(t){return t!==a})):(t.push(a),t)},w=function getFilterTaxa(){return h.filter.iconicTaxa},document.querySelectorAll(".js-quick-fire-taxa li").forEach((function(t){var a=t.querySelector("input");V.a(t.dataset.name,h.filter.iconicTaxa)||a.click(),t.addEventListener("change",function(){var t=quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var a,i;return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:a=t.target.id,i=S(w(),a),h.filter.iconicTaxa=i,h.items=mo.getItems(i),vo(h,x,y,b,_,T());case 5:case"end":return o.stop()}}),_callee,this)})));return function(a){return t.apply(this,arguments)}}())})),k=!!h.lessonId,vo(h,x,y,b,_,(T=function getIncludeTechnicalTerms(){return k})()),(E=document.querySelector(".js-create-quick-fire")).innerHTML=0===h.termScore.total?"Start vocab review":"Continue your vocab review",E.addEventListener("click",(function(t){Co(h)}),{once:!0}),L=document.querySelectorAll(".js-quick-fire-filter-options .btn"),"0"===h.filter.option.key?L[0].click():L[1].click(),L[parseInt(h.filter.option.key)].classList.add("active"),L[0].addEventListener("click",(function(t){t.preventDefault(),kt(t.target,"active")||(t.target.classList.add("active"),h.filter.option={key:t.target.dataset.key,value:t.target.dataset.value},L[1].classList.remove("active"))})),L[1].addEventListener("click",(function(t){t.preventDefault(),kt(t.target,"active")||(t.target.classList.add("active"),h.filter.option={key:t.target.dataset.key,value:t.target.dataset.value},L[0].classList.remove("active"))})),A=document.querySelectorAll(".js-quick-fire-branches label"),h.filter.branches&&A.forEach((function(t){V.a(t.dataset.key,h.filter.branches)||t.click()})),A.forEach((function(t){t.addEventListener("click",(function(t){setTimeout(quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var t;return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return t=(t=Array.from(A).filter((function(t){return kt(t,"active")}))).map((function(t){return t.dataset.key})),h.filter.branches=t,a.next=5,mo.getItems(h.filter.iconicTaxa);case 5:h.items=a.sent,h.items=h.items.filter((function(a){return V.a(a.branch,t)})),vo(h,x,y,b,_,T());case 8:case"end":return a.stop()}}),_callee2,this)}))))}))})),(O=document.querySelector(".js-quick-fire-technical")).addEventListener("change",function(){var t=quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:if(k=t.target.checked,h.filter.includeTechnicalTerms=k,a.t0=h.items,a.t0){a.next=7;break}return a.next=6,mo.getItems(h.filter.iconicTaxa,k);case 6:a.t0=a.sent;case 7:h.items=a.t0,vo(h,x,y,b,_,T());case 9:case"end":return a.stop()}}),_callee3,this)})));return function(a){return t.apply(this,arguments)}}()),k&&O.click(),document.querySelector(".js-quick-fire-reset").addEventListener("click",(function(t){p()}));case 47:case"end":return I.stop()}}),_callee4,this)})));return function filters(a){return t.apply(this,arguments)}}(),Co=function questions(t){var a;if(t){(a=z.a(t)).onClickGlossaryLinkListeners=[],Po(qt.quickFireStep.QUESTIONS,a);var i,c=xo(Ao.a),l=c.template,u=c.modal,d=c.parent;if(a.poolSize>a.termScore.total){var p=So(a,o.utils.shuffleArray(a.items));zt({question:a.question,answers:p,total:a.termScore.total+1,count:a.poolSize,correct:a.termScore.correct,answered:a.termScore.total},l.content,d),document.querySelectorAll(".js-quick-layouts").forEach((function(t){t.classList.add("hide-important"),t.id===a.filter.option.key&&t.classList.remove("hide-important")}));var m=document.querySelector(".js-quick-fire-message"),h=Array.from(document.querySelectorAll(".js-quick-fire-options > li"));h.forEach((function(t){t.addEventListener("click",(function(o){var c=o.target.querySelector("span").innerHTML;bo(a,c,m),y.disabled=!1,a.termScore.isIncorrect&&t.classList.add("snap-alert"),h.forEach((function(t){t.id===a.question.term&&t.classList.add("snap-success")})),i=setTimeout((function(){y.click()}),te.getState().config.callbackTime)}),{once:!0})})),setTimeout((function(){h[0].querySelector("button").focus()}),500);var g=u.querySelector(".js-quick-fire-text-entry"),v=u.querySelector(".js-quick-fire-text-entry input");"1"===a.filter.option.key&&(g.classList.remove("hide-important"),v.focus());var y=document.querySelector(".js-continue-quick-fire-btn");y.addEventListener("click",(function(t){y.setAttribute("disabled",!0),a.items=a.items.filter((function(t){return t.term!==a.question.term})),Tc.add(Go,"quickFire","modal"),_t(a),clearTimeout(i)}),{once:!0});var b=!0;if(v.addEventListener("keydown",(function(t){9==t.keyCode&&b&&(b=!1,i=_o(a,v,m,i,y),y.disabled=!1)})),v.addEventListener("keypress",(function(t){13==t.keyCode&&b&&(b=!1,i=_o(a,v,m,i,y),y.disabled=!1)})),v.addEventListener("blur",(function(t){b&&t.target.value.length>2&&(b=!1,i=_o(a,v,m,i,y),y.disabled=!1)})),(a.question.term.split(" ").length>1||0===a.question.term.indexOf("("))&&"1"===a.filter.option.key)u.querySelector(".js-quick-fire-hint").classList.remove("hide")}else qo(a);var _=u.querySelector(".js-quick-review-progress");_&&_.addEventListener("click",(function(t){qo(a)}),{once:!0})}},Ro=function getTermsGlossary(t,a){if(!a||0===a.length)return t;var i=[];return a.forEach((function(a){var o=t.find((function(t){return t.id===a}));i.push(o)})),i.filter((function(t){return t}))},No=function(){var t=quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){var a,i,o,c,l;return regeneratorRuntime.wrap((function _callee5$(u){for(;;)switch(u.prev=u.next){case 0:a=xo(ko.a),i=a.template,a.modal,o=a.parent,c=te.getState().quickFire||mo.getQuickFire(t,qt.quickFireType.DEFINITION,{collection:{}}),Po(qt.quickFireStep.GLOSSARY,c),o.innerHTML="",l=Ro(t,c.terms),zt({glossary:l},i.content,o);case 6:case"end":return u.stop()}}),_callee5,this)})));return function definitions(a){return t.apply(this,arguments)}}(),Mo=function(){var t=quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var t,a,i,o,c,l;return regeneratorRuntime.wrap((function _callee6$(u){for(;;)switch(u.prev=u.next){case 0:if(t=[],(a=Object.keys(Tn).map((function(t){return t.toLowerCase()}))).push("common"),a.forEach((function(a){t.push(a)})),i=te.getState(),o=i.quickFire,u.t0=o.items,u.t0){u.next=10;break}return u.next=9,mo.getItems(t);case 9:u.t0=u.sent;case 10:return c=u.t0,l={items:c,type:qt.quickFireType.DEFINITION,filter:{iconicTaxa:t}},u.abrupt("return",l);case 13:case"end":return u.stop()}}),_callee6,this)})));return function init(){return t.apply(this,arguments)}}(),qo=function summary(t){var a=xo(Io.a),i=a.template,o=a.modal,c=a.parent,l=t.termScore.passes;l.forEach((function(t,a){t.index=a,t.wiki=t.wiki||"",t.showWikiClass=t.wiki.length>0?"":"hide-important"}));var u=t.termScore.fails;u.forEach((function(t,a){t.index=a,t.wiki=t.wiki||"",t.showWikiClass=t.wiki.length>0?"":"hide-important"})),zt({score:t.termScore,passes:l,fails:u},i.content,c);var d=o.querySelectorAll(".js-quick-review-answers");o.querySelectorAll(".js-quick-review-tabs a").forEach((function(t){t.addEventListener("click",(function(t){var a=t.target.id;d.forEach((function(t){t.dataset.type===a?t.classList.remove("hide-important"):t.classList.add("hide-important")}))}))}));var p=o.querySelector(".js-quick-fire-summary div:nth-child(1) > span"),m=o.querySelector(".js-score-text-summary"),h=o.querySelector(".js-quick-review-continue-review");t.isComplete=t.poolSize===t.termScore.total,t.isComplete?(p.innerHTML='<span class="emphasis">You have answered all of the questions correctly.</span>',m.classList.add("modal-background-relief-emphasis"),m.innerHTML="You scored ".concat(t.termScore.correct," out of ").concat(t.termScore.total,"."),t.termScore.incorrect>0?(p.innerHTML='<span class="emphasis">You\'ve answered the questions, but not all correctly.</span>',h.innerHTML="<span>Continue</span>",h.addEventListener("click",(function(a){var i=mo.getQuickFire(t.termScore.fails,qt.quickFireType.DEFINITION,{});Go(i)}),{once:!0})):(h.classList.add("hide-important"),h.addEventListener("click",(function(a){Co(t)}),{once:!0}))):(p.innerHTML="<span>You have answered ".concat(t.termScore.total," of ").concat(t.poolSize," questions.</span>"),h.addEventListener("click",(function(a){Co(t)}),{once:!0}))},Ho={filters:jo,questions:Co,headers:Po,init:mo.getQuickFire,definitions:No},Do=function quickFireFilters(t){Ho.filters(t)},Go=function quickFireQuestions(t){Ho.questions(t)},Uo={quickFireFilters:Do,quickFireQuestions:Go,quickFireGlossary:function quickFireGlossary(t){Ho.definitions(t)}},Bo=i(216),Fo=i.n(Bo),Wo=i(105),Yo=i.n(Wo),Vo=function renderReview(t,a,i,o){var c=document.querySelector(".js-right-grid progress"),l=t.roundProgressIndex?t.roundProgressIndex:c?c.value:0,u='<progress aria-label="lesson quiz progress" title="lesson quiz progress" class="absolute" value="'.concat(l,'" max="').concat(t.roundScoreCount,'"></progress>');document.querySelector('.js-review[data-lesson-id="'.concat(a.id,'"]')).innerHTML=u,document.querySelector('.js-review-link[data-lesson-id="'.concat(a.id,'"]')).innerText="Resume Quiz"},zo=i(217),Ko=i.n(zo);function home_lesson_intro_text_toConsumableArray(t){return function home_lesson_intro_text_arrayWithoutHoles(t){if(Array.isArray(t))return home_lesson_intro_text_arrayLikeToArray(t)}(t)||function home_lesson_intro_text_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function home_lesson_intro_text_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return home_lesson_intro_text_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return home_lesson_intro_text_arrayLikeToArray(t,a)}(t)||function home_lesson_intro_text_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function home_lesson_intro_text_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var $o=function handleSpeciesUpdate(t,a,i,o){return"--"===t&&(t=Qo(a),document.querySelector(".js-species-summary").innerHTML=i=Xo(o,t)),{speciesCount:t,speciesSummary:i}},Xo=function getSpeciesSummary(t,a){return 1===t.length?"".concat(a," species in ").concat(t.length," taxon."):"".concat(a," species in ").concat(t.length," taxa.")},Qo=function getSpeciesCount(t){var a=t.itemNames&&t.itemNames.length>0?t.itemNames.length:t.items?t.items.length:0;return 0===a?"--":a};function home_lesson_intro_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function home_lesson_intro_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?home_lesson_intro_ownKeys(Object(i),!0).forEach((function(a){home_lesson_intro_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):home_lesson_intro_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function home_lesson_intro_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Jo=function renderLessonIntro(t){var a=te.getState(),i=a.config,o=a.videoPlayer,c=a.collection;(t=home_lesson_intro_objectSpread(home_lesson_intro_objectSpread({},t),{},{items:c.items})).hasVideo?Ua(t,o||[],ie.rightBody):function textSetup(t,a){var i=Qo(t),o=t.guide?t.guide.iconicTaxa:t.iconicTaxa||home_lesson_intro_text_toConsumableArray(new Set(t.items.map((function(t){return t.iconicTaxon})))),c=a.languages.find((function(t){return t.lang===a.language})).name,l=document.createElement("template");l.innerHTML=Ko.a;var u=t.guide?t.guide.season.observableMonths.map((function(t){return t.name})):[],d=u.length>0?"".concat(u[0],"-").concat(u[u.length-1]):"",p=0===u.length||"all_year"===t.guide.season?"Species observations are drawn from the whole year.":"Species observations are from ".concat(d,"."),m=Xo(o,i),h=t.intro||"",g={speciesCount:i,iconicTaxa:o,title:t.name,language:c,observableMonths:d,season:p,speciesSummary:m,lessonIntro:h};ie.rightBody.innerHTML="",zt(g,l.content,ie.rightBody),setTimeout((function(){var a=$o(i,t,m,o);i=a.speciesCount,m=a.speciesSummary}),500),setTimeout((function(){var a=$o(i,t,m,o);i=a.speciesCount,m=a.speciesSummary}),1500)}(t,i)},Zo=i(218),es=i.n(Zo);function lesson_edit_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var ns=function renderEditLesson(t){(function(){var a=function lesson_edit_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){lesson_edit_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){lesson_edit_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var a,i,o,c,l,u;return regeneratorRuntime.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:a=te.getState(),i=a.config,(o=document.createElement("template")).innerHTML=es.a,c=document.querySelector("#basicModal"),(l=c.querySelector(".js-modal-text")).innerHTML="",zt({collection:t},o.content,l),c.querySelector(".js-modal-text-title").innerHTML="Edit lesson",(u=c.querySelector(".js-selected-species-container")).innerHTML="",Qi(i,c,u,{setConfig:function setConfig(t){mt(t)}},t.items);case 13:case"end":return d.stop()}}),_callee,this)})));return function init(){return a.apply(this,arguments)}})()()},ts=function scrollToTitle(t){setTimeout((function(){var a=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--vhRow").replace("px",""))*function siblingsBefore(t){for(var a=document.querySelectorAll(".js-lesson-list-item:not(.hide-important)"),i=a[0],o=0,c=[];i;)o++,parseInt(i.dataset.lessonId)!==t?(c.push(i),i=a[o]):i=null;return c.length}(t),i=document.querySelector(".lesson-list .scrollable");i&&(i.scrollTop=a)}))};function lesson_list_event_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function lesson_list_event_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){lesson_list_event_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){lesson_list_event_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var rs=function onLoadLessonViewState(t,a,i,o){var c=t.iconicTaxa?t.iconicTaxa.map((function(t){return t.common})).join(", "):"";return t.taxa=c,t.hasVideo=!(!t.video||le.a(t.video)),t.showVideoIconClass=t.hasVideo?"":"hide-important",t.videoState=Ha.setVideoState(a||[],t),t.reviewState="Lesson Quiz",t.hasTermsClass=t.terms&&Array.isArray(t.terms)&&t.terms.length>0?"":"hide-important",t.isCollectionEditableClass="",t},as=function onClickViewState(t,a){var i=t.currentTarget,o=kt(i,"js-lesson-list-youtube"),c=kt(i,"js-lesson-list-chevron"),l=i.parentElement.parentElement,u=parseInt(i.dataset.lessonId),d=a.find((function(t){return t.id===u})),p=document.querySelector('.js-species-container[data-container-id="'.concat(u,'"]')),m=document.querySelector("#species_list_id_".concat(u)),h=document.querySelector('.js-review-link[data-lesson-id="'.concat(u,'"]')),g=o?qt.userEvent.START_LESSON:c?qt.userEvent.TOGGLE_SPECIES_LIST:qt.userEvent.DEFAULT;gi.recordUserAction(g),is(u);var v=!!m,y=kt(m,"hide"),b=document.querySelector('.js-lesson-video-state[data-lesson-id="'.concat(u,'"]')),_=!i.dataset.lessonIsYoutubeIcon;return{icon:i,lesson:d,state:{requiresSpeciesList:!v,revealSpeciesList:v&&y,hideSpeciesList:v&&!y&&_},speciesList:m,container:p,lessonVideoState:b,reviewLink:h,row:l,isYoutubeIcon:o}},is=function hideOtherContentAndRevertChevrons(t){Array.from(document.querySelectorAll(".js-lesson-list-chevron .fa-chevron-up")).forEach((function(a){var i=parseInt(a.dataset.lessonId);i!==t&&(a.click(),document.querySelector('.js-lesson-list-carousel-item[data-lesson-id="'.concat(i,'"]')).classList.remove("highlighted-for-review-row"))}))},os=function(){var t=lesson_list_event_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t,a,i){var o,c;return regeneratorRuntime.wrap((function _callee3$(l){for(;;)switch(l.prev=l.next){case 0:if(Array.from(t.parentElement.children).forEach((function(t){return t.dataset.selected=!0})),!c||c.name!==qt.userEvent.START_LESSON.name){l.next=3;break}return l.abrupt("return");case 3:return o=te.getState(),c=o.userAction,o.config,l.next=6,gi.changeRequest({requestType:qt.lessonState.RENDER_SPECIES_LIST,requestArgs:{lesson:a,container:i}});case 6:ts(a.id);case 7:case"end":return l.stop()}}),_callee3,this)})));return function loadAndDisplaySpeciesList(a,i,o){return t.apply(this,arguments)}}(),ss={onLoadLessonViewState:rs,onLoadLessonsViewState:function onLoadLessonsViewState(t,a,i,o){return t.map((function(t){return rs(t,a)}))},onLessonIconClickHandler:function onLessonIconClickHandler(t,a,i,o){return t.addEventListener("click",function(){var t=lesson_list_event_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var c,l,u,d,p,m,h,g,v,y,b;return regeneratorRuntime.wrap((function _callee$(_){for(;;)switch(_.prev=_.next){case 0:if(c=as(t,a),l=c.icon,u=c.lesson,d=c.state,p=c.speciesList,m=c.container,h=c.lessonVideoState,g=c.row,v=c.isYoutubeIcon,y=function isItemActive(t){return!t.hasOwnProperty("isActive")||t.isActive},u.items=u.items.filter((function(t){return y(t)})),!i.isLandscapeMode){_.next=13;break}if(document.querySelectorAll(".lesson-list-selected-lesson .youtube-icon").forEach((function(t){return t.parentElement.classList.remove("youtube-green-fg")})),l.dataset.lessonIsYoutubeIcon&&(l.classList.add("youtube-green-fg"),document.querySelector('.js-lesson-list-chevron[data-lesson-id="'.concat(l.dataset.lessonId,'"]')).innerHTML='<i class="fas fa-chevron-up" data-lesson-id="'.concat(u.id,'"></i>')),!d.requiresSpeciesList){_.next=10;break}return _.next=10,os(l,u,m);case 10:o?(Jo(u),b=l.parentElement.parentElement.parentElement.children[1].children[0].children[1],v&&d.hideSpeciesList&&(b.innerHTML='<i class="fas fa-chevron-down" data-lesson-id="'.concat(u.id,'"></i>'))):v||(d.hideSpeciesList?l.innerHTML='<i class="fas fa-chevron-down" data-lesson-id="'.concat(u.id,'"></i>'):d.revealSpeciesList||(l.innerHTML='<i class="fas fa-chevron-up" data-lesson-id="'.concat(u.id,'"></i>'))),d.revealSpeciesList&&(p.classList.remove("hide"),v||(l.innerHTML='<i class="fas fa-chevron-up" data-lesson-id="'.concat(u.id,'"></i>'))),d.hideSpeciesList&&(p.classList.add("hide"),h.innerHTML=Ha.setVideoState(te.getState().videoPlayer||[],u));case 13:if(!i.isPortraitMode){_.next=19;break}if(!d.requiresSpeciesList){_.next=17;break}return _.next=17,os(l,u,m);case 17:Jo(u),gi.changeRequest({requestType:qt.lessonState.RENDER_SPECIES_LIST,requestArgs:{lesson:u,container:ie.rightBody.querySelector(".js-home-scrolling-container .scrollable")}});case 19:g.classList.add("lesson-list-selected-lesson");case 20:case"end":return _.stop()}}),_callee,this)})));return function(a){return t.apply(this,arguments)}}())},onReviewClickHandler:function onReviewClickHandler(t){t.addEventListener("click",function(){var a=lesson_list_event_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee2(a){var i;return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:gi.recordUserAction(qt.userEvent.START_LESSON_REVIEW),t.dataset.lessonId,i=te.getState(),i.lesson,gi.changeRequest({requestType:qt.lessonState.BEGIN_OR_RESUME_LESSON,requestArgs:{id:t.dataset.lessonId}});case 4:case"end":return a.stop()}}),_callee2,this)})));return function(t){return a.apply(this,arguments)}}())},onLessonTitleClickHandler:function onLessonTitleClickHandler(t,a){t.addEventListener("click",(function(i){var o=a.find((function(a){return a.id===parseInt(t.dataset.lessonId)}));ns(o)}))},hideOtherContentAndRevertChevrons:is},cs=function renderCustomLesson(t,a,i,o,c){!function onCreateCustomLesson(t){po.pop(),po.push(t)}((function(l){var u=document.querySelector(".lesson-list > .scrollable"),d=document.createElement("template");d.innerHTML=Yo.a;var p=ss.onLoadLessonViewState(l,a,i,o,c);p.hideVideoClass="hide-important",p.hideTextIntroClass="",t.push(p),p.icon=p.icon||"https://static.inaturalist.org/photos/57604885/small.jpeg?1575746307",zt({lesson:p},d.content,u);var m=document.querySelector('.js-review-link[data-lesson-id="'.concat(p.id,'"]'));ss.onReviewClickHandler(m,t);var h=document.querySelector('.js-lesson-list-chevron[data-lesson-id="'.concat(p.id,'"]'));h&&(h.classList.remove("landscape"),ss.onLessonIconClickHandler(h,t,c,!1));var g=document.querySelector('.js-lesson-list-youtube[data-lesson-id="'.concat(p.id,'"]'));g&&g.classList.add("hide-important");document.querySelector(".js-lesson-container").scrollTo({left:0,top:1e3,behavior:"smooth"})}))},ls=i(219),us=i.n(ls);function lesson_list_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_list_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_list_ownKeys(Object(i),!0).forEach((function(a){lesson_list_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_list_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_list_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var ds,ps=function renderLessons(){var t=te.getState(),a=t.config,i=t.collections,o=t.lessons,c=t.videoPlayer,l=t.score,u=document.createElement("template");u.innerHTML=us.a;var d=ss.onLoadLessonsViewState(i.filter((function(t){return void 0===t.isActive||t.isActive})),c,l,a);d=d.sort((function(t,a){var i=t.create?t.create.seconds:0;return(a.create?a.create.seconds:0)-i}));var p=a.isPortraitMode?ie.rightBody:ie.leftBody;p.innerHTML="",zt({},u.content,p),d.forEach((function(t){return function renderLesson(t){var a=te.getState(),i=a.config,o=a.lessons,c=a.layout,l=document.createElement("template");l.innerHTML=Yo.a,t.hideVideoClass=t.hasVideo?"":"hide-important",t.hideTextIntroClass=t.hasVideo?"hide-important":"";var u=o.find((function(a){return a.collection.id===t.id}));if(t.isPaused=!!u||i.collection.id===t.id,t.icon=t.icon||"https://static.inaturalist.org/photos/57604885/small.jpeg?1575746307",zt({lesson:t},l.content,document.querySelector(".js-lesson-container")),u&&Vo(u.layout,u.collection,null,i),i.collection.id===t.id){var d=document.querySelector('.js-lesson-list-carousel-item[data-lesson-id="'.concat(t.id,'"]'));d&&d.classList.add("highlighted-for-review-row"),i.isLandscapeMode&&setTimeout((function(){var t=d.querySelector(".js-review-summary");t&&t.click()})),c&&c.roundScoreCount&&Vo(c,t,"progress-icon",i)}}(t)})),function renderLessonListHeader(t){var a=document.createElement("div");a.innerHTML=Fo.a;var i=document.querySelector(".lesson-list .scrollable");document.querySelector(".lesson-list").insertBefore(a,i)}(),p.querySelector(".js-create-custom-lesson").addEventListener("click",(function(t){!function createGuideHandler(t){var a=new uo(t);a.goToNextStep(t,"NEXT");a.nextStepActionArrow.addEventListener("click",(function handleNextStepAction(t){a.startLesson=4===parseInt(a.nextStepActionArrow.dataset.number),a.startLesson?a.nextStepActionArrow.setAttribute("data-dismiss","modal"):a.nextStepActionArrow.removeAttribute("data-dismiss");var i=a.steps.find((function(t){return t.description===a.getCurrentStep().nextStep}));i&&a.goToNextStep(i.number,"NEXT"),a.listeners.push({element:a.nextStepActionArrow,handler:handleNextStepAction})}),!0);a.previousStepActionArrow.addEventListener("click",(function handlePreviousStepAction(t){var i;i=a.getCurrentStep()&&4===a.getCurrentStep().number?a.option===qt.guideOption.PICKER.name?2:3:a.getCurrentStep().number-1,a.goToNextStep(i,"PREVIOUS",a.option),a.listeners.push({element:a.previousStepActionArrow,handler:handlePreviousStepAction})}),!0),a.callOnCreateCustomListeners=function(t){po.forEach((function(a){return a(t)})),po.pop()}}(1),ss.hideOtherContentAndRevertChevrons(0)}));var m=document.querySelectorAll(".js-lesson-list-youtube");m.forEach((function(t){return ss.onLessonIconClickHandler(t,d,a,!0)})),ms(m);var h=document.querySelectorAll(".js-lesson-list-chevron");h.forEach((function(t){return ss.onLessonIconClickHandler(t,d,a,!1)})),ms(h);var g=document.querySelectorAll(".js-review-link");g.forEach((function(t){return ss.onReviewClickHandler(t)})),ms(g),setTimeout((function(){var t=document.querySelectorAll(".js-terms-review-link");t.forEach((function(t){t.addEventListener("click",(function(a){var i=d.find((function(a){return a.id===parseInt(t.dataset.lessonId)}));if(i.terms){var o=te.getState().glossary;setTimeout((function(){var t=te.getState().quickFire;t&&t.lessonId===i.id?Ho.questions(t):Ho.questions(lesson_list_objectSpread(lesson_list_objectSpread({},Ho.init(o,qt.quickFireType.DEFINITION,i)),{},{linkFromLesson:!0}))}),150)}}))})),ms(t)}),100),cs(d,o,c,l,a)},ms=function highlightActiveLesson(t){t.forEach((function(t){return t.addEventListener("click",(function(a){document.querySelectorAll(".js-lesson-list-carousel-item").forEach((function(t){return t.classList.remove("highlighted-for-review-row")}));var i=document.querySelector('.js-lesson-list-carousel-item[data-lesson-id="'.concat(t.dataset.lessonId,'"]'));i&&i.classList.add("highlighted-for-review-row")}))}))},fs="SameSite=Lax;",hs=function setFirstTimeVisitorCookie(){var t=!0;return document.cookie.indexOf("first_time")<0?(ds="".concat("first_time","=false; ").concat(fs),document.cookie=ds):t=!1,t},gs=function isFirstTimeVisitor(){return null===_s("first_time")},vs=function removeFirstTimeVisitorCookie(){ds="".concat("first_time","= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; ").concat(fs),document.cookie=ds},ys=function setLastVisitedCookie(t){document.cookie.indexOf("last_visited")<0?(ds="".concat("last_visited","=").concat(t,"; ").concat(fs),document.cookie=ds):xs(t)},bs=function hasUserBeenAwayTooLong(){var t=_s("last_visited");if(!t)return!1;var a=Math.abs(new Date-new Date(t)),i=Math.ceil(a/864e5)>5;return i&&xs(Date()),i},_s=function readCookie(t){for(var a=t+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var c=i[o];" "==c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(a))return c.substring(a.length,c.length)}return null},xs=function setLastVisited(t){var a=document.cookie.replace(/(?:(?:^|.*;\s*)last_time\s*\=\s*([^;]*).*$)|^.*$/,"$1")+"".concat("last_visited","=").concat(t,";");ds="".concat(a,"; ").concat(fs),document.cookie=ds},Ss=i(220),ws=i.n(Ss),ks=function settingsHandler(){document.querySelector("#basicModal .js-modal-text").innerHTML="";var t=document.createElement("template");t.innerHTML=ws.a,document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Snapdragon settings";var a=te.getState().config,i=a.callbackTime/1e3,o=a.languages;zt({delay:i,languages:o},t.content,document.querySelector("#basicModal .js-modal-text"));var c=document.querySelector(".js-clear-cache-btn"),l=document.querySelector(".js-set-delay-btn"),u=document.querySelector(".js-set-delay-input"),d=document.querySelector(".js-delay-text");document.querySelector("#basicModal .modal-body").classList.remove("bird-song-bg"),d.innerHTML="The current delay is ".concat(i,1===i?" second.":" seconds."),c.addEventListener("click",(function(){c.innerText="Clearing cache…",setTimeout((function(){re.purge(),c.innerText="Cache cleared",vs(),setTimeout((function(){setTimeout((function(){window.location.reload(!0)}),500)}),500)}),1e3)})),l.addEventListener("click",(function(){l.innerHTML="Setting delay…",setTimeout((function(){var t=u.value;a.callbackTime=1e3*t,mt(a),l.innerHTML="Set delay",d.innerHTML="Delay updated to ".concat(t,"1"===t?" second.":" seconds.")}),500)})),Ci(a,document.querySelector(".js-language-selection-container"),(function(t){mt(t)}))},Ts=i(221),Es=i.n(Ts),Ls=i(222),As=i.n(Ls),Os=function renderLogin(t){var a=firebase.auth();document.querySelector("#basicModal .js-modal-text").innerHTML="";var i=document.createElement("template");if(t){i.innerHTML=As.a,zt({email:t.email},i.content,document.querySelector("#basicModal .js-modal-text")),document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Snapdragon logout";var o=document.querySelector(".js-modal-footer");setTimeout((function(){document.querySelector("#logout-form").addEventListener("submit",(function(t){t.preventDefault();var i=document.querySelector("#js-logout-btn");i.setAttribute("disabled","disabled"),a.signOut().then((function(){yt(null),i.innerHTML="Success",setTimeout((function(){o.click()}),2500)}))}))}),500)}else{i.innerHTML=Es.a,zt({},i.content,document.querySelector("#basicModal .js-modal-text")),document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Snapdragon login";var c=document.querySelector(".js-modal-footer");setTimeout((function(){var t=document.querySelector("#login-email");t.focus();var i=document.querySelector("#login-password");document.querySelector("#login-form").addEventListener("submit",(function(o){o.preventDefault();var l=document.querySelector("#js-login-btn");l.setAttribute("disabled","disabled"),a.signInWithEmailAndPassword(t.value,i.value).then((function(a){yt({email:t.value,password:i.value}),l.innerHTML="Success",setTimeout((function(){c.click()}),2500)})).catch((function(t){var a=document.querySelector(".js-not-logged-in");a&&a.classList.remove("hide-important"),a&&(a.querySelector(".js-message").innerHTML=t.message)}))}))}),500)}},Is=function renderLoggedIn(t){if(t){var a=document.querySelector(".js-logged-in");a&&a.classList.remove("hide-important")}else{var i=document.querySelector(".js-not-logged-in");i&&i.classList.remove("hide-important");var o=document.querySelector(".js-logged-out");o&&o.classList.remove("hide-important")}},Ps=i(223),js=i.n(Ps),Cs=function renderLanguagePicker(){var t=te.getState().config,a=document.querySelector("#basicModal .js-modal-text");a.innerHTML="";var i=document.createElement("template");i.innerHTML=js.a,zt({},i.content,a),document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Vernacular language",Ci(t,document.querySelector(".js-language-selection-container"),(function(t){actions.boundUpdateConfig(t)}))},Rs=i(224),Ns=i.n(Rs),Ms=i(225),qs=i.n(Ms),Hs=i(226),Ds=i.n(Hs);function navigation_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var Gs=[],Us=function renderNavigation(t){var a,i=te.getState(),o=i.config,c=i.counter,l=document.createElement("template");o.isPortraitMode?(l.innerHTML=Ns.a,(a=document.querySelector(".js-main-footer .js-nav-icons")).innerHTML="",zt({},l.content,a)):(l.innerHTML=qs.a,(a=document.querySelector(".js-left-footer .js-nav-icons")).innerHTML="",zt({},l.content,a),l.innerHTML=Ds.a,(a=document.querySelector(".js-right-footer .js-nav-icons")).innerHTML="",zt({},l.content,a));var u=document.querySelectorAll(".js-nav-icons .icon");u.forEach((function(t){t.addEventListener("click",function(){var t=function navigation_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){navigation_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){navigation_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a,i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function _callee$(m){for(;;)switch(m.prev=m.next){case 0:a=t.currentTarget,i=te.getState(),o=i.collection,i.config,c=function toggleIconOnOff(t){t.classList.add("active-icon"),setTimeout((function(){t.classList.remove("active-icon")}),1e3)},m.t0=qt.navigation.enumValueOf(a.id),m.next=m.t0===qt.navigation.LANDSCAPE_HOME?6:m.t0===qt.navigation.SETTINGS?9:m.t0===qt.navigation.PORTRAIT_HOME?12:m.t0===qt.navigation.GLOSSARY?24:m.t0===qt.navigation.EMAIL?29:m.t0===qt.navigation.LOGIN?31:m.t0===qt.navigation.LANGUAGE?33:34;break;case 6:return V.a("active-icon",a.classList)||a.classList.add("active-icon"),m.abrupt("break",35);case 9:return c(a),ks(),m.abrupt("break",35);case 12:return Gs.forEach((function(t){return t()})),(l=document.querySelector(".js-info.active-icon"))&&l.classList.remove("active-icon"),a.classList.add("active-icon"),Tc.getByRole("screen").forEach((function(t){return Tc.remove(t)})),m.next=19,gi.changeRequest({requestType:qt.lessonState.PAUSE_LESSON});case 19:return m.sent,ps(),ie.rightHeaderTxt.innerHTML="Learn the planet",ie.rightHeaderScoreTxt.innerHTML="",m.abrupt("break",35);case 24:return c(a),u=te.getState(),d=u.glossary,p=o.glossary?d.filter((function(t){return V.a(t.taxon,o.glossary)})):d,Ho.definitions(p),m.abrupt("break",35);case 29:return c(a),m.abrupt("break",35);case 31:return Os(te.getState().user),m.abrupt("break",35);case 33:Cs();case 34:return m.abrupt("return");case 35:case"end":return m.stop()}}),_callee,this)})));return function(a){return t.apply(this,arguments)}}())}));!function onLoadState(t,a){if(!t.isPortraitMode||0===t.collection.id||a.isLessonRehydrated)if(a.isLessonPaused){if(t.isPortraitMode){var i=qt.navigation.PORTRAIT_HOME.name,o=document.getElementById(i),c=!gs();(i===qt.navigation.LANDSCAPE_HOME.name||i===qt.navigation.PORTRAIT_HOME.name&&c)&&o.classList.add("active-icon")}}else u.forEach((function(t){return t.classList.remove("active-icon")}));else u.forEach((function(t){return t.classList.remove("active-icon")}))}(o,c)},Bs=function renderLoginChanges(t){},Fs=i(227),Ws=i.n(Fs),Ys=i(228),Vs=i.n(Ys);function text_entry_toConsumableArray(t){return function text_entry_arrayWithoutHoles(t){if(Array.isArray(t))return text_entry_arrayLikeToArray(t)}(t)||function text_entry_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function text_entry_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return text_entry_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return text_entry_arrayLikeToArray(t,a)}(t)||function text_entry_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function text_entry_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var zs=function renderPortrait(t,a){var i=sr(t,a,rr.TEXT_ENTRY),o=document.querySelector(".js-test-card-container-images");er({config:a,images:i,parent:o})},Ks=function renderLandscape(t,a,i){var c,l=i[i.taxon];switch(i.taxon){case"vernacular":c=t.vernacularName.toLowerCase(),l=i.common;break;case"genus":c=t.taxonomy.genus.toLowerCase();break;case"species":c=t.taxonomy.species.toLowerCase();break;case"binomial":case"name":c=t.name.toLowerCase(),l=i.binomial}var u="";o.utils.shuffleArray(Array.from(c)).forEach((function(t,a){" "===t&&(t="&nbsp;"),u+='<span id="'.concat(a,'" class="block">').concat(t,"</span>")})),document.querySelector(".js-pool-letters").innerHTML=u;var d=document.querySelector(".js-txt-input"),p=[],m=function deleteLetter(t){var a=document.querySelector(".js-txt-input").value,i=Array.from(document.querySelectorAll(".block.active")),o=Array.from(a),c=i.find((function(t){return t.innerText.trim()===o[o.length-1].trim()})),l=t||c;if(a.length>0){var u=a.lastIndexOf(l.innerHTML),m="",h=Array.from(a);h.splice(u,1),h.forEach((function(t){return m+=t})),d.value=m}var g=Array.from(document.querySelectorAll(".correct"));g.forEach((function(t){return t.classList.remove("correct")})),g.forEach((function(t){return t.classList.add("active")})),l&&(l.classList.remove("active"),p.forEach((function(t){if(t.id===l.id){var a=p.indexOf(t);a>-1&&p.splice(a,1)}})))},h=document.querySelectorAll(".block");h.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var a=t.target;a.classList.contains("active")?m(a):(a.classList.add("active"),p.push(a),"&nbsp;"===a.innerHTML?d.value+=" ":d.value+=a.innerHTML),d.value===l.toLowerCase()&&h.forEach((function(t){return t.classList.add("correct")}))}))})),document.querySelector(".js-delete-letter").addEventListener("click",(function(t){t.preventDefault(),m()}));var g=document.querySelector(".js-toggle-keyboard");g.addEventListener("click",(function(t){t.preventDefault(),d.hasAttribute("disabled")?(g.innerHTML="Enable letters",d.removeAttribute("disabled"),d.focus()):(g.innerHTML="Enable keyboard",d.setAttribute("disabled","disabled"))})),setTimeout((function(){g.focus()}),500);var v,y=text_entry_toConsumableArray(h),b=[];d.addEventListener("input",(function(t){if(t.preventDefault(),t.data){var a=t.data.toLowerCase();a=" "===a?"&nbsp;":a,b.push(a),(v=y.find((function(t){return t.innerHTML===a})))&&v.classList.add("active"),d.value===l.toLowerCase()&&y.forEach((function(t){return t.classList.add("correct")}))}})),d.addEventListener("keyup",(function(t){if(t.preventDefault(),8===t.keyCode){var a=b.pop();(v=y.find((function(t){return t.innerHTML===a})))&&v.classList.remove("active")}}))};function pool_handler_toConsumableArray(t){return function pool_handler_arrayWithoutHoles(t){if(Array.isArray(t))return pool_handler_arrayLikeToArray(t)}(t)||function pool_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function pool_handler_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return pool_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return pool_handler_arrayLikeToArray(t,a)}(t)||function pool_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pool_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function pool_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var $s=function(){var t=function pool_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){pool_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){pool_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a,i,c,l,u,d,p,m,h=arguments;return regeneratorRuntime.wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:if(a=h.length>1&&void 0!==h[1]?h[1]:5,g.prev=1,i=t.nextItem,"static"!==t.behaviour){g.next=7;break}if(!((c=t.items.filter((function(t){return t.name!==i.name})))&&c.length>0)){g.next=7;break}return g.abrupt("return",Xs(c,i,a));case 7:return Ln(i.taxonomy,i.iconicTaxon),g.next=10,_n.getSpeciesByIconicTaxon(i);case 10:if(l=g.sent,"fungi"===i.iconicTaxon.toLowerCase()&&(u=i.lichen,l=u?l.filter((function(t){return t.lichen})):l.filter((function(t){return!t.lichen}))),d=o.utils.shuffleArray(l.filter((function(t){return t.name.toLowerCase()!==i.name.toLowerCase()}))),p="reptilia"===i.iconicTaxon.toLowerCase()||"amphibia"===i.iconicTaxon.toLowerCase(),d){g.next=18;break}$s(t),g.next=27;break;case 18:if(!(d.length<a)||p){g.next=22;break}$s(t),g.next=27;break;case 22:return(m=se.a(a,d)).push(i),g.next=26,m;case 26:return g.abrupt("return",g.sent);case 27:g.next=32;break;case 29:g.prev=29,g.t0=g.catch(1),logError("renderMixedSpecimenImagesAndQuestion init",g.t0);case 32:case"end":return g.stop()}}),_callee,this,[[1,29]])})));return function getPoolItems(a){return t.apply(this,arguments)}}(),Xs=function getItemsFromCollection(t,a,i){var c=se.a(i,o.utils.shuffleArray(t));return o.utils.shuffleArray([].concat(pool_handler_toConsumableArray(c),[a]))},Qs=i(229),Js=i.n(Qs),Zs=i(230),ec=i.n(Zs);function multi_strips_toConsumableArray(t){return function multi_strips_arrayWithoutHoles(t){if(Array.isArray(t))return multi_strips_arrayLikeToArray(t)}(t)||function multi_strips_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function multi_strips_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return multi_strips_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return multi_strips_arrayLikeToArray(t,a)}(t)||function multi_strips_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function multi_strips_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function multi_strips_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function multi_strips_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){multi_strips_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){multi_strips_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var nc=function renderMultiStrips(t,a,i){try{var c=te.getState(),l=c.config,u=c.lesson,d=c.layout,p=c.userAction;if(Gt(p,l))return;var m,h=t.nextItem||t.items[t.itemIndex],g=En(h.taxonomy,Tn),v=a&&a.screen||d.screens[1];m=l.language,function(){var c=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee8(){var c,p,y,b,_,x,S,w,k,T,E,L,A,O,I,P,j,C,R,N,M,q,H,D,G,U,B,W,Y,z,K;return regeneratorRuntime.wrap((function _callee8$($){for(;;)switch($.prev=$.next){case 0:if(c=function render(i,o,c){var p=c&&void 0!==c.vernacularName?c.vernacularName:h.vernacularName,m=c&&void 0!==c.binomial?c.binomial:h.name,g=c&&c.question?c.question:"Match the name",v=l.isLandscapeMode?"(Select the name below.)":"(Tap on the name below.)",y=c&&void 0!==c.help?c.help:v,b=c&&void 0!==c.term?c.term:"",_=c&&void 0!==c.className?c.className:"",x=c&&void 0!==c.headerClassName?c.headerClassName:"",S=c&&void 0!==c.clue?c.clue:null,w=Oi(t,{vernacularName:p,binomial:m,question:g,help:y,term:b,className:_,headerClassName:x,bonus:a}),k=document.createElement("template");k.innerHTML=i.img?ec.a:Js.a,o.forEach((function(t,a){t.index=a,t.name=t.name||"",t.names=t.names?t.names.join(", "):""})),zt({answers:o},k.content,w);var T=document.querySelectorAll(".js-rptr-strips .strip");c.italicise&&T.forEach((function(t){return t.classList.add("binomial")}));var E={name:h.taxonomy.family,binomial:h.name,question:i.term},L={itemId:h.id,items:T,taxon:E,binomial:h.name,questionCount:u.questionCount,layoutCount:u.layoutCount,points:d.points,clue:S,answerIndex:o.findIndex((function(t){return t.term===i.term})),questionText:g};Ec("strip",L,null,l)},"species-scientifics"===v.name&&function(){var a=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var a,i,u,d;return regeneratorRuntime.wrap((function _callee2$(p){for(;;)switch(p.prev=p.next){case 0:return d=function(){var c=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return a={term:h.name},c.next=3,$s(t,6);case 3:i=c.sent,i=se.a(8,i).filter((function(t){return t.name.toLowerCase()!==h.name.toLowerCase()})).map((function(t){return t.name})),(i=se.a(5,i)).push(h.name),i=i.map((function(t){return{term:t}})),i=o.utils.shuffleArray(i),u=l.isLandscapeMode?"(Select the answer)":"(Tap on the answer)";case 10:case"end":return c.stop()}}),_callee,this)})));return function buildQuestion(){return c.apply(this,arguments)}}(),p.next=3,d();case 3:c(a,i,{binomial:"Latin name",question:"What's the latin name?",help:u,italicise:!0});case 4:case"end":return p.stop()}}),_callee2,this)})));return function renderBinomialQuestions(){return a.apply(this,arguments)}}()(),"species-vernaculars"===v.name&&function(){var a=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var a,i,u,d;return regeneratorRuntime.wrap((function _callee4$(p){for(;;)switch(p.prev=p.next){case 0:return d=function(){var c=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:return a={term:h.vernacularName},c.next=3,$s(t,6);case 3:i=(i=c.sent).map((function(t){return he(t,l,!1,"vernacularName",m)})),i=se.a(5,i.filter((function(t){return t!==h.vernacularName}))),i=(i=o.utils.shuffleArray([h.vernacularName].concat(multi_strips_toConsumableArray(i)))).map((function(t){return{term:t}})),u=l.isLandscapeMode?"(Select the answer)":"(Tap on the answer)";case 9:case"end":return c.stop()}}),_callee3,this)})));return function buildQuestion(){return c.apply(this,arguments)}}(),p.next=3,d();case 3:c(a,i,{vernacularName:"Common name",question:"What's the common name?",help:u});case 4:case"end":return p.stop()}}),_callee4,this)})));return function renderVernacularQuestions(){return a.apply(this,arguments)}}()(),"species-identification"===v.name&&function(){var a=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var a,i,u,d;return regeneratorRuntime.wrap((function _callee6$(p){for(;;)switch(p.prev=p.next){case 0:return d=function(){var c=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(c){for(;;)switch(c.prev=c.next){case 0:return a={term:h.quickId},c.next=3,$s(t,6);case 3:i=(i=c.sent).map((function(t){return t.quickId})),i=se.a(5,i.filter((function(t){return t!==h.quickId}))),i=(i=o.utils.shuffleArray([h.quickId].concat(multi_strips_toConsumableArray(i)))).map((function(t){return{term:t}})),u=l.isLandscapeMode?"(Select the answer)":"(Tap on the answer)";case 9:case"end":return c.stop()}}),_callee5,this)})));return function buildQuestion(){return c.apply(this,arguments)}}(),p.next=3,d();case 3:c(a,i,{vernacularName:h.vernacularName,question:"Which description fits?",help:u});case 4:case"end":return p.stop()}}),_callee6,this)})));return function renderIdQuestions(){return a.apply(this,arguments)}}()(),"family-strips"!==v.name){$.next=18;break}return p=o.utils.getRandomInt(2),y=0===p?"identification":"summary",l.isPortraitMode,b=4,$.next=10,_n.getFamiliesByIconicTaxon(g.rank,g.value,h.lichen,l);case 10:_=$.sent,x={term:h.family[y],name:h.family.name}||{type:{term:"Missing ".concat(y)},name:h.family.name},S=se.a(b-1,se.a(b,o.utils.shuffleArray(_))).filter((function(t){return t.name.toLowerCase()!==h.taxonomy.family.toLowerCase()})),w=(w=S.filter((function(t){return t[y]&&void 0!==t[y]&&""!==t[y]})).map((function(t){return{type:t[y],name:t.name,names:t.names}}))).map((function(t){return{term:t.type,name:t.name,names:t.names}})),k=o.utils.shuffleArray([x].concat(multi_strips_toConsumableArray(w))),T=l.isLandscapeMode?"(Select the description below.)":"(Tap on the description.)",c(x,k,{question:"Match species family",help:T,clue:h.taxonomy.family});case 18:if("epithet"===v.name&&(E=d.epithet.latin.join(", "),l.isPortraitMode,L=6,A=(A=(A=se.a(L-1,o.utils.shuffleArray(de)).filter((function(t){return!V.a(t.latin,E)}))).map((function(t){return t.en.join(", ")}))).map((function(t){return{term:t}})),O={term:O=(O=de.find((function(t){return t.latin.join(", ").toUpperCase()===E.toUpperCase()})))?O[l.language][0]:E},I=o.utils.shuffleArray([O].concat(multi_strips_toConsumableArray(A))),l.isLandscapeMode?c(O,I,{question:d.epithet.latin.join(", "),help:"(Match the latin term)"}):c(O,I,{question:"Match latin word",help:"",vernacularName:"",binomial:"",term:d.epithet.latin.join(", ")})),"definition"===v.name&&c({term:a.question},a.answers.map((function(t){return{term:t}})),a.overrides),"family"!==v.name){$.next=45;break}return l.isPortraitMode,P=[5,6],$.next=24,_n.getFamiliesByIconicTaxon(g.rank,g.value,h.lichen,l);case 24:j=$.sent,C=h.taxonomy.family,R=se.a(P[0],se.a(P[1],o.utils.shuffleArray(j)).filter((function(t){return t.name.toLowerCase()!==h.taxonomy.family.toLowerCase()}))),N=R.map((function(t){return t.name})),M=R.map((function(t){return t.names[0]})),D=o.utils.getRandomInt(2),$.t0=D,$.next=0===$.t0?33:1===$.t0?39:45;break;case 33:return q={term:h.family.vernacularName},M=M.map((function(t){return{term:t}})),H=o.utils.shuffleArray([q].concat(multi_strips_toConsumableArray(M))),void 0===q&&console.log("Missing question - case 0 - in multi-strips for: ",h.name),c(q,H,{question:"Match family name"}),$.abrupt("break",45);case 39:return q={term:C},N=N.map((function(t){return{term:t}})),H=o.utils.shuffleArray([q].concat(multi_strips_toConsumableArray(N))),void 0===q&&console.log("Missing question - case 1 - in multi-strips for: ",h.name),c(q,H,{question:"Match family name",italicise:!0}),$.abrupt("break",45);case 45:"trait-property"===v.name&&(c({term:a.question},a.answers.map((function(t){return{term:t}})),a.overrides),a.overrides.trait&&"song"===a.overrides.trait.name&&function(){var t=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){var t,i,o,c,l;return regeneratorRuntime.wrap((function _callee7$(u){for(;;)switch(u.prev=u.next){case 0:return(t=document.querySelector(".js-question-help")).innerHTML="",(i=document.createElement("template")).innerHTML=vr.a,o=a.overrides.trait.value[0],u.next=7,_n.getBirdsong(o);case 7:c=u.sent,zt({mp3:c,title:h.name},i.content,t),(l=document.querySelector(".js-test-card-question")).classList.remove("standard-block"),l.classList.add("double-standard-block"),document.querySelector(".js-test-card-content").classList.add("test-card-content-less-standard-block");case 14:case"end":return u.stop()}}),_callee7,this)})));return function renderBirdsong(){return t.apply(this,arguments)}}()()),"mixed-trait-images"===d.name&&(G=i.traits,U=i.requiredTraits,B=i.item,W=i.question,Y=i.help,z=ae.a(G),K=U[0],c(K,z,{binomial:B.name,question:W,help:Y,italicise:!0}));case 47:case"end":return $.stop()}}),_callee8,this)})));return function init(){return c.apply(this,arguments)}}()()}catch(t){console.error("Crashed out somwhere on multi-strips with this error: ",t)}},tc=i(231),rc=i.n(tc),ac=i(232),ic=i.n(ac),oc=i(233),sc=i.n(oc);function mixed_specimen_combined_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function mixed_specimen_combined_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?mixed_specimen_combined_ownKeys(Object(i),!0).forEach((function(a){mixed_specimen_combined_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):mixed_specimen_combined_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function mixed_specimen_combined_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function mixed_specimen_combined_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var cc=function renderMixedSpecimenImagesAndQuestion(t){var a=te.getState(),i=a.config,c=a.lesson,l=a.layout,u=a.score,d=z.a(t.nextItem);if(d){var p=function(){var a=function mixed_specimen_combined_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){mixed_specimen_combined_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){mixed_specimen_combined_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var a,p,m,h,g,v,y,b,_;return regeneratorRuntime.wrap((function _callee$(x){for(;;)switch(x.prev=x.next){case 0:return a=function getPortraitImages(t){return o.utils.flatten(t.map((function(t){var a=0===t.srcs.filter((function(t){return t.starred})).length?se.a(1,o.utils.shuffleArray(t.srcs)):t.srcs.filter((function(t){return t.starred})),c={name:t.itemName,images:a};return sr(c,i,rr.MIXED_SPECIMENS)})))},x.next=3,$s(t);case 3:p=x.sent,m=p.map((function(t,a){return{index:a+1,srcs:t.images,itemName:t.name}})),m=a(m),h=i.islandscapeMode?"Find then click to ID":"Swipe and tap to ID",(g=Oi(t,{vernacularName:d.vernacularName,binomial:d.name,question:h,help:"(Click on the matching photo.)",term:""})).innerHTML="",(v=document.createElement("template")).innerHTML=sc.a,zt({},v.content,g),g=document.querySelector(".js-test-card-container-images"),er({config:i,images:o.utils.shuffleArray(m),parent:g,identifier:"mixed-specimens"}),y=document.querySelector(".js-continue-lesson-btn"),b={},_=[],m.forEach((function(t){_.push({value:t.itemName,url:cr(t).small})})),document.querySelectorAll("#imageSlider_mixed-specimens .carousel-item img").forEach((function(t){t.addEventListener("click",(function(t){var a=t.target.dataset.itemName,o=d.name,m=a||"incorrect",h=m===o;document.createElement("span").innerHTML=h?'<span class="icon"><i class="fas fa-check-circle"></i></span>':'<span class="icon"><i class="fas fa-times-circle"></i></span>';var g=mixed_specimen_combined_objectSpread(mixed_specimen_combined_objectSpread({},u),{},{itemId:d.id,question:o,answer:m,binomial:d.name,questionCount:c.questionCount,layoutCount:c.layoutCount,points:l.points,answers:_,questionText:i.isPortraitMode?"Swipe and tap to ID":"Identify this species",vernacularName:he(d,i)});Ec("image-match",g,(function callback(t,a){if(b.score=t,b.scoreUpdateTimer=a,y.disabled=!1,!t.success){var o=p.find((function(a){return a.name===t.answer}));he(o,i)||t.answer}}),i)}))})),y.addEventListener("click",(function(t){u.success?(window.clearTimeout(b.scoreUpdateTimer),Rc(b.score)):setTimeout((function(){window.clearTimeout(b.scoreUpdateTimer),Rc(b.score)}))}));case 20:case"end":return x.stop()}}),_callee,this)})));return function init(){return a.apply(this,arguments)}}();try{p()}catch(t){logError("renderMixedSpecimenImagesAndQuestion init",t)}}},lc=i(106),uc=i.n(lc);i(234);i(235);var dc=function renderMixedSpecimenQuestion(t,a){var i=te.getState();i.config,i.layout;cc(t)};function bonus_test_toConsumableArray(t){return function bonus_test_arrayWithoutHoles(t){if(Array.isArray(t))return bonus_test_arrayLikeToArray(t)}(t)||function bonus_test_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function bonus_test_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return bonus_test_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return bonus_test_arrayLikeToArray(t,a)}(t)||function bonus_test_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bonus_test_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var pc=function renderBonusTest(t){var a=z.a(te.getState().collection);a.nextItem=t.item,t.overrides&&t.overrides.trait&&"lookalikes"===t.overrides.trait.name?(a.items=[].concat(bonus_test_toConsumableArray(t.overrides.trait.lookalikes),[a.nextItem]),dc(a)):nc(a,t)},mc=function renderItemSpecimenTiles(t){var a=te.getState(),i=a.config,c=a.collection,l=a.layout;if(!(l.itemIndex===l.prevItemIndex&&!!document.querySelector(".js-tiles"))){var u,d,p=c.allItems||c.items;if(V.a(l.screens[1].name,["family-strips","family","taxon-card"])){var m=p.filter((function(a){return a.family.name.toLowerCase()===t.taxonomy.family.toLowerCase()}));d=(u=se.a(6,o.utils.shuffleArray(hc(m,i,rr.SPECIES_CARD)))).map((function(t){return p.find((function(a){return a.name===t.itemName}))}))}else u=se.a(6,o.utils.shuffleArray(z.a(t.images))),u=sr({name:t.name,itemCommon:t.itemCommon,images:u},i,rr.SPECIES_CARD),d=[t];u=u.map((function(t){return cr(t,rr.VISUAL_MATCH,i)})),fc({items:d},u,t)}},fc=function renderSpecimenImageTiles(t,a,i){var o=te.getState(),c=o.layout,l=o.config,u=["specimen-images","trait-images"];if(c.screens.find((function(t){return V.a(t.name,u)}))){var d=document.createElement("template");d.innerHTML=uc.a;var p=ie.leftBody;p.innerHTML="",snapLog("renderSpecimenImageTiles, image medium values:",a.map((function(t){return t.medium}))),zt({images:a},d.content,p),lr(document.querySelectorAll(".js-tiles .square"),i,t,l)}},hc=function getImagesFromItemFamily(t,a,i){var o;if((o=ae.a(t.map((function(t){return{images:t.images,item:{name:t.name,itemCommon:t.names[0].vernacularName,vernacularName:t.names[0].vernacularName,names:t.names}}})))).length<6){var c=o.map((function(a){var i=t.find((function(t){return t.name===a.item.name}));return{images:i.images,item:{name:i.name,itemCommon:i.names[0].vernacularName,vernacularName:i.names[0].vernacularName,names:i.names}}}));ae.a(c).forEach((function(t){t.images.forEach((function(a){o.push({images:t.images,item:t.item})}))}))}o.map((function(t){return t.item})).forEach((function(a){var i=a.name;a.images=t.find((function(t){return t.name===i})).images}));var l=[],u=[];return o.forEach((function(t,o){var c=function getUniqueImage(t,a,i){var o=t.images.find((function(t){return t.starred}));return o&&(o=V.a(o.title,i.map((function(t){return t.title})))?null:o),o||(o=t.images[a])&&!V.a(o.title,i.map((function(t){return t.title})))?(i.push(o),o):void 0}(t,o,l);c&&u.push(or(c,o,t.item,a,i))})),u},gc=i(236),vc=i.n(gc);function mixed_trait_question_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var yc=i(237),bc=i.n(yc);function horizontal_strips_toConsumableArray(t){return function horizontal_strips_arrayWithoutHoles(t){if(Array.isArray(t))return horizontal_strips_arrayLikeToArray(t)}(t)||function horizontal_strips_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function horizontal_strips_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return horizontal_strips_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return horizontal_strips_arrayLikeToArray(t,a)}(t)||function horizontal_strips_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function horizontal_strips_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var _c=[{name:"mixed-specimen-questions",func:cc},{name:"non-taxon-specimen-tiles",func:function renderNonTaxonCardSpecimenTiles(t){var a=te.getState().config;t.nextItem&&function subscribeToNonTaxaSelection(t){Ea.push(t)}((function callback(i){var o=document.createElement("template");o.innerHTML=uc.a;var c=ie.leftBody;c.innerHTML="",zt({images:i},o.content,c),lr(document.querySelectorAll(".js-tiles .square"),null,t,a)}))}},{name:"text-entry",func:function renderTextEntry(t){var a=te.getState().layout.screens.filter((function(t){return"text-entry"===t.name}))[0],i=t.nextItem;if(a){i.vernacular=i.vernacularName;var c="name"===a.taxon?i.name:"vernacular"===a.taxon?i.vernacularName:i.taxonomy[a.taxon];!function renderInput(t,a){var i,c,l,u=te.getState(),d=u.lessonPlan,p=u.collection,m=u.config,h=u.layout,g=p.nextItem;switch(l="Complete the latin name",a.taxon){case"genus":i=g.vernacularName,c=c="--- ".concat(a.species),l="Enter the genus name";break;case"species":i=g.vernacularName,c=c="".concat(a.genus," ---"),l="Enter the species name";break;case"name":i=g.vernacularName,c=c="--- ---",l="Enter full latin name";break;case"vernacular":i="--- ---",c=g.name,l="Enter the common name"}var v=m.isLandscapeMode?"(Complete the name below.)":"(Scroll to see more images.)",y=Oi(p,{vernacularName:i,binomial:c,question:l,help:v,term:""}),b=document.createElement("template");b.innerHTML=m.isLandscapeMode?Ws.a:Vs.a,zt({},b.content,y);var _=document.querySelector(".js-txt-input"),x=document.querySelector(".js-help-txt");switch(a.taxon){case"genus":_.setAttribute("placeholder","Enter genus name"),x.innerHTML="--- ".concat(a.species);break;case"species":_.setAttribute("placeholder","Enter species name"),x.innerHTML="".concat(o.utils.capitaliseFirst(a.genus)," ---");break;case"name":_.setAttribute("placeholder","Enter latin name"),x.innerHTML="--- ---";break;case"vernacular":_.setAttribute("placeholder","Enter common name"),x.innerHTML="-----"}var S={},w=document.querySelector(".js-check-answer"),k=function callback(t,a){S.scoreUpdateTimer=a,S.score=t};(m.isLandscapeMode&&w.addEventListener("click",(function scoreEventHandler(t){t.preventDefault();var i=document.querySelector(".js-txt-input").value,o={itemId:g.id,question:a,answer:i,target:t.target,layoutCount:d.layouts.length,points:h.points,names:g.vernacularNames,questionText:l,answers:[a.question,i]};Ec("text",o,k,m),w&&(w.disabled=!0),document.querySelector(".js-continue-lesson-btn").disabled=!1,x&&(x.innerHTML="vernacular"===a.taxon?g.vernacularName:g.name)}),{once:!0}),m.isPortraitMode?zs(g,m):Ks(g,m,a),document.querySelector(".js-continue-lesson-btn").addEventListener("click",(function(t){window.clearTimeout(S.scoreUpdateTimer),Rc(S.score)}),{once:!0}),m.isPortraitMode)&&(document.querySelector(".js-attribution-layer").classList.add("hide-important"),document.querySelector(".js-carousel-indicators").classList.add("hide-important"))}(0,{binomial:i.name,species:i.taxonomy.species,genus:i.taxonomy.genus,taxon:a.taxon,question:c,common:i.vernacularName})}}},{name:"species-card",func:da},{name:"species-scientifics",func:nc},{name:"species-vernaculars",func:nc},{name:"species-identification",func:nc},{name:"summary",func:function renderSummary(t){Tc.remove(Tc.getByName("renderSummary"));var a=te.getState().collection;Ti(a.id)}},{name:"history",func:function renderHistory(t){te.getState().collection;ps()}},{name:"epithet",func:nc},{name:"definition",func:pc},{name:"family",func:nc},{name:"family-strips",func:nc},{name:"taxon-card",func:ba},{name:"non-taxon-card",func:La},{name:"text-complete",func:function renderCompleteText(t){var a=t.nextItem,i=te.getState(),c=i.layout,l=i.config,u=i.lessonPlan,d=c.screens.filter((function(t){return"text-complete"===t.name}))[0];if(d){var p,m,h,g,v,y,b;switch(v=a.vernacularName,y=a.name,b="Complete the latin name",d.type){case"text-complete-genus":p=a.taxonomy.genus,m="---",h=a.taxonomy.species,y="--- ".concat(a.taxonomy.species),g="genus",b="Select genus name";break;case"text-complete-species":p=a.taxonomy.species,m=a.taxonomy.genus,h="---",y="".concat(a.taxonomy.genus," ---"),g="species",b="Select species name"}var _=Oi(t,{vernacularName:v,binomial:y,question:b,help:"(Select the name below.)",term:""}),x=document.createElement("template");x.innerHTML=rc.a;var S=l.isPortraitMode?4:5,w=t.items.map((function(t){switch(g){case"genus":return t.taxonomy.genus;case"species":return t.taxonomy.species;default:return t.name}})),k=se.a(S,o.utils.shuffleArray(w).filter(o.utils.onlyUnique).filter((function(t){return t!==a.taxonomy[g]}))).filter((function(t){return void 0!==t}));k.push(a.taxonomy[g]);var T=o.utils.shuffleArray(k);T=T.map((function(t,a){return{index:a,value:t}})),zt({genus:m,species:h,answers:T},x.content,_),setTimeout((function(){document.querySelectorAll(".pool .block")[0].focus()}),1e3);var E={itemId:a.id,binomial:a.name,question:a.taxonomy[g],callbackTime:l.callbackTime,layoutCount:u.layouts.length,points:c.points},L=function callback(t,a,i){var o=t.success?"answer-box-success":"answer-box-alert",c=t.success?'<span class="icon"><i class="fas fa-check"></i></span>':'<span class="icon"><i class="fas fa-times"></i></span>',l=t.success?"Correct":"Incorrect";document.querySelector(".js-txt-question").innerHTML='<div class="'.concat(o,'"><span>').concat(c,"</span><span>").concat(l,"</span</div>"),document.querySelectorAll(".block span").forEach((function(a){a.innerText===t.answer&&(t.success?a.parentElement.classList.add("snap-success"):a.parentElement.classList.add("snap-alert")),a.innerText===t.question&&a.parentElement.classList.add("snap-success")})),Ac(document.querySelector(".js-continue-lesson-btn"),t,a)};document.querySelectorAll(".js-pool button").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var i=t.target.innerText;p===a.taxonomy.species?document.querySelector(".species").innerText=i:document.querySelector(".genus").innerText=i,E.answer=i,E.answers=T,E.questionText=b,Ec("block",E,L,l)}))}))}}},{name:"cultivar-card",func:function renderCultivarCard(t){var a=t.nextItem,i=te.getState(),o=i.lessonPlan,c=(i.layout,i.config),l=o.layouts.find((function(t){return"screen-cultivar-card"===t.name})).cultivars.subspecies.map((function(t){var a=t.names.find((function(t){return t.language===c.language}));return{vernacular:(a=a||t.names.find((function(t){return"en"===t.language}))).vernacularName||"",variety:t.variety||"",form:t.form||"",eol:a.eol||"",eolAlt:a.eol||"N/A",wiki:a.wiki||"",wikiAlt:a.wiki||"N/A"}})),u=document.createElement("template");u.innerHTML=ic.a;var d=ie.rightBody;d.innerHTML="",zt({rank:"cultivar",item:a,cultivars:l},u.content,d),document.querySelectorAll('[title="N/A"]').forEach((function(t){return t.style.display="none"}))}},{name:"visual-match",func:nc},{name:"trait-images",func:function renderBonusSpecimenTiles(t){var a=z.a(te.getState().collection);a.nextItem=t.item,a.nextItem=a.nextItem||a.items[a.itemIndex];var i=t.item&&t.overrides.trait.lookalikes?t.overrides.trait.lookalikes.length+1:0;if(i>0);else!function renderSpecimenTiles(t){var a=t.nextItem;a&&mc(a)}(a)}},{name:"trait-property",func:pc},{name:"lookalike-property",func:pc},{name:"symbiotic-property",func:nc},{name:"mixed-specimen-question",func:dc},{name:"mixed-specimen-images",func:dc},{name:"birdsong",func:pc},{name:"media-players",func:function renderMediaPlayers(t){document.querySelectorAll(".media-audio-players")}},{name:"mixed-trait-question",func:function renderMixedTraitQuestion(t){(function(){var t=function mixed_trait_question_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){mixed_trait_question_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){mixed_trait_question_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var t,a,i,c,l;return regeneratorRuntime.wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:t=te.getState(),a=t.layout,i=t.collection,t.config,document.createElement("template").innerHTML=vc.a,c=i.nextItem,"Match the trait",l="Select the correct ".concat(o.utils.fromCamelCase(a.trait)),Oi(i,{vernacularName:c.vernacularName,binomial:c.name,question:"Match the trait",help:l,term:""}),nc(i,null,{traits:a.traits,requiredTraits:a.requiredTraits,item:c,question:"Match the trait",help:l});case 8:case"end":return u.stop()}}),_callee,this)})));return function init(){return t.apply(this,arguments)}})()()}},{name:"provider-horizontal-strip-questions",func:function renderHorizontalStrips(t){var a=te.getState(),i=a.config,c=a.lesson,l=a.layout,u=t.nextItem||t.items[t.itemIndex],d=l.provider.name||l.provider.taxon,p=l.provider.statement,m=l.provider.question,h=Oi(t,{vernacularName:u.vernacularName,binomial:d,question:"",help:"",term:"",className:"",headerClassName:"",bonus:void 0,statement:p,providerQuestion:m}),g=document.createElement("template");g.innerHTML=bc.a;var v=o.utils.shuffleArray([].concat(horizontal_strips_toConsumableArray(l.provider.answers),[l.provider.answer]));v=v.map((function(t,a){return{term:t,index:a}})),zt({answers:v},g.content,h),document.querySelector(".js-test-card-question").classList.add("calendar-block"),document.querySelector(".js-test-card-question").classList.remove("standard-block");var y=document.querySelectorAll(".js-rptr-strips .strip"),b={name:u.taxonomy.family,binomial:u.name,question:l.provider.answer.term},_={itemId:u.id,items:y,taxon:b,binomial:u.name,questionCount:c.questionCount,vernacularName:u.vernacularName,layoutCount:c.layoutCount,points:l.points,clue:"",answerIndex:v.findIndex((function(t){return t.term===l.provider.answer})),answers:v,questionText:m,statement:p};Ec("strip",_,null,i)}}];function subscriptions_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function subscriptions_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?subscriptions_ownKeys(Object(i),!0).forEach((function(a){subscriptions_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):subscriptions_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function subscriptions_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var xc=[],Sc=function remove(t){return t&&(t.unsubscribe(),xc=xc.filter((function(a){return a.name!==t.name}))),xc},wc=function getByName(t){return xc.find((function(a){return a.name===t}))},kc=function getByRole(t){return xc.filter((function(a){return a.role===t}))},Tc={add:function add(t,a,i,o){var c=function observeStore(t,a,i,o,c){var l=null,u=!1;function handleChange(){var o=a(t.getState());if(u=o!==l,l&&Object.is(l.index,0)){var d=!0;d=(d=d&&Object.is(o.index,l.index))&&Object.is(o.isLessonPaused,l.isLessonPaused),u=!d}if(l&&o)switch(c){case"screen-species-card":case"screen-taxon-card":case"screen-non-taxon-card":case"species-vernaculars":case"mixed-specimen-images":case"mixed-specimen-question":case"screen-common-to-latin":case"screen-genus-completion":case"screen-latin-to-common":case"media-match":u=(o.nextItem&&o.nextItem.name)!==(l.nextItem&&l.nextItem.name)}u&&i(l=o)}handleChange.domain=o,handleChange.calledBy=i.name;var d=t.subscribe(handleChange);return u&&handleChange(),{unsubscribe:d,name:i.name}}(te,(function select(t){return t[a]}),t,a,o);if(!wc(c.name))return xc.push(subscriptions_objectSpread(subscriptions_objectSpread({},c),{},{role:i})),c},remove:Sc,removeByName:function removeByName(t){var a=wc(t);if(a)return Sc(a)},getByName:wc,getByRole:kc,getAll:function getAll(){return xc},removeSubs:function removeSubs(){kc("screen").forEach((function(t){return Tc.remove(t)}))},addSubs:function addSubs(t,a){t&&t.screens.forEach((function(i,o){var c=function funcByName(t){var a=_c.find((function(a){return a.name===t}));return a?a.func:null}(i.name),l=function checkRequired(t,a){var i=t.userAction,o=t.config,c=!0;return!!(c=Dt(i,o,c))||!V.a(a.name,["screen-species-card","screen-taxon-card","screen-non-taxon-card","species-vernaculars","mixed-specimen-images","mixed-specimen-question","screen-common-to-latin","screen-genus-completion","screen-latin-to-common","media-match"])}(te.getState(),t);c&&l?a.isPortraitMode&&1!==o&&"summary"!==i.name||Tc.add(c,i.domain,"screen",t?t.name:""):(Tc.remove(Tc.getByName("nextItem")),Tc.remove(Tc.getByName("traitValuesHandler")))}))}};function score_handler_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function score_handler_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?score_handler_ownKeys(Object(i),!0).forEach((function(a){score_handler_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):score_handler_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function score_handler_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Ec=function scoreHandler(t,a,i,o){switch(t){case"radio":case"text":return Ic(a,i,o);case"block":Pc(a,i,o);break;case"strip":jc(a,i,o);break;case"image":Cc(a,i,o);break;case"image-match":Oc(a,i,o)}},Lc=function showResponseToAnswerHandler(t){var a=document.querySelector(t.container)||document.querySelector(".js-txt-question");a&&(a.innerHTML=function renderScoreHTMLResponse(t){return t.success?'<div class="answer-box-success">\n                <span class="icon"><i class="fas fa-check"></i></span><span class="answer-response">'.concat(t.correct,"</span>\n                </div>"):'<div class="answer-box-alert">\n                <span class="icon"><i class="fas fa-times"></i></span><span class="answer-response">'.concat(t.answer||t.incorrect,"</span>\n            </div>")}(t))},Ac=function continueLessonHandler(t,a,i){t.disabled=!1,t.style.cursor="pointer",t.addEventListener("click",(function(o){t.disabled=!0,window.clearTimeout(i),Tc.removeSubs(),Rc(a)}))},Oc=function simpleScoreHandler(t,a,i){var o=Lt(t),c=o.success?i.callbackTime:i.callbackTime+i.callbackDelay;Tc.removeSubs();var l=setTimeout((function(){Rc(o)}),c);a?a(o,l):Ac(document.querySelector(".js-continue-lesson-btn"),o,l);Lc({success:o.success,correct:"Correct",incorrect:"Incorrect"})},Ic=function genericScoreHandler(t,a,i){var o=t.itemId,c=t.question,l=t.answer,u=(t.target,t.layoutCount),d=t.points,p=t.names,m=t.questionText,h=t.answers,g=score_handler_objectSpread(score_handler_objectSpread({itemId:o},c),{},{answer:l,points:d,names:p,questionText:m,answers:h}),v=Lt(g);g.names&&g.names.length>0?g.names[0]:g.binomial;"genus"===v.taxon&&v.genus,"species"===v.taxon&&v.species,"name"===v.taxon&&v.binomial,"family"===v.taxon&&v.question;var y=window.matchMedia("(max-height: 568px)").matches?".js-check-answer":".js-txt-question";Lc({success:v.success,correct:"Correct",incorrect:"Incorrect",container:y,answer:v.question}),v.layoutCount=u;var b=v.success?i.callbackTime:i.callbackTime+i.callbackDelay;Tc.removeSubs();var _=setTimeout((function(){Rc(v)}),b);return a&&a(v,_),{score:v,scoreUpdateTimer:_}},Pc=function blockScoreHander(t,a,i){var o=Lt(t),c=o.success?i.callbackTime:i.callbackTime+i.callbackDelay;Tc.removeSubs();var l=setTimeout((function(){Rc(o)}),c);a(o,l,i)},jc=function stripScoreHandler(t,a,i){var o=t.items,c=t.taxon,l=function handleClickEvent(l){l.preventDefault();var u=l.target;if(!kt(u,"disabled")){var d=u,p=d.innerText.trim(),m=d.dataset.answerIndex,h=d.dataset.name,g=u.dataset.vernacular;t.taxon="name",t.vernacular=g,t.question=c.question,t.answer=h&&""!==h?{term:p,name:h}:p;var v=Lt(score_handler_objectSpread(score_handler_objectSpread({},t),{},{answeredIndex:parseInt(m),answers:[]}));if(u.classList.add(v.colour),o.forEach((function(t){var a=t.querySelector("button"),i=parseInt(a.dataset.answerIndex),o=a.dataset.name||"";""===a?v.answers.push(a.innerText):v.answers.push({term:a.innerText,name:o}),i===v.answerIndex?t.classList.add("snap-success"):i===v.answeredIndex&&t.classList.add("snap-alert")})),a)a(v);else{!function _callback(t){var a=t.success?i.callbackTime:i.callbackTime+i.callbackDelay,o=setTimeout((function(){Tc.removeSubs(),Rc(t)}),a);Ac(document.querySelector(".js-continue-lesson-btn"),t,o),"family-strips"===screen.name&&(document.querySelector(".js-question-question").innerHTML=item.taxonomy.family,document.querySelector(".js-question-help").classList.add("hide"))}(v)}Lc({success:v.success,correct:"Correct",incorrect:"Incorrect"}),o.forEach((function(t){return t.classList.add("disabled")}))}};o.forEach((function(t){t.addEventListener("click",l)})),window.addEventListener("keydown",(function(t){"Enter"===t.key&&l(t)}),{once:!0})},Cc=function imageScoreHandler(t,a,i){var o=t.items,c=t.taxon;o.forEach((function(l){l.addEventListener("click",(function(u){var d=u.target,p=d.dataset.answer;if(p){t.taxon="name",t.question=c.name,t.answer=p;var m=Lt(t);l.style.filter="saturate(100%)",d.parentNode.style.filter="saturate(100%)",o.forEach((function(t){t.style.filter="saturate(10%)",t.style.opacity=.3,t.dataset.answer.trim().toLowerCase()===c.name.trim().toLowerCase()&&(t.style.filter="saturate(100%)",t.style.opacity=1)}));var h=m.success?i.callbackTime:i.callbackTime+i.callbackDelay;Tc.removeSubs();var g=setTimeout((function(){Rc(m)}),h);a&&a(m,g)}}))}))},Rc=function bindScore(t){var a=te.getState().collection;t.collectionId=a.id,at(t)};function mixed_trait_handler_toConsumableArray(t){return function mixed_trait_handler_arrayWithoutHoles(t){if(Array.isArray(t))return mixed_trait_handler_arrayLikeToArray(t)}(t)||function mixed_trait_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||mixed_trait_handler_unsupportedIterableToArray(t)||function mixed_trait_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mixed_trait_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function mixed_trait_handler_slicedToArray(t,a){return function mixed_trait_handler_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function mixed_trait_handler_iterableToArrayLimit(t,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],o=!0,c=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done)&&(i.push(u.value),!a||i.length!==a);o=!0);}catch(t){c=!0,l=t}finally{try{o||null==d.return||d.return()}finally{if(c)throw l}}return i}(t,a)||mixed_trait_handler_unsupportedIterableToArray(t,a)||function mixed_trait_handler_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mixed_trait_handler_unsupportedIterableToArray(t,a){if(t){if("string"==typeof t)return mixed_trait_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?mixed_trait_handler_arrayLikeToArray(t,a):void 0}}function mixed_trait_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var Nc=[],Mc=[],qc={},Hc=function callback(t,a){var i=document.querySelector(".js-continue-lesson-btn");i.disabled=!1,qc.score=t,qc.scoreUpdateTimer=a,i.addEventListener("click",(function(){window.clearTimeout(qc.scoreUpdateTimer),Rc(qc.score)}))},Dc={getMatchingTrait:function getMatchingTrait(t,a){try{for(var i,c,l=function _loop(){var a=mixed_trait_handler_slicedToArray(d[u],2),l=a[0],p=a[1];t.map((function(t){t.toLowerCase()===o.utils.toCamelCase(l).toLowerCase()&&(i=p.value.map((function(t){return t.toLowerCase()})),c=t)}))},u=0,d=Object.entries(a);u<d.length;u++)l();return{requiredTraitValues:i,trait:c}}catch(t){return logError(getMatchingTrait,t),{requiredTraitValues:[],trait:{}}}},fetchTraits:function(){var t=function mixed_trait_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){mixed_trait_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){mixed_trait_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t,a,i){var c,l,u,d;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:return c=te.getState().glossary,p.next=3,_n.getTraitDefinitions(c,i,t);case 3:if((l=p.sent).forEach((function(t){return t.term=t.term.toLowerCase(),t.alt&&(t.alt=t.alt.toLowerCase()),t})),a){p.next=7;break}return p.abrupt("return",{traits:null,requiredTraits:null});case 7:return u=(u=Ae.getNMultiplesFromArray(l.map((function(t){return t.term})),a.length)).filter((function(t){return!Ae.doArraysHaveSameValues(t,a)})),d=l.filter((function(t){return V.a(t.term,a)})),u=o.utils.shuffleArray([].concat(mixed_trait_handler_toConsumableArray(se.a(5,u)),[a])),l=u.map((function(t){return t.map((function(t){return l.find((function(a){return a.term===t}))}))})),Nc.forEach((function(t){return t(l,d)})),p.abrupt("return",{traits:l,requiredTraits:d});case 14:case"end":return p.stop()}}),_callee,this)})));return function fetchTraits(a,i,o){return t.apply(this,arguments)}}(),onTraitsReady:function onTraitsReady(t){Nc.push(t)},onTraitClicked:function onTraitClicked(t){Mc.push(t)},onClickTileHandler:function onClickTileHandler(t,a,i){var o=te.getState(),c=o.config,l=o.lesson,u=o.collection.nextItem;t.addEventListener("click",(function(t){var o=t.currentTarget,d=Array.from(o.querySelectorAll("img")).map((function(t){return t.dataset.term})),p=Array.from(i).map((function(t){return t.querySelector("img").dataset})).map((function(t){return{value:t.term,url:t.url}})),m={points:0,binomial:u.name,trait:!0,question:a.map((function(t){return t.term})),answer:d,questionCount:l.questionCount,layoutCount:l.layoutCount,answers:p,questionText:"Match the trait"};Ec("image-match",m,Hc,c),i.forEach((function(t){Ae.doArraysHaveSameValues(Array.from(t.querySelectorAll("img")).map((function(t){return t.dataset.term})),a.map((function(t){return t.term})))||t.querySelectorAll("img").forEach((function(t){return t.classList.add("desaturate")}))}))}))}};function screen_layouts_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function screen_layouts_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?screen_layouts_ownKeys(Object(i),!0).forEach((function(a){screen_layouts_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):screen_layouts_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function screen_layouts_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Gc={name:"specimen-images",domain:"collection"},Uc={name:"species-card",domain:"collection"},Bc={name:"species-vernaculars",domain:"collection",taxon:"name"},Fc={name:"species-scientifics",domain:"collection",taxon:"name"},Wc={name:"text-entry",domain:"collection"},Yc={name:"leaf-image",domain:"collection"},Vc={name:"leaf-text",domain:"collection"},zc={name:"family",domain:"collection"},Kc={name:"family-strips",domain:"collection"},$c={name:"taxon-card",domain:"collection"},Xc={name:"non-taxon-card",domain:"collection"},Qc={name:"text-complete",domain:"collection",question:"Complete the latin name"},Jc={name:"cultivar-match",domain:"collection"},Zc={name:"cultivar-card",domain:"collection"},el={name:"epithet",domain:"collection"},nl={name:"definition",domain:"bonusLayout"},tl={name:"visual-match",domain:"collection",type:"vernacular"},rl={name:"visual-match",domain:"collection",type:"binomial"},al={name:"definition-card",domain:"collection"},il={name:"trait-property",domain:"bonusLayout"},ol={name:"symbiotic-property",domain:"collection"},sl={name:"lookalike-property",domain:"bonusLayout"},cl={name:"trait-images",domain:"bonusLayout"},ll={name:"non-taxon-specimen-tiles",domain:"collection"},ul={name:"mixed-specimen-questions",domain:"collection"},dl={name:"mixed-specimen-images",domain:"collection"},pl={name:"mixed-specimen-question",domain:"collection"},ml={name:"history",domain:"history"},fl={name:"summary",domain:"history"},hl={name:"birdsong",domain:"bonusLayout"},gl={name:"mixed-trait-images",domain:"collection"},vl={name:"mixed-trait-question",domain:"collection"},yl={name:"provider-horizontal-strip-questions",domain:"collection"},bl={name:"species-identification",domain:"collection",taxon:"name"},_l={name:"screen-mixed-species-match",type:"test",score:1,kind:"VMC",points:3,given:"Given species name",requirement:"Select species image",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},ul)]},xl={name:"screen-species-card",type:"revision",score:0,kind:"S",points:0,given:"Given species summary",requirement:"Study species",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},Uc)]},Sl={name:"screen-taxon-card",type:"revision",score:0,kind:"F",points:0,given:"Study",requirement:"Family summary",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},$c)]},wl={name:"screen-non-taxon-card",type:"revision",score:0,kind:"GR",points:0,given:"Group summary",requirement:"Study",screens:[screen_layouts_objectSpread({},ll),screen_layouts_objectSpread({},Xc)]},kl={name:"screen-definition-card",type:"revision",score:0,kind:"G",points:0,given:"Given glossary",requirement:"Study definitions",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},al)]},Tl={name:"screen-latin-to-common",type:"test",score:1,points:1,kind:"MC",given:"Given latin name",requirement:"Select common name",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},Bc)]},El={name:"screen-common-to-latin",type:"test",score:1,points:1,kind:"MC",given:"Given common name",requirement:"Select latin name",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},Fc)]},Ll={name:"screen-species-identification",type:"test",score:1,points:1,kind:"MC",given:"Given species name",requirement:"Select identification",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},bl)]},Al={name:"screen-genus-completion",type:"test",score:1,points:1,kind:"MC",given:"Given species name",requirement:"Select genus name",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread(screen_layouts_objectSpread({},Qc),{},{type:"text-complete-genus"})]},Ol={name:"screen-specimens-common-match",type:"test",score:1,points:1,kind:"VMC",given:"Given specimenImages images",requirement:"Select common name",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},tl)]},Il={name:"screen-specimens-latin-match",type:"test",score:1,points:1,kind:"VMC",given:"Given specimenImages images",requirement:"Select latin name",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},rl)]},Pl={name:"trait-property-match",type:"test",score:1,points:1,kind:"MC",bonus:!0,given:"Given traitImages images",requirement:"Select trait value",screens:[screen_layouts_objectSpread({},cl),screen_layouts_objectSpread({},il)]},jl={name:"lookalike-property-match",type:"test",score:1,points:1,kind:"MC",bonus:!0,given:"Given traitImages images",requirement:"Select trait value",screens:[screen_layouts_objectSpread({},cl),screen_layouts_objectSpread({},sl)]},Cl={name:"symbiotic-property-match",type:"test",score:1,points:1,kind:"MC",given:"Given specimenImages images",requirement:"Select symbiotic match",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},ol)]},Rl={name:"screen-species-to-family",type:"test",score:1,points:2,kind:"MC",given:"Species name",requirement:"List families",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},zc)]},Nl={name:"screen-cultivar-to-species",type:"test",score:1,points:2,kind:"MC",given:"Cultivar name",requirement:"List species",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},Jc)]},Ml={name:"screen-family-to-description",type:"test",score:1,points:2,kind:"MC",given:"Family description",requirement:"List families",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},Kc)]},ql={name:"screen-genus-entry",type:"test",score:1,points:2,kind:"T",given:"Given species name",requirement:"Enter genus name",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread(screen_layouts_objectSpread({},Wc),{},{taxon:"genus"})]},Hl={name:"screen-species-entry",type:"test",score:1,points:2,kind:"T",given:"Given genus name",requirement:"Enter species name",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread(screen_layouts_objectSpread({},Wc),{},{taxon:"species"})]},Dl={name:"screen-binomial-entry",type:"test",score:1,points:4,kind:"T",given:"Given common name",requirement:"Enter latin name",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread(screen_layouts_objectSpread({},Wc),{},{taxon:"name"})]},Gl={type:"test",score:1,points:3,kind:"T",screens:[screen_layouts_objectSpread({},Yc),screen_layouts_objectSpread({},Vc)]},Ul={name:"screen-species-completion",type:"test",score:1,points:2,kind:"MC",given:"Given genus name",requirement:"Select species name",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread(screen_layouts_objectSpread({},Qc),{},{type:"text-complete-species"})]},Bl={name:"screen-common-entry",type:"test",score:1,points:2,kind:"T",given:"Species latin name",requirement:"Enter common name",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread(screen_layouts_objectSpread({},Wc),{},{taxon:"vernacular"})]},Fl={name:"screen-epithets",type:"test",score:1,points:1,kind:"MC",given:"Epithet",requirement:"List epithet definitions",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},el)]},Wl={mixedSpeciesMatch:_l,speciesRevision:xl,taxonRevision:Sl,nonTaxonRevision:wl,definitionRevision:kl,latinToCommonMatch:Tl,commonToLatinMatch:El,textCompleteGenus:Al,multiSpecimenCommonMatch:Ol,multiSpecimenLatinMatch:Il,traitPropertyMatch:Pl,lookalikePropertyMatch:jl,symbioticPropertyMatch:Cl,familyMatch:Rl,cultivarMatch:Nl,familyStripsMatch:Ml,genusEntry:ql,speciesEntry:Hl,speciesGenusEntry:Dl,textCompleteSpecies:Ul,commonEntry:Bl,leafEntry:Gl,glossaryTerms:{name:"screen-definitions",type:"test",score:1,points:1,kind:"T",given:"Given glossary term",requirement:"Select definition",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},nl)]},latinEpithets:Fl,cultivars:{name:"screen-cultivars",type:"test",score:1,points:1,kind:"T",given:"List of cultivars",requirement:"List of species",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},Zc),screen_layouts_objectSpread({},Jc)]},mixedSpecimenImages:{name:"mixed-specimen-images",type:"test",score:1,points:2,kind:"T",given:"Specimen images",requirement:"Select species image",screens:[screen_layouts_objectSpread({},dl),screen_layouts_objectSpread({},pl)]},history:ml,summary:fl,mediaMatch:{name:"media-match",type:"test",score:1,points:2,kind:"T",given:"Species song",requirement:"Select species",screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},hl)]},mixedTraitImages:{name:"mixed-trait-images",type:"test",kind:"T",score:1,points:2,given:"Trait images",requirement:"Select trait image",screens:[screen_layouts_objectSpread({},gl),screen_layouts_objectSpread({},vl)]},providerHorizontalStrip:{name:"provider-horizontal-strip",type:"test",score:1,screens:[screen_layouts_objectSpread({},Gc),screen_layouts_objectSpread({},yl)]},speciesIdentificationMatch:Ll,propertyTrait:function propertyTrait(t,a){var i=z.a(t);return i.screens[0].traits=a,i.screens[1].traits=a,i}};function round_planner_toConsumableArray(t){return function round_planner_arrayWithoutHoles(t){if(Array.isArray(t))return round_planner_arrayLikeToArray(t)}(t)||function round_planner_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function round_planner_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return round_planner_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return round_planner_arrayLikeToArray(t,a)}(t)||function round_planner_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function round_planner_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function round_planner_typeof(t){return(round_planner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function round_planner_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function round_planner_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?round_planner_ownKeys(Object(i),!0).forEach((function(a){round_planner_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):round_planner_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function round_planner_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function round_planner_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function round_planner_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){round_planner_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){round_planner_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Yl=function createNextRound(t,a,i,c,l){return function(){var u=round_planner_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var u,d,p,m,h,g,v,y,b,_,x,S,w,k,T;return regeneratorRuntime.wrap((function _callee3$(E){for(;;)switch(E.prev=E.next){case 0:if(t.layouts=[],u=l.moduleSize,d=l.name,p=l.level.name,m=(l.currentRound-1)*u,h=c.items.length-m,g=u>h?h:u,v=oe(l.currentRound,u,c.items.map((function(t){return t.name}))),a.forEach(function(){var a=round_planner_asyncToGenerator(regeneratorRuntime.mark((function _callee2(a,i){var l,u;return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:l=0;case 1:if("mixed-trait-images"!==a.name){i.next=8;break}return i.delegateYield(regeneratorRuntime.mark((function _callee(){var i,u,m,h,g,y,b,_;return regeneratorRuntime.wrap((function _callee$(x){for(;;)switch(x.prev=x.next){case 0:if(i=c.items.find((function(t){return t.name===v[l]})),u=Dc.getMatchingTrait(o.utils.shuffleArray(a.screens[1].traits),i.traits),m=u.requiredTraitValues,h=u.trait){x.next=4;break}return x.abrupt("return",{v:void 0});case 4:return x.next=6,Dc.fetchTraits(h,m,c.glossary);case 6:if(g=x.sent,y=g.traits,(b=g.requiredTraits)&&y){x.next=11;break}return x.abrupt("return",{v:void 0});case 11:a.trait=h,a.traits=y,a.requiredTraits=b,_=["n/a","none"],!!b.find((function(t){return!V.a(t.term.toLowerCase(),_)}))&&t.layouts.push(round_planner_objectSpread(round_planner_objectSpread({},a),{},{lessonName:d,levelName:p,speciesName:v[l]}));case 17:case"end":return x.stop()}}),_callee,this)}))(),"t0",3);case 3:if("object"!==round_planner_typeof(u=i.t0)){i.next=6;break}return i.abrupt("return",u.v);case 6:i.next=9;break;case 8:t.layouts.push(round_planner_objectSpread(round_planner_objectSpread({},a),{},{lessonName:d,levelName:p,speciesName:v[l]}));case 9:l++;case 10:if(l<g){i.next=1;break}case 11:case"end":return i.stop()}}),_callee2,this)})));return function(t,i){return a.apply(this,arguments)}}()),1!==l.level.id){E.next=16;break}return E.next=12,Rn.getLayouts(c,v);case 12:y=E.sent,y=ae.a(y).filter((function(t){return t})),(b=y.map((function(t){return round_planner_objectSpread(round_planner_objectSpread({},Wl.providerHorizontalStrip),{},{lessonName:"Lesson 1",levelName:"Level 1",speciesName:t.name||t.taxon,provider:t})})))&&(t.layouts=[].concat(round_planner_toConsumableArray(t.layouts),round_planner_toConsumableArray(b)));case 16:if(_=t.layouts.filter((function(t){return t.bonus})),x=t.layouts.filter((function(t){return!t.bonus})).map((function(t,a){return t.itemIndex=void 0===t.itemIndex?o.utils.calcItemIndex(m,g,a):t.itemIndex,round_planner_objectSpread({},t)})),S=round_planner_toConsumableArray(new Set(t.layouts.map((function(t){return t.itemIndex})).filter((function(t){return void 0!==t})))),t.layouts=x,1!==l.level.id){E.next=26;break}if(!_){E.next=26;break}return E.next=24,jn.getTests(c,S,_,d,p);case 24:w=E.sent,t.layouts=[].concat(round_planner_toConsumableArray(t.layouts),round_planner_toConsumableArray(w));case 26:return x=t.layouts.map((function(t,a){return t.roundProgressIndex=a+1,round_planner_objectSpread({},t)})),t.portrait?{name:"summary",screens:[{name:"summary",domain:"history",parent:ie.rightBody}],lessonName:d,levelName:p,layoutIndex:t.layouts.length,itemIndex:0}:{name:"summary",screens:round_planner_toConsumableArray(i),lessonName:d,levelName:p,layoutIndex:t.layouts.length,itemIndex:0},t.layouts.push({name:"summary",screens:[{name:"summary",domain:"history",parent:ie.rightBody}],lessonName:d,levelName:p,layoutIndex:t.layouts.length,itemIndex:0}),k=t.layouts.map((function(t){return t.score||0})),T=k.reduce((function(t,a){return t+a})),t.layouts.map((function(t){return t.roundScoreCount=T})),l.questionCount=t.layouts.filter((function(t){return"test"===t.type})).length,l.layoutCount=t.layouts.length,l.layoutNames=t.layouts.map((function(t){return t.name})),E.abrupt("return",{updatedLessonPlan:t,updatedCollection:c,updatedLesson:l});case 36:case"end":return E.stop()}}),_callee3,this)})));return function init(){return u.apply(this,arguments)}}()()};function lesson_plan_handler_toConsumableArray(t){return function lesson_plan_handler_arrayWithoutHoles(t){if(Array.isArray(t))return lesson_plan_handler_arrayLikeToArray(t)}(t)||function lesson_plan_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function lesson_plan_handler_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return lesson_plan_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lesson_plan_handler_arrayLikeToArray(t,a)}(t)||function lesson_plan_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lesson_plan_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var Vl=function getNextRoundLayouts(t,a,i){i.activeLevelCount=t.levels.filter((function(t){return t.layouts.length>0})).length;var o=i.level.id;return i.isLevelComplete&&(o++,i.level=t.levels.find((function(t){return t.id===o}))),function goToNextLevelThatHasLayouts(t,o){var c=[],l="",u="";return function iterateOverLevelsCheckingForAvailableLayouts(o,d){var p=o;if(!(c.length>0)){var m=t.levels.find((function(t){return t.id===d+p}));m&&(i.level=m,i.level=m,l=i.name,u=i.level.name,c=function getLayouts(t,a){switch(a){case"learn":return t.bonusLayouts=t.bonusLayouts||[],[].concat(lesson_plan_handler_toConsumableArray(t.layouts.filter((function(t){return t}))),lesson_plan_handler_toConsumableArray(t.bonusLayouts));case"review":return t.reviewLayouts||[];default:return t.layouts}}(function getCurrentLevelFromLessonPlan(t,a){return t.levels.find((function(t){return t.id===a}))}(t,d+p),a.mode),iterateOverLevelsCheckingForAvailableLayouts(++p,d))}}(0,o),{lessonName:l,levelName:u,layouts:c}}(t,o).layouts};function lesson_planner_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_planner_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_planner_ownKeys(Object(i),!0).forEach((function(a){lesson_planner_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_planner_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_planner_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function lesson_planner_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var zl=Wl.summary,Kl=Wl.history,$l={createLessonPlan:function(){var t=function lesson_planner_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){lesson_planner_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){lesson_planner_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t,a,i,o){var c,l;return regeneratorRuntime.wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:if(o.moduleSize=o.moduleSize||i.moduleSize||a.moduleSize,o.currentRound=o.currentRound||1,c=i.items.length/o.moduleSize,c=i.items.length%o.moduleSize==0?c:1===c?1:Math.floor(c)+1,o=void 0===o.level?lesson_planner_objectSpread(lesson_planner_objectSpread(lesson_planner_objectSpread({},o),t),{},{level:{id:1},rounds:c}):o,l=Vl(t,a,o),void 0!==o.level){u.next=8;break}return u.abrupt("return",new Promise((function(t){return t(null)})));case 8:return u.next=10,Yl(t,l,[zl,Kl],i,o);case 10:return u.abrupt("return",u.sent);case 11:case"end":return u.stop()}}),_callee,this)})));return function createLessonPlan(a,i,o,c){return t.apply(this,arguments)}}()};function landscape_custom_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function landscape_custom_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?landscape_custom_ownKeys(Object(i),!0).forEach((function(a){landscape_custom_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):landscape_custom_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function landscape_custom_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Xl={id:1,name:"Lesson 1",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[Wl.mixedSpecimenImages,Wl.latinToCommonMatch,Wl.commonEntry,Wl.commonToLatinMatch,Wl.textCompleteGenus,Wl.genusEntry,Wl.textCompleteSpecies,Wl.speciesEntry,Wl.speciesGenusEntry,Wl.familyMatch,Wl.familyStripsMatch],bonusLayouts:[landscape_custom_objectSpread(landscape_custom_objectSpread({},Wl.traitPropertyMatch),{},{types:["definition"]})]}]},Ql={id:2,name:"Lesson 2",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[Wl.mixedSpecimenImages,Wl.familyMatch,Wl.familyStripsMatch],bonusLayouts:[landscape_custom_objectSpread(landscape_custom_objectSpread({},Wl.traitPropertyMatch),{},{types:["definition"]})]}]};function landscape_fungi_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function landscape_fungi_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?landscape_fungi_ownKeys(Object(i),!0).forEach((function(a){landscape_fungi_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):landscape_fungi_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function landscape_fungi_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Jl={id:3,name:"Lesson 3",portrait:!1,default:!1,levels:[{id:1,name:"Level 1",layouts:[Wl.mixedSpecimenImages,Wl.latinToCommonMatch,Wl.commonEntry,Wl.commonToLatinMatch,Wl.textCompleteGenus,Wl.genusEntry,Wl.textCompleteSpecies,Wl.speciesEntry,Wl.propertyTrait(Wl.mixedTraitImages,["capShape"]),Wl.propertyTrait(Wl.mixedTraitImages,["gillAttachment"]),Wl.speciesGenusEntry],bonusLayouts:[landscape_fungi_objectSpread(landscape_fungi_objectSpread({},Wl.traitPropertyMatch),{},{types:["lookalikes","definition"]})]}]},Zl=landscape_fungi_objectSpread(landscape_fungi_objectSpread({},z.a(Jl)),{},{id:4});function landscape_static_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function landscape_static_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?landscape_static_ownKeys(Object(i),!0).forEach((function(a){landscape_static_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):landscape_static_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function landscape_static_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}Zl.levels[0]={id:1,name:"Level 1",description:"Species recognition",layouts:[Wl.mixedSpecimenImages]};var eu={id:10,name:"Lesson 1",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[Wl.mixedSpecimenImages,Wl.latinToCommonMatch,Wl.commonEntry,Wl.commonToLatinMatch,Wl.textCompleteGenus,Wl.genusEntry,Wl.textCompleteSpecies,Wl.speciesEntry,Wl.propertyTrait(Wl.mixedTraitImages,["capShape","gillAttachment","leafShape","leafDivision","inflorescence","leafMargin"]),Wl.speciesGenusEntry,Wl.familyMatch,Wl.familyStripsMatch],bonusLayouts:[landscape_static_objectSpread(landscape_static_objectSpread({},Wl.traitPropertyMatch),{},{types:["lookalikes","definition"]})]}]},nu={id:11,name:"Lesson 11",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[Wl.mixedSpecimenImages,Wl.speciesIdentificationMatch,Wl.latinToCommonMatch,Wl.commonEntry,Wl.commonToLatinMatch,Wl.textCompleteGenus,Wl.genusEntry,Wl.textCompleteSpecies,Wl.speciesEntry,Wl.speciesGenusEntry]}]};function portrait_static_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function portrait_static_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?portrait_static_ownKeys(Object(i),!0).forEach((function(a){portrait_static_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):portrait_static_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function portrait_static_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var tu={id:110,name:"Lesson 110",portrait:!0,default:!0,levels:[{id:1,name:"Level 1",layouts:[Wl.mixedSpecimenImages,Wl.latinToCommonMatch,Wl.commonEntry,Wl.commonToLatinMatch,Wl.textCompleteGenus,Wl.genusEntry,Wl.textCompleteSpecies,Wl.speciesEntry,Wl.propertyTrait(Wl.mixedTraitImages,["capShape","gillAttachment","leafShape","leafDivision","inflorescence","leafMargin"]),Wl.speciesGenusEntry,Wl.familyMatch,Wl.familyStripsMatch],bonusLayouts:[portrait_static_objectSpread(portrait_static_objectSpread({},Wl.traitPropertyMatch),{},{types:["definition"]})]}]},ru={id:111,name:"Lesson 111",portrait:!0,default:!0,levels:[{id:1,name:"Level 1",layouts:[Wl.mixedSpecimenImages,Wl.latinToCommonMatch,Wl.commonEntry,Wl.commonToLatinMatch,Wl.textCompleteGenus,Wl.genusEntry,Wl.textCompleteSpecies,Wl.speciesEntry,Wl.speciesGenusEntry],bonusLayouts:[portrait_static_objectSpread(portrait_static_objectSpread({},Wl.traitPropertyMatch),{},{types:["lookalikes","definition"]})]}]};function lesson_plans_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_plans_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_plans_ownKeys(Object(i),!0).forEach((function(a){lesson_plans_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_plans_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_plans_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var au=lesson_plans_objectSpread(lesson_plans_objectSpread({},z.a(eu)),{},{id:5});au.levels[0].bonusLayouts&&au.levels[0].bonusLayouts[0].types.push("song");var iu=lesson_plans_objectSpread(lesson_plans_objectSpread({},z.a(tu)),{},{id:105});iu.levels[0].layouts.push(Wl.mediaMatch);var ou=lesson_plans_objectSpread(lesson_plans_objectSpread({},z.a(Jl)),{},{id:103,portrait:!0});ou.levels[0].bonusLayouts=[lesson_plans_objectSpread(lesson_plans_objectSpread({},Wl.traitPropertyMatch),{},{types:["definition"]})];var su=lesson_plans_objectSpread(lesson_plans_objectSpread({},z.a(Zl)),{},{id:104,portrait:!0}),cu=[Xl,Ql,eu,nu,{id:12,name:"Lesson 12",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[],bonusLayouts:[]}]},Jl,Zl,au,lesson_plans_objectSpread(lesson_plans_objectSpread({},z.a(Xl)),{},{id:101,portrait:!0}),lesson_plans_objectSpread(lesson_plans_objectSpread({},z.a(Ql)),{},{id:102,portrait:!0}),tu,ru,ou,su,iu],lu=function isRequired(t,a){var i=a.layout,o=a.counter,c=a.lessonPlan,l=a.config,u=a.lesson,d=a.collection,p=!1;switch(t){case qt.nextStep.NEXT_ITEM:p=i&&!i.bonus;break;case qt.nextStep.NEXT_LAYOUT:p=!o.isLessonPaused&&((p=c&&c.layouts)&&null!==c.layouts[o.index]);break;case qt.nextStep.NEXT_LESSON:p=l.collection.id>0&&!o.isLessonPaused||l.collection.id>0&&l.collection.id!==d.id;break;case qt.nextStep.NEXT_ROUND:p=0===o.index&&u.isNextRound&&d.items&&d.items.length>0}return p},uu=function actionUpdate(t,a){var i=a.layout,o=a.config,c=a.asyncFunc;switch(t){case qt.nextStep.NEXT_ITEM:it(i.itemIndex);break;case qt.nextStep.NEXT_LAYOUT:ot(i),Tc.addSubs(i,o),gi.changeRequest({requestType:qt.lessonState.SAVE_LESSON_PROGRESS});break;case qt.nextStep.NEXT_LESSON:rt(c)}},du=function nextLesson(t){var a=te.getState(),i=a.layout,o=a.config,c=a.lesson,l=a.collection,u={layout:i,counter:t,config:o,lesson:c,collection:l};if(lu(qt.nextStep.NEXT_LESSON,u)){var d=o.isPortraitMode?l.lessonPlanPortrait:l.lessonPlanLandscape,p=z.a(cu.find((function(t){return t.id===d&&t.portrait===o.isPortraitMode})));if(u.lessonPlan=p,lu(qt.nextStep.NEXT_ROUND,u)){var m=$l.createLessonPlan(p,o,z.a(l),z.a(c)).then((function(t){if(t)return{lessonPlan:t.updatedLessonPlan,collection:t.updatedCollection,lesson:t.updatedLesson}}));if(null===m)return;uu(qt.nextStep.NEXT_LESSON,{asyncFunc:m})}}},pu=function nextLayout(t){var a=te.getState(),i=a.layout,o=a.lessonPlan,c=a.config,l={layout:i,counter:t,lessonPlan:o,config:c,lesson:a.lesson,collection:a.collection};if(lu(qt.nextStep.NEXT_LAYOUT,l)){var u=o.layouts[t.index];uu(qt.nextStep.NEXT_LAYOUT,{layout:u,config:c})}},mu=function nextItem(t){var a=te.getState(),i={layout:t,counter:a.counter,lessonPlan:a.lessonPlan,config:a.config,lesson:a.lesson,collection:a.collection};lu(qt.nextStep.NEXT_ITEM,i)&&uu(qt.nextStep.NEXT_ITEM,{layout:t})},fu=function renderHeaders(t){ie.leftHeaderTxt.innerHTML="Learn the planet",ie.rightHeaderTxt.innerHTML="Learn the planet",setTimeout((function(){var t=te.getState(),a=t.layout,i=t.lessonPlan,o=document.querySelector(".js-right-grid progress");if(i){var c=i.layouts.filter((function(t){return"test"===t.type})).length;o.max=c,o.value=a.roundProgressIndex||o.value}}))},hu=function renderScore(t){var a=te.getState(),i=(a.history,a.collection,a.config),o=a.layout;a.lesson,a.lessonPlan;t.mode=i.mode,o&&t.total===o.roundScoreCount&&st(t)},gu=(i(238),function renderHome(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Tc.remove(Tc.getByName("renderHome"));var i=hs();if(!(t.index>0)||t.isLessonPaused){var o=te.getState(),c=o.config;(c.isLandscapeMode||a)&&ps(),c.isPortraitMode&&!i&&ps()}});function location_helper_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var vu=function(){var t=function location_helper_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){location_helper_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){location_helper_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a,i,c,l;return regeneratorRuntime.wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:return a=Object(z.a)(t),i=o.utils.getObservableMonths(new Date,3),a.season={observableMonths:i},a.guide.season.observableMonths=i,a.guide.season.type=a.guide.season.type||"all_year",a.collection.id=a.collection.id||0,a.guide.locationPlace="",a.guide.place.type="",u.prev=8,u.next=11,Ur(a);case 11:(c=u.sent)?(l=c.city?"".concat(c.city,", ").concat(c.country_name):c,a.ipLocation=l,a.guide.locationType="longLat",a.guide.locationLongLat=l,a.guide.place.name=l,a.guide.coordinates={lat:c.latitude,long:c.longitude}):(a.guide.locationPlace="Earth",a.guide.locationType="place",a.guide.place={id:"any",name:"Earth"}),u.next=20;break;case 15:u.prev=15,u.t0=u.catch(8),a.guide.locationPlace="Earth",a.guide.locationType="place",a.guide.place={id:"any",name:"Earth"};case 20:return u.abrupt("return",a);case 21:case"end":return u.stop()}}),_callee,this,[[8,15]])})));return function initialiseConfig(a){return t.apply(this,arguments)}}(),yu=function onCloseModal(){var t=document.querySelector("#lessonModal");t.querySelector(".js-modal-footer").addEventListener("click",(function(a){t.querySelector(".js-modal-text").innerHTML='\n                    <div class="lesson-spinner double-centred-block">\n                        <div class="icon"><i class="fas fa-sun slow-spin"></i></div>\n                    </div>\n                  '}))},bu=i(239),_u=i.n(bu),xu=function handleWindowResize(){var t=function setWindowHeight(){var t=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,a=(t?screen.width:window.innerWidth,t?screen.height:window.innerHeight,.01*window.innerHeight);document.documentElement.style.setProperty("--vh",a+"px"),document.documentElement.style.setProperty("--vhGrid",100*a+"px"),document.documentElement.style.setProperty("--vhRunningBlock",7.5*a+"px"),document.documentElement.style.setProperty("--vhRunningBlocks",15*a+"px"),document.documentElement.style.setProperty("--vhStandardBlock",10*a+"px"),document.documentElement.style.setProperty("--vhHalfStandardBlock",5*a+"px"),document.documentElement.style.setProperty("--vhOneAndHalfStandardBlock",15*a+"px"),document.documentElement.style.setProperty("--vhDoubleStandardBlock",20*a+"px"),document.documentElement.style.setProperty("--vhCarousel",30*a+"px"),document.documentElement.style.setProperty("--vhButtonBlock",9*a+"px"),document.documentElement.style.setProperty("--vhRow",11*a+"px"),document.documentElement.style.setProperty("--vhFixtures",15*a+5+"px"),document.documentElement.style.setProperty("--vhCalendar",11*a+"px");var i=(100*a-parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--vhFixtures").replace("px","")))/3;document.documentElement.style.setProperty("--vhLargeImage",i+"px"),document.documentElement.style.setProperty("--vhSmallImageCarousel",36*a+"px"),document.documentElement.style.setProperty("--vhExtraSmallImageCarousel",36*a+"px");var o=.01*window.innerWidth;document.documentElement.style.setProperty("--vw",o+"px"),document.documentElement.style.setProperty("--vwGrid",100*o+"px"),document.documentElement.style.setProperty("--vwGridNegative",-100*o+52+"px"),document.documentElement.style.setProperty("--vhScrollingTop",56.25*o+10*a+"px")};t(),window.addEventListener("resize",(function(){t()})),window.location.origin.indexOf("learn-the-planet")>-1&&(snapLog("*** Live site detected ***"),"https:"!=window.location.protocol&&(location.href=location.href.replace("http://","https://"),snapLog(" *** Site secured ***")))},Su=function loadModalHTML(){var t=document.createElement("template");t.innerHTML=_u.a;var a=document.querySelector("body");zt({},t.content,a)},wu=function snapLog(t,a){console.log("SECRET_KEY: ","TEST");var i="background: #222; color: #bada55; padding: 5px; margin-right: 5px;";Array.isArray(a)&&(a={obj:a}),a?console.log("%c".concat(t," %o"),i,a):console.log("%c".concat(t,": ").concat(a),i)},ku=function logError(t,a){Array.isArray(t)&&(t={source:t})},Tu=function logAPIError(t,a){var i="Firebase ".concat(t," error");ku(i)},Eu=i(471);function src_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function src_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?src_ownKeys(Object(i),!0).forEach((function(a){src_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):src_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function src_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function src_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function src_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){src_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){src_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}!function onLoadHandler(){setTimeout(src_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var t,a,i,c,l,u,d,p,m;return regeneratorRuntime.wrap((function _callee2$(h){for(;;)switch(h.prev=h.next){case 0:if(Eu.a({dsn:"https://9d9d8654a6a345a3af09df89cb615bde@o136894.ingest.sentry.io/302756"}),xu(),bs()?(re.purge(),window.location.reload(!0)):ys(Date()),h.prev=4,firebase.auth(),"danhartleybcn@gmail.com","sarcarsnap1929",t=te.getState(),a=t.config,i=t.counter,c=t.lessonPlan,l=t.collections,c,a.isPortraitMode=window.matchMedia("(max-width: 767px)").matches,a.isLandscapeMode=!a.isPortraitMode,u=i?src_objectSpread({},i):{index:null,isLessonPaused:!0},mt(a),ft(u),!l||0!==l.length){h.next=20;break}return h.next=18,_n.getCollections();case 18:d=h.sent,ut(d);case 20:return Tc.add(fu,"collection","flow"),Us(),Tc.add(Us,"collection","flow"),Tc.add(Bs,"user","flow"),Tc.add(Is,"user","flow"),Tc.add(gu,"counter","flow"),Tc.add(mu,"layout","flow"),Tc.add(du,"counter","flow"),Tc.add(pu,"counter","flow"),Tc.add(hu,"score","flow"),Tc.add(_a,"config","localisation"),p=function(){var t=src_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var t;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,vu(a);case 2:t=i.sent,mt(t);case 4:case"end":return i.stop()}}),_callee,this)})));return function updateConfig(){return t.apply(this,arguments)}}(),a.guide.locationType||p(),h.next=36,_n.getDefinitionsByTaxa(["common","plantae","aves","fungi","insecta"]);case 36:m=h.sent,m=o.utils.sortAlphabeticallyBy(m,"term"),xt(m),Su(),yu(),h.next=46;break;case 43:h.prev=43,h.t0=h.catch(4),console.log("home page error: ",h.t0);case 46:case"end":return h.stop()}}),_callee2,this,[[4,43]])})))),window.snapLog=wu,window.logError=ku,window.logAPIError=Tu}()},71:function(t,a,i){"use strict";i.r(a),i.d(a,"formatUrl",(function(){return d})),i.d(a,"formatWiki",(function(){return h})),i.d(a,"renderWiki",(function(){return renderWiki}));var o=i(139),c=i(83),l=i(1);function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var u="",d=function formatUrl(t,a,i){var o=t;if(t.indexOf(" ")>0){var c=t.split(" ");(o=c[0]+" "+c[1]).indexOf("Speckled wood")>-1&&(o+=" "+c[2])}return a+i(o)};function fetchWiki(t,a){return _fetchWiki.apply(this,arguments)}function _fetchWiki(){return(_fetchWiki=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,a){var i,c,p,m,h;return regeneratorRuntime.wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:if(void 0!==t){g.next=2;break}return g.abrupt("return",a);case 2:return i=d(t,u,l.utils.encodeQuery),c={method:"GET"},g.prev=4,g.next=7,fetch(i,c);case 7:return p=g.sent,g.next=10,p.json();case 10:return m=g.sent,g.abrupt("return",o.a(m));case 14:return g.prev=14,g.t0=g.catch(4),h=new Promise((function(t,i){t(a)})),g.abrupt("return",h);case 18:case"end":return g.stop()}}),_callee,this,[[4,14]])})))).apply(this,arguments)}var p=function cleanEntry(t){var a=t;return a=(a=(a=(a=(a=a.replace("( or UK: , US: )","")).replace("(;","(")).replace("()","")).replace("( ","(")).replace("  "," ")},m=function wikiLink(t){var a=p(t).replace(".wikipedia",".m.wikipedia");return'<span data-toggle="modal" data-target="#wikiModal" data-src="'.concat(a,'" class="underline-link">Wiki modal</span>')},h=function formatWiki(t){if(c.a(t[0],["Tarragon","Apple"]))return'<li class="species-card-wiki-entry">\''.concat(p(t[2]),"'</li>");if(!t)return"";var a="";return 1===t.length&&(a+=m(t[0])),t[1]&&(a+='<li class="species-card-wiki-entry">\''.concat(p(t[1]),"'</li>")),t[2]&&(-1!==t[2].indexOf("https")?a+=m(t[2]):a+='<li class="species-card-wiki-entry">\''.concat(p(t[2]),"'</li>")),t[3]&&(-1!==t[3].indexOf("https")?a+=m(t[3]):a+='<li class="species-card-wiki-entry">\''.concat(p(t[3]),"'</li>")),a};function renderWiki(t,a,i){return _renderWiki.apply(this,arguments)}function _renderWiki(){return(_renderWiki=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t,a,i){var o,l,d,p,m,g,v;return regeneratorRuntime.wrap((function _callee2$(y){for(;;)switch(y.prev=y.next){case 0:return o=a.name,l=a.names?a.names.filter((function(t){return t.language===i})).find((function(t){return t.wikiSearchTerm})):null,d=l?l.vernacularName:a.searchTerms?a.searchTerms.filter((function(t){return t.language===i}))[0].searchTerm:o,u="https://".concat(i,".m.wikipedia.org/w/api.php?action=opensearch&format=json&origin=*&limit=1&search="),p=["Artemisia dracunculus","Malus domestica","Zingiber officinale"],c.a(a.name,p)&&(u="https://".concat(i,".m.wikipedia.org/w/api.php?action=opensearch&format=json&origin=*&limit=2&redirects=resolve&search=")),t.innerHTML="",y.next=9,fetchWiki(d);case 9:if(!(m=y.sent)||!m[2]){y.next=14;break}t.innerHTML=h(m.slice(1)),y.next=21;break;case 14:if(o){y.next=16;break}return y.abrupt("return","");case 16:return g=o.split(" ")[0],y.next=19,fetchWiki(g);case 19:""!==(v=y.sent)[2]?t.innerHTML=h(v.slice(1)):"en"!==i&&renderWiki(t,o,"en");case 21:case"end":return y.stop()}}),_callee2,this)})))).apply(this,arguments)}}});
//# sourceMappingURL=app.bundle.js.map