/*! For license information please see app.bundle.js.LICENSE.txt */
!function(t){function webpackJsonpCallback(a){for(var c,l,u=a[0],p=a[1],m=a[2],h=0,g=[];h<u.length;h++)l=u[h],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&g.push(i[l][0]),i[l]=0;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(t[c]=p[c]);for(d&&d(a);g.length;)g.shift()();return o.push.apply(o,m||[]),checkDeferredModules()}function checkDeferredModules(){for(var t,a=0;a<o.length;a++){for(var c=o[a],l=!0,u=1;u<c.length;u++){var d=c[u];0!==i[d]&&(l=!1)}l&&(o.splice(a--,1),t=__webpack_require__(__webpack_require__.s=c[0]))}return t}var a={},i={3:0,5:0},o=[];function __webpack_require__(i){if(a[i])return a[i].exports;var o=a[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}__webpack_require__.m=t,__webpack_require__.c=a,__webpack_require__.d=function(t,a,i){__webpack_require__.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:i})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,a){if(1&a&&(t=__webpack_require__(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var o in t)__webpack_require__.d(i,o,function(a){return t[a]}.bind(null,o));return i},__webpack_require__.n=function(t){var a=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(a,"a",a),a},__webpack_require__.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},__webpack_require__.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=webpackJsonpCallback,c=c.slice();for(var u=0;u<c.length;u++)webpackJsonpCallback(c[u]);var d=l;o.push([568,0,1]),checkDeferredModules()}({1:function(t,a,i){"use strict";i.d(a,"b",(function(){return T})),i.d(a,"a",(function(){return E}));var o=i(45),c=i(114),l=i(162),u=i(163),d=i.n(u),p=i(3),m=i(75);function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var h=i(18),g=i(115);function species_reducers_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function species_reducers_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?species_reducers_ownKeys(Object(i),!0).forEach((function(a){species_reducers_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):species_reducers_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function species_reducers_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var v=i(43);function progress_reducers_toConsumableArray(t){return function progress_reducers_arrayWithoutHoles(t){if(Array.isArray(t))return progress_reducers_arrayLikeToArray(t)}(t)||function progress_reducers_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function progress_reducers_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return progress_reducers_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return progress_reducers_arrayLikeToArray(t,a)}(t)||function progress_reducers_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function progress_reducers_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function progress_reducers_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function progress_reducers_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?progress_reducers_ownKeys(Object(i),!0).forEach((function(a){progress_reducers_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):progress_reducers_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function progress_reducers_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function layout_reducers_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function layout_reducers_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?layout_reducers_ownKeys(Object(i),!0).forEach((function(a){layout_reducers_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):layout_reducers_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function layout_reducers_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function lesson_reducers_toConsumableArray(t){return function lesson_reducers_arrayWithoutHoles(t){if(Array.isArray(t))return lesson_reducers_arrayLikeToArray(t)}(t)||function lesson_reducers_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function lesson_reducers_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return lesson_reducers_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lesson_reducers_arrayLikeToArray(t,a)}(t)||function lesson_reducers_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lesson_reducers_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function lesson_reducers_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_reducers_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_reducers_ownKeys(Object(i),!0).forEach((function(a){lesson_reducers_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_reducers_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_reducers_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var y={currentRound:1,rounds:0,isNextRound:!0},b=function cleanAndReturnIncomingState(t){var a=t;return a.onClickFiltersLinkListeners&&delete a.onClickFiltersLinkListeners,a.onClickGlossaryLinkListeners&&delete a.onClickGlossaryLinkListeners,a},_=(i(253),Object(o.b)({counter:function counter(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"persist/REHYDRATE":return a.payload?progress_reducers_objectSpread(progress_reducers_objectSpread({},a.payload.counter),{},{isLessonRehydrated:!0,isLessonPaused:!0}):t;case p.a.RESET_COLLECTION:return progress_reducers_objectSpread(progress_reducers_objectSpread({},t),{},{isLessonSelected:!1,isLessonPaused:!1});case p.a.UPDATE_COLLECTION:return progress_reducers_objectSpread(progress_reducers_objectSpread({},t),{},{isLessonRehydrated:!1});case p.a.NEXT_ROUND:case p.a.NEXT_LESSON:return{index:0};case p.a.NEXT_LEVEL:return progress_reducers_objectSpread(progress_reducers_objectSpread({},t),{},{index:a.data.index});case p.a.STOP_START_LESSON:var i=t&&t.index||0;return progress_reducers_objectSpread(progress_reducers_objectSpread({},a.data),{},{index:i});case p.a.UPDATE_SCORE:case p.a.END_REVISION:var o=t.index+1<=a.data.layoutCount?t.index+1:t.index;return{index:o};case p.a.SET_ACTIVE_COLLECTION:return progress_reducers_objectSpread(progress_reducers_objectSpread(progress_reducers_objectSpread({},t),a.data.lesson.counter),{},{isLessonPaused:!!a.data.lesson.counter.isCustomLessonPausedOverride});default:return t}},lessonPlans:function lessonPlans(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.CHANGE_LESSON_PLANS:return a.data;default:return t}},lessonPlan:function lessonPlan(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.CHANGE_LESSON_PLAN:return a.data||t;case p.a.NEXT_LESSON:return a.data.lessonPlan||t;case p.a.SET_ACTIVE_COLLECTION:return a.data.lesson.lessonPlan||t;default:return t}},layout:function layout(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.NEXT_LAYOUT:if(t){if(a.data.screens.length>1){var i=t.screens[0].name===a.data.screens[0].name?t.itemIndex:null;return layout_reducers_objectSpread(layout_reducers_objectSpread({},a.data),{},{prevItemIndex:i})}return a.data}return a.data;case p.a.SET_ACTIVE_COLLECTION:return a.data.lesson.layout||t;default:return t}},config:function config(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.a,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.UPDATE_COLLECTION:return _objectSpread(_objectSpread(_objectSpread({},a.data.config),{coordinates:t.coordinates}),{place:t.place});case p.a.UPDATE_CONFIG:return _objectSpread(_objectSpread({},t),a.data);case p.a.UPDATE_LANGUAGE:return _objectSpread(_objectSpread({},t),{language:a.data.lang});case p.a.SET_ACTIVE_COLLECTION:return _objectSpread(_objectSpread({},t),a.data.lesson.config);default:return t}},lessons:function lessons(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.SAVE_LESSON:var i=t.map((function(t){return t.name}));if(h.a(a.data.collection.name,i)){var o=t.filter((function(t){return t.name!==a.data.collection.name}));return o.push(a.data),o}return[].concat(lesson_reducers_toConsumableArray(t),[a.data]);case p.a.REMOVE_LESSON:return t.filter((function(t){return t.name!==a.data.name}));default:return t}},lesson:function lesson(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"persist/REHYDRATE":return t;case p.a.UPDATE_LESSON:return lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),a.data);case p.a.NEXT_LAYOUT:return lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),{},{layoutName:a.data.name});case p.a.NEXT_ITEM:var i,o,c,l=!1;return o=(i=(i=t.layoutCounter?t.layoutCounter+1:1)>t.layoutCount?t.layoutCount:i)===t.layoutCount,t.layoutName&&"summary"===t.layoutName&&(o=!0),c=0!==t.rounds&&t.currentRound===t.rounds,t.level&&t.level.id&&t.levels&&(l=c&&t.levels[t.levels.length-1].id===t.level.id),lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),{},{layoutCounter:i,isNextRound:o,isLevelComplete:c,isLessonComplete:l});case p.a.NEXT_ROUND:var u=a.data.lesson.currentRound,d=0!==t.rounds&&u===t.rounds,m=t.layoutCounter,h=t.level;return lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),{},{currentRound:u,layoutCounter:m,level:h,isLessonComplete:d});case p.a.NEXT_LESSON:var g=!!t.layoutCount&&t.layoutCounter===t.layoutCount,v=0,b=a.data.lesson.layoutCount;return lesson_reducers_objectSpread(lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),a.data.lesson),{},{isNextRound:g,layoutCounter:v,layoutCount:b});case p.a.NEXT_LEVEL:return lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),{},{currentRound:1});case p.a.UPDATE_COLLECTION:if("learn-again"===a.data.config.mode){var _=!0,S=!0;return lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),{},{currentRound:1,isNextRound:_,isLevelComplete:S})}return t;case p.a.SET_ACTIVE_COLLECTION:return lesson_reducers_objectSpread(lesson_reducers_objectSpread(lesson_reducers_objectSpread({},t),a.data.lesson.lesson),{},{isNextRound:!0});default:return t}},collection:function collection(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:0},a=arguments.length>1?arguments[1]:void 0,i=function getNextRound(t,a){var i=t.data.lesson,o=i.moduleSize*(i.currentRound-1),c=a.items[o];return i.isLevelComplete&&(o=0,c=a.items[o]),{itemIndex:o,nextItem:c}},o=function updateCollection(t,a){var i=species_reducers_objectSpread(species_reducers_objectSpread({},t),a.data.collection);t.id&&t.id===a.data.collection.id&&(i.itemIndex=t.itemIndex);var o=i.items[i.itemIndex];return"review"===a.data.config.mode&&(i.allItems=a.data.collection.allItems),"learn-again"===a.data.config.mode&&(i.itemIndex=0,i.nextItem=i.items[i.itemIndex]),{collection:i,nextItem:o}};switch(a.type){case"persist/REHYDRATE":return t;case p.a.SELECT_COLLECTION:return a.data;case p.a.UPDATE_COLLECTION_ITEMS:var c=g.a(t);return c.items=a.data.filter((function(t){return!t.isDeselected})),c;case p.a.SET_ACTIVE_COLLECTION:return species_reducers_objectSpread(species_reducers_objectSpread({},a.data.lesson.collection),{},{nextItem:a.data.lesson.collection.items[a.data.lesson.collection.itemIndex]});case p.a.RESET_COLLECTION:return a.data.collection;case p.a.UPDATE_COLLECTION:var l=o(t,a),u=l.collection,d=l.nextItem;return species_reducers_objectSpread(species_reducers_objectSpread(species_reducers_objectSpread({},t),u),{},{nextItem:d});case p.a.NEXT_LAYOUT:var m=a.data;return m.bonus,t;case p.a.NEXT_ITEM:var h=a.data,v=t.items[h];return species_reducers_objectSpread(species_reducers_objectSpread({},t),{},{itemIndex:h,nextItem:v});case p.a.NEXT_ROUND:var y=i(a,t),b=y.itemIndex,_=y.nextItem;return species_reducers_objectSpread(species_reducers_objectSpread({},t),{},{itemIndex:b,nextItem:_});case p.a.NEXT_LESSON:var S=species_reducers_objectSpread(species_reducers_objectSpread({},t),a.data.collection);return species_reducers_objectSpread(species_reducers_objectSpread({},t),S);case p.a.NEXT_LEVEL:default:return t}},score:function score(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a.score,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.UPDATE_SCORE:var i=progress_reducers_objectSpread(progress_reducers_objectSpread(progress_reducers_objectSpread({},t),a.data),{},{statement:a.data.statement||""});return i.totalPoints=i.totalPoints||0,i.totalPassPoints=i.totalPassPoints||0,i.totalFailPoints=i.totalFailPoints||0,i.totalPoints+=i.points?i.points:0,i.total++,i.success?(i.totalPassPoints+=i.points?i.points:0,i.correct++,i.passes.push({itemId:i.itemId,taxon:i.taxon,binomial:i.binomial,question:i.question,statement:i.statement||"",answer:i.answer,answers:i.answers,index:i.total-1,success:i.success,questionText:i.questionText})):(i.incorrect++,i.totalFailPoints+=i.points?i.points:0,i.fails.push({itemId:i.itemId,taxon:i.taxon,binomial:i.binomial,question:i.question,statement:i.statement||"",answer:i.answer,answers:i.answers,index:i.total-1,success:i.success,questionText:i.questionText})),i.questionTotal=i.passes.length+i.fails.length,i.passesTotals=g.a(t.passesTotals)||{},i.failsTotals=g.a(t.failsTotals)||{},i.success?(i.passesTotals[i.itemId]=i.passesTotals[i.itemId]?i.passesTotals[i.itemId]+1:1,i.failsTotals[i.itemId]||(i.failsTotals[i.itemId]=0)):(i.failsTotals[i.itemId]=i.failsTotals[i.itemId]?i.failsTotals[i.itemId]+1:1,i.passesTotals[i.itemId]||(i.passesTotals[i.itemId]=0)),progress_reducers_objectSpread(progress_reducers_objectSpread({},t),i);case p.a.SELECT_COLLECTION:return g.a(v.a.score);case p.a.NEXT_ROUND:case p.a.NEXT_LEVEL:case p.a.UPDATE_COLLECTION:return progress_reducers_objectSpread(progress_reducers_objectSpread({},v.a.score),{fails:[],passes:[]});case p.a.UPDATE_TRAIT_SCORE:var o=t.bonusScores||[];return o.push({id:a.data.itemId,name:a.data.binomial,success:a.data.success,guid:a.data.guid}),progress_reducers_objectSpread(progress_reducers_objectSpread({},t),{},{bonusScores:o});case p.a.SET_ACTIVE_COLLECTION:return a.data.lesson.score;case p.a.NEXT_LESSON:return progress_reducers_objectSpread(progress_reducers_objectSpread({},t),{},{mode:"learn"});default:return t}},collections:function collections(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.SELECT_COLLECTION:var i=_toConsumableArray(t);return i.forEach((function(t){t.id===a.data.id?t.selected=!0:t.selected=!1})),i;case p.a.UPDATE_COLLECTIONS:return t?[].concat(_toConsumableArray(t),_toConsumableArray(a.data)):a.data;case p.a.UPDATE_COLLECTION:var o=_toConsumableArray(t);return o.forEach((function(t){t.id===a.data.collection.id&&(t=a.data.collection)})),o;case p.a.SET_ACTIVE_COLLECTION:a.data.lesson.collection.isActive=!0;var c=h.a(a.data.lesson.collection.id,t.map((function(t){return t.id})));return[].concat(_toConsumableArray(c?t.filter((function(t){return t.id!==a.data.lesson.collection.id})):t),[a.data.lesson.collection]);default:return t}},history:function history(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.UPDATE_HISTORY:var i={scores:[]};i.scores=null===t?[a.data]:t.scores[t.scores.length-1].question===a.data.question?progress_reducers_toConsumableArray(t.scores):[].concat(progress_reducers_toConsumableArray(t.scores),[a.data]);var o=0,c=0;return i.scores.forEach((function(t){o+=t.correct,c+=t.total})),i.correct=o,i.total=c,i.incorrect=i.total-i.correct,i;case p.a.SELECT_COLLECTION:return null;case p.a.SET_ACTIVE_COLLECTION:return a.data.lesson.history;default:return t}},videoPlayer:function videoPlayer(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.UPDATE_VIDEO_PLAYER:return a.data;default:return t}},enums:function enums(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.UPDATE_ENUMS:return a.data;default:return t}},bonusLayout:function bonusLayout(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"persist/REHYDRATE":return t;case p.a.NEXT_LAYOUT:var i=a.data;return i.bonus&&(t=i),t;case p.a.SET_ACTIVE_COLLECTION:return species_reducers_objectSpread(species_reducers_objectSpread({},t),a.data.lesson.bonusLayout);default:return t}},user:function user(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.UPDATE_USER:return a.data;default:return t}},quickFire:function quickFire(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.CREATE_QUICKFIRE:case p.a.UPDATE_QUICKFIRE:return b(a.data);default:return t}},glossary:function glossary(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.CREATE_GLOSSARY:return a.data;default:return t}},userAction:function userAction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.a.CLICK_EVENT:return a.data;default:return t}}})),S={key:"root",storage:d.a},x=Object(c.a)(S,_),w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,T=Object(o.d)(x,w(Object(o.a)((function logger(t){return function(t){return function(a){return t(a)}}}),l.a))),E=Object(c.b)(T)},10:function(t,a,i){"use strict";i.d(a,"b",(function(){return d})),i.d(a,"a",(function(){return m})),i.d(a,"e",(function(){return h})),i.d(a,"f",(function(){return g})),i.d(a,"g",(function(){return v})),i.d(a,"d",(function(){return y})),i.d(a,"c",(function(){return _}));var o=i(115),c=(i(13),i(12)),l=i(33);i(8);function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=function stripImageUrlOfScaleAndPrefix(t){var a="inat"===t.provider?"https://static.inaturalist.org/photos/":"https://content.eol.org/data/media/";if(!t.url||"object"===_typeof(t.url))return"";var i=t.url.replace(".260x190.jpg","");return i=(i=(i=i.replace(".98x68.jpg","")).replace(".jpg","")).replace(a,""),"inat"===t.provider&&(i=i.split("?")[0]),i},d={SPECIES_LIST:"Species list",SPECIES_CARD:"Species card",TAXON_CARD:"Taxon card",SPECIES_SPECIMENS:"Species specimens",NON_TAXON_CARD:"Non-taxon card",VISUAL_MATCH:"Visual match",MIXED_SPECIMENS:"Mixed specimens",CAROUSEL:"Carousel",TEXT_ENTRY:"Text entry",ACTUAL_SIZE:"Actual size",SPECIES_GRID:"Species grid"},p=function denormaliseImages(t){return t.map((function(t){return t.photographersName=t.photographer&&t.photographer.full_name||"",t}))},m=function imageMatch(t,a){return!!a&&(t=u(t))===(a=u(a))},h=function prepImageForCarousel(t,a,i,o,c){var l=_objectSpread(_objectSpread({index:a+1},t),{},{url:v(t,c,o).medium,itemName:i.name,itemCommon:i.itemCommon,rightsHolder:t.rightsHolder||"",photographersName:t.photographer&&t.photographer.full_name||"",provider:t.provider||""});return t.src&&(l=_objectSpread(_objectSpread(_objectSpread({},l),t.src),{},{medium:t.medium})),l},g=function prepImagesForCarousel(t,a,i){return t.images.map((function(o,c){return h(o,c,t,a,i)}))},v=function scaleImage(t){return t.url?(t.part=u(t),"inat"===t.provider?(t.small="https://static.inaturalist.org/photos/".concat(t.part),t.medium=t.part.replace("small","medium"),t.medium="https://static.inaturalist.org/photos/".concat(t.medium),t.large=t.part.replace("small","large"),t.large="https://static.inaturalist.org/photos/".concat(t.large),t):(t.small="https://content.eol.org/data/media/".concat(t.part,".98x68.jpg"),t.medium="https://content.eol.org/data/media/".concat(t.part,".260x190.jpg"),t.large="https://content.eol.org/data/media/".concat(t.part,".jpg"),t)):t},y=function modalImagesHandler(t,a,i,o,c){t.forEach((function(t){_(t,a,i,o,c)}))},b=function handleImageSelectionFromList(t,a,i,u){var h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"binomial",g=document.querySelector("#imageModal .js-modal-image"),y=a||i.items.find((function(a){return a.name===t.dataset.itemName})),b=o.a(y.images.map((function(t,a){return y.vernacularName=c.a.getVernacularName(y,u),_objectSpread(_objectSpread({},t=v(t,d.CAROUSEL,u)),{},{itemName:y.name,itemCommon:y.vernacularName})})));b=p(b);var _=y.images.find((function(a){return m(a,t.dataset)})),S={dataset:_objectSpread(_objectSpread({},t.dataset),_)};Object(l.b)({config:u,images:b,parent:g,image:S,identifier:S.dataset.itemName.replace(" ","_")});var x="";switch(h){case"biomial":x=y.name;break;case"vernacular":x=y.vernacularName;break;case"withheld":x="Species name withheld";break;default:x="<span>".concat(y.vernacularName,'</span> <span class="latin-name">').concat(y.name,"</span>")}document.querySelector("#imageModal .js-modal-image-title span:nth-child(1)").innerHTML=x},_=function modalImageHandler(t,a,i,o){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"binomial";t.addEventListener("click",(function(l){a&&b(t,a,i,o,c)}),!0)}},102:function(t,a){t.exports='<figure> <figcaption class=hide>{{ title }}</figcaption> <audio controls src="{{ mp3 }}"> Your browser does not support the <code>audio</code> element. </audio> </figure>'},103:function(t,a,i){"use strict";i.d(a,"a",(function(){return p}));var o=i(18),c=i(2),l=i(22),u=i(139),d=i.n(u);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var p=function videoSetup(t,a,i,u){i.innerHTML="";var p=document.createElement("template");p.innerHTML=d.a,t.video.webLabel=t.video.links[1].label,t.video.webUrl=t.video.links[1].url;var h=a.find((function(a){return a.collectionId===t.id}))||{collectionId:t.id,startAt:t.video.startAt||0};h.playAt=h.pausedAt||h.startAt,Object(c.a)({video:_objectSpread(_objectSpread({},t.video),{},{playAt:h.playAt,location:t.video.location||""})},p.content,i);setTimeout((function(){var a;l.a.readyPlayer();var i=function checkCurrentTime(i){a=setInterval((function(){var a=Math.floor(i.getCurrentTime()),c=m(a,t);if(c&&l.a.onSpeciesTimeMatchListeners.map((function(a){return a(t,c)})),t.notes){var u=t.notes.find((function(t){return o.a(a,t.time)}));u&&l.a.onNoteTimeMatchListeners.map((function(a){return a(t,u)}))}}),1e3)};l.a.subscribeToPlayerStateChange((function onPlayerStateChangeCallback(t){if("function"!==!_typeof(t.getPlayerState)&&void 0!==t.getPlayerState)switch(t.getPlayerState()){case l.a.states.find((function(t){return"playing"===t.value})).key:i(t);break;case l.a.states.find((function(t){return"paused"===t.value})).key:clearInterval(a),a=null;break;default:i(t)}})),u&&setTimeout((function(){l.a.playVideoFrom(u)}),1e3)}),1e3);var g=document.getElementsByTagName("iframe")[0],v=g.offsetWidth;g.height=9*v/16},m=function matchSpeciesTime(t,a){return(a.items?a.items.filter((function(t){return t.time})):a.species.filter((function(t){return t.time}))).find((function(a){return o.a(t,a.time)}))}},105:function(t,a){t.exports='<div id="imageSlider_{{ identifier }}" class="imageSlider carousel slide" data-ride=carousel data-interval=false> <div class="carousel-inner js-carousel-inner no-pointer-events"> <div data-repeat-image="{{ images }}"> <div class="carousel-item image-slider-190"> <img role=button src="{{ image.medium }}" data-title="{{ image.itemName }}" data-source="{{ image.source }}" data-license="{{ image.license }}" data-rights-holder="{{ image.rightsHolder }}" data-photographers-name="{{ image.photographersName }}" data-url="{{ image.url }}" data-provider="{{ image.provider }}" data-item-name="{{ image.itemName }}" data-index="{{ image.index }}" alt="Give {{ image.itemName }} as your answer"> </div> </div> <div> <div class="attribution-layer js-attribution-layer {{ identifier }}"></div> <ol class="carousel-indicators js-carousel-indicators" data-repeat-image="{{ images }}"> <li data-target=#carouselExampleIndicators data-slide-to="{{ image.index }}"></li> </ol> </div> </div> <a class=carousel-control-prev href="#imageSlider_{{ identifier }}" role=button data-slide=prev data-slider="#imageSlider_{{ identifier }}"> <button class="btn snap-icon-btn carousel-control-prev-icon" data-slider="#imageSlider_{{ identifier }}"></button> <button class=sr-only>Previous</button> </a> <div class=carousel-control-next href="#imageSlider_{{ identifier }}" role=button data-slide=next data-slider="#imageSlider_{{ identifier }}"> <button class="btn snap-icon-btn carousel-control-next-icon" data-slider="#imageSlider_{{ identifier }}"></button> <button class=sr-only>Next</button> </div> <div class="description_{{ identifier }} image-description"></div> <div class=double-centred-block></div> </div>'},111:function(t,a,i){"use strict";i.d(a,"a",(function(){return u})),i.d(a,"b",(function(){return d}));var o=i(2),c=i(145),l=i.n(c),u=function handleWindowResize(){var t=function setWindowHeight(){var t=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,a=(t?screen.width:window.innerWidth,t?screen.height:window.innerHeight,.01*window.innerHeight);document.documentElement.style.setProperty("--vh",a+"px"),document.documentElement.style.setProperty("--vhGrid",100*a+"px"),document.documentElement.style.setProperty("--vhRunningBlock",7.5*a+"px"),document.documentElement.style.setProperty("--vhRunningBlocks",15*a+"px"),document.documentElement.style.setProperty("--vhStandardBlock",10*a+"px"),document.documentElement.style.setProperty("--vhHalfStandardBlock",5*a+"px"),document.documentElement.style.setProperty("--vhOneAndHalfStandardBlock",15*a+"px"),document.documentElement.style.setProperty("--vhDoubleStandardBlock",20*a+"px"),document.documentElement.style.setProperty("--vhCarousel",30*a+"px"),document.documentElement.style.setProperty("--vhButtonBlock",9*a+"px"),document.documentElement.style.setProperty("--vhRow",11*a+"px"),document.documentElement.style.setProperty("--vhFixtures",15*a+5+"px"),document.documentElement.style.setProperty("--vhCalendar",11*a+"px");var i=(100*a-parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--vhFixtures").replace("px","")))/3;document.documentElement.style.setProperty("--vhLargeImage",i+"px"),document.documentElement.style.setProperty("--vhSmallImageCarousel",36*a+"px"),document.documentElement.style.setProperty("--vhExtraSmallImageCarousel",36*a+"px");var o=.01*window.innerWidth;document.documentElement.style.setProperty("--vw",o+"px"),document.documentElement.style.setProperty("--vwGrid",100*o+"px"),document.documentElement.style.setProperty("--vwGridNegative",-100*o+52+"px"),document.documentElement.style.setProperty("--vhScrollingTop",56.25*o+10*a+"px")};t(),window.addEventListener("resize",(function(){t()})),window.location.origin.indexOf("learn-the-planet")>-1&&(snapLog("*** Live site detected ***"),"https:"!=window.location.protocol&&(location.href=location.href.replace("http://","https://"),snapLog(" *** Site secured ***")))},d=function loadModalHTML(){var t=document.createElement("template");t.innerHTML=l.a;var a=document.querySelector("body");Object(o.a)({},t.content,a)}},12:function(t,a,i){"use strict";i.d(a,"a",(function(){return h}));var o=i(46),c=i(4),l=i(85);function _slicedToArray(t,a){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],o=!0,c=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done)&&(i.push(u.value),!a||i.length!==a);o=!0);}catch(t){c=!0,l=t}finally{try{o||null==d.return||d.return()}finally{if(c)throw l}}return i}(t,a)||function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t,a)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var u=function getTrait(t,a,i){if(!t.traits)return"";for(var o,c=0,l=Object.entries(t.traits);c<l.length;c++){var u=_slicedToArray(l[c],2),d=u[0],p=u[1];d===a&&(o=p.value)}return o?i?i(o):o:""},d=function reducer(t,a){return t+a},p=function statsReducer(t,a){return t[a]=t[a]||0,t[a]++,t},m=function getFileNameFromImageUrl(t){return/[\w:]+\.(jpe?g|png|gif|svg)/i.exec(t)[0]},h={getVernacularName:function getVernacularName(t,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vernacularName";try{var l;if(i){var u=t.names.find((function(t){return"en"===t.language&&t.shortForm}));u=u?u.shortForm:void 0;var d=t.names.find((function(t){return t.language===a.language&&t.shortForm}));l=(d=d?d.shortForm:void 0)||u}if(l)return l;var p=t.names.filter((function(t){return"en"===t.language})),m=p.length>0?p[0][o]:"Unknown",h=t.names.filter((function(t){return t.language===a.language})),g=h.length>0?h[0][o]:m,v=g.split(" ");return"fr"===a.language?c.utils.capitaliseFirst(v.join(" ")):v.map((function(t){return c.utils.capitaliseFirst(t)})).join(" ")}catch(a){return console.error("Failing getting vernacular name for: ",t,"error: ",a.message),""}},getGenusName:function getGenusName(t){return t.split(" ")[0]},getSpeciesName:function getSpeciesName(t){return t.split(" ")[1]},latin:function latin(t){var a=l.a.find((function(a){return a.latin.find((function(a){return a.toUpperCase()===t.toUpperCase()}))||""}));return a?function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}({},a):""},getTaxonProp:function getTaxonProp(t,a,i){return t[i]&&(t[i].find((function(t){return t.language===a}))?t[i].find((function(t){return t.language===a})):t[i].find((function(t){return"en"===t.language})))||""},getNestedTaxonProp:function getNestedTaxonProp(t,a,i,o,c){if(!t||!t[i])return"";var l=t[i].find((function(t){return t.language===a}))?t[i].find((function(t){return t.language===a})):t[i].find((function(t){return"en"===t.language}));if(!l)return"";var u=l[o];return u?c?u[c]:u:""},trimLatinName:function trimLatinName(t){var a=t;return t.indexOf(".")<0&&(a=t.split(" ").map((function(t,a){return 0===a?t.slice(0,1).trim()+".":t.trim()})).join(" ")),a},familyVernacularNames:function familyVernacularNames(t,a,i){if(""!==t){var o=i.find((function(a){return a.name.toUpperCase()===t.toUpperCase()}));if(o)return o.names.find((function(t){return t.language===a})).names}},getTrait:u,getActiveTrait:function getActiveTrait(t,a){return a.map((function(a){var i=a.name,o=a.formatter;return u(t,i,o)})).reduce(d,"")},vernacularNamesForItems:function vernacularNamesForItems(t,a){var i=t.map((function(t){return t.names})).map((function(t){return t.filter((function(t){return t.language===a.language||"en"===t.language}))}));return 0===i.length?[]:i=i.map((function(t){var i=t.find((function(t){return t.language===a.language}));return i||(i=t.find((function(t){return"en"===t.language}))),i?c.utils.capitaliseFirst(i.vernacularName):""})).filter((function(t){return""!==t}))},getVernacularNames:function getVernacularNames(t,a){try{return t.names.filter((function(t){return t.language===a.language})).map((function(t){return c.utils.capitaliseFirst(t.vernacularName)}))}catch(a){return console.error("Failing getting vernacular names for: ",t),""}},answersFromList:function answersFromList(t,a,i){var l=o.a(i-1,t.filter((function(t){return t!==a})));return l.push(a),c.utils.shuffleArray(l)},getFamilyStats:function getFamilyStats(t){return t.map((function(t){return t.taxonomy.family})).reduce(p,{})},getFileNameFromImageUrl:m,getImageRightsUrl:function getImageRightsUrl(t){var a=m(t);return"https://en.wikipedia.org/w/api.php?action=query&prop=imageinfo&iiprop=extmetadata&titles=File:".concat(a,"&format=json")},getRootTraitValue:function getRootTraitValue(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end",i=/[A-Z]+[^A-Z]*|[^A-Z]+/g,o=t.match(i),c=["colour","shape"];c.forEach((function(i){t.toLowerCase().indexOf(i)>-1&&(a="start")}));var l="";return"start"===a?(o.forEach((function(t,a){a===o.length-1&&(l+=t)})),l=l.charAt(0).toLowerCase()+l.slice(1)):o.forEach((function(t,a){a<o.length-1&&(l+=t)})),l}}},123:function(t,a,i){"use strict";i.d(a,"a",(function(){return p}));var o,c=i(178),l=i(1),u=i(14),d=i(5);function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var p=function(){var t=function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(o!==t.language){i.next=2;break}return i.abrupt("return");case 2:if(o=t.language,c.a(l.b.getState().enums)){i.next=5;break}return i.abrupt("return");case 5:return i.next=7,d.a.getTraitValues();case 7:a=i.sent,u.a.boundUpdateEnums(a);case 9:case"end":return i.stop()}}),_callee,this)})));return function traitValuesHandler(a){return t.apply(this,arguments)}}()},124:function(t,a){t.exports='<div class=attribution-layer> <div class="rights-link js-rights-link"> <div class="rights-link-copyright double-centred-block js-copyright"> <i class="fas fa-copyright"></i> </div> <div></div> <div class="rights-link-copyright double-centred-block"> <a href="{{ large }}" target=_blank> <span class=sr-only>Opens in new window</span> <i class="fas fa-external-link-alt"></i> </a> </div> </div> <div class="rights-attribution hide-important js-rights-attribution"> <div class="rights-link-copyright double-centred-block js-copyright"> <i class="fas fa-copyright"></i> </div> <div class=double-centred-block> <a href="{{ source }}" target=_blank> <span class=centred-block> <span class=sr-only>Opens in new window</span> <span class="underline-link half-margin-right">{{ author }}</span> <i class="super active-icon fas fa-external-link-alt"></i> </span> </a> </div> </div> </div>'},125:function(t,a){t.exports='<span class="feature-label js-compare-species-label"></span> <span title="Lookalike species" class="landscape compare-species-link js-compare-species-link" data-toggle=modal data-target=#imageComparisonModal data-slides="{{ slides }}"> <i class="fas fa-clone"></i> </span> <span title="Lookalike species" class="portrait compare-species-link js-compare-species-link"> <i class="fas fa-clone"></i> </span>'},126:function(t,a){t.exports='<div class=js-relationship-card-list data-repeat-lookalike="{{ lookalikes }}"> <div class=lookalike-card> <div>{{ lookalike.species }}</div> <div>{{ lookalike.speciesDescription }}</div> <div class=js-test-card-container-link> <span data-toggle="{{ lookalike.modal }}" data-target=#cardModal class="{{ lookalike.className }}" id="{{ lookalike.lookalike }}">{{ lookalike.lookalike }}</span> </div> <div>{{ lookalike.lookalikeDescription }}</div> </div> </div> '},127:function(t,a){t.exports=' <div class=js-relationship-card-list data-repeat-relationship="{{ relationships }}"> <div class=relationship-card> <div class=cols> <div>Relationship</div><div>{{ relationship.type }}</div> </div> <div class=cols> <div class=js-test-card-container-link> <span data-toggle="{{ relationship.modal }}" data-target=#cardModal class="{{ relationship.className }}" id="{{ relationship.speciesA }}">{{ relationship.speciesA }}</span> </div> <div class=capitalise>{{ relationship.speciesARole }}</div> </div> <div class=cols> <div>{{ relationship.speciesB }}</div><div class=capitalise>{{ relationship.speciesBRole }}</div> </div> <div>{{ relationship.description }}</div> </div> </div>'},128:function(t,a){t.exports="<div class=id-box> <div>{{ id }}</div> </div>"},129:function(t,a){t.exports='<div data-repeat-detail="{{ details }}"> <dl class=info_detail> <dt>{{ detail.term }}</dt> <dd><img class="{{ detail.imgClassName }}" src="{{ detail.img.url }}" alt=""></dd> <dd>{{ detail.definition }}</dd> </dl> </div>'},13:function(t,a,i){"use strict";i.d(a,"a",(function(){return o}));var o={leftGrid:document.getElementsByClassName("js-left-grid")[0],leftHeader:document.getElementsByClassName("js-left-header")[0],leftBody:document.getElementsByClassName("js-left-body")[0],leftFooter:document.getElementsByClassName("js-left-footer")[0],leftHeaderTxt:document.getElementsByClassName("js-left-txt-header")[0],specimenRptr:document.getElementsByClassName("js-rptr-specimen")[0],rightGrid:document.getElementsByClassName("js-right-grid")[0],rightHeader:document.getElementsByClassName("js-right-header")[0],rightHeaderTxt:document.getElementsByClassName("js-right-txt-header")[0],rightHeaderScoreTxt:document.getElementsByClassName("js-right-txt-score")[0],rightBody:document.getElementsByClassName("js-right-body")[0],rightRptrSummary:document.getElementsByClassName("js-summary")[0],rightBodyBottom:document.getElementsByClassName("js-right-body-bottom")[0],rightFooter:document.getElementsByClassName("js-right-footer")[0]}},130:function(t,a){t.exports='<div id="traitSlider{{ id }}" class="info carousel slide" data-ride=false data-interval=false> <div class=carousel-inner data-repeat-trait="{{ traits }}"> <dl class=carousel-item> <div> <dt>{{ trait.name }}</dt> <dd>{{ trait.value }} {{ trait.unit }}</dd> </div> <div class=hide-important>{{ trait.description }}</div> </dl> </div> <a class="carousel-control carousel-control-prev" href="#traitSlider{{ id }}" role=button data-slide=prev> <button class=carousel-control-prev-icon aria-hidden=true></button> <button class=sr-only>Previous</button> </a> <a class="carousel-control carousel-control-next" href="#traitSlider{{ id }}" role=button data-slide=next> <button class=carousel-control-next-icon aria-hidden=true></button> <button class=sr-only>Next </button></a> </div>'},131:function(t,a){t.exports='<div class=data-box> <div> <span class=js-world>Worldwide</span><span class=js-taxon-count>---</span> </div> <div> <span class=js-place>Location</span><span class=js-place-taxon-count>---</span> </div> <div> <span><a target=_blank href="" class="underline-link js-taxon-link underline-link-left-margin">iNat</a></span> <span class=js-test-card-container-wiki></span> <span><a class="species-card-eol-link js-test-card-container-eol-link underline-link">EOL</a></span> </div> </div>'},132:function(t,a){t.exports='<div class=calendar-box> <div data-repeat-row="{{ data }}" class=""> <div class=col data-repeat-value="{{ row }}"> <div title="{{ value.count }}" class="{{ value.class }}">{{ value.month }}</div> </div> </div> </div>'},133:function(t,a){t.exports='<span> <span class="uppercase small-text js-native-container"></span> <span class=rank>{{ trait }}</span> <span class="lookalikes js-lookalikes"></span> <span class="badge badge-light js-subspecies-badge" data-toggle=modal data-target=#badgeListModal>{{ subSpeciesCount }}</span> <span class=sr-only>species of this family in the collection</span> </span> <span class=hide-empty>{{ familyVernacularName }}</span> <span class="latin hide-empty">{{ familyName }}</span> '},134:function(t,a){t.exports='<ul data-repeat-language="{{ languageNames }}" class="scrollable badge-list"> <li class=capitalise> <div class="margin-top uppercase">{{ language.name }}</div> <ul data-repeat-common="{{ language.names }}"> <li>{{ common }}</li> </ul> </li> </ul>'},135:function(t,a){t.exports='<div class="snapdragon-container test-card-container js-test-card-container"> <div class="card-card js-species-card"> <div id=card-header class=question-container> <div class="iconic-icon double-centred-block js-iconic-icon"> <i class=""></i> </div> <div class="hide-empty question-header"> <div> <div class="names-container vernacular-name-badge js-names-container"> <div> <span class=vernacular-name>{{ vernacularName }}</span> </div> <div> <span class=binomial>{{ name }}</span> <span class=js-names-badge></span> <span class="portrait bird-song-icon-disabled js-bird-song-player" data-src=player data-toggle=modal data-target=#basicModal> <i class="fas fa-music"></i> </span> </div> </div> </div> </div> <div class=card-link-container> <i class="disabled-icon far fa-arrow-alt-circle-right js-card-link"></i> </div> </div> <div class="data-box-container landscape"> <div class="calendar-container landscape"> <div class=js-calendar-box></div> </div> <div class="inat-box js-inat-box"></div> <div class="taxa-container landscape js-taxa-box"></div> </div> <div class="portrait-grid species-card-images carousel js-test-card-container-images"></div> <div class="mixed-content-container scrollable"> <div class="landscape bird-song"> <div class=hide-empty> <iframe class=js-bird-song src="" scrolling=no frameborder=0 width=80vw height=115> </iframe> </div> </div> <div class="card-txt-block lookalikes js-lookalikes"></div> <div class="js-info-box-details info-details"></div> </div> <div class="info-box js-info-box"></div> </div> </div>'},136:function(t,a){t.exports='<div class="snapdragon-container test-card-container"> <div class="taxon card-card js-taxon-card"> <div id=taxon-card-header class=question-container> <div class="iconic-icon double-centred-block js-iconic-icon"> <i class=""></i> </div> <div class="hide-empty question-header"> <div> <div class="names-container vernacular-name-badge js-names-container"> <div> <span>{{ vernacularName }}</span> </div> <div> <span class=binomial>{{ name }}</span> <span class="names-badge js-names-badge" data-toggle=modal data-target=#badgeListModal>{{ occurrences }}</span> </div> </div> </div> </div> <div class=card-link-container> <i class="disabled-icon far fa-arrow-alt-circle-right js-card-link"></i> </div> </div> <div class="data-box-container sub-header"> <div class=data-box> <div class="taxon-data js-taxon-rank"><span>Rank</span> <span>{{ rank }}</span></div> <div class=taxon-data><span>Species</span> <span>{{ species }}</span></div> <div class="taxon-data js-taxon-genus"><span>Genera</span> <span>{{ genera }}</span></div> <div class="taxon-data js-taxon-family"><span>Families</span> <span>{{ families }}</span></div> </div> <div class="landscape external-links js-external-links"> <div><a href="{{ eol }}" target=_blank class=underline-link>EOL</a><span> taxon home page</span> <span class=names-badge> <i class="super fas fa-external-link-alt"></i></span></div> <div><a href="{{ wiki }}" class=underline-link data-toggle=modal data-target=#wikiModal>Wikipedia page</a></div> </div> </div> <div class=mixed-content-container> <div class=centred-block> <div class=id-box-container> <div class=id-box> <div> </div> <div> <div class=taxon-identification>{{ identification }}</div> </div> </div> </div> <div class=taxon-summary> <div>{{ summary }}</div> </div> </div> </div> <div class="info-box js-taxon-info-box"></div> </div> </div>'},137:function(t,a){t.exports='<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.8.2/css/all.css integrity=sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay crossorigin=anonymous> <div class="snapdragon-container test-card-container js-test-card-container"> <div class="portrait-grid non-taxon-card-images carousel js-non-taxon-card-images"></div> <div class="card-card card non-taxon js-non-taxon-card"> <div id=taxon-card-header class=question-container> <div class="species-header js-species-header"> <img src="{{ image.small }}" alt=""> </div> <div class="hide-empty question-header"> <div> <div class="names-container js-names-container"> <div> Foliose </div> <div> </div> </div> </div> </div> <div class=card-link-container> <i class="disabled-icon far fa-arrow-alt-circle-right js-card-link"></i> </div> </div> <div class="non-taxa js-non-taxa"> <div class="btn-group btn-group-toggle" data-toggle=buttons data-repeat-taxon="{{ group }}"> <label class="btn btn-secondary" id="{{ taxon.id }}"> <input type=radio name=options id="{{ taxon.id }}" autocomplete=off checked=checked> {{ taxon.id }} </label> </div> </div> <div class=definitions> <div class="non-taxa-definition js-non-taxa-definition"> <div></div> </div> <div class=non-taxa-definition> <div class=id-box> <div> <div class=landscape></div> <div class=portrait></div> </div> <div> <div></div> </div> </div> </div> <div class="landscape species-card-wiki"> <span class="non-taxon-card-wiki js-non-taxon-card-wiki"></span> </div> </div> </div> </div> '},138:function(t,a){t.exports='<table id="species_list_id_{{ id }}" class="species-table js-species-list" style=width:100%> <tbody data-repeat-item="{{ itemImages }}"> <tr class="table-row master js-list-item" id="id_{{ item.id }}"> <td id="{{ item.name }}" data-snap-index="{{ item.snapIndex }}"> <button class="btn snap-icon-btn double-centred-block"> <img id="{{ item.name }}" src="{{ item.small }}" alt="Open gallery to more photos of {{ item.name }}" data-toggle=modal data-item-name="{{ item.name }}" data-target=#imageModal data-id="{{ item.name }}" data-url="{{ item.url }}" data-rights-holder="{{ item.rightsHolder }}" data-title="{{ item.name }}" data-license="{{ item.license }}" data-source="{{ item.source }}" data-provider="{{ item.provider }}"> </button> </td> <td> <button data-toggle=modal data-name="{{ item.name }}" data-id="{{ item.id }}" data-type=speciesCardLink data-target=#cardModal class="snap-link-btn underline-link js-test-card-container-link">{{ item.vernacularName }}</button> <span class="no-underline-link latin-name"> <button data-toggle=modal data-name="{{ item.name }}" data-url="{{ item.url }}" data-rank=genus data-genus="{{ item.genus }}" data-target=#cardModal class="{{ item.genusLinkClass }}">{{ item.genus }}</button> <span>{{ item.species }}</span> </span> </td> <td class=wide-screen> <button data-toggle=modal data-name="{{ item.name }}" data-url="{{ item.url }}" data-rank=family data-family="{{ item.taxonomy.family }}" data-target=#cardModal class="no-underline-link {{ item.familyLinkClass }}">{{ item.taxonomy.family }}</button> <button data-toggle=modal data-name="{{ item.name }}" data-url="{{ item.url }}" data-rank=order data-order="{{ item.taxonomy.order }}" data-target=#cardModal class="no-underline-link {{ item.orderLinkClass }} js-order-link">{{ item.taxonomy.order }}</button> </td> <td class="{{ item.iconicTaxon }} {{ item.hasTaxonClassName }}"> <span id="{{ item.id }}" name="{{ item.name }}"><i class="{{ item.iconicTaxonIcon }}"></i></span> <span class="mushroom-icon {{ item.hideFungiIcon }}"></span> </td> <td class="{{ item.hasVideoClassName }}"> <button data-name="{{ item.name }}" class="snap-icon-btn fit-width js-youtube" aria-label="start video from the species {{ item.name }}"> <i class="fab fa-youtube youtube-icon" data-name="{{ item.name }}"></i> </button> </td> <td class="{{ item.hasVideoClassName }}"> <button data-name="{{ item.name }}" class="snap-icon-btn fit-width accordion-icon js-accordion" aria-label="video commentary for the species {{ item.name }}"> <i data-name="{{ item.name }}" class="fas fa-chevron-down"></i> </button> </td> </tr> </tbody> </table> <button class="btn snap-action-btn portrait btn-current-lesson-begin js-btn-current-lesson-begin">Quiz</button>'},139:function(t,a){t.exports='<div class="home-scrolling-container js-home-scrolling-container"> <div class="title standard-block double-centred-block">{{ video.title }}</div> <div class=video> <div style=min-height:1px></div> <iframe type=text/html id=embedded-video width=100% src="https://www.youtube.com/embed/{{ video.id }}?enablejsapi=1&playsinline=1&start={{ video.playAt }}" frameborder=0 allowfullscreen> </iframe> </div> <div class=scrollable> <div class="one-and-half-standard-block centred-block justify-space-between padding-left"> <div class=centred-block> <div class=margin-right> <img width=48px height=48px src="{{ video.src }}" alt=""> </div> <div class=vertical-centred-block> <div><span class="hide margin-right">Created by:</span><span class=emphasis>{{ video.presenter }}</span></div> <div><span class="hide margin-right">Location:</span><span class=font-size-small>{{ video.location }}</span></div> </div> </div> </div> </div> </div>'},14:function(t,a,i){"use strict";i.d(a,"a",(function(){return B}));var o=i(1),c=i(3),l=function makeActionCreator(t){return function(a,i){return{type:t,data:a,meta:i}}},u=l(c.a.CHANGE_LESSON_PLANS),d=l(c.a.CHANGE_LESSON_PLAN),p=l(c.a.NEXT_LESSON),m=l(c.a.UPDATE_SCORE),h=l(c.a.UPDATE_TRAIT_SCORE),g=l(c.a.NEXT_LAYOUT),v=l(c.a.NEXT_ITEM),y=l(c.a.END_REVISION),b=l(c.a.UPDATE_HISTORY),_=l(c.a.SET_ACTIVE_COLLECTION),S=l(c.a.UPDATE_COLLECTION),x=l(c.a.RESET_COLLECTION),w=l(c.a.UPDATE_COLLECTIONS),T=l(c.a.UPDATE_COLLECTION_ITEMS),E=l(c.a.NEXT_ROUND),k=l(c.a.NEXT_LEVEL),L=l(c.a.UPDATE_CONFIG),O=l(c.a.STOP_START_LESSON),A=l(c.a.SELECT_COLLECTION),j=l(c.a.UPDATE_LANGUAGE),C=l(c.a.UPDATE_ENUMS),I=l(c.a.UPDATE_USER),P=l(c.a.UPDATE_LESSON),R=l(c.a.SAVE_LESSON),N=l(c.a.REMOVE_LESSON),M=l(c.a.UPDATE_VIDEO_PLAYER),q=l(c.a.CREATE_QUICKFIRE),D=l(c.a.UPDATE_QUICKFIRE),H=l(c.a.CREATE_GLOSSARY),G=l(c.a.CLICK_EVENT),U=function boundAsyncNextLesson(t){return function(a){return t.then((function(t){return a(p(t))}))}},B={boundchangeLessonPlans:function boundchangeLessonPlans(t){return o.b.dispatch(u(t))},boundchangeLessonPlan:function boundchangeLessonPlan(t){return o.b.dispatch(d(t))},boundNextLesson:function boundNextLesson(t){return o.b.dispatch(U(t))},boundUpdateScore:function boundUpdateScore(t){return o.b.dispatch(m(t))},boundUpdateTraitScore:function boundUpdateTraitScore(t){return o.b.dispatch(h(t))},boundNextItem:function boundNextItem(t){return o.b.dispatch(v(t,{delay:500}))},boundNextLayout:function boundNextLayout(t){return o.b.dispatch(g(t))},boundEndRevision:function boundEndRevision(t){return o.b.dispatch(y(t))},boundUpdateHistory:function boundUpdateHistory(t){return o.b.dispatch(b(t))},boundSetActiveCollection:function boundSetActiveCollection(t){return o.b.dispatch(_(t))},boundUpdateCollection:function boundUpdateCollection(t){return o.b.dispatch(S(t))},boundResetCollection:function boundResetCollection(t){return o.b.dispatch(x(t))},boundUpdateCollections:function boundUpdateCollections(t){return o.b.dispatch(w(t))},boundUpdateCollectionItems:function boundUpdateCollectionItems(t){return o.b.dispatch(T(t))},boundNextRound:function boundNextRound(t){return o.b.dispatch(E(t))},boundNextLevel:function boundNextLevel(t){return o.b.dispatch(k(t))},boundUpdateConfig:function boundUpdateConfig(t){return o.b.dispatch(L(t))},boundStopStartLesson:function boundStopStartLesson(t){return o.b.dispatch(O(t))},boundSelectCollection:function boundSelectCollection(t){return o.b.dispatch(A(t))},boundUpdateLanguage:function boundUpdateLanguage(t){return o.b.dispatch(j(t))},boundUpdateEnums:function boundUpdateEnums(t){return o.b.dispatch(C(t))},boundUpdateLesson:function boundUpdateLesson(t){return o.b.dispatch(P(t))},boundSaveLesson:function boundSaveLesson(t){return o.b.dispatch(R(t))},boundRemoveSavedLesson:function boundRemoveSavedLesson(t){return o.b.dispatch(N(t))},boundUpdateVideoPlayer:function boundUpdateVideoPlayer(t){return o.b.dispatch(M(t))},boundUpdateUser:function boundUpdateUser(t){return o.b.dispatch(I(t))},boundCreateQuickFire:function boundCreateQuickFire(t){return o.b.dispatch(q(t))},boundUpdateQuickFire:function boundUpdateQuickFire(t){return o.b.dispatch(D(t))},boundCreateGlossary:function boundCreateGlossary(t){return o.b.dispatch(H(t))},boundClickEvent:function boundClickEvent(t){return o.b.dispatch(G(t))}}},140:function(t,a){t.exports="<div> <div>{{ note.tag }}</div> <div>{{ note.description }}</div> </div>"},141:function(t,a,i){"use strict";i.d(a,"a",(function(){return p}));var o=i(2),c=i(77),l=i(65),u=i(144),d=i.n(u),p=function renderSpeciesPicker(t,a){var i=t.config,u=t.container,p=t.selectedSpecies,m=document.createElement("template");m.innerHTML=d.a,a.innerHTML="",Object(o.a)({},m.content,a);var h=a.querySelector(".js-selected-species-container");h.innerHTML="",i?Object(c.a)(i,u,h,t,i.guide.species||[]):Object(l.b)(a,h,p,[],[])}},142:function(t,a){t.exports='<div class="guide-text-container hide-empty"> <input id=input-species type=text placeholder="Start typing a latin species name" autofocus> </div> <div class="autocomplete-options-container hide-important" id=snapdragon-species-autocomplete style=width:unset></div> <ul class="selected-species js-selected-species" data-repeat-species="{{ selectedSpecies }}"> <li class="custom-control custom-checkbox"> <input type=checkbox class=custom-control-input id="{{ species.name }}" checked=checked> <label class=custom-control-label for="{{ species.name }}">{{ species.name }}</label> </li> </ul>'},143:function(t,a){t.exports='<div> <input id=input-species type=text placeholder="Start typing a latin species name" autofocus> </div> <div class="autocomplete-options-container hide-important" id=snapdragon-species-autocomplete style=width:unset></div>'},144:function(t,a){t.exports='<div class=selected-species-container> <div class="scrollable open js-selected-species-container"></div> </div>'},145:function(t,a){t.exports=' <div class="modal fade" id=imageModal role=dialog aria-labelledby=imageModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-modal-image-title"> <span></span><span></span> </div> <button type=button class=close data-dismiss=modal aria-label=Close> <span aria-hidden=true>&times;</span> </button> </div> </header> <div class="modal-rights-attribution js-modal-rights-attribution"></div> <div class="modal-body centred-block"> <div class="modal-image js-modal-image" style=flex:auto></div> </div> <div class="modal-footer double-centred-block" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div> </div> <div class="modal fade" id=imageComparisonModal tabindex=-1 role=dialog aria-labelledby=imageModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-modal-image-title"> <div class="modal-rights-attribution js-modal-rights-attribution"></div> <span></span><span></span><span class=hide-empty></span><span class=hide-empty></span> </div> </div></header> </div> <div class=modal-body> <div class="modal-image js-modal-image"></div> </div> <div class="modal-footer double-centred-block" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div>  <div class="modal fade" id=wikiModal tabindex=-1 role=dialog aria-labelledby=exampleModalLongTitle aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-external-page-title"></div> </div> </header> <div class="modal-body js-external-page-body"> </div> <div class="modal-footer double-centred-block" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div> </div> <div class="modal fade basic-modal" id=basicModal tabindex=-1 role=dialog aria-labelledby=basicModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <div class=modal-header-container> <div class=modal-header> <div class="centred-block justify-space-between js-modal-header-block"> <div class="modal-title small-text js-modal-text-title"><header></header></div> <div></div> </div> </div> </div> <div class=modal-body> <div class="modal-text js-modal-text"></div> </div> <footer class="modal-footer double-centred-block js-modal-footer" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </footer> </div> </div> </div> <div class="modal fade basic-modal" id=glossaryModal tabindex=-1 role=dialog aria-labelledby=glossaryModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="centred-block justify-space-between js-modal-header-block"> <div class="modal-title small-text js-modal-text-title"><h1>Glossary</h1></div> <button class="btn fit-width snap-btn double-margin-right small-text js-quick-fire-filters">Glossary</button> <button class="btn hide-important fit-width snap-btn double-margin-right small-text js-quick-fire-questions">Quick-fire questions</button> </div> </div> </header> <div class=modal-body> <div class="modal-text js-modal-text"></div> </div> <footer class="modal-footer double-centred-block js-modal-footer" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </footer> </div> </div> </div> <div class="modal fade" id=cardModal tabindex=-1 role=dialog aria-labelledby=speciesCardLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-modal-text-title"></div> </div> </header> <div class="carousel slide"> <div class=carousel-inner> <div class="prev landscape js-prev" role=button> <span class=carousel-control-prev-icon data-direction=prev aria-hidden=true></span> <span class=sr-only>Previous</span> </div> <div class="modal-body js-modal-body"> <div class="modal-text js-modal-text"></div> </div> <div class="next landscape js-next" role=button> <span class=carousel-control-next-icon data-direction=next aria-hidden=true></span> <span class=sr-only>Next</span> </div> </div> </div> <div class="modal-footer double-centred-block" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div> </div>  <div class="modal fade" id=badgeListModal tabindex=-1 role=dialog aria-labelledby=badgeListModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-modal-text-title"></div> </div> </header> <div class="modal-body js-modal-body"> <div class="modal-text js-modal-text"></div> </div> <div class="modal-footer double-centred-block" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div> </div> <div class="modal fade modal-guide-wrapper" id=createGuide tabindex=-1 role=dialog aria-labelledby=createGuideModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="modal-title js-modal-title"> <header class=header></header> </div> </div> </header> <div class="modal-body modal-guide-body"> <div class="modal-guide-progress standard-block js-modal-guide-progress"> <div class="modal-subheader js-options"> <h1>Select species</h1> </div> <div class="hide-important steps js-steps"> <div class=completed>Step 1</div> <div>Step 2</div> <div>Step 3</div> </div> </div> <div class="step-action-content js-step-action-content">Step action</div> <nav aria-label="navigation for creating new lesson" class="modal-guide-navigation js-modal-guide-navigation"> <button class="snap-icon-btn js-left"> <span class="arrow-wrapper js-arrow-wrapper"><i class="far fa-arrow-alt-circle-left"></i></span> <span class=title></span> </button> <div class="centred-block js-centre"><span class=title>Provenance</span></div> <button class="snap-icon-btn right-justify js-right"> <span class=title></span> <span class="arrow-wrapper js-arrow-wrapper"><i class="far fa-arrow-alt-circle-right"></i></span> </button> </nav> </div> <div class="modal-footer double-centred-block js-create-guide-close-btn" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </div> </div> </div> </div> <div class="modal fade basic-modal" id=lessonModal data-backdrop=static data-keyboard=false tabindex=-1 role=dialog aria-labelledby=lessonModalLabel aria-hidden=true> <div class=modal-dialog role=document> <div class=modal-content> <header class=modal-header-container> <div class=modal-header> <div class="centred-block justify-space-between js-modal-header-block margin-right"> <div class="modal-title small-text js-modal-text-title"><header></header></div> <button class="btn small-text fit-width snap-btn margin-right js-review-progress">Progress</button> </div> </div> </header> <div class=modal-body> <div class="modal-text js-modal-text"> <div class="lesson-spinner double-centred-block"> <div class=icon><i class="fas fa-sun slow-spin"></i></div> </div> </div> </div> <footer class="modal-footer double-centred-block js-modal-footer" data-dismiss=modal aria-label=Close> <button class="btn small-text snap-btn fit-width">Close</button> </footer> </div> </div> </div>'},16:function(t,a,i){"use strict";i.d(a,"b",(function(){return c})),i.d(a,"e",(function(){return l})),i.d(a,"a",(function(){return u})),i.d(a,"c",(function(){return d})),i.d(a,"d",(function(){return p}));var o=i(18),c={FUNGI:"Fungi",PLANTAE:"Plants",AVES:"Birds",AMPHIBIA:"Amphibians",REPTILIA:"Reptilians",MAMMALIA:"Mammals",INSECTA:"Insects",ARACHNIDA:"Arachnids",LEPIDOPTERA:"Lepidoptera"},l=function matchTaxon(t,a){return!!t&&function matchTaxonKey(t,a){var i={rank:"",value:""};return t?(t.order&&o.a(t.order.toLowerCase(),a)&&(i={rank:"order",value:t.order.toLowerCase()}),""===i.value&&t.class&&o.a(t.class.toLowerCase(),a)&&(i={rank:"class",value:t.class.toLowerCase()}),""===i.value&&t.kingdom&&o.a(t.kingdom.toLowerCase(),a)&&(i={rank:"kingdom",value:t.kingdom.toLowerCase()}),i):i}(t,Object.keys(a).map((function(t){return t.toLowerCase()})))},u=function findRankByIconicTaxon(t,a){return Object.keys(t).find((function(i){return t[i].toLowerCase()===a.toLowerCase()}))},d=function matchIcon(t,a){if(!t)return"";var i=l(t,a).value;return i?p(i):""},p=function matchRank(t){var a;switch(t.toLowerCase()){case"aves":a="fas fa-dove";break;case"lepidoptera":a="fas fa-barcode";break;case"amphibia":a="fas fa-frog";break;case"mammalia":case"actinopterygii":a="fas fa-paw";break;case"reptilia":a="fas fa-registered";break;case"insecta":case"arachnida":a="fas fa-bug";break;case"fungi":a="./icons/mushroom.svg";break;case"plantae":a="fas fa-leaf"}return a}},169:function(t,a){t.exports='<li> <div data-lesson-id="{{ lesson.id }}" class="relative lesson-list-carousel-item js-lesson-list-carousel-item"> <div class="landscape double-centred-block"> <img class=lesson-icon src="{{ lesson.icon }}" alt="{{ lesson.name }}"> </div> <div data-lesson-id="{{ lesson.id }}" class="lesson-list-item js-lesson-list-item" data-has-video="{{ lesson.hasVideo }}"> <div> <div class="lesson-name js-lesson-title" data-lesson-id="{{ lesson.id }}"> <span data-toggle=modal data-target=#basicModal id="lesson_{{ lesson.id }}" class="lesson-title margin-right {{ lesson.isCollectionEditableClass }}">{{ lesson.name }}</span> </div> <div class=lesson-taxa data-lesson-id="{{ lesson.id }}">{{ lesson.taxa }}</div> <div class="latin hide-empty js-lesson-video-state" data-lesson-id="{{ lesson.id }}">{{ lesson.videoState }}</div> </div> <div data-lesson-id="{{ lesson.id }}" class="lesson-review js-lesson-review"> <div class=flex> <div class="centred-block fit-width"> <span class="lesson-terms-review {{ lesson.hasTermsClass }} margin-right fit-width js-terms-review-link" data-toggle=modal data-target=#glossaryModal data-lesson-id="{{ lesson.id }}"> <button data-lesson-id="{{ lesson.id }}" aria-label="vocab test for {{ lesson.name }} lesson" class="btn snap-btn extra-small-text" data-toggle=modal data-target=#glossaryModal>Vocab test</button> <span> </span></span></div> <div class="vertical-centred-block relative"> <span class=""> <button data-toggle=modal data-target=#lessonModal data-lesson-id="{{ lesson.id }}" aria-label="{{ lesson.name }} lesson quiz" class="landscape btn snap-btn extra-small-text margin-right fit-width js-review-link">{{ lesson.reviewState }}</button> <button data-lesson-id="{{ lesson.id }}" aria-label="{{ lesson.name }} lesson quiz" class="portrait btn snap-btn extra-small-text margin-right fit-width js-review-link">{{ lesson.reviewState }}</button> </span> <span data-lesson-id="{{ lesson.id }}" class="hide-important inline-progress-container js-review"> <span class=absolute>&nbsp;</span> </span> <span data-lesson-id="{{ lesson.id }}" class="hide margin-right js-loading-review-message"> <span><i class="fas fa-sync slow-spin"></i></span> </span> </div> </div> </div> </div> <div class="lesson-list-action-icons js-lesson-list-action-icons"> <div class=""> <button data-lesson-id="{{ lesson.id }}" data-lesson-is-youtube-icon=true class="snap-icon-btn fit-width js-lesson-list-youtube" aria-label="play video for the lesson {{ lesson.name }}"> <i class="fab fa-youtube youtube-icon {{ lesson.hideVideoClass }}"></i> <i class="fas fa-glasses youtube-icon {{ lesson.hideTextIntroClass }}"></i> </button> <button data-lesson-id="{{ lesson.id }}" class="landscape snap-icon-btn fit-width js-lesson-list-chevron" aria-label="species list for the lesson {{ lesson.name }}"> <i class="fas fa-chevron-down"></i> </button> </div> </div> </div> <div data-container-id="{{ lesson.id }}" class="species-container js-species-container"></div> </li>'},170:function(t,a){t.exports='<div class="standard-block border-bottom double-centred-block"></div> <div class=tiles-container> <div class="squares js-tiles" data-repeat-image="{{ images }}"> <div> <img class=square src="{{ image.medium }}" data-toggle=modal data-target=#imageModal data-item-name="{{ image.itemName }}" data-url="{{ image.url }}"/> </div> </div> </div> <div class=lesson-companion> </div>'},2:function(t,a,i){"use strict";i.d(a,"a",(function(){return c}));var o=o||{};!function(t){t.Context=function(){},t.Context.prototype.import=function(t){return document.importNode(this.doc.querySelector("#"+t).content,!0)};var a,i=/{{\s([\w\.\^]+)\s}}/g;function filterState(t,a){for(var i=a,o=0,c=t.length;o<c;o++){var l=t[o];if(l in i)i=i[l];else{if(!i.hasAttribute||!i.hasAttribute(l))throw l+" is not a valid property of "+JSON.stringify(i);i=i.getAttribute(l)}}return i}function expandString(t,a){var o,c,l,u,d,p=[];for(i.exec("");null!=(o=i.exec(t));)p.push(o);for(var m=p.length-1;m>=0;m--){var h=filterState((o=p[m])[1].split("."),a);c=t,l=o.index,u=o[0].length,d=h,t=c.slice(0,l)+d+c.slice(l+u)}return p.length?t:null}function cloneAllNodes(t){for(var a=[],i=0,o=t.length;i<o;i++)"TEMPLATE"==t[i].nodeName?a.push(t[i].content.cloneNode(!0)):a.push(t[i].cloneNode(!0));return a}function appendChildren(t,a){for(var i=0,o=a.length;i<o;i++)t.appendChild(a[i])}function expand(t,o){if("#text"===t.nodeName)return null!=(E=expandString(t.textContent,o))&&(t.textContent=E),t;Array.isArray(t)||(t=[t]);for(var c=0,l=t.length;c<l;c++){var u=t[c],d=!0;if("#text"===u.nodeName)null!=(E=expandString(u.textContent,o))&&(u.textContent=E);else if(null!=u.attributes)for(var p=u.attributes.length-1;p>=0;p--){var m=u.attributes[p];if(0===m.name.indexOf("data-repeat")){d=!1;var h=m.name.split("-");if(3!==h.length&&4!==h.length)throw"Repeat format is data-repeat-<name>[-<iterName>]. Got "+m.name;for(var g=h[2],v=h[3],y=[];u.firstChild;)y.push(u.removeChild(u.firstChild));var b=[m.value];if(-1!==m.value.indexOf("}}")&&(j=m.value,b=null!=(a=i.exec(j))?a[1].split("."):null),null===b)throw m.value+" doesn't contain an address.";var _=filterState(b,o),S={"^":o};if("[object Array]"===Object.prototype.toString.call(_)){v=v||"i";for(var x=0;x<_.length;x++){var w=cloneAllNodes(y);S[g]=_[x],S[v]=x,expand(w,S),appendChildren(u,w)}}else{v=v||"key";for(var T=Object.keys(_).sort(),E=0;E<T.length;E++){var k=T[E];w=cloneAllNodes(y);S[g]=_[k],S[v]=k,expand(w,S),appendChildren(u,w)}}u.removeAttribute(m.name)}else{if(null!=(E=expandString(m.value,o)))"-"==(g=m.name).charAt(g.length-1)?(u.removeAttribute(m.name),u.setAttribute(m.name.slice(0,-1),E)):m.value=E}}if(d)for(var L=u.firstChild;null!=L;){var O=L.nextSibling;if("TEMPLATE"==L.nodeName){for(var A=expand(L.content.cloneNode(!0),o);A[0].childNodes.length>0;)u.insertBefore(A[0].firstChild,L);u.removeChild(L)}else expand(L,o);L=O}}var j;return t}t.appendChildren=appendChildren,t.expand=expand,t.expandInto=function expandInto(t,a,i){!function replaceChildren(t,a){t.innerHTML="",appendChildren(t,a)}(t,expand(a,i))}}(o);var c=function renderTemplate(t,a,i,c){var l=c||document.importNode(a,!0),u=(new o.Context,o.expand(l,t));o.appendChildren(i,u)}},207:function(t,a,i){t.exports=function(t){"use strict";function transitionEndEmulator(i){var o=this,c=!1;return t(this).one(a.TRANSITION_END,(function(){c=!0})),setTimeout((function(){c||a.triggerTransitionEnd(o)}),i),this}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var a={TRANSITION_END:"bsTransitionEnd",getUID:function getUID(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function getSelectorFromElement(t){var a=t.getAttribute("data-target");if(!a||"#"===a){var i=t.getAttribute("href");a=i&&"#"!==i?i.trim():""}try{return document.querySelector(a)?a:null}catch(t){return null}},getTransitionDurationFromElement:function getTransitionDurationFromElement(a){if(!a)return 0;var i=t(a).css("transition-duration"),o=t(a).css("transition-delay"),c=parseFloat(i),l=parseFloat(o);return c||l?(i=i.split(",")[0],o=o.split(",")[0],1e3*(parseFloat(i)+parseFloat(o))):0},reflow:function reflow(t){return t.offsetHeight},triggerTransitionEnd:function triggerTransitionEnd(a){t(a).trigger("transitionend")},supportsTransitionEnd:function supportsTransitionEnd(){return Boolean("transitionend")},isElement:function isElement(t){return(t[0]||t).nodeType},typeCheckConfig:function typeCheckConfig(t,i,o){for(var c in o)if(Object.prototype.hasOwnProperty.call(o,c)){var l=o[c],u=i[c],d=u&&a.isElement(u)?"element":null==(p=u)?""+p:{}.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(l).test(d))throw new Error(t.toUpperCase()+': Option "'+c+'" provided type "'+d+'" but expected type "'+l+'".')}var p},findShadowRoot:function findShadowRoot(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var i=t.getRootNode();return i instanceof ShadowRoot?i:null}return t instanceof ShadowRoot?t:t.parentNode?a.findShadowRoot(t.parentNode):null},jQueryDetection:function jQueryDetection(){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var a=t.fn.jquery.split(" ")[0].split(".");if(a[0]<2&&a[1]<9||1===a[0]&&9===a[1]&&a[2]<1||a[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};return a.jQueryDetection(),function setTransitionEndSupport(){t.fn.emulateTransitionEnd=transitionEndEmulator,t.event.special[a.TRANSITION_END]=function getSpecialTransitionEndEvent(){return{bindType:"transitionend",delegateType:"transitionend",handle:function handle(a){if(t(a.target).is(this))return a.handleObj.handler.apply(this,arguments)}}}()}(),a}(i(122))},208:function(t,a,i){var o=i(209);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(63)(o,c);o.locals&&(t.exports=o.locals)},209:function(t,a,i){(a=i(62)(!1)).push([t.i,":root {\n\n    --snap-lesson-row-blue: rgb(218, 230, 237);\n    --snap-lesson-row-green: rgb(216, 223, 210);\n\n    --snap-dd-non-taxa-bg-intial: rgb(197, 193, 175);\n    --snap-dd-non-taxa-bg-hover: rgb(229, 227, 220);\n    --snap-dd-non-taxa-bg-active: rgb(229, 227, 220);\n\n    --snap-text-black: rgb(30,30,30);\n    --snap-text-dark: rgb(60, 60, 60);\n    --snap-text-dark-medium-dark: rgb(50, 50, 50);\n    --snap-text-medium-dark: rgb(65, 65, 65);\n    --snap-text-medium-dark-hover: rgb(108, 114, 120);\n    --snap-text-medium-light:rgb(73, 80, 87);\n    --snap-text-light:rgb(245, 245, 245);\n    --snap-text-green: rgb(16, 66, 28);\n    \n    --snap-portrait: rgb(179, 197, 174);\n    --snap-landscape: rgb(185, 200, 204);\n    \n    --snap-collection: rgb(87, 97, 99);\n    --snap-collection-active: rgb(95, 125, 89);    \n    --snap-collection-light: rgb(117, 126, 126);\n    --snap-collection-faint: rgb(240, 242, 235);\n    --snap-non-taxa: rgb(165, 159, 131);\n\n    --snap-active: rgb(246, 157, 53);\n    --snap-alert: rgb(197, 59, 67);\n    --snap-alert-medium: rgb(225, 155, 155);\n    --snap-alert-light: rgb(241, 229, 225);\n    --snap-inactive: rgba(7, 2, 2, 0.4);\n    --snap-success: rgb(84, 137, 84);\n    --snap-success-medium: rgb(169, 196, 163);\n    --snap-success-light: rgb(216, 225, 208);\n    \n    --snap-link: rgb(54, 69, 82);\n\n    --snap-progress-bg: rgb(168, 168, 168);\n    --snap-progress-bar: rgb(255, 255, 255);\n  \n    --snap-block-light: rgb(245, 245, 245);\n\n    --snap-main-background: rgb(244, 244, 244);\n    --snap-content-background: rgb(255, 255, 243);\n    --snap-content-background-relief: rgb(251, 251, 247);\n    --snap-header-background: rgb(213, 213, 210);\n    --snap-list-header-background: rgb(252, 251, 246);\n    --snap-row-background: rgb(240, 239, 233);\n    \n    --snap-taxon-card-background: rgba(52, 105, 23,.1);\n    --snap-species-highlight-background: rgb(249, 248, 238);\n    --snap-species-header-background: rgb(226, 222, 180);\n    --snap-species-header-dark-background: rgb(146, 139, 56);\n    \n    --snap-btn-auxillary: rgb(96, 117, 90);\n    --snap-btn-hover: rgb(240, 240, 240);\n    \n    --snap-btn-dropdown: rgb(252, 193, 186);\n    --snap-btn-dropdown-options: rgb(254, 240, 229);\n\n    --snap-btn-blue: rgb(54, 69, 82);\n    --snap-snap-action-btn: rgb(245, 245, 245);\n\n    --snap-tertiary-background: rgb(95, 125, 89);\n\n    --snap-btn-filter-on: rgb(214, 208, 213);\n    --snap-btn-filter-off: rgb(235, 231, 228);\n\n    --snap-border-light: rgb(175,175,175);\n    --snap-border-medium: rgb(211, 211, 211);\n    --snap-border-lightest: rgb(225,225,225);\n\n    --snap-iconic-icon-header: rgb(193, 186, 112);\n\n    --snap-inat: rgb(127, 151, 122);\n\n    --snap-youtube-green: rgb(52, 105, 23);\n\n    --snap-button-light: #576163; \n    --snap-button-main: #3c4345; \n    --snap-button-dark: #788082; \n  }",""]),t.exports=a},210:function(t,a,i){var o=i(211);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(63)(o,c);o.locals&&(t.exports=o.locals)},211:function(t,a,i){(a=i(62)(!1)).push([t.i,"\n  a {\n    color: var(--snap-youtube-green);\n  }\n\n  h1 {\n    font-size: .9rem;\n  }\n\n  h2 {\n    font-size: .8rem;\n  }\n\n  h3 {\n    font-size: .7rem;\n  }\n\n  img {\n    max-width: 100%;\n    display: block;\n  }\n\n  h1, h2, h3 {\n    font-weight: unset;\n    margin: 0 !important;\n  }\n\n  label {\n    margin: 0;\n  }\n\n  legend {\n    margin-bottom: 0 !important;\n    width: initial !important;\n  }\n\n  caption {\n    padding: 0;\n    height: 0;\n  }\n\n  dt {\n    font-weight: 500;\n  }\n\n  .flex {\n    display: flex;\n  }\n\n  .flexnowrap {\n    flex-wrap: nowrap;\n  }\n\n  .relative {\n    position: relative;\n  }\n\n  .absolute {\n    position: absolute;\n  }\n\n  .standard-block {\n    height: var(--vhStandardBlock, 10vh);\n  }\n  \n  .double-standard-block {\n    height: var(--vhDoubleStandardBlock, 20vh);\n  }\n  \n  .half-standard-block {\n    height: var(--vhHalfStandardBlock, 5vh);\n  }\n  \n  .one-and-half-standard-block {\n    height: var(--vhOneAndHalfStandardBlock, 15vh);\n  }\n\n .centred-block {\n    display: flex;\n    align-items: center;\n    width: -moz-available;\n    width: -webkit-fill-available;\n  }\n  \n  .bottom-aligned {\n    display: flex;\n    align-items: flex-end;\n  }\n  \n  .double-centred-block {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .vertical-centred-block {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  \n  .vertical-evenly-spaced-block {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n  }\n  \n  .horizontal-evenly-spaced-block {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n  }\n\n  .margin-all {\n    margin: .5rem !important;\n  }\n  \n  .margin-top {\n    margin-top: .5rem !important;\n  }\n  \n  .margin-right {\n    margin-right: .5rem !important;\n  }\n  \n  .half-margin-right {\n    margin-right: .25rem !important;\n  }\n  \n  .double-margin-right {\n    margin-right: 1rem !important;\n  }\n  \n  .margin-bottom {\n    margin-bottom: .5rem !important;\n  }\n  \n  .margin-left {\n    margin-left: .5rem !important;\n  }\n  \n  .half-margin-left {\n    margin-left: .25rem !important;\n  }\n  \n  .padding {\n    padding: .5rem;\n  }\n  \n  \n  .half-padding {\n    padding: .25rem;\n  }\n  \n  .padding-top {\n    padding-top: .5rem;\n  }\n  \n  .padding-right {\n    padding-right: .5rem;\n  }\n  \n  .padding-bottom {\n    padding-bottom: .5rem;\n  }\n  \n  .padding-left {\n    padding-left: .5rem;\n  }\n\n  .custom-control {\n    display: flex;\n    align-items: center;\n  }\n  \n  .custom-checkbox .custom-control-input:checked ~ .custom-control-label::before {\n    background-color: rgb(98, 127, 134);\n  }\n  \n  .custom-checkbox\n    .custom-control-input:disabled:checked\n    ~ .custom-control-label::before {\n    background-color: rgba(41, 108, 44, 0.3);\n    pointer-events: none;\n  }\n  \n  .custom-checkbox input {\n    margin: 0 0.5rem 0 0;\n  }\n\n  .show {\n    display: inline;\n  }\n  \n  .hide {\n    display: none;\n  }\n  \n  .hide-important {\n    display: none !important;\n  }\n\n\n  .visually-hidden:not(:focus):not(:active) {\n    position: absolute !important;\n    height: 1px; \n    width: 1px;\n    overflow: hidden;\n    clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n    clip: rect(1px, 1px, 1px, 1px);\n    white-space: nowrap; /* added line */\n}\n  \n  .underline-link {\n    color: var(--snap-youtube-green);\n    border-bottom: solid .05rem transparent;\n    cursor: pointer;\n    display: inline-block;\n    line-height: 1.8;\n    padding: 0 .25rem;\n    pointer-events: initial;\n    border-top: .05rem solid transparent;\n    border-left: .05rem solid transparent;\n    border-right: .05rem solid transparent;\n  }\n\n  .no-underline-link {\n    padding: 0 0 0 .15rem;\n  }\n\n  .underline-link:hover {    \n    color: var(--snap-youtube-green) !important;\n    border: .05rem solid var(--snap-youtube-green);\n  }\n\n  .underline-link:active {\n    color: var(--snap-youtube-green) !important;\n  }\n\n  .underline-link:focus {\n    color: var(--snap-youtube-green) !important;\n    outline: none; /* must put something back! */\n  }\n\n  .underline-link-left-margin {\n    margin-left: -.25rem;\n  }\n\n  a.underline-link, a.underline-link:hover, a.underline-link:active, a.underline-link:focus {\n    color: var(--blue) !important;\n    border-color: transparent;\n  }\n\n  a.underline-link:hover, a.underline-link:active, a.underline-link:focus {\n    border-color: var(--blue) !important;\n  }\n\n  .full-width {\n    width: 100%;\n  }\n\n  .cursor-pointer {\n    cursor: pointer;\n  }\n\n  .border-top {\n    border-bottom: 1px solid var(--snap-border-light);\n  }\n\n  .border-right {\n    border-right: 1px solid var(--snap-border-light);\n  }\n\n  .border-bottom {\n    border-bottom: 1px solid var(--snap-border-light);\n  }\n\n  .border-left {\n    border-left: 1px solid var(--snap-border-light);\n  }\n\n  .justify-space-between {\n    justify-content: space-between;\n  }\n\n  .justify-end {\n    justify-content: flex-end;\n  }\n\n  .small-text {\n    font-size: .8rem !important;\n  }\n\n  .smaller-text {\n    font-size: .7rem !important;\n  }\n\n  .extra-small-text {\n    font-size: .6rem !important;\n  }\n\n  .large-text {\n    font-size: 1.2rem !important;\n  }\n\n  .extra-large-text {\n    font-size: 1.5rem !important;\n  }\n\n  .capitalise {\n    text-transform: capitalize;\n  }\n  \n  .uppercase {\n    text-transform: uppercase;\n  }\n  \n  .line-through {\n    text-decoration: line-through;\n  }\n\n  .modal-background-relief {\n    background-color: var(--snap-species-highlight-background);\n  }\n\n  .modal-background-relief-emphasis {\n    border: 1px solid var(--snap-success) !important;\n  }\n\n  .border-light {\n    border: 1px solid var(--snap-success-light) !important;\n  }\n\n  .border-medium {\n    border: 1px solid var(--snap-border-medium);\n  }\n\n  .vertical-block {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .emphasis {\n    font-weight: bold;\n    letter-spacing: .03rem;\n  }\n  \n  .absolute-bottom {\n    position: absolute;\n    bottom: .5rem;\n  }\n\n  .answer-response {\n    margin: 0 0 0 .25rem;\n  }\n\n  .col-count-2 {\n    column-count: 2;\n  }\n\n  .col-count-3 {\n    column-count: 3;\n  }\n\n  .col-count-4 {\n    column-count: 4;\n  }\n\n  .col-count-5 {\n    column-count: 5;\n  }\n\n  .col-count-6 {\n    column-count: 6;\n  }\n\n  .nowrap {\n    white-space: nowrap;\n  }\n  \n  .snap-inactive {\n    color: var(--snap-inactive) !important;\n    pointer-events: none !important;\n  }\n\n  .black-text {\n    color: var(--snap-text-black);\n  }\n\n  /* If set to display inline, would width automatically be determined by the text they contain? each span vs div */\n  .fit-width {\n    width: intrinsic;           /* Safari/WebKit uses a non-standard name */\n    width: -moz-max-content;    /* Firefox/Gecko */\n    width: -webkit-max-content; /* Chrome */\n  }\n\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    border: 0;\n  }  \n\n  .super {\n    vertical-align: super;\n    font-size: .8em;\n  }  \n\n/* https://css-tricks.com/styling-cross-browser-compatible-range-inputs-css/ */\n\n/* \n  input[type=range] {\n    -webkit-appearance: none;\n    margin: 18px 0;\n    width: 100%;\n  }\n  input[type=range]:focus {\n    outline: none;\n  }\n  input[type=range]::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    background: #3071a9;\n    border-radius: 1.3px;\n    border: 0.2px solid #010101;\n  }\n  input[type=range]::-webkit-slider-thumb {\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    border: 1px solid #000000;\n    height: 36px;\n    width: 16px;\n    border-radius: 3px;\n    background: #ffffff;\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-top: -14px;\n  }\n  input[type=range]:focus::-webkit-slider-runnable-track {\n    background: #367ebd;\n  }\n  input[type=range]::-moz-range-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    background: #3071a9;\n    border-radius: 1.3px;\n    border: 0.2px solid #010101;\n  }\n  input[type=range]::-moz-range-thumb {\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    border: 1px solid #000000;\n    height: 36px;\n    width: 16px;\n    border-radius: 3px;\n    background: #ffffff;\n    cursor: pointer;\n  }\n  input[type=range]::-ms-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    border-width: 16px 0;\n    color: transparent;\n  }\n  input[type=range]::-ms-fill-lower {\n    background: #2a6495;\n    border: 0.2px solid #010101;\n    border-radius: 2.6px;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n  }\n  input[type=range]::-ms-fill-upper {\n    background: #3071a9;\n    border: 0.2px solid #010101;\n    border-radius: 2.6px;\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n  }\n  input[type=range]::-ms-thumb {\n    box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;\n    border: 1px solid #000000;\n    height: 36px;\n    width: 16px;\n    border-radius: 3px;\n    background: #ffffff;\n    cursor: pointer;\n  }\n  input[type=range]:focus::-ms-fill-lower {\n    background: #3071a9;\n  }\n  input[type=range]:focus::-ms-fill-upper {\n    background: #367ebd;\n  } */",""]),t.exports=a},22:function(t,a,i){"use strict";i.d(a,"a",(function(){return g}));var o=i(14);i(8);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c,l=[],u=[],d=[],p=[],m=!1,h=[{key:-1,value:"unstarted"},{key:1,value:"playing"},{key:2,value:"paused"},{key:3,value:"buffering"}],g={readyPlayer:function readyPlayer(){new YT.Player("embedded-video",{playerVars:{autoplay:1},events:{onReady:function onPlayerReady(t){c=t.target,m=!0},onStateChange:function onPlayerStateChange(t){(c=t.target)&&p.forEach((function(t){return t(c)}))}}})},onSpeciesTimeMatchListeners:l,onNoteTimeMatchListeners:u,onSpeciesTimeMatch:function onSpeciesTimeMatch(t){for(;l.length>0;)l.pop();l.push(t)},onNoteTimeMatch:function onNoteTimeMatch(t){for(;u.length>0;)u.pop();u.push(t)},onSpeciesPlayRequestListeners:d,onSpeciesPlayRequest:function onSpeciesPlayRequest(t){d.push(t)},onPlayerReadyListeners:[],subscribeToPlayerStateChange:function subscribeToPlayerStateChange(t){for(;p.length>0;)p.pop();p.push(t)},playVideoFrom:function playVideoFrom(t){if("function"!==!_typeof(c.getPlayerState)&&void 0!==c.getPlayerState&&"function"!==!_typeof(c.seekTo)&&void 0!==c.seekTo){c.seekTo(t+1);var a=c.getPlayerState();a!==h[0].key&&a!==h[2].key||c.playVideo()}},states:h,setVideoState:function setVideoState(t,a){var i="",o=t.find((function(t){return t.collectionId===a.id}));return o?a.id===o.collectionId&&(i=o.pausedAt?"Video paused at ".concat(o.speciesName):""):i="",i},destroyPlayer:function destroyPlayer(){for(;p.length>0;)p.pop();for(;l.length>0;)l.pop();c&&(c.stopVideo(),c.destroy(),c=null)},saveVideoState:function saveVideoState(t){o.a.boundUpdateVideoPlayer(t)},isVideoPlayerReady:function isVideoPlayerReady(t){if(m){var a=t===c.getVideoData().video_id;return m&&a}return!1},getPlayerTime:function getPlayerTime(){return Math.floor(c.getCurrentTime())}}},257:function(t,a){t.exports='<div class="snapdragon-container score-summary-container js-test-card-container"> <div class=js-summary-card> <div class="test-card-question standard-block centred-block js-test-card-question"> <div class="question question-txt"> <div> <span class="hide-empty question-question js-question-question">Quiz progress</span> <span class="hide-empty question-statement"></span> </div> </div> </div> <div id=accordion class="score-summary scrollable review-summary"> <div class=score-summary-row-title> <div> <div class=double-centred-block> <span class=uppercase>{{ collection.name }}</span> </div> <div class=double-centred-block> <span>Round {{ lesson.currentRound }} of {{ lesson.rounds }}</span> </div> </div> </div> <div class="score-summary-footer running-block centred-block"> <button class="btn snap-btn fit-width js-continue-link">Continue lesson</button> </div> <div class=js-score-summary-rows></div> <div class="score-summary-footer running-block centred-block"> <button class="btn snap-btn fit-width js-continue-link">Continue lesson</button> </div> </div> </div> </div> '},258:function(t,a){t.exports='<div class="score-summary-row species"> <div></div> <div> <div></div> <div> <span>{{ vernacularName }}</span> <span class=latin>{{ binomial }}</span> </div> </div> <div>{{ score }}</div> </div> <div data-repeat-row="{{ rows }}"> <div class="collapsed score-summary-row header" data-toggle=collapse data-target="#{{ row.id }}" aria-expanded=false aria-controls="{{ row.id }}"> <div data-is-true="{{ row.success }}"> <i class="fas fa-check"></i> <i class="fas fa-times"></i> </div> <div> <div class=binomial>{{ row.statement }}</div> <div>{{ row.questionText }}</div> </div> <div> <i class="fas fa-chevron-down"></i> </div> </div> <div id="{{ row.id }}" class="collapse score-summary-row in-columns" data-repeat-answer="{{ row.answers }}" data-parent=#accordion> <div data-question="{{ ^.row.question }}"> <div> </div> <div data-is-true="{{ answer.isTrue }}" data-is-wrong-answer="{{ answer.isWrongAnswer }}"> <div> <img data-has-image="{{ answer.hasImage }}" src="{{ answer.url }}" alt="{{ answer.value }}"> </div> <div> <span>{{ answer.value }}</span><span class="hide-empty margin-left">{{ answer.name }}</span> </div> <div></div> </div> <div></div> </div> </div> </div>'},259:function(t,a){t.exports='<div class="horizontal-evenly-spaced-block js-no-questions"> <span>You haven\'t answered any questions yet.</span> </div>'},26:function(t,a,i){"use strict";i.d(a,"f",(function(){return g})),i.d(a,"d",(function(){return y})),i.d(a,"c",(function(){return getInatPlaceId})),i.d(a,"e",(function(){return getInatTaxonStats})),i.d(a,"b",(function(){return getHistogram})),i.d(a,"a",(function(){return getAutocompleteBy}));var o=i(18),c=i(46),l=i(4),u=i(5),d=i(16),p=i(8);function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var m=[],h=function unsubscribe(t){m=m.filter((function(a){return a!==t}))},g=function listenToInatRequests(t){return m.push(t),h},v=function getBasePath(t){var a="all_year"===t.guide.season.type?"":t.guide.season.observableMonths.map((function(t){return t.index})).join(","),i=t.guide.perPage||200;return"https://api.inaturalist.org/v1/observations/species_counts?captive=false&rank=species&per_page=".concat(i,"&month=").concat(a)},y=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){var a,i,h,g,y,b,_,S,x;return regeneratorRuntime.wrap((function _callee5$(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,u.a.getSpeciesNames();case 2:return a=w.sent,i=a[0].value,Object(p.b)("snapdragon species",i),h=Object.keys(d.b).join(","),g=function getIconicTaxa(t){try{var a=t.guide.iconicTaxa.map((function(t){return t.id}))||h;return a.find((function(t){return"mammalia"===t}))&&a.push("reptilia"),a.map((function(t){return"lepidoptera"===t&&(t="insecta"),t}))}catch(t){Object(p.a)("Error for getIconicTaxa: ",t)}},y=function getUserOrProjectKeyValuePair(t){if(!t.guide.inatId)return"";var a=t.guide.inatId.param,i=t.guide.inatId.id,o="&".concat(a,"=").concat(i);return i?o:""},b=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,a){var i,c,l,u,d,m,h,g;return regeneratorRuntime.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:i=[],c=[],l=!0,u=1;case 4:if(!l){v.next=30;break}return v.prev=5,v.next=8,S(t,u);case 8:return d=v.sent,v.next=11,c.push.apply(c,d);case 11:return m=d.filter((function(t){return o.a(t.taxon.name,a)})),v.next=14,i.push.apply(i,m);case 14:if(u+=1,h=d.length<200,g=i.length>=t.guide.noOfRecords,Object(p.b)("snapdragonSpecies",i),Object(p.b)("records",c),!h&&!g){v.next=22;break}return l=!1,v.abrupt("return",i);case 22:v.next=28;break;case 24:return v.prev=24,v.t0=v.catch(5),Object(p.a)("getInatObservations",v.t0),v.abrupt("return",i);case 28:v.next=4;break;case 30:case"end":return v.stop()}}),_callee,this,[[5,24]])})));return function getAllInatObservations(a,i){return t.apply(this,arguments)}}(),_=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",Promise.all(t.map((function(t){return u.a.getSpeciesByName(t.taxon.name).then(function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(a){return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_objectSpread(_objectSpread({},a),{},{observationCount:t.taxon.observations_count,iconicTaxon:t.taxon.iconic_taxon_name});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),_callee2,this)})));return function(t){return a.apply(this,arguments)}}())}))));case 4:a.prev=4,a.t0=a.catch(0),Object(p.a)("loadSpeciesInParallel: ",a.t0);case 7:case"end":return a.stop()}}),_callee3,this,[[0,4]])})));return function loadSpeciesInParallel(a){return t.apply(this,arguments)}}(),S=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t,a){var i,o,c,l,u,d,h,b,_,S;return regeneratorRuntime.wrap((function _callee4$(x){for(;;)switch(x.prev=x.next){case 0:x.prev=0,i="",o="",c="",l=t.guide.speciesRange?parseInt(t.guide.speciesRange):10,u="",x.t0=t.guide.locationType,x.next="place"===x.t0?7:"longLat"===x.t0?9:"inat"===x.t0?12:18;break;case 7:return c=t.guide.place.id,x.abrupt("break",18);case 9:return i=t.guide.coordinates.lat,o=t.guide.coordinates.long,x.abrupt("break",18);case 12:return i="",o="",c="",l="",u="&".concat(t.guide.inatId.param,"=").concat(t.guide.inatId.key),x.abrupt("break",18);case 18:return d=g(t),h="INAT"===t.guide.guideTpe?y(t):"",b=v(t)+"&page=".concat(a,"&iconic_taxa=").concat(d,"&place_id=").concat(c,"&lat=").concat(i,"&lng=").concat(o,"&radius=").concat(l).concat(u).concat(h),Object(p.b)("inat species request url",b),x.next=24,fetch(b);case 24:return _=x.sent,Object(p.b)("inat recordsFromThisRequest",_),x.next=28,_.json();case 28:if(S=x.sent,m.forEach((function(t){return t({page:S.page,numberOfRequests:Math.ceil(S.total_results/S.RECORDS_per_page)})})),!S){x.next=36;break}return x.next=33,S.results;case 33:x.t1=x.sent,x.next=37;break;case 36:x.t1=[];case 37:return x.abrupt("return",x.t1);case 40:return x.prev=40,x.t2=x.catch(0),Object(p.a)("getInatObservations",x.t2),x.abrupt("return",[]);case 44:case"end":return x.stop()}}),_callee4,this,[[0,40]])})));return function getInatObservations(a,i){return t.apply(this,arguments)}}(),w.prev=11,w.next=14,b(t,i);case 14:x=(x=w.sent).filter((function(t){return o.a(t.taxon.name,i)})),x=c.a(t.guide.noOfRecords,l.utils.sortBy(x.filter((function(t){return t})),"observationCount","desc")),w.next=22;break;case 19:w.prev=19,w.t0=w.catch(11),Object(p.a)("getAllInatObservations",w.t0);case 22:if(Object(p.b)("observations",x),x){w.next=25;break}return w.abrupt("return",[]);case 25:return w.next=27,_(x);case 27:return w.abrupt("return",w.sent);case 28:case"end":return w.stop()}}),_callee5,this,[[11,19]])})));return function getInatSpecies(a){return t.apply(this,arguments)}}();function getInatPlaceId(t){return _getInatPlaceId.apply(this,arguments)}function _getInatPlaceId(){return(_getInatPlaceId=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var a,i,o;return regeneratorRuntime.wrap((function _callee6$(c){for(;;)switch(c.prev=c.next){case 0:return a="https://api.inaturalist.org/v1/places/autocomplete?q=".concat(t),c.next=3,fetch(a);case 3:return i=c.sent,c.next=6,i.json();case 6:return o=c.sent,c.abrupt("return",o);case 8:case"end":return c.stop()}}),_callee6,this)})))).apply(this,arguments)}function getInatTaxonStats(t,a,i){return _getInatTaxonStats.apply(this,arguments)}function _getInatTaxonStats(){return(_getInatTaxonStats=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(t,a,i){var o,c,l,u,d;return regeneratorRuntime.wrap((function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return o=i||"any",c=t.name,l="https://api.inaturalist.org/v1/observations/species_counts?&verifiable=true&taxon_name=".concat(c,"&place_id=").concat(o),a.next=5,fetch(l);case 5:return u=a.sent,a.next=8,u.json();case 8:return d=a.sent,a.abrupt("return",d);case 10:case"end":return a.stop()}}),_callee7,this)})))).apply(this,arguments)}function getHistogram(t,a){return _getHistogram.apply(this,arguments)}function _getHistogram(){return(_getHistogram=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(t,a){var i,o,c,l,u;return regeneratorRuntime.wrap((function _callee8$(d){for(;;)switch(d.prev=d.next){case 0:return i=a||"any",o=t.name,c="https://api.inaturalist.org/v1/observations/histogram?taxon_name=".concat(o,"&place_id=").concat(i),d.next=5,fetch(c);case 5:return l=d.sent,d.next=8,l.json();case 8:return u=d.sent,d.abrupt("return",u);case 10:case"end":return d.stop()}}),_callee8,this)})))).apply(this,arguments)}function getAutocompleteBy(t,a){return _getAutocompleteBy.apply(this,arguments)}function _getAutocompleteBy(){return(_getAutocompleteBy=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(t,a){var i,o,c;return regeneratorRuntime.wrap((function _callee9$(l){for(;;)switch(l.prev=l.next){case 0:return i="https://api.inaturalist.org/v1/".concat(a,"/autocomplete?q=").concat(t),l.next=3,fetch(i);case 3:return o=l.sent,l.next=6,o.json();case 6:return c=l.sent,l.abrupt("return",c);case 8:case"end":return l.stop()}}),_callee9,this)})))).apply(this,arguments)}},260:function(t,a){t.exports='<div class="snapdragon-container test-card-container js-test-card-container"> <div class=js-test-card> <div id=test-card-header class=question-container> <div class="iconic-icon double-centred-block js-iconic-icon"> <i class=""></i> </div> <div class="hide-empty question-header"> <div> <div class="names-container {{ headerClassName }}"> <div> <h2 class=vernacular-name>{{ vernacularName }}</h2> <span class="hide-empty names-badge"></span> </div> <div> <h2 class=binomial>{{ binomial }}</h2> <span class="names-badge traits-count-badge js-traits-count-badge"></span> <h2 class="term-header hide-empty js-term-header">{{ term }}</h2> </div> </div> </div> </div> <div class=card-link-container> <i class="far fa-arrow-alt-circle-right js-card-link"></i> </div> </div> <form action=""> <fieldset> <div class="test-card-question standard-block centred-block js-test-card-question border-bottom"> <div class="question question-txt {{ className }}"> <div> <legend class="hide-empty question-question js-question-question">{{ question }}</legend> <legend class="hide-empty question-help js-question-help">{{ help }}</legend> <legend class="hide-empty question-statement js-statement-para">{{ statement }}</legend> <legend class="hide-empty margin-top question-provider-question js-question-para">{{ providerQuestion }}</legend> </div> </div> </div> <div class="test-card-content js-test-card-content scrollable"> </div> </fieldset> </form> <div class="text-question js-txt-question"></div> <div class=action-update-container> <div class=action-update> <button disabled=disabled class="btn snap-action-btn js-continue-lesson-btn">Continue lesson</button> </div> </div> </div> </div> <div class="swap-out-card js-species-container"></div> <div class="swap-out-card js-taxon-container"></div> <div class="swap-out-card js-summary-container"></div>'},261:function(t,a){t.exports='<div class=filter-language-option-block> <div class=filter-options> <div class=language-options> <div class=dropdown> <button class="btn smaller-text snap-btn dropdown-toggle" type=button id=taxonLanguageBtn data-toggle=dropdown aria-haspopup=true aria-expanded=false> Taxon language </button> <div class=dropdown-menu aria-labelledby=dropdownMenuButton data-repeat-language="{{ languages }}"> <a id="{{ language.lang }}" class=dropdown-item href=#>{{ language.name }}</a> </div> </div> </div> </div> <h2 class="half-standard-block centred-block">Common names will be shown in<span id=taxonLanguageTxt>English</span>.</h2> </div>'},262:function(t,a){t.exports='<menu> <ul class=custom-lesson-menu-options data-repeat-option="{{ options }}"> <li data-option="{{ option.id }}"> <button class="icon snap-icon-btn arrow-wrapper"><span class=small-text>{{ option.text }}</span><i class="far fa-arrow-alt-circle-right"></i></button> </li> </ul> </menu> <hr class="double-margin-top double-margin-bottom"> <div class=js-language-selection-container></div> <h3 class="standard-block centred-block js-persistence-warning"> <span><i class="fas fa-exclamation"></i> You are not currently logged in. Your collection will not be availble outside this browser.</span> </h3>'},263:function(t,a){t.exports='<div class=border-bottom> <div class="running-block vertical-centred-block location-option html5-location"> <div class=html5-location-place><button class="btn snap-action-btn js-set-location-btn"></button><span class=landscape></span></div> </div> <div class="standard-block location-option place bottom-aligned"> <form id=locationForm action=#> <div class=standard-block> <label for=#inat-place class=extra-small-text>Location</label> <input id=inat-place type=text placeholder="Or start typing the name of a place."> <input class=hide type=submit value=""> </div> </form> </div> <div class="location-option margin-top range"> <div class=range-slider> <div class=js-range></div> <div> <span class=range-limits>0km</span> <span class=margin-right style=width:100%><input class="set-range-input js-set-range-input" type=range min=0 max=250 value=10></span> <span class=range-limits> 250km</span> <span class="saved js-range-saved"></span> </div> </div> </div> </div> <div class=location-filter-options> <div> <div class=black-text>Species by season</div> <div class="season snap-switch margin-top margin-bottom"> <div class=embedded-switch> <div class=txt-left><span>{{ observableMonths }}</span></div> <div class="snap-switch-slider left js-snap-switch-slider"> <div></div> </div> <div class=txt-right><span>All Year</span></div> </div> </div> </div> <div> <div class=black-text>Species by observation count</div> <div class="margin-top margin-bottom"> <span> Top <input min=1 max=500 required class="medium half-margin-right js-location-no-of-records" type=number value="{{ noOfRecords }}"> most observed. </span> </div> </div> </div>'},264:function(t,a){t.exports='<div> <div class="inat snap-switch running-block"> <div class=embedded-switch> <div class=txt-left><span>iNaturalist User</span></div> <div class="snap-switch-slider left js-snap-switch-slider"> <div></div> </div> <div class=txt-right><span>Project</span></div> </div> </div> <div class="location-option inat-entry"> <div class="input-container standard-block bottom-aligned"> <form id=inatForm action=#> <input id=inat-identity type=text placeholder="Start typing a user or project Id."> </form> </div> </div> <div class="location-option chosen-guide-filter js-chosen-inat standard-block"> <div>Learn more about <a href=https://www.inaturalist.org/ target=_blank class=underline-link>iNaturalist</a>.</div> </div> </div>'},265:function(t,a){t.exports='<div class="iconic-taxa-categories js-iconic-taxa-categories"> <div class=double-centred-block id=aves><div> <button class=snap-icon-btn aria-label=birds><i class="fas fa-dove" aria-hidden=true></i></button> <div>Birds</div></div> </div> <div class=double-centred-block id=amphibia><div> <button class=snap-icon-btn aria-label=amphibians><i class="fas fa-frog" aria-hidden=true></i></button> <div>Amphibians</div></div> </div> <div class=double-centred-block id=mammalia><div> <button class=snap-icon-btn aria-label=mammals><i class="fas fa-paw" aria-hidden=true></i></button> <div>Mammals</div></div> </div> <div class=double-centred-block id=insecta><div> <button class=snap-icon-btn aria-label=insects><i class="fas fa-bug" aria-hidden=true></i></button> <div>Insects</div></div> </div> <div class=double-centred-block id=fungi><div> <button class=snap-icon-btn aria-label="fungi and lichens"><svg-icon class=si-glyph-mushrooms><src href=./icons/si-glyph-mushrooms.svg /></svg-icon></button> <div class=small-text>Fungi & Lichens</div></div> </div> <div class=double-centred-block id=plantae><div> <button class=snap-icon-btn aria-label=plants><i class="fas fa-leaf" aria-hidden=true></i></button> <div>Plants</div></div> </div> <div class=double-centred-block id=reptilia><div> <button class=snap-icon-btn aria-label=reptiles><i class="far fa-registered" aria-hidden=true></i></button> <div>Reptiles</div></div> </div> <div class=double-centred-block id=lepidoptera><div> <button class=snap-icon-btn aria-label="butterflies and moths"><i class="fas fa-barcode" aria-hidden=true></i></button> <div class=small-text>Butterflies & Moths</div></div> </div> </div> <div class="hide-important guide-bottom-actions"> <span>Know what you want?</span> <span class="underline-link species-picker-link js-species-picker-link">Species picker</span> </div>'},266:function(t,a){t.exports='<div> <div class="species-search js-species-search"> <div><div class=icon><i class="fas fa-sun slow-spin"></i></div></div> <h2 class=standard-block>This search is based on observations recorded by the public on <a class=underline-link target=_blank href=https://www.inaturalist.org/ >iNaturalist</a>.</h2> </div> <div> <div class="hide-empty request-feedback js-request-feedback">Contacting iNaturalist…</div> </div> </div>'},267:function(t,a){t.exports='<div class="lesson-list-item one-and-half-standard-block vertical-evenly-spaced-block"> <div class="lesson-name hide-important" id=js-input-collection-name> <label for=#new-collection-name class=extra-small-text>lesson name</label> <input id=new-collection-name type=text value="{{ collection.name }}"> </div> <div class=lesson-taxa><span class=js-lesson-taxa-count>{{ collection.items.length }}</span> <span class=js-lesson-taxa>{{ collection.taxa }}</span></div> </div> <div class="edit-species centred-block half-standard-block js-edit-species"> <button class="snap-btn fit-width">Edit lesson</button> </div> <div class=selected-species-container> <div class="scrollable js-selected-species-container"></div> </div>'},268:function(t,a){t.exports='<div class="{{ className }}"> <div class="actions js-actions"></div> <div class="save-your-changes js-save-your-changes"></div> </div> <div class="chosen js-chosen"> <div class=prop-value-block><span></span><span class=selected-text></span></div> </div>'},269:function(t,a){t.exports='<div class=snapdragon-container> <dl data-repeat-item="{{ glossary }}" class="definition card scrollable"> <dt>{{ item.term }}</dt><dd>{{ item.definition }}</dd> </dl> </div> '},270:function(t,a){t.exports='<div class=quick-fire> <div class="margin-left centred-block standard-block padding-top"> Answer <input min=1 max="{{ quickFire.count }}" required class="big half-margin-left half-margin-right js-input-quick-fire" type=number value="{{ quickFire.count }}"> <span class=landscape>questions selected at random from <span class=js-quick-fire-count>{{ quickFire.count }}</span> terms.</span> <span class=portrait>from <span class=js-quick-fire-count>{{ quickFire.count }}</span> terms.</span> </div> <div class="landscape half-standard-block"></div> <div class="portrait padding"></div> <ul class="quick-fire-taxa margin-left js-quick-fire-taxa" data-repeat-taxon="{{ quickFire.filter.taxa }}"> <li class="custom-control custom-checkbox" data-name="{{ taxon.name }}"> <input type=checkbox class=custom-control-input id="{{ taxon.name }}" checked=checked> <label class=custom-control-label for="{{ taxon.name }}">{{ taxon.name }}</label> <span data-taxon="{{ taxon.name }}" class="">{{ taxon.count }}</span> </li> </ul> <div class="landscape half-standard-block"></div> <div class="portrait padding"></div> <div class="btn-group btn-group-toggle quick-fire-branches js-quick-fire-branches" data-toggle=buttons data-repeat-branch="{{ branches }}"> <label data-key="{{ branch.name }}" class="btn btn-secondary margin-left active" data-value="{{ branch.name }}"> <input type=checkbox name=branches id="{{ branch.name }}" autocomplete=off> {{ branch.name }} <span data-name="{{ branch.name }}">{{ branch.count }}</span> </label> </div> <div class="landscape half-standard-block"></div> <div class="portrait half-padding"></div> <div class="btn-group btn-group-toggle margin-left quick-fire-options margin-bottom js-quick-fire-filter-options" data-toggle=buttons data-repeat-option="{{ options }}"> <label data-key="{{ option.key }}" class="btn btn-secondary margin-right" data-value="{{ option.value }}"> <input type=radio name=options id="{{ option.key }}" autocomplete=off> {{ option.value }} </label> </div> <div class="landscape half-standard-block"></div> <div class="low-relief-block standard-block centred-block horizontal-evenly-spaced-block"> <div class="custom-control custom-checkbox"> <input type=checkbox class="custom-control-input js-quick-fire-technical" id=technical> <label class=custom-control-label for=technical>Include technical (advanced)</label> </div> <div> <div class="btn snap-action-btn js-quick-fire-reset">Reset filters</div> </div> </div> <div class="centred-block absolute-bottom"> <button class="btn snap-action-btn js-create-quick-fire">Start quick-fire review</button> </div> </div>'},271:function(t,a){t.exports='<div class=quick-fire> <div class="margin-left centred-block standard-block justify-space-between"> <h2> <span>Question {{ total }} of {{ count }}</span> </h2> <div class=margin-right> <button class="btn snap-btn small-text js-quick-review-progress">Progress</button> </div> </div> <div class="centred-block double-standard-block modal-background-relief border-light js-quick-fire-definition"> <span class=padding>{{ question.definition }}</span> </div> <ul id=0 class="strips description margin-top js-quick-layouts js-quick-fire-options" data-repeat-answer="{{ answers }}"> <li class=strip id="{{ answer.term }}" role=group aria-label="answers to the question"> <button class=snap-icon-btn data-answer-index="{{ answer.index }}"> <span>{{ answer.term }}</span> </button> </li> </ul> <div id=1 class="hide vertical-block centred-block margin-top js-quick-layouts quick-fire-text-entry js-quick-fire-text-entry"> <div class="centred-block standard-block"> <input type=text placeholder="Enter the term that fits this description"> </div> <div class=half-standard-block> <div class="hide centered-block js-quick-fire-hint"> <span class="margin-left latin">Hint: </span><span>The answer has two words.</span> </div> </div> </div> <div class="vertical-centred-block centred-block absolute-bottom"> <div class="margin-left centred-block standard-block js-quick-fire-message"></div> <div class=half-standard-block> Score {{ correct }} of {{ answered }} </div> <div class=action-update> <button disabled=disabled class="btn snap-action-btn js-continue-quick-fire-btn">Continue lesson</button> </div> </div> </div>'},272:function(t,a){t.exports='<div class=quick-fire> <div class="justify-space-between centred-block margin-left standard-block js-quick-fire-summary"> <div> <span>You have answered all of the questions.</span> </div> <div class="margin-right padding-left nowrap"> <button class="btn snap-btn small-text js-quick-review-continue-review">Vocab</button> </div> </div> <div class="border-light standard-block padding-left centred-block modal-background-relief js-score-text-summary"> You have scored {{ score.correct }} out of {{ score.total }} so far. </div> <ul class="margin-top nav nav-pills nav-fill quick-review-tabs js-quick-review-tabs mb-3" role=tablist> <li class=nav-item> <a class=nav-link href=# id=js-quick-review-correct data-toggle=pill role=tab> <span class=landscape>Correct answers</span> <span class=portrait>Correct</span> </a> </li> <li class=nav-item> <a class="nav-link active" href=# id=js-quick-review-incorrect data-toggle=pill role=tab> <span class=landscape>Incorrect answers</span> <span class=portrait>Incorrect</span> </a> </li> </ul> <div class="scrollable accordions-container"> <div id=accordion-correct data-type=js-quick-review-correct class="hide-important quick-review-answers js-quick-review-answers" data-repeat-pass="{{ passes }}"> <div class="card quick-fire-summary-row margin-bottom"> <div class="card-header capitalise" id="pass_header_{{ pass.index }}"> <div data-toggle=collapse data-target="#pass_target_{{ pass.index }}" aria-expanded=true aria-controls="pass_target_{{ pass.index }}"> <div>{{ pass.term }}</div> </div> </div> </div> <div id="pass_target_{{ pass.index }}" class=collapse aria-labelledby="pass_header_{{ pass.index }}" data-parent=#accordion-correct> <div class=card-body> <div>{{ pass.definition }}</div> <div class="centred-block half-standard-block"> <span class=sr-only>Opens in new window</span> <a class="small-text underline-link underline-link-left-margin {{ pass.showWikiClass }}" href="{{ pass.wiki }}" target=_blank> <span class=sr-only>Opens in new window</span> <span>View Wikipedia page for {{ pass.term }} in a new window</span> <i aria-hidden=true class="super fas fa-external-link-alt"></i> </a> </div> </div> </div> </div> <div id=accordion-incorrect data-type=js-quick-review-incorrect class="quick-review-answers js-quick-review-answers" data-repeat-fail="{{ fails }}"> <div class="card quick-fire-summary-row margin-bottom"> <div class="card-header capitalise" id="fail_header_{{ fail.index }}"> <div data-toggle=collapse data-target="#fail_target_{{ fail.index }}" aria-expanded=true aria-controls="fail_target_{{ fail.index }}"> <div>{{ fail.term }}</div> </div> </div> </div> <div id="fail_target_{{ fail.index }}" class=collapse aria-labelledby="fail_header_{{ fail.index }}" data-parent=#accordion-incorrect> <div class=card-body> <div>{{ fail.definition }}</div> <div class="centred-block half-standard-block"> <a class="small-text underline-link underline-link-left-margin {{ fail.showWikiClass }}" href="{{ fail.wiki }}" target=_blank> <span class=sr-only>Opens in new window</span> <span>View Wikipedia page for {{ fail.term }} in a new window</span> <i aria-hidden=true class="super fas fa-external-link-alt"></i> </a> </div> <div class="small-text margin-top"><span>You answered: </span><span>{{ fail.answer }}</span></div> </div> </div> </div> </div> </div>'},273:function(t,a){t.exports='<div class="lesson-list-header centred-block btn standard-block"> <div class="standard-block js-toggle-element"> <div> <div class=main-header> <h2>Lessons</h2> </div> </div> </div> <div class="margin-right standard-block js-toggle-control"> <button data-toggle=modal data-target=#createGuide class="btn snap-btn margin-right small-text js-create-custom-lesson">Create lesson</button> </div> </div>'},274:function(t,a){t.exports='<div class="home-scrolling-container js-home-scrolling-container"> <div class="title standard-block double-centred-block border-bottom">{{ title }}</div> <div class="snapdragon-intro padding"> <div class=half-standard-block> <span class=js-species-summary>{{ speciesSummary }}</span> </div> <div class=half-standard-block> <span>{{ season }}</span> </div> <div class="centred-block standard-block landscape js-intro-text">{{ lessonIntro }}</div> </div> <div class=scrollable></div> </div>'},275:function(t,a){t.exports='<div class="lesson-list-item one-and-half-standard-block vertical-evenly-spaced-block"> <div class=lesson-name id=js-input-collection-name> <input type=text value="{{ collection.name }}"> </div> <div class="margin-left lesson-taxa"><span class=js-lesson-taxa-count>{{ collection.items.length }}</span> <span class=js-lesson-taxa>{{ collection.taxa }}</span></div> </div> <div class=selected-species-container> <div class="open scrollable js-selected-species-container"></div> </div>'},276:function(t,a){t.exports='<div class="lesson-list js-lesson-list"> <ul class="scrollable js-lesson-container" data-toggle=buttons> </ul> </div>'},277:function(t,a){t.exports='<div class="double-standard-block vertical-centred-block"> <p>Clear all data (and delete your score).</p> <button class="btn snap-action-btn js-clear-cache-btn">Clear all data</button> </div> <hr> <div class="half-standard-block centred-block">Time for answer to remain visible:</div> <div class=delay-slider> <div class="standard-block double-centred-block"> <span>0 secs</span> <input class=js-set-delay-input type=range min=0 max=5 value="{{ delay }}"><span> 5 secs</span> </div> <button class="btn snap-action-btn js-set-delay-btn">Set delay</button> <div class="half-standard-block centred-block js-delay-text"></div> </div> <hr class=portrait> <div class="portrait js-language-selection-container"></div> <hr class=portrait> <div class="portrait email centred-block"> <a target=_blank href="mailto:danhartleybcn@gmail.com?subject=Learn The Planet"> <i class="fas fa-envelope"></i> </a> <span class=margin-left>Contact Snapdragon</span> </div>'},278:function(t,a){t.exports='<div class=modal-content> <div class=snapdragon-container> <div class="large-text centred-block standard-block">User access</div> <form id=login-form> <div class="standard-block centred-block"> <input id=login-email type=text placeholder=Email> </div> <div class="standard-block centred-block"> <input id=login-password type=text placeholder=Password> </div> <button id=js-login-btn class="btn snap-action-btn">Log in</button> </form> <div class="standard-block centred-block hide-important js-logged-in">You are now logged in.</div> <div class="standard-block vertical-centred-block hide-important js-not-logged-in"> <span class="standard-block centred-block">Please check your email and password.</span> <span class="standard-block centred-block js-message"></span> </div> </div> </div>'},279:function(t,a){t.exports='<div class=modal-content> <div class=snapdragon-container> <form id=logout-form> <div class="vertical-centred-block double-standard-block"> <span>You are logged in with the account:</span> <span>{{ email }}</span> </div> <div> <button id=js-logout-btn class="btn snap-action-btn">Log out</button> </div> </form> <div class="standard-block centred-block hide-important js-logged-out">You are now logged out.</div> </div> </div>'},280:function(t,a){t.exports='<div class="large-text centred-block standard-block">Language preference</div> <div class=standard-block> <div>Your selection will affect the vernacular names of species only.</div> <br> <div>It will not apply to lessons in progress.</div> <br> </div> <div class="double-standard-block js-language-selection-container"></div>'},281:function(t,a){t.exports='<li> <button id=PORTRAIT_HOME class="snap-icon-btn portrait icon list js-list" aria-label=home> <i aria-hidden=true focusable=false class="fas fa-chalkboard"></i> <span class=visually-hidden>Lesson home</span> </button> </li> <li> <button id=SETTINGS class="snap-icon-btn icon settings js-settings" data-toggle=modal data-target=#basicModal aria-label=settings> <i aria-hidden=true focusable=false class="fas fa-cog"></i> <span class=visually-hidden>Settings</span> </button> </li> <li> <button id=LOGIN class="snap-icon-btn icon login js-login" data-toggle=modal data-target=#basicModal data-is-logged-in=false aria-label=login> <i aria-hidden=true focusable=false class="fas fa-user-slash"></i> <i aria-hidden=true focusable=false class="fas fa-user-check"></i> <span class=visually-hidden>Login or logout</span> </button> </li> <li> <button id=GLOSSARY class="snap-icon-btn icon glossary js-glossary" data-toggle=modal data-target=#glossaryModal aria-label=glossary> <i aria-hidden=true focusable=false class="fas fa-book-open"></i> <span class=visually-hidden>Glossary</span> </button> </li>'},282:function(t,a){t.exports='<li> <button id=GLOSSARY class="snap-icon-btn icon glossary js-glossary" data-toggle=modal data-target=#glossaryModal aria-label=glossary> <i aria-hidden=true focusable=false class="fas fa-book-open"></i> <span class=visually-hidden>Glossary</span> </button> </li> <li> <button id=LANGUAGE class="snap-icon-btn icon language js-language" data-toggle=modal data-target=#basicModal aria-label="language settings"> <i aria-hidden=true focusable=false class="fas fa-language"></i> <span class=visually-hidden>Language</span> </button> </li>'},283:function(t,a){t.exports='<li> <button id=SETTINGS class="snap-icon-btn icon settings js-settings" data-toggle=modal data-target=#basicModal aria-label=settings> <i aria-hidden=true focusable=false class="fas fa-cog"></i> <span class=visually-hidden>Settings</span> </button> </li> <li> <button id=LOGIN class="snap-icon-btn icon login js-login" data-toggle=modal data-target=#basicModal data-is-logged-in=false aria-label=login> <i aria-hidden=true focusable=false class="fas fa-user-slash"></i> <i aria-hidden=true focusable=false class="fas fa-user-check"></i> <span class=visually-hidden>Login or logout</span> </button> </li> <li> <a id=EMAIL class="landscape icon email js-email" target=_blank href="mailto:danhartleybcn@gmail.com?subject=Learn The Planet"> <i aria-hidden=true focusable=false class="fas fa-envelope"></i> <span class=visually-hidden>Open email link</span> </a> </li>'},284:function(t,a){t.exports='<div class="centred-block standard-block"> <input disabled=disabled class=js-txt-input type=text placeholder=Genus autocomplete=off autocorrect=off autocapitalize=off spellcheck=false> </div> <div> <div class="help-txt binomial margin-left js-help-txt"></div> </div> <div class=text-entry-container> <div class="js-pool-letters pool margin-left margin-top margin-bottom"></div> <div class=horizontal-buttons> <button class="btn btn-tertiary js-toggle-keyboard">Enable keyboard</button> <button class="btn btn-tertiary js-delete-letter">Delete last letter</button> <button class="btn snap-action-btn js-check-answer">Check answer</button> </div> </div>'},285:function(t,a){t.exports='<div class="js-test-card-container-images species-card-images"></div> <div class=text-entry> <input class=js-txt-input type=text placeholder=Genus> </div> <div class="landscape help-txt binomial js-help-txt"></div>'},286:function(t,a){t.exports='<ul class="strips description js-rptr-strips" data-repeat-answer="{{ answers }}"> <li class=strip> <button class="btn snap-icon-btn" data-answer-index="{{ answer.index }}" data-name="{{ answer.name }}" data-names="{{ answer.names }}"> <span>{{ answer.term }}</span> </button> </li> </ul>'},287:function(t,a){t.exports='<div class="strips description js-rptr-strips" data-repeat-answer="{{ answers }}"> <div class=strip> <button class="double-centred-block btn snap-icon-btn" data-answer-index="{{ answer.index }}"> <img width=25px height=25px src="{{ answer.img.url }}" alt=""> <span>{{ answer.term }}</span> </button> </div> </div>'},288:function(t,a){t.exports='<div class="centred-block standard-block"> <button class="btn snap-icon-btn block"> <span class="given genus">{{ genus }}</span> </button> <button class="btn snap-icon-btn block"> <span class=species>{{ species }}</span> </button> </div> <div class=text-complete-container> <div class="margin-bottom landscape">Click to select the correct name:</div> <div class="margin-bottom portrait">Tap to select the correct name:</div> <div class="pool js-pool" data-repeat-answer="{{ answers }}"> <button type=submit class="btn snap-icon-btn block"> <span>{{ answer.value }}</span> </button> </div> </div>'},289:function(t,a){t.exports='<div class=snapdragon-container> <div class="cultivar revision card"> <div class=taxon-highlight><span>{{ item.name }}</span><hr></div> <div class=title>The following cultivars are all derived from the single species {{ item.name }}:</div> <div> <div class=list-group-headers> <span>Name</span><span>Variety</span><span class=landscape>Form</span><span class=landscape>More</span> </div> <div class=scrollable> <ul class="list-group list-group-flush" data-repeat-cultivar="{{ cultivars }}"> <li class=list-group-item> <span>{{ cultivar.vernacular }}</span> <span>{{ cultivar.variety }}</span> <span class=landscape>{{ cultivar.form }}</span> <span class=landscape><a class=underline-link href="{{ cultivar.wiki }}" title="{{ cultivar.wikiAlt }}">WIKI</a> <a class=underline-link href="{{ cultivar.eol }}" target=_blank title="{{ cultivar.eolAlt }}">EOL</a></span> </li> </ul> </div> </div> </div> </div>'},29:function(t,a,i){"use strict";i.d(a,"a",(function(){return _}));var o=i(18),c=i(46),l=i(333),u=i(178),d=i(332),p=i(12),m=i(4);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,a){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],o=!0,c=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done)&&(i.push(u.value),!a||i.length!==a);o=!0);}catch(t){c=!0,l=t}finally{try{o||null==d.return||d.return()}finally{if(c)throw l}}return i}(t,a)||_unsupportedIterableToArray(t,a)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,a){if(t){if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,a):void 0}}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var h=function getTraitValues(t,a){var i;return t.key.split(" ").forEach((function(t,a){0===a?i=t.toLowerCase():i+=m.utils.capitaliseFirst(t)})),a[i]},g=function getTraitByKey(t,a){return t[Object.keys(t).find((function(t){return t===a}))]},v=function hasTraitPropeties(t){for(var a in t)if(t.hasOwnProperty(a))return!0},y=function handleUnit(t){switch(t=t||""){case"DD":return" days";case"MM":return"";case"YY":return" years";default:return t}},b=l.a(u.a,d.a),_={getRandomTrait:function getRandomTrait(t,a){for(var i={},c=0,l=Object.entries(t);c<l.length;c++){var u=_slicedToArray(l[c],2),d=u[0],p=u[1];o.a(d.toLowerCase(),a)||(i[d]=p.unit?["".concat(p.value).concat(p.unit)]:p.value)}return m.utils.getRandomObjectProperty(i)},getTraitsPoolForUnits:function getTraitsPoolForUnits(t){return t.unit,{traitsPool:[1,2,3,4,5,6,7,8,9],help:"Pick the best range"}},getTraitsPoolForRoles:function getTraitsPoolForRoles(t){enumKey=t.role;return{traitsPool:["role1","role2","role3","role4","role5","role6","role7","role8","role9","role10"],help:"symbiosis"}},getTraitValues:h,getTraitsPool:function getTraitsPool(t,a){var i=[],c=h(t,a);if(c||(c=a[p.a.getRootTraitValue(m.utils.toCamelCase(t.key))])&&(c.help=t.key),c)for(var l=0,u=Object.entries(c);l<u.length;l++){var d=_slicedToArray(u[l],2),g=d[0],v=d[1];o.a(g,["type","name","help"])||g!==t.key&&i.push(v)}return{traitsPool:i,help:c?c.help||c.name:t.key}},getSetOfTraitAnswers:function getSetOfTraitAnswers(t,a){var i=a.value;i=i.map((function(t){return t.trim()})),i=m.utils.shuffleArray(i);var o=c.a(2,i),l=[];return 1===o.length?l=[].concat(_toConsumableArray(c.a(5,t.filter((function(t){return t!==a.value[0]})))),[a.value[0]]):(t.forEach((function(a){t.forEach((function(t){a!==t&&(l.filter((function(i){return i===[a,t]||i===[t,a]})).length>0||l.push([a,t]))}))})),l=(l=c.a(6,m.utils.shuffleArray(l))).map((function(t){if(t[0]!==i[0]&&t[1]!==i[1]||t[0]!==i[1]&&t[1]!==i[0])return t})).filter((function(t){return t})),l=c.a(5,l),0===(l=[].concat(_toConsumableArray(l),[i])).length&&(l=["a","b",a.value]),l=l.map((function(t){return t.join(", ")}))),m.utils.shuffleArray(l)},getTraitByKey:g,getTraitValueByKey:function getTraitValueByKey(t,a){var i=g(t,a);if(i)return i.value},getLinkedTaxaTraits:function getLinkedTaxaTraits(t){for(var a=[],i=0,o=Object.entries(t);i<o.length;i++){var c=_slicedToArray(o[i],2),l=c[0],u=c[1];u.type?a.push({name:l,value:u.value,type:u.type}):"lookalikes"===l?a.push({name:l,value:u.value,type:"lookalike"}):"symbionts"===l&&a.push({name:l,value:u.value,type:"symbionts"})}return a},getTraitsToExclude:function getTraitsToExclude(){return["symbionts","voice","pollination","name","units","song","uk rank","colour","bark colour","height","physiology","description","usage","habitat","symbiont"]},convertTraitsToNameValuePairsArray:function convertTraitsToNameValuePairsArray(t,a,i){if(!v(t))return{};for(var c=[],l=function _loop(){var t=_slicedToArray(d[u],2),i=t[0],l=t[1];o.a(i,a)||("lookalikes"===i?l.forEach((function(t){c.push({name:i,value:[t.lookalike.name],description:t.description,lookalike:{name:t.lookalike.name,description:t.lookalike.description}})})):"relationships"===i?l.forEach((function(t){c.push({name:i,value:[t.symbiont.name]})})):c.push({name:i,value:l.value,unit:y(l.unit),type:l.type||""}))},u=0,d=Object.entries(t);u<d.length;u++)l();return c},getNMultiplesFromArray:function getNMultiplesFromArray(t,a){if(0===t.length)return[];for(var i,o=[],c=0;c<Math.pow(2,t.length);c++){i=[];var l=t.length-1;do{0!=(c&1<<l)&&i.push(t[l])}while(l--);i.length>=a&&o.push(i)}return o.filter((function(t){return t.length===a}))},doArraysHaveSameValues:b,hasTraitPropeties:v}},290:function(t,a){t.exports='<div class="species-card-images carousel js-test-card-container-images"></div>'},291:function(t,a){t.exports='<div class=hide-important>mixed-specimen-images-template.html</div> <div class="standard-block border-bottom double-centred-block"></div> <div> <div class="tiles-container squares js-tiles" data-repeat-image="{{ images }}"> <div> <img class=square src="{{ image.medium }}" data-item-name="{{ image.itemName }}" data-url="{{ image.url }}"/> </div> </div> </div> <div class=lesson-companion> </div>'},292:function(t,a){t.exports='<div class=mixed-specimen-container> <div class=margin-bottom> <span>You are choosing from</span> <br> <br> <span> Species shown (in no particular order): </span> </div> <ul class="images-names-txt js-images-names-txt"></ul> <div class=vertical-evenly-spaced-block> <button class="btn snap-action-btn btn-auxiliary js-help-txt">Click to refresh selection</button> </div> </div>'},293:function(t,a){t.exports='<div class="standard-block border-bottom double-centred-block"></div> <div class="squares traits js-tiles" data-repeat-trait="{{ traits }}"> <div data-repeat-value="{{ trait }}"> <img class=square src="{{ value.img.url }}" data-term="{{ value.term }}" data-url="{{ value.img.url }}"/> </div> </div> <div class=lesson-companion> </div>'},294:function(t,a){t.exports='<div class=mixed-specimen-container> <div class=margin-bottom><span>{{ help }}</span></div> <ul class="traits-names-txt js-traits-names-txt" data-repeat-trait="{{ traits }}"> <li> <img src="{{ trait.img.url }}" alt="{{ trait.term }}"> <span>{{ trait.term }}</span> </li> </ul> </div>'},295:function(t,a){t.exports='<div class="strips description js-rptr-strips" data-repeat-answer="{{ answers }}"> <div class=strip> <button class="btn snap-icon-btn" data-answer-index="{{ answer.index }}"> <span>{{ answer.term }}</span> </button> </div> </div> '},296:function(t,a){t.exports=' <div>{{ questionFormat }}</div> <div class="footer-score js-footer-score"> <span class=hide-important>{{ score.correct }} {{ scoreText }}</span> <span>Score: {{ score.correct }} / {{ score.total }}</span> <span>History: {{ history.correct }} / {{ history.total }}</span> </div>'},297:function(t,a){t.exports='<div class=home-container> <div class="snapdragon-header double-centred-block"> <h1> <a href="">Welcome</a> </h1> </div> <main id=main class="snapdragon-intro scrollable js-snapdragon-intro"> <h3>Learn The Planet is a collection of a video lessons about the natural world.</h3> <h4 class="centred-block landscape"> <i class="margin-left extra-large-text fab fa-youtube youtube-icon"></i><span class=margin-left>Click to watch a lesson video.</span> </h4> <h4 class="centred-block landscape"> <i class="margin-left extra-large-text fas fa-glasses youtube-icon"></i><span class=margin-left>Click to see lesson species.</span> </h4> <h4 class=landscape> <button class="btn snap-btn extra-small-text fit-width" disabled=disabled style=opacity:1>Vocab test</button> <span class=margin-left>Brush up on terms and definitions.</span> </h4> <h4 class=landscape> <button class="btn snap-btn extra-small-text fit-width" disabled=disabled style=opacity:1>Lesson Quiz</button> <span class=margin-left>Test yourself on the contents of a lesson.</span> </h4> <br class=landscape> <br class=landscape> <h4 class=portrait> Tap on the home icon <span><i class="fas fa-chalkboard"></i></span> below to get started, then select an <span><i class="fab fa-youtube youtube-icon"></i></span> icon to begin a lesson. </h4> <h5>These lessons took time and effort to make; Learn The Planet would like to thank the people who created them.</h5> </main> </div>'},3:function(t,a,i){"use strict";i.d(a,"a",(function(){return o}));var o={CHANGE_LESSON_PLANS:"[CHANGE_LESSON_PLANS] Edit the set of lesson plans",CHANGE_LESSON_PLAN:"[CHANGE_LESSON_PLAN] Edit the original lesson plan",NEXT_LESSON:"[NEXT_LESSON] Get (new) lesson plan",NEXT_LAYOUT:"[NEXT_LAYOUT] Render next layout",NEXT_ITEM:"[NEXT_ITEM] Get next item",UPDATE_SCORE:"[UPDATE_SCORE] Check user answer and update running score",UPDATE_TRAIT_SCORE:"[UPDATE_TRAIT_SCORE] Check user answer and update running score",END_REVISION:"[END_REVISION] Revision complete",UPDATE_HISTORY:"[UPDATE_HISTORY] Copy round score to history",SET_ACTIVE_COLLECTION:"[SET_ACTIVE_COLLECTION] New collection",UPDATE_COLLECTION:"[UPDATE_COLLECTION] Change collection",UPDATE_COLLECTION_ITEMS:"[UPDATE_COLLECTION_ITEMS] Change collection items",UPDATE_COLLECTIONS:"[UPDATE_COLLECTIONS] Update collections list",RESET_COLLECTION:"[RESET_COLLECTION] Reset collection to initial state",NEXT_ROUND:"[NEXT_ROUND] Go to next round",NEXT_LEVEL:"[NEXT_LEVEL] Go to next level",UPDATE_CONFIG:"[UPDATE_CONFIG] change to config",STOP_START_LESSON:"[STOP_START_LESSON] Pause or play current lesson",SELECT_COLLECTION:"[SELECT_COLLECTION] Update the current selected collection",UPDATE_LANGUAGE:"[UPDATE_LANGUAGE] Update the current language",UPDATE_ENUMS:"[UPDATE_ENUMS] Update enums by config language",UPDATE_LESSON:"[UPDATE_LESSON] Create new lesson",SAVE_LESSON:"[SAVE_LESSON] Add lesson to saved lessons",REMOVE_LESSON:"[REMOVE_LESSON] Remove lesson from saved lessons on restarting lesson",UPDATE_VIDEO_PLAYER:"[UPDATE_VIDEO_PLAYER] Update video player state",UPDATE_USER:"[UPDATE_USER] Update user",CREATE_QUICKFIRE:"[CREATE_QUICKFIRE] Add quick-fire",UPDATE_QUICKFIRE:"[UPDATE_QUICKFIRE] Update quick-fire",CREATE_GLOSSARY:"[CREATE_GLOSSARY] Add glossary",CLICK_EVENT:"[CLICK_EVENT] User triggered event"}},31:function(t,a,i){"use strict";i.d(a,"a",(function(){return te}));var o=i(18),c=i(115),l=i(5),u=i(43),d=i(14),p=i(1),m=i(6),h=i(4),g=i(13),v=i(42),y=i(67),b=i(66),_=i(10),S=i(12),x=i(2),w=i(16),T=i(8),E=i(138),k=i.n(E);function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var L=function buildTable(t,a){try{var i=a.config,o=a.enums,c=a.overrideParent,l=document.createElement("template"),u=window.matchMedia("(min-width: 1024px)").matches,d=t.items.map((function(a){var c,l=a.images.find((function(t){return t.starred}))||h.utils.shuffleArray(a.images)[0];l=Object(_.g)(l,_.b.SPECIES_LIST,i);var u=function getTraitName(t,a){var i="",o="capitalise underline-link js-key-trait-link";if(t.taxonomy.phylum=t.taxonomy.phylum||"",t.taxonomy)switch(t.taxonomy.phylum.toLowerCase()){case"ascomycota":i="pezizales"===t.taxonomy.order.toLowerCase()?a.name.HOW_EDIBLE:a.name.THALLUS_TYPE,"pezizales"===t.taxonomy.order.toLowerCase()&&(o="js-key-trait-link");break;case"basidiomycota":i=a.name.HOW_EDIBLE,o="js-key-trait-link";break;default:i="-"}else o="js-key-trait-link";return{traitName:i,keyTratLinkClass:o}}(a,o),d=u.traitName,p=u.keyTratLinkClass,m=function getIconicTaxonIcon(t){var a,i;return"fungi"===t.iconicTaxon.toLowerCase()?(a="hide",i=""):(a=Object(w.c)(t.taxonomy,w.b),i="hide"),{iconicTaxonIcon:a,hideFungiIcon:i}}(a),g=m.iconicTaxonIcon,v=m.hideFungiIcon;return _defineProperty(c={id:a.id,name:a.name,itemName:a.name,genus:a.taxonomy.genus,species:a.taxonomy.species,genusLinkClass:a.genus?"snap-link-btn underline-link js-taxon-card-link":"snap-no-link-btn no-underline-link js-taxon-card-link",shortName:S.a.trimLatinName(a.name),taxonomy:a.taxonomy,iconicTaxon:a.iconicTaxon,vernacularName:a.vernacularName,snapIndex:a.snapIndex,license:l.license,url:l.url,small:l.small,rightsHolder:l.rightsHolder||"Public domain",source:l.source},"shortName",S.a.trimLatinName(a.name)),_defineProperty(c,"keyTrait",h.utils.capitaliseFirst(S.a.getActiveTrait(a,[{name:d,formatter:function formatter(t){return t[0]}}]))||""),_defineProperty(c,"keyTratLinkClass",p),_defineProperty(c,"familyLinkClass",a.family?"snap-link-btn underline-link js-taxon-card-link":"snap-no-link-btn no-underline-link js-taxon-card-link"),_defineProperty(c,"orderLinkClass",function getOrderLinkClass(t){return t.taxonomy&&t.taxonomy.order&&t.order?"snap-link-btn underline-link js-taxon-card-link":"snap-no-link-btn no-underline-link js-taxon-card-link"}(a)),_defineProperty(c,"taxonomy",a.taxonomy||{family:"",order:""}),_defineProperty(c,"iconicTaxonIcon",g),_defineProperty(c,"hideFungiIcon",v),_defineProperty(c,"hasVideoClassName",t.hasVideo?"":"hide-column"),_defineProperty(c,"hasTaxonClassName",t.hasVideo?"hide-column":""),_defineProperty(c,"provider",l.provider||""),c}));l.innerHTML=k.a;var p=i.isPortraitMode?c:document.querySelector('.js-species-container[data-container-id="'.concat(t.id,'"]'));p.innerHTML="",Object(x.a)({id:t.id,itemImages:d},l.content,p);var m=p.querySelector("table#species_list_id_".concat(t.id));m.querySelectorAll(".js-key-trait-link").forEach((function(t){var a=t.dataset.keyTrait,i=document.createElement("span");switch(a){case o.howEdible.CHOICE:i.innerHTML='<span class="icon choice"></span>',t.append(i);break;case o.howEdible.EDIBLE:i.innerHTML='<span class="icon edible"></span>',t.append(i);break;case o.howEdible.INEDIBLE:i.innerHTML='<span class="icon inedible"></span>',t.append(i);break;case o.howEdible.POISONOUS:case o.howEdible.DEADLY:i.innerHTML='<span class="icon toxic"></span>',t.append(i)}}));var g=m.querySelector(".species-table tbody");if(!g)return;var v=document.createElement("caption");v.innerHTML="Species in ".concat(t.name),v.classList.add("visually-hidden");var y=document.createElement("thead");m.insertBefore(y,g),m.insertBefore(v,y);var b=document.createElement("tr");b.classList.add("table-header");var E=document.createElement("th"),L=document.createElement("th"),O=document.createElement("th"),A=document.createElement("th"),j=document.createElement("th"),C=document.createElement("th");C.classList.add("not-sortable"),L.innerHTML="<span>Species</span",O.innerHTML="<span>Family</span><span>Order</span>",A.innerHTML="<span></span>",j.innerHTML='<span><i class="fas fa-sliders-h"></i></span>',E.innerHTML=c?"":'<span><i class="fas fa-undo"></i></span>',u?(b.appendChild(E),b.appendChild(L),b.appendChild(O),"dynamic"===t.behaviour&&b.appendChild(j)):(b.appendChild(E),b.appendChild(L),"dynamic"===t.behaviour&&b.appendChild(j)),"static"===t.behaviour&&b.appendChild(C),g.querySelector(".table-header")||y.appendChild(b);return h.utils.makeSortable(document,(function sortableCalback(){}),u),new Promise((function(t){return t({isReady:!0})}))}catch(t){return Object(T.a)("buildTable",t),new Promise((function(t){return t({isReady:!1})}))}},O=i(22),A=i(103),j=i(140),C=i.n(j),I=null,P=function onSpeciesChangeHandler(t){try{var a=t.id||t.eolId,i=document.querySelector("#id_".concat(a));I=i,t}catch(t){Object(T.a)(onSpeciesChangeHandler,t)}},R=function openNoteHandler(t,a){if(Math.floor(t.time)===a){var i=document.getElementById("insertParent");i&&i.remove();var o=document.createElement("template");o.innerHTML=C.a;var c=document.createElement("div");if(c.setAttribute("id","insertParent"),t.colCount&&(c.classList.add("col-count-".concat(t.colCount)),c.innerHTML=t.description.replace(/\r?\n/g,"<br />")),I||(I=document.querySelector(".js-list-item")),I.parentElement.insertBefore(c,I),!t.colCount){(i=document.getElementById("insertParent")).innerHTML="",Object(x.a)({note:t},o.content,i);var l=document.querySelector("#insertParent > div:nth-child(1) > div:nth-child(2)");l.innerHTML=l.innerHTML.replace(/\r?\n/g,"<br />")}}};function _slicedToArray(t,a){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],o=!0,c=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done)&&(i.push(u.value),!a||i.length!==a);o=!0);}catch(t){c=!0,l=t}finally{try{o||null==d.return||d.return()}finally{if(c)throw l}}return i}(t,a)||function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t,a)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){species_list_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function species_list_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var N=function renderSpeciesList(t,a){(function(){var i=function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var i,c,l,u,d,S,x,w,E,k,j,C;return regeneratorRuntime.wrap((function _callee$(I){for(;;)switch(I.prev=I.next){case 0:return i=a.callingParentContainer,c=a.isInCarousel,l=void 0!==c&&c,u=p.b.getState(),d=u.config,S=u.history,x=u.enums,w=u.collections,E=w.find((function(a){return a.id===t.id})),k=function openAccordionHandler(t,a){a.innerHTML='<i class="fas fa-chevron-up" data-name="'.concat(t.name,'"></i>'),C(E,t,!0,!1);a.addEventListener("click",(function closeAccordionHandler(i){a.removeEventListener("click",closeAccordionHandler),a.innerHTML='<i class="fas fa-chevron-down" data-name="'.concat(t.name,'"></i>'),a.addEventListener("click",(function(i){openAccordionHandler(t,a)}));var o=document.querySelector(".species-description");o&&o.parentNode.removeChild(o)}))},j=function userClickHandlers(){document.querySelectorAll(".table-row img").forEach((function(t){var a=E.items.find((function(a){return a.name===t.dataset.itemName}));Object(_.c)(t,a,E,d)})),document.querySelectorAll(".js-accordion").forEach((function(t){t.addEventListener("click",(function accordionHandler(a){var i=E.items.find((function(t){return t.name===a.currentTarget.dataset.name}));i&&k(i,t)}))})),document.querySelectorAll(".js-youtube").forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var a=t.currentTarget;a.classList.add("youtube-green-fg");var i=a.dataset.name,o=_objectSpread(_objectSpread({},E.items.find((function(t){return t.name==i}))),E.species.find((function(t){return t.name==i})));C(E,o,!0),o&&o.time&&(O.a.isVideoPlayerReady(E.video.id)?O.a.playVideoFrom(o.time[0]):Object(A.a)(E,p.b.getState().videoPlayer||[],g.a.rightBody,o.time[0])),B(E,o)}))}));var t=document.querySelector("#cardModal .js-modal-body");setTimeout((function(){document.querySelectorAll(".js-test-card-container-link").forEach((function(a,i){a.addEventListener("click",(function(a){var i=a.target.dataset.name;document.querySelector("#cardModal .prev > span").dataset.card="species-card",Object(v.a)(E,"MODAL",E.items.find((function(t){return t.name===i})),t,l)}))})),document.querySelectorAll(".js-key-trait-link").forEach((function(a){a.addEventListener("click",(function(a){var i=a.target.dataset.keyTrait,o=a.target.dataset.url;Object(b.a)("MODAL",i,t,o)}))})),document.querySelectorAll(".js-taxon-card-link").forEach((function(a){a.addEventListener("click",(function(a){var i=a.target.dataset.family||a.target.dataset.order,o=a.target.dataset.name,c=a.target.dataset.rank;document.querySelector("#cardModal .prev > span").dataset.rank=c,document.querySelector("#cardModal .prev > span").dataset.card="taxon-card",document.querySelector("#cardModal .next > span").dataset.rank=c,document.querySelector("#cardModal .next > span").dataset.card="taxon-card",Object(y.a)(E,"MODAL",E.items.find((function(t){return t.name===o})),t,i,c,l)}))})),document.querySelectorAll(".mushroom-icon").forEach((function(t){t.innerHTML='<svg-icon class="si-glyph-mushrooms"><src href="./icons/si-glyph-mushrooms.svg"/></svg>'}));var a=d.isLandscapeMode?5:3,i=document.querySelectorAll(".table-row.js-list-item td:nth-child(".concat(a,") > span"));if(S){var c=[];S.scores.map((function(t){return t.failsTotals})).forEach((function(t){for(var a=0,i=Object.entries(t);a<i.length;a++){var o=_slicedToArray(i[a],2),l=o[0];0==o[1]&&c.push(parseInt(l))}})),i.forEach((function(t){Object(o.a)(parseInt(t.id),c)&&t.classList.add("correct")}))}}))},E.notes&&E.notes.time&&(E.notes.forEach((function(t){return sp.firstTime=t.time[0]})),E.notes=h.utils.sortBy(E.notes,"firstTime","asc")),I.next=8,L(E,{config:d,enums:x,overrideParent:i});case 8:if(I.sent.isReady){I.next=11;break}return I.abrupt("return");case 11:j(),i.querySelector(".js-btn-current-lesson-begin").addEventListener("click",(function(){te.changeRequest({requestType:m.a.lessonState.BEGIN_OR_RESUME_LESSON,requestArgs:{id:E.id}})})),C=function openSpeciesDescriptionHandler(t,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];try{var c=document.getElementById("insertParent");c&&c.remove();var l=W(a.name),u=l.accordions,p=u.find((function(t){return t.dataset.name===a.name}));if(p&&(p.innerHTML='<i class="fas fa-chevron-up" data-name="'.concat(a.name,'"></i>'),o)){var m=p.parentElement.parentElement.querySelector(".js-youtube");m.classList.add("youtube-green-fg")}var h=a.description;if(h=h||(a.traits.description&&a.traits.description.value?a.traits.description.value[0]:"")){var g=a.id||a.eolId,v=document.querySelector("#id_".concat(g)),y=document.createElement("td"),b=document.createElement("div");b.classList.add("inserted-td"),b.innerHTML=h.replace(/\r?\n/g,"<br />"),y.appendChild(b);var _=document.createElement("div");_.classList.add("table-row"),_.classList.add("species-description"),_.appendChild(y),v.parentElement.insertBefore(_,v.nextSibling);var S=function scrollIntoView(t,a){var i=document.querySelector(".scrollable"),o=2*parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--vhStandardBlock").replace("px",""))+t*(a-1)-2*parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--vh").replace("px",""));i.scrollTop=o};i&&(d.isLandscapeMode?v.previousElementSibling.scrollIntoView():S(v.offsetHeight,a.snapIndex))}}catch(t){Object(T.a)(openSpeciesDescriptionHandler,t)}},O.a.onSpeciesTimeMatch((function(t,a){C(t,a),B(t,a),P(a)})),O.a.onNoteTimeMatch((function(t,a){R(a,O.a.getPlayerTime())}));case 17:case"end":return I.stop()}}),_callee,this)})));return function init(){return i.apply(this,arguments)}})()()},M=0,q=function carouselControlHandler(t){var a=p.b.getState().collection,i=t.target.dataset.transition,o=t.target.dataset.modal,c=t.target.dataset.card,l=t.target.dataset.rank;switch(i){case"prev":M=-1===--M?a.items.length-1:M;break;case"next":M=++M===a.items.length-1?0:M}var u=a.items.find((function(t,a){return a===M})),d=document.querySelector("#".concat(o," .js-modal-body"));switch(c){case"species-card":Object(v.a)(a,"MODAL",u,d,isInCarousel);break;case"taxon-card":Object(y.a)(a,"MODAL",u,d,null,l,isInCarousel)}},D=document.querySelector("#cardModal .js-prev"),H=document.querySelector("#cardModal .js-next");D&&D.addEventListener("click",q),H&&H.addEventListener("click",q);var G=document.querySelector("#cardModal .js-prev"),U=document.querySelector("#cardModal .js-next");G&&G.addEventListener("click",q),U&&U.addEventListener("click",q);var B=function updateVideoPlayer(t,a){var i=p.b.getState().videoPlayer||[],o=i.find((function(a){return a.collectionId===t.id}));o||(o={collectionId:t.id},i.push(o)),o.speciesName=a.name,o.pausedAt=a.time?a.time[0]:0,O.a.saveVideoState(i)},W=function closeOpenAccordions(t){var a=Array.from(document.querySelectorAll(".js-accordion"));a.filter((function(a){return a.dataset.name!==t})).forEach((function(a){a.innerHTML.indexOf("fa-chevron-up")>-1&&(a.click(),a.innerHTML='<i class="fas fa-chevron-down" data-name="'.concat(t,'"></i>'),a.parentElement.parentElement.querySelector(".js-youtube").classList.remove("youtube-green-fg"))}));var i=document.querySelector(".species-table tbody");return document.querySelectorAll(".species-description").forEach((function(t){return i.removeChild(t)})),{accordions:a}},V=i(56),Y=i(37);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return lesson_state_handler_arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function lesson_state_handler_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return lesson_state_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lesson_state_handler_arrayLikeToArray(t,a)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lesson_state_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function lesson_state_handler_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_state_handler_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_state_handler_ownKeys(Object(i),!0).forEach((function(a){lesson_state_handler_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_state_handler_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_state_handler_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function lesson_state_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function lesson_state_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){lesson_state_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){lesson_state_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var K=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var a,i,o,c,l,u,d,h,g,v,y;return regeneratorRuntime.wrap((function _callee$(b){for(;;)switch(b.prev=b.next){case 0:a=t.requestType,i=t.requestArgs,o=p.b.getState(),c=o.config,l=o.collection,u=o.collections,o.counter,b.t0=a,b.next=b.t0===m.a.lessonState.PAUSE_LESSON?5:b.t0===m.a.lessonState.UPDATE_COLLECTION?9:b.t0===m.a.lessonState.SAVE_LESSON_PROGRESS?11:b.t0===m.a.lessonState.GET_LESSON_PROGRESS?13:b.t0===m.a.lessonState.ADD_SPECIES_TO_COLLECTION?17:b.t0===m.a.lessonState.RENDER_SPECIES_LIST?20:b.t0===m.a.lessonState.BEGIN_OR_RESUME_LESSON?22:b.t0===m.a.lessonState.NEXT_ROUND?25:28;break;case 5:if(!c.isLandcapeMode){b.next=7;break}return b.abrupt("return");case 7:return Q(a,l,c),b.abrupt("break",28);case 9:return Z(i),b.abrupt("break",28);case 11:return ne(l),b.abrupt("break",28);case 13:return d=i.collectionToLoad,h=i.updatedCounter,g=i.guide,b.next=16,X(d,lesson_state_handler_objectSpread(lesson_state_handler_objectSpread({},c),{},{guide:g}),u,h);case 16:return b.abrupt("return",b.sent);case 17:return b.next=19,J(i);case 19:return b.abrupt("return",b.sent);case 20:return $(i),b.abrupt("break",28);case 22:return v=i.id,z(v),b.abrupt("break",28);case 25:return y=i.lesson,Q(m.a.lessonState.NEXT_ROUND,l,y),b.abrupt("break",28);case 28:case"end":return b.stop()}}),_callee,this)})));return function changeRequest(a){return t.apply(this,arguments)}}(),z=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t,a){var i,o,c,l,u,d,h,g,v,y;return regeneratorRuntime.wrap((function _callee2$(b){for(;;)switch(b.prev=b.next){case 0:return i=p.b.getState(),o=i.collections,c=i.collection,l=i.config,u=Y.a.getCollectionToLoad(c,o,t),b.next=4,X(u,l,o);case 4:d=b.sent,h=d.collection,g=d.score,v=d.lesson,y=a||(g&&g.collectionId===h.id?m.a.lessonState.RESUME_LESSON:m.a.lessonState.BEGIN_LESSON),Q(y,h,v);case 10:case"end":return b.stop()}}),_callee2,this)})));return function beginOrResumeLesson(a,i){return t.apply(this,arguments)}}(),$=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){var a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee3$(m){for(;;)switch(m.prev=m.next){case 0:return a=t.lesson,i=t.container,o=p.b.getState(),c=o.config,l=o.collections,m.next=4,X(a,c,l);case 4:u=m.sent,d=u.collection,setTimeout((function(){N(d,{callingParentContainer:i})}));case 7:case"end":return m.stop()}}),_callee3,this)})));return function renderLessonSpeciesList(a){return t.apply(this,arguments)}}(),X=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t,a,i,o){var c,l,d,m,h,g;return regeneratorRuntime.wrap((function _callee4$(v){for(;;)switch(v.prev=v.next){case 0:return c=p.b.getState(),l=c.counter,d=c.lessons,m=c.lesson,h=o||l,g=Y.a.getUserLessonState(d,t,u.a,h,m,o),v.next=5,V.a.loadCollection(g.collection,a,g.counter,i);case 5:return ee(g),v.abrupt("return",g);case 7:case"end":return v.stop()}}),_callee4,this)})));return function getUserLessonProgressState(a,i,o,c){return t.apply(this,arguments)}}(),Q=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t,a,i){var o,c;return regeneratorRuntime.wrap((function _callee5$(l){for(;;)switch(l.prev=l.next){case 0:l.t0=t,l.next=l.t0===m.a.lessonState.BEGIN_LESSON?3:l.t0===m.a.lessonState.PAUSE_LESSON?5:l.t0===m.a.lessonState.RESUME_LESSON?7:l.t0===m.a.lessonState.NEXT_ROUND?9:12;break;case 3:return d.a.boundStopStartLesson({index:0,isLessonPaused:!1}),l.abrupt("break",12);case 5:return a.items&&(o=Y.a.getLatestCounter(a),c=o.index,d.a.boundStopStartLesson({index:c,isLessonPaused:!0,log:{index:c,collection:a.id}})),l.abrupt("break",12);case 7:return d.a.boundStopStartLesson(lesson_state_handler_objectSpread(lesson_state_handler_objectSpread({},Y.a.getLatestCounter(a)),{},{isLessonPaused:!1})),l.abrupt("break",12);case 9:return i.isLevelComplete?d.a.boundNextLevel({index:0,lesson:i}):i.isNextRound&&d.a.boundNextRound({index:0,lesson:lesson_state_handler_objectSpread(lesson_state_handler_objectSpread({},i),{},{currentRound:i.currentRound+1})}),l.abrupt("break",12);case 12:return l.abrupt("return",i);case 13:case"end":return l.stop()}}),_callee5,this)})));return function changeLessonState(a,i,o){return t.apply(this,arguments)}}(),J=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var a,i,l,d,m,h;return regeneratorRuntime.wrap((function _callee6$(g){for(;;)switch(g.prev=g.next){case 0:if(a=t.config,i=t.collection){g.next=3;break}return g.abrupt("return");case 3:if(i.items){g.next=5;break}return g.abrupt("return");case 5:return l=a.guide.species.filter((function(t){return!Object(o.a)(t.name,i.items.map((function(t){return t.name})))})),g.next=8,V.a.getSnapdragonSpeciesData(l);case 8:return d=g.sent,g.next=11,V.a.loadCollectionItemProperties({items:d},a);case 11:m=g.sent,i.items=[].concat(_toConsumableArray(i.items),_toConsumableArray(m.items)),h={collection:i,counter:lesson_state_handler_objectSpread(lesson_state_handler_objectSpread({},p.b.getState().counter),{},{index:0}),lesson:{currentRound:1,rounds:0,isNextRound:!0},layout:null,history:null,score:Object(c.a)(u.a.score)},ee(h);case 15:case"end":return g.stop()}}),_callee6,this)})));return function addExtraSpeciesSelection(a){return t.apply(this,arguments)}}(),Z=function updateCollection(t){var a=t.config,i=t.collection;d.a.boundUpdateCollection({config:a,collection:i})},ee=function setActiveCollection(t){t.counter=t.counter||{},d.a.boundSetActiveCollection({lesson:t});var a=p.b.getState().user;l.a.addCollection(t.collection,a)},ne=function(){var t=lesson_state_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee7(t){var a,i,o,l,u,m,h,g,v,y,b,_;return regeneratorRuntime.wrap((function _callee7$(S){for(;;)switch(S.prev=S.next){case 0:return a=p.b.getState(),i=a.counter,o=a.lessonPlan,l=a.lessonPlans,u=a.layout,m=a.lesson,h=a.score,g=a.history,v=a.bonusLayout,y=a.enums,(b=a.config).collection.id=t.id,_={name:t.name,config:b,collection:t,counter:i,lessonPlan:o,lessonPlans:l,layout:u,lesson:m,score:Object(c.a)(h),history:g,bonusLayout:v,enums:y},d.a.boundSaveLesson(_),S.abrupt("return",_);case 5:case"end":return S.stop()}}),_callee7,this)})));return function saveCurrentLesson(a){return t.apply(this,arguments)}}(),te={changeRequest:K,recordUserAction:function recordUserAction(t){d.a.boundClickEvent(t)}}},33:function(t,a,i){"use strict";i.d(a,"b",(function(){return v})),i.d(a,"a",(function(){return y}));var o=i(2),c=i(10),l=i(8),u=i(124),d=i.n(u),p=function handleRightsAttribution(t){var a,i=document.createElement("template");switch(i.innerHTML=d.a,t.license){case"http://creativecommons.org/licenses/publicdomain/":a="CC PD";break;case"http://creativecommons.org/licenses/by/2.0/":a="CC 2.0";break;case"http://creativecommons.org/licenses/by-sa/2.0/":a="CC BY SA 2.0";break;case"http://creativecommons.org/licenses/by-nc/2.0/":a="CC BY NC 2.0";break;case"http://creativecommons.org/licenses/by-nc-sa/2.0/":a="CC BY NC-SA 2.0";break;case"http://creativecommons.org/licenses/by/3.0/":a="CC 3.0";break;case"http://creativecommons.org/licenses/by-sa/3.0/":a="CC BY SA 3.0";break;case"http://creativecommons.org/licenses/by-nc-sa/3.0/":a="CC BY NC-SA 3.0";break;case"http://creativecommons.org/licenses/by/4.0/":a="CC 4.0";break;case"http://creativecommons.org/licenses/by-nc/4.0/":a="CC BY NC 4.0";break;case"http://creativecommons.org/licenses/by-nc-sa/4.0/":a="CC BY NC-SA 4.0";break;case"http://creativecommons.org/licenses/by-sa/4.0/":a="CC BY SA 4.0";break;default:a=t.license||""}var l={text:a,url:t.medium},u=t.title,p=t.rightsholder||t.rightsHolder||"Public domain",m=t.source||"",h="".concat(t.itemName.replace(" ","_")),g=t.large||Object(c.g)(t).large,v=document.querySelector(".js-attribution-layer.".concat(h));(v=v||document.querySelector(".js-attribution-layer")).innerHTML="",Object(o.a)({title:u,author:p,source:m,licence:l,large:g},i.content,v);var y=v.querySelector(".js-rights-attribution .js-copyright"),b=v.querySelector(".js-rights-link .js-copyright"),_=document.querySelector(".carousel-indicators"),S=function showAttribution(t){y.parentElement.classList.add("hide-important"),b.parentElement.classList.remove("hide-important"),_.classList.remove("hide-important"),b.removeEventListener("click",x),b.addEventListener("click",x,!0)};y.removeEventListener("click",S,!0),y.addEventListener("click",S,!0);var x=function showLink(t){y.parentElement.classList.remove("hide-important"),b.parentElement.classList.add("hide-important"),_.classList.add("hide-important"),y.removeEventListener("click",S,!0),y.addEventListener("click",S,!0)};b.removeEventListener("click",x),b.addEventListener("click",x,!0)},m=i(105),h=i.n(m),g=function carouselControlHandler(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;setTimeout((function(){var i=a.querySelector("".concat(t.target.dataset.slider," .carousel-item.active img")).dataset;p(i)}),750)},v=function imageSlider(t){var a=t.config,i=t.images,u=t.parent,d=t.image,m=t.parentScreen,v=void 0===m?document:m,y=t.identifier,b=void 0===y?"":y,_=document.createElement("template");_.innerHTML=h.a,u.innerHTML="",i.forEach((function(t,a){t.index=a,t.rightsHolder=t.rightsHolder||"Public domain",t.provider=t.provider||"eol",t=Object(c.g)(t)})),Object(l.b)("imageSlider, image medium values:",i.map((function(t){return t.medium}))),Object(o.a)({images:i,identifier:b},_.content,u);var S=document.querySelector("#imageSlider_".concat(b," .carousel-control-next-icon")),x=document.querySelector("#imageSlider_".concat(b," .carousel-control-prev-icon"));a.isPortraitMode&&(S.classList.add("concealed"),x.classList.add("concealed")),setTimeout((function(){!function selectActiveImage(t,a,i){a.querySelectorAll(".carousel-item").forEach((function(a){var i=a.querySelector("img").dataset;Object(c.a)(i,t.dataset||t)&&a.classList.add("active")}));var o=a.querySelector(".imageSlider.carousel .carousel-item.active img");document.querySelectorAll(".carousel-indicators li").forEach((function(t){t.dataset&&o.dataset&&t.dataset.slideTo===o.dataset.index&&t.classList.add("active")}));var l=t.dataset||t;l.title=l.title||l.itemName,l=Object(c.g)(l),p(l)}(d||i[0],u)}),250),setTimeout((function(){}),1e3),v.querySelector("#imageSlider_".concat(b," .carousel-control-prev")).addEventListener("click",(function(t){return g(t,v,a)})),v.querySelector("#imageSlider_".concat(b," .carousel-control-next")).addEventListener("click",(function(t){return g(t,v,a)})),document.addEventListener("swiped-left",(function(t){S.click()})),document.addEventListener("swiped-right",(function(t){x.click()}))},y=function imageSideBySlider(t,a,i){var u=document.createElement("template");u.innerHTML=h.a,a.innerHTML="",a.classList.add("slideBySliderContainer"),document.querySelector("#imageComparisonModal .js-modal-image-title span:nth-child(3)").innerHTML="",document.querySelector("#imageComparisonModal .js-modal-image-title span:nth-child(4)").innerHTML="",t.forEach((function(t,d){var m=t.id.replace(" ","_")||d+1;document.querySelectorAll("#imageComparisonModal .js-modal-image-title > span")[d].innerHTML='<span class="common-name">'.concat(t.images[0].itemCommon,'</span><span class="latin-name">').concat(t.images[0].itemName,"</span>");var h={name:t.images[0].itemName,itemCommon:t.images[0].itemCommon,images:t.images},g=Object(c.f)(h,i,c.b.CAROUSEL);Object(l.b)("imageSideBySlider, image medium values:",g.map((function(t){return t.medium}))),Object(o.a)({images:g,identifier:m},u.content,a),document.querySelector("#imageSlider_".concat(m," .carousel-item")).classList.add("active"),p(g[0]);var v=document.querySelector("#imageSlider_".concat(m," .js-expand"));v&&v.classList.add("hide-important")}))}},35:function(t,a,i){"use strict";i.d(a,"d",(function(){return m})),i.d(a,"c",(function(){return v})),i.d(a,"a",(function(){return _})),i.d(a,"b",(function(){return S}));i(4);var o=i(8);function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var c,l=function getLocation(t){return t.coordinates&&t.coordinates.lat&&t.coordinates.long?(Object(o.b)("geolocation config",t),new Promise((function(a){a(t.coordinates)}))):(Object(o.b)("geolocation config",t),function getHTML5Location(){return new Promise((function(t,a){navigator.geolocation.getCurrentPosition((function success(a){t([a.coords.latitude,a.coords.longitude])}),(function error(a){Object(o.a)("getHTML5Location",a),t({0:0,1:0})}))}))}())},u=[],d=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,a){var i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,t;case 2:return i=p.sent,o=i.features.find((function(t){return"locality"===t.place_type[0]})),c=i.features.find((function(t){return"region"===t.place_type[0]})),l=i.features.find((function(t){return"country"===t.place_type[0]})),i.locality=o?o.text:"",i.region=c?c.text:"",i.country=l?l.text:"",i.area=i.region||i.country,i.shortLocation="".concat(i.locality,", ").concat(i.country),i.longLocation="".concat(i.locality,", ").concat(i.region,", ").concat(i.country),i.summary=a.isLandscapeMode?"Species from ".concat(i.longLocation):"Species from ".concat(i.shortLocation),u=new Promise((function(t){t(i)})),p.next=16,u;case 16:return d=p.sent,p.next=19,d;case 19:return p.abrupt("return",p.sent);case 20:case"end":return p.stop()}}),_callee,this)})));return function parseMapBoxPlace(a,i){return t.apply(this,arguments)}}(),p=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t,a,i){var o,c,l,p,m,h,g;return regeneratorRuntime.wrap((function _callee2$(v){for(;;)switch(v.prev=v.next){case 0:return"pk.eyJ1IjoiZGFuaGFydGxleSIsImEiOiJjam84Zjd3aGowMDdoM2ttaDAzeDk4bHJ6In0.oEcO6w3DhHUv_mXrFW1clg",o=t,c=a,l=i.language||"en",p="https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(o,",").concat(c,".json?language=").concat(l,"&access_token=").concat("pk.eyJ1IjoiZGFuaGFydGxleSIsImEiOiJjam84Zjd3aGowMDdoM2ttaDAzeDk4bHJ6In0.oEcO6w3DhHUv_mXrFW1clg"),v.next=7,fetch(p);case 7:return m=v.sent,v.next=10,m.json();case 10:return h=v.sent,v.next=13,d(h,i);case 13:return g=v.sent,u.forEach((function(t){return t(g)})),v.next=17,g;case 17:return v.abrupt("return",v.sent);case 18:case"end":return v.stop()}}),_callee2,this)})));return function getMapBoxPlace(a,i,o){return t.apply(this,arguments)}}(),m=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){var a,i,c,u,d,m,h=arguments;return regeneratorRuntime.wrap((function _callee3$(g){for(;;)switch(g.prev=g.next){case 0:if(a=h.length>1&&void 0!==h[1]&&h[1],!t.place||a){g.next=11;break}return i=new Promise((function(a){a(t.place)})),g.next=5,i;case 5:return c=g.sent,g.next=8,c;case 8:return g.abrupt("return",g.sent);case 11:return Object(o.b)("getPlace config",t),g.next=14,l(t);case 14:return u=g.sent,d=u[0]||u.lat,m=u[1]||u.long,t.coordinates={lat:d,long:m},g.abrupt("return",p(m,d,t));case 19:case"end":return g.stop()}}),_callee3,this)})));return function getPlace(a){return t.apply(this,arguments)}}(),h=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){var a,i,o,c,l,u,d,p,m;return regeneratorRuntime.wrap((function _callee5$(h){for(;;)switch(h.prev=h.next){case 0:return"a8563e7b75654ae8b016dc52719dee3b",a="https://api.ipgeolocation.io/ipgeo?apiKey=".concat("a8563e7b75654ae8b016dc52719dee3b","&ip=").concat(t,"&fields=city,state_prov,country_name,latitude,longitude&output=json"),h.next=4,fetch(a);case 4:return i=h.sent,h.next=7,i.json();case 7:return o=h.sent,h.next=10,o;case 10:return c=h.sent,l=c.city,u=c.state_prov,d=c.country_name,p=c.latitude,m=c.longitude,h.abrupt("return",{city:l,state_prov:u,country_name:d,latitude:p,longitude:m});case 17:case"end":return h.stop()}}),_callee5,this)})));return function LocationLookup(a){return t.apply(this,arguments)}}(),g=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var t,a,i,o;return regeneratorRuntime.wrap((function _callee6$(c){for(;;)switch(c.prev=c.next){case 0:return"https://api.ipgeolocation.io/getip",c.next=3,fetch("https://api.ipgeolocation.io/getip");case 3:return t=c.sent,c.next=6,t.json();case 6:return a=c.sent,c.next=9,a;case 9:return i=c.sent,o=i.ip,c.abrupt("return",o);case 12:case"end":return c.stop()}}),_callee6,this)})));return function IPLookup(){return t.apply(this,arguments)}}(),v=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(t){var a,i,o,c,l,u,d,p,m,v,y=arguments;return regeneratorRuntime.wrap((function _callee7$(b){for(;;)switch(b.prev=b.next){case 0:if(a=y.length>1&&void 0!==y[1]&&y[1],!t.ipLocation||a){b.next=11;break}return i=new Promise((function(a){a(t.ipLocation)})),b.next=5,i;case 5:return o=b.sent,b.next=8,o;case 8:return b.abrupt("return",b.sent);case 11:return b.next=13,g();case 13:return c=b.sent,b.next=16,h(c);case 16:return l=b.sent,u=l.city,d=l.state_prov,p=l.country_name,m=l.latitude,v=l.longitude,b.abrupt("return",{city:u,state_prov:d,country_name:p,latitude:m,longitude:v});case 23:case"end":return b.stop()}}),_callee7,this)})));return function getIPLocation(a){return t.apply(this,arguments)}}();var y=!0,b="";var _=function GoogleAutocomplete(t,a){var i=function getPredictions(i){c||(c=new google.maps.places.AutocompleteService),c.getPlacePredictions({input:t},a)};y?(new google.maps.places.AutocompleteSessionToken,i(),b=t,y=!1):(t!==b&&i(),b=t)},S=function GooglePlaceDetails(t,a){var i={placeId:t};(new google.maps.Geocoder).geocode(i,a),y=!0}},37:function(t,a,i){"use strict";i.d(a,"a",(function(){return m}));var o=i(115),c=i(6),l=i(1),u=i(14),d=i(75);function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var p=function getIsReviewingLesson(t,a){var i=!0;return t&&(i=a.isLandscapeMode?i&&(t.name===c.a.userEvent.START_LESSON.name||t.name===c.a.userEvent.TOGGLE_SPECIES_LIST.name):i&&t.name===c.a.userEvent.START_LESSON.name),!i},m={getIsReviewingLesson:p,overrideLesson:function overrideLesson(t,a){return!p(t,a)},purgeLesson:function purgeLesson(){l.a.purge(),window.location.reload(!0)},clearGuide:function clearGuide(){var t=l.b.getState().config;t.guide=d.a.guide,u.a.boundUpdateConfig(t)},getCollectionToLoad:function getCollectionToLoad(t,a,i){var o=parseInt(i),c=!0;return(c=(c=c&&t.id>0)&&t.id===o)?t:a.find((function(t){return t.id===o}))},getLatestCounter:function getLatestCounter(t){var a=l.b.getState(),i=a.counter,o=a.lessons,c=i.log;return{index:c?c.index:o.find((function(a){return a.collection.id===t.id}))?o.find((function(a){return a.collection.id===t.id})).counter.index:i.index}},getUserLessonState:function getUserLessonState(t,a,i,c,l,u){var d,p=t.find((function(t){return t.name===a.name}));return p?(d=p).lesson.isNextRound&&(d.score=o.a(i.score)):d={collection:a,counter:_objectSpread(_objectSpread({},c),{},{index:0}),lesson:l||{currentRound:1,rounds:0,isNextRound:!0},layout:null,history:null,score:o.a(i.score)},u&&(d.counter.isCustomLessonPausedOverride=!0),d}}},4:function(t,a,i){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}i.r(a),i.d(a,"utils",(function(){return u})),Array.prototype.concatAll=function(){var t=[];return this.forEach((function(a){a.forEach((function(a){t.push(a)}))})),t};var o=function timer(t,a){var i=null;return Bacon.fromBinder((function(){i=setInterval((function(){t()}),a)})).onValue((function(t){})),i};var c=function shuffleArray(t){if(t&&0!==t.length){for(var a,i,o=t.length;0!==o;)i=Math.floor(Math.random()*o),a=t[o-=1],t[o]=t[i],t[i]=a;return _toConsumableArray(t)}},l=function getCellValue(t,a,i,o){var c=t.children;return o||(c=_toConsumableArray(t.children).filter((function(t){return-1===_toConsumableArray(t.classList).join("").indexOf("wide-screen")}))),c[a].dataset.snapIndex||c[a].children[i].innerText||c[a].innerText||c[a].classList[0]||c[a].textContent};var u={encodeQuery:function encodeQuery(t){return void 0===t||Number.isInteger(t)?t:encodeURIComponent(t.trim())},timer:o,shuffleArray:c,randomiseSelection:function randomiseSelection(t,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function r(o){var l=c(t);return(o=o.concat(l.map((function(t,c){if(c+o.length<a)return i?--t:t}))).filter((function(t){return void 0!==t}))).length<a?r(o):o};return o([])},onlyUnique:function onlyUnique(t,a,i){return i.indexOf(t)===a},sortBy:function sortBy(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";return"asc"===i?t.sort((function(t,i){return parseFloat(t[a])-parseFloat(i[a])})):t.sort((function(t,i){return parseFloat(i[a])-parseFloat(t[a])}))},sortAlphabeticallyBy:function sortAlphabeticallyBy(t,a){return t.sort((function(t,i){return t[a]<i[a]?-1:t[a]>i[a]?1:0})),t},calcItemIndex:function calcItemIndex(t,a,i){return(t+i)%a==0?t:t+(t+i)%a},capitaliseFirst:function capitaliseFirst(t){return t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()},capitaliseAll:function capitaliseAll(t){return t.toLowerCase().split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.substring(1)})).join(" ")},makeSortable:function makeSortable(t,a,i){Array.from(t.querySelectorAll("th > span")).forEach((function(t){t.addEventListener("click",(function(){var t="ORDER"===this.innerText.toUpperCase()?1:0,o=[],c=this.parentElement;if("not-sortable"!==c.classList[0]){var u=c.closest("table"),d=u.querySelector("tbody"),p=u.querySelector("tfoot");Array.from(u.querySelectorAll("tr:nth-child(n+2)")).sort(function comparer(t,a,i,o){return function(c,u){return d=l(a?c:u,t,i,o),p=l(a?u:c,t,i,o),""===d||""===p||isNaN(d)||isNaN(p)?d.toString().localeCompare(p):d-p;var d,p}}(Array.from(c.parentNode.children).indexOf(c),this.asc=!this.asc,t,i)).forEach((function(t){t!==p&&(d.appendChild(t),o.push(t.cells[0].id))})),a(o)}}))}))},flatten:function flatten(t){return t.reduce((function(t,a){return t.concat(a)}),[])},getObservableMonths:function getObservableMonths(t){var a=function daysAway(a,i){var o=t,c="future"===a?1:-1;return o.setDate(o.getDate()+c*i),o},i=a("past",30).getMonth(),o=t.getMonth()+1,c=a("future",30).getMonth()+1,l=function getMonthName(t){return new Date(2e3,t,1).toLocaleString("en-uk",{month:"long"})},u=[{index:i,name:l(i)},{index:o,name:l(o)},{index:c,name:l(c)}];return u},getRandomInt:function getRandomInt(t){return Math.floor(Math.random()*Math.floor(t))},createSessionToken:function createSessionToken(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=16*Math.random()|0;return("x"==t?a:3&a|8).toString(16)}))},getRandomObjectProperty:function getRandomObjectProperty(t){if(0===Object.keys(t).length&&t.constructor===Object)return{};var a=Object.keys(t),i=a[Math.floor(Math.random()*a.length)];return{key:i,value:t[i]}},toCamelCase:function toCamelCase(t){if(void 0===t)return"";var a="";return t.split(" ").forEach((function(t,i){var o=t.toLowerCase();a+=0===i?o:o[0].toUpperCase()+o.slice(1)})),a},fromCamelCase:function fromCamelCase(t){return void 0===t?"":t.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase()},parseToLowerCase:function parseToLowerCase(t){return null==t?"":"object"===_typeof(t)?t:t?t.toLowerCase():""}}},40:function(t,a,i){"use strict";i.d(a,"a",(function(){return l})),i.d(a,"b",(function(){return u})),i.d(a,"c",(function(){return d}));var o=i(16),c='<svg-icon class="si-glyph-mushrooms"><src href="./icons/si-glyph-mushrooms.svg"/></svg-icon>',l=function renderIcon(t,a){if("fungi"===t.kingdom.toLowerCase()){a.querySelector(".js-iconic-icon").innerHTML='<span class="mushroom-icon-header">'.concat(c,"</span>")}else{var i=a.querySelector(".js-iconic-icon i");Object(o.c)(t,o.b).split(" ").forEach((function(t){return i.classList.add(t)}))}return a.querySelector(".js-iconic-icon")},u=function returnIcon(t){return t.taxonomy?"fungi"===t.taxonomy.kingdom.toLowerCase()?'<span class="mushroom-icon-header">'.concat(c,"</span>"):'<i class="small-icon '.concat(Object(o.c)(t.taxonomy,o.b),'"></i>'):""},d=function returnTaxonIcon(t){return"fungi"===t.toLowerCase()?'<span class="iconic-taxa-categories-selected">'.concat(c,"</span>"):'<span><i class="small-icon '.concat(Object(o.d)(t),'"></i></span>')}},42:function(t,a,i){"use strict";i.d(a,"a",(function(){return U}));var o=i(13),c=i(1),l=i(2),u=i(12),d=i(33);function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var p=function getBirdSong(t,a,i){if("AVES"===t.taxonomy.class.toUpperCase()){var o=function(){var t=function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a,i;return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,fetch(t);case 2:return a=o.sent,o.next=5,a.json();case 5:return i=o.sent,o.abrupt("return",i);case 7:case"end":return o.stop()}}),_callee,this)})));return function fetchAsync(a){return t.apply(this,arguments)}}(),c="https://cors-anywhere.herokuapp.com/http://www.xeno-canto.org/api/2/recordings?query=".concat(t.name," q:A"),l=function loadPlayer(t){var o="https://www.xeno-canto.org/".concat(t,"/embed?simple=1");i?a.dataset.src=o:a.src=o,i?(a.classList.remove("bird-song-icon-disabled"),a.classList.add("bird-song-icon")):a.parentElement.classList.add("bird-song-spacing")},u=t.traits.song.value[0];u?l(u):o(c).then((function(t){var a=t.recordings[0];l(a.id)}))}else a.style.display="none",document.querySelector(".bird-song").style.display="none"},m=i(10),h=i(5),g=i(102),v=i.n(g),y=i(125),b=i.n(y);function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var a=0,i=function F(){};return{s:i,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c,l=!0,u=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(u)throw c}}}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,a){if(t){if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,a):void 0}}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function look_alikes_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function look_alikes_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){look_alikes_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){look_alikes_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var _=i(78),S=i(40),x=i(35),w=i(26),T=i(64),E=i(76),k=i(131),L=i.n(k);function inat_box_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function inat_box_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){inat_box_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){inat_box_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}function _renderInatDataBox(){return(_renderInatDataBox=inat_box_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,a,i,o){var c,u,d,p,m,h,g;return regeneratorRuntime.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:return(c=document.createElement("template")).innerHTML=L.a,t.innerHTML="",Object(l.a)({},c.content,t),(u=document.querySelector(".js-test-card-container-eol-link")).setAttribute("href","http://eol.org/pages/".concat(a.id,"/overview")),u.setAttribute("target","_blank"),u.setAttribute("style","text-decoration: none"),setTimeout((function(){var t=document.querySelector(".js-test-card-container-wiki");Object(E.a)(a,t,i)})),(d=document.querySelector(".js-test-card-container-wiki")).innerHTML="",Object(T.renderWiki)(d,a,i.language),Object(w.e)(a,i).then((function(i){if(i.results){var o=i.results.find((function(t){return t.taxon.name===a.name})).taxon.id,c=i.results.find((function(t){return t.taxon.name===a.name})).count,l="https://www.inaturalist.org/taxa/".concat(o);t.querySelector(".js-taxon-count").innerHTML=c.toLocaleString(),t.querySelector(".js-taxon-link").setAttribute("href",l)}})),v.next=15,Object(x.d)(i);case 15:return p=v.sent,m=p.country.place_name_en||p.country,v.next=19,Object(w.c)(m);case 19:if(0!==(h=v.sent).results.length){v.next=22;break}return v.abrupt("return");case 22:g=h.results.find((function(t){return t.display_name===m})).id,Object(w.e)(a,i,g).then((function(i){if(0!==i.results.length){var c=i.results.find((function(t){return t.taxon.name===a.name}));if(c){var l=c.count,u=c.taxon.preferred_establishment_means;document.querySelector(".js-native-container").innerHTML=u||"",t.querySelector(".js-world").innerHTML="MODAL"===o?"Worldwide":"Worldwide sightings",t.querySelector(".js-place").innerHTML="MODAL"===o?m:"".concat(m," sightings"),t.querySelector(".js-place-taxon-count").innerHTML=l.toLocaleString()}}}));case 24:case"end":return v.stop()}}),_callee,this)})))).apply(this,arguments)}var O=i(4),A=i(132),j=i.n(A);function calendar_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var C=function(){var t=function calendar_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){calendar_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){calendar_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t,a,i){var o,c,u,d,p,m,h,g;return regeneratorRuntime.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:return(o=document.createElement("template")).innerHTML=j.a,t.innerHTML="",v.next=5,Object(x.d)(i);case 5:return c=v.sent,u=c.country.place_name_en||c.country,v.next=9,Object(w.c)(u);case 9:if(0!==(d=v.sent).results.length){v.next=12;break}return v.abrupt("return");case 12:p=d.results.find((function(t){return t.display_name===u})).id,m=[],h=function getENShortMonth(t){var a;switch(t){case 1:a="J";break;case 2:a="F";break;case 3:a="M";break;case 4:a="A";break;case 5:a="M";break;case 6:case 7:a="J";break;case 8:a="A";break;case 9:a="S";break;case 10:a="O";break;case 11:a="N";break;case 12:a="D"}return a},g=function getMonth(t,a){var i;switch(a.language){case"en":i=h(t);break;default:i=h(t)}return i},Object(w.b)(a,p).then((function(a){var c=a.results.month_of_year;for(var u in c)m.push({month:g(parseInt(u),i),index:parseInt(u),count:c[u]});O.utils.sortBy(m,"count","desc").forEach((function(t,a){a<4&&0!==t.count?t.class="most-observations":t.class=""})),O.utils.sortBy(m,"index","asc");var d=[],p=[];m.map((function(t,a){a<4&&p.push(t),3===a&&(d.push(p),p=[]),3<a&&a<8&&p.push(t),7===a&&(d.push(p),p=[]),7<a&&a<12&&p.push(t),11===a&&(d.push(p),p=[])})),Object(l.a)({data:d},o.content,t);var h=(new Date).getMonth();document.querySelectorAll(".calendar-box .col > div").forEach((function(t,a){a===h&&t.classList.add("current-month")}))}));case 17:case"end":return v.stop()}}),_callee,this)})));return function renderCalendar(a,i,o){return t.apply(this,arguments)}}(),I=[{name:"Brassica rapa",subspecies:[{variety:"chinensis",names:[{vernacularName:"Bok choy",language:"en"},{vernacularName:"Pak choi",language:"en"}]},{variety:"rapa",names:[{vernacularName:"Turnip",language:"en"}]},{variety:"oleifera",names:[{vernacularName:"Field mustard",language:"en"}]},{variety:"pekinensis",names:[{vernacularName:"Chinese cabbage",language:"en"},{vernacularName:"Wombok",language:"en"}]}]},{name:"Brassica oleracea",variety:"oleracea",subspecies:[{variety:"oleracea",names:[{vernacularName:"Wild cabbage",language:"en",wiki:"https://en.wikipedia.org/wiki/Brassica_oleracea",eol:"http://eol.org/pages/1283630/overview"}]},{variety:"capitata",group:"Capitata",form:"alba",names:[{vernacularName:"Cabbage",language:"en",wiki:"https://en.wikipedia.org/wiki/Cabbage",eol:"http://eol.org/pages/38390/overview"}]},{variety:"capitata",group:"Capitata",form:"sabauda",names:[{vernacularName:"Savoy cabbage",language:"en",wiki:"https://en.wikipedia.org/wiki/Savoy_cabbage",eol:"http://eol.org/pages/5148887/overview"}]},{variety:"capitata",group:"Capitata",form:"rubra",names:[{vernacularName:"Red cabbage",language:"en",wiki:"https://en.wikipedia.org/wiki/Red_cabbage"}]},{variety:"capitata",group:"Capitata",form:"acuta",names:[{vernacularName:"Cone cabbage",language:"en"}]},{variety:"viridis",group:"acephala",names:[{vernacularName:"Collards",language:"en"}]},{variety:"viridis",group:"Acephala",names:[{vernacularName:"Kale",language:"en"}]},{variety:"gemmifera",group:"Gemmifera",names:[{vernacularName:"Brussels sprouts",language:"en"}]},{variety:"gongylodes",group:"Gongylodes",names:[{vernacularName:"Kohlrabi",language:"en"}]},{variety:"italica",group:"Italica",names:[{vernacularName:"Broccoli",language:"en"}]},{variety:"botrytis",group:"Botrytis",names:[{vernacularName:"Cauliflower",language:"en"}]}]}],P=i(133),R=i.n(P);function taxa_box_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var N=function(){var t=function taxa_box_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){taxa_box_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){taxa_box_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t,a){var i,o,d,p,m,h,g,v,y,b,_;return regeneratorRuntime.wrap((function _callee$(S){for(;;)switch(S.prev=S.next){case 0:i=c.b.getState().enums,t.innerHTML="",o=a.item,d=a.familyName,p=a.familyVernacularName,m=[{name:i.name.RANK,formatter:function formatter(t){return"UK # ".concat(t[0])}},{name:i.name.HOW_EDIBLE,formatter:function formatter(t){return t[0]}}],h=u.a.getActiveTrait(o,m),g=I.find((function(t){return t.name===o.name})),v=g?g.subspecies.length:0,(y=document.createElement("template")).innerHTML=R.a,Object(l.a)({subSpeciesCount:v,familyName:d,familyVernacularName:p,trait:h},y.content,t),b=t.querySelector(".js-subspecies-badge"),0===v?b.classList.add("hide"):(_=g.subspecies,b.addEventListener("click",(function(t){document.querySelector("#badgeListModal .js-modal-text-title").innerHTML="Cultivars of ".concat(o.name);var a=rootNode.querySelector("#badgeListModal .js-modal-text"),i='<div class="modal-list scrollable">';_.forEach((function(t){i+="<div><span>subspecies: ".concat(t.name,"</span>"),i+="<ul>",t.names.forEach((function(t){t.language===config.language&&(i+="<li>name: ".concat(t.vernacularName,"</li>"))})),i+="</ul></div>"})),i+="</div>",a.innerHTML=i})));case 12:case"end":return S.stop()}}),_callee,this)})));return function renderTaxaBox(a,i){return t.apply(this,arguments)}}(),M=i(134),q=i.n(M);function badge_toConsumableArray(t){return function badge_arrayWithoutHoles(t){if(Array.isArray(t))return badge_arrayLikeToArray(t)}(t)||function badge_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function badge_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return badge_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return badge_arrayLikeToArray(t,a)}(t)||function badge_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function badge_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var D=i(6),H=i(135),G=i.n(H);function card_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function card_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){card_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){card_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var U=function renderCard(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"STAND_ALONE",i=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.a.rightBody,d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(i){var p,m=c.b.getState(),g=m.layout,v=m.config,y=function(){var o=card_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var o,c,m,y,b;return regeneratorRuntime.wrap((function _callee3$(_){for(;;)switch(_.prev=_.next){case 0:return o=function(){var t=card_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var a,i,o;return regeneratorRuntime.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:if(!t.eolId){c.next=2;break}return c.abrupt("return",new Promise((function(a){return a(t)})));case 2:return a=function(){var t=card_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!t.family){a.next=4;break}a.t0=new Promise((function(a){return a(t)})),a.next=7;break;case 4:return a.next=6,h.a.getSpeciesByName(t.name);case 6:a.t0=a.sent;case 7:return a.abrupt("return",a.t0);case 8:case"end":return a.stop()}}),_callee,this)})));return function getItem(a){return t.apply(this,arguments)}}(),c.next=5,a(t);case 5:return i=c.sent,c.next=8,h.a.getTaxonByName(v,i.taxonomy[D.a.taxon.FAMILY.name.toLowerCase()]);case 8:if(c.t0=c.sent,c.t0){c.next=11;break}c.t0={names:[i.taxonomy.family]};case 11:return i.family=c.t0,c.next=14,h.a.getTaxonByName(v,i.taxonomy[D.a.taxon.ORDER.name.toLowerCase()]);case 14:return i.order=c.sent,c.next=17,h.a.getTraitsBySpeciesName(t.name);case 17:return i.traits=c.sent,i.vernacularName=i.vernacularName||u.a.getVernacularName(t,v),o=t.name.split(" "),i.taxonomy.genus=o[0],i.taxonomy.species=o[1],c.abrupt("return",i);case 23:case"end":return c.stop()}}),_callee2,this)})));return function getItemWithProps(a){return t.apply(this,arguments)}}(),p=i||t.nextItem,_.next=4,o(p);case 4:p=_.sent,_.t0=a,_.next="STAND_ALONE"===_.t0?8:"SWAP_OUT"===_.t0?10:"MODAL"===_.t0?12:14;break;case 8:return c=v.isLandscapeMode?modal.querySelector(".js-modal-text"):document.querySelector(".right-body"),_.abrupt("break",14);case 10:return c=v.isLandscapeMode?l:document.querySelector(".js-species-container"),_.abrupt("break",14);case 12:return c=document.querySelector("#cardModal"),_.abrupt("break",14);case 14:if("STAND-ALONE"!==a){_.next=18;break}if(g.screens.filter((function(t){return"species-card"===t.name}))[0]){_.next=18;break}return _.abrupt("return");case 18:m=document.querySelector("#cardModal .js-prev"),y=document.querySelector("#cardModal .js-next"),m&&(d?m.classList.remove("hide-important"):m.classList.add("hide-important")),y&&(d?y.classList.remove("hide-important"):y.classList.add("hide-important")),(b=document.createElement("template")).innerHTML=G.a,V(b,v,p,t,a,l,c,d),v.isPortraitMode?W(p,v,a,c):B(p,v,a,c);case 26:case"end":return _.stop()}}),_callee3,this)})));return function init(){return o.apply(this,arguments)}}();y()}},B=function renderLandscape(t,a,i,o){var c=o.querySelector(".js-bird-song");p(t,c,a.isPortraitMode),function renderInatDataBox(t,a,i,o){return _renderInatDataBox.apply(this,arguments)}(o.querySelector(".js-inat-box"),t,a,i),C(o.querySelector(".js-calendar-box"),t,a),function lookalikeSpecies(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,o=t.traits.lookalikes||t.traits["look-alikes"];if(o){var c=function(){var c=look_alikes_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var c,b,w;return regeneratorRuntime.wrap((function _callee4$(T){for(;;)switch(T.prev=T.next){case 0:return c=function(){var i=look_alikes_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var i,c,l,d;return regeneratorRuntime.wrap((function _callee2$(p){for(;;)switch(p.prev=p.next){case 0:g=[].concat(_toConsumableArray(o.map((function(t){return t.lookalike}))),[{name:t.name,description:o[0].description}]),i=_createForOfIteratorHelper(g),p.prev=2,l=regeneratorRuntime.mark((function _callee(){var t,i,o;return regeneratorRuntime.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return t=c.value,l.next=3,h.a.getSpeciesByName(t.name);case 3:if(i=l.sent){l.next=6;break}return l.abrupt("return",{v:void 0});case 6:i.vernacularName=u.a.getVernacularName(i,a),S.push(i.vernacularName),x.push(i.name),o=i.images.map((function(t,o){var c=Object(m.g)({url:t.url},m.b.CAROUSEL,a);return{index:o+1,src:_objectSpread(_objectSpread({},t),{},{url:c.medium}),url:c.medium,itemName:i.name,itemCommon:i.vernacularName}})),_.push({id:i.name,images:o});case 11:case"end":return l.stop()}}),_callee,this)})),i.s();case 5:if((c=i.n()).done){p.next=12;break}return p.delegateYield(l(),"t0",7);case 7:if("object"!==_typeof(d=p.t0)){p.next=10;break}return p.abrupt("return",d.v);case 10:p.next=5;break;case 12:p.next=17;break;case 14:p.prev=14,p.t1=p.catch(2),i.e(p.t1);case 17:return p.prev=17,i.f(),p.finish(17);case 20:case 21:case"end":return p.stop()}}),_callee2,this,[[2,14,17,20]])})));return function readyLookalikesForRendering(){return i.apply(this,arguments)}}(),T.next=3,c();case 3:if(0!==_.length){T.next=5;break}return T.abrupt("return");case 5:y.innerHTML="",Object(l.a)({slides:_,names:S.join(", ")},p.content,y),(b=i.querySelector(".js-compare-species-link")).classList.remove("hide"),w=function(){var t=look_alikes_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t,a){var i,o,c,u;return regeneratorRuntime.wrap((function _callee3$(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,h.a.getSpeciesByName(t);case 2:return i=d.sent,d.next=5,h.a.getTraitsBySpeciesName(i.name);case 5:if(i.traits=d.sent,"aves"!==i.taxonomy.class.toLowerCase()){d.next=18;break}if(!i.traits||0!==Object.keys(i.traits).length){d.next=9;break}return d.abrupt("return");case 9:if(o=i.traits.song.value){d.next=12;break}return d.abrupt("return");case 12:return d.next=14,h.a.getBirdsong(o);case 14:c=d.sent,(u=document.createElement("template")).innerHTML=v.a,Object(l.a)({mp3:c,title:i.name},u.content,a);case 18:case"end":return d.stop()}}),_callee3,this)})));return function getTrait(a,i){return t.apply(this,arguments)}}(),b.addEventListener("click",(function(){var t=document.querySelector("#imageComparisonModal .js-modal-image");Object(d.a)(_,t,!0,a),g.forEach((function(t){var a=".description_".concat(t.name.replace(" ","_"));document.querySelector(a).innerHTML=t.description,w(t.name,document.querySelector("".concat(a," + div")))}))}));case 11:case"end":return T.stop()}}),_callee4,this)})));return function renderLookalikes(){return c.apply(this,arguments)}}(),p=document.createElement("template");p.innerHTML=b.a;var g,y=i.querySelector(".js-lookalikes"),_=[],S=[],x=[];c()}}(t,a,o)},W=function renderPortrait(t,a,i,o){var c=Object(m.f)(t,a,m.b.SPECIES_CARD),l=o.querySelector(".js-test-card-container-images");Object(d.b)({config:a,images:c,parent:l,parentScreen:o.querySelector(".card-card"),identifier:t.name.replace(" ","_")});var u=o.querySelector(".js-bird-song-player");"MODAL"!=i?(p(t,u,a.isPortraitMode),u.addEventListener("click",(function(){var a=document.createElement("iframe");a.id="birdsong",a.style.border=0,a.src=u.dataset.src,document.querySelector("#basicModal .modal-body").classList.add("bird-song-bg"),document.querySelector("#basicModal .js-modal-text-title").innerHTML="".concat(t.name);for(var i=document.querySelector("#basicModal .js-modal-text");i.firstChild;)i.removeChild(i.firstChild);i.appendChild(a)}))):u.style.display="none"},V=function renderCommonParts(t,a,i,o,c,u,d,p){var h=Object(m.g)({url:i.starred||i.images[0].url},m.b.SPECIES_CARD,a),g=document.importNode(t.content,!0);if(u.innerHTML="",Object(l.a)({name:i.name,vernacularName:i.vernacularName,image:h,iconicTaxon:i.iconicTaxon},t.content,u,g),N(d.querySelector(".js-taxa-box"),{item:i,familyName:i.taxonomy.family,familyVernacularName:i.family.vernacularName||""}),Object(_.a)(i,d.querySelector(".js-info-box"),c),function renderBadge(t,a,i){var o=badge_toConsumableArray(new Set(a.names.map((function(t){return{common:t.vernacularName.toLowerCase(),language:t.language}})))),c=o.reduce((function(t,a){return t[a.language]=t[a.language]||{},t[a.language].name=i.languages.find((function(t){return t.lang===a.language})).name,t[a.language].names=t[a.language].names||[],t[a.language].names.push(a.common),t}),Object.create(null)),u=o.length,d=document.createElement("template");0===u?t.classList.add("hide"):(t.innerHTML="",d.innerHTML='<span class="names-badge js-names-badge" data-toggle="modal" data-target="#badgeListModal">'.concat(u,"</span>"),Object(l.a)({},d.content,t),t.addEventListener("click",(function(t){document.querySelector("#badgeListModal .js-modal-text-title").innerHTML="Common species names";var a=document.querySelector("#badgeListModal .js-modal-text");a.innerHTML="",d.innerHTML=q.a,Object(l.a)({languageNames:c},d.content,a)})))}(d.querySelector(".js-names-badge"),i,a),Object(S.a)(i.taxonomy,d),"MODAL"===c){d.querySelector("#cardModal .js-modal-text-title").innerHTML=o.name;var v=d.querySelector("#cardModal .js-prev > span");v.dataset.id=i.id,v.dataset.transition="prev",v.dataset.modal="cardModal";var y=d.querySelector("#cardModal .js-next > span");y.dataset.id=i.id,y.dataset.transition="next",y.dataset.modal="cardModal";var b=document.getElementsByTagName("hr");Array.from(b).forEach((function(t){return t.style.display="none"}))}setTimeout((function(){a.isPortraitMode&&(document.querySelectorAll(".js-attribution-layer").forEach((function(t){return t.classList.add("hide-important")})),document.querySelectorAll(".js-carousel-indicators").forEach((function(t){return t.classList.add("hide-important")})))}))}},43:function(t,a,i){"use strict";i.d(a,"a",(function(){return c}));var o=function resetScore(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.total,i=void 0===a?0:a,o=t.correct,c=void 0===o?0:o,l=t.taxon,u=void 0===l?"":l,d=t.binomial,p=void 0===d?"":d,m=t.answer,h=void 0===m?"":m,g=t.success,v=void 0!==g&&g,y=t.incorrect,b=void 0===y?0:y,_=t.question,S=void 0===_?"":_,x=t.fails,w=void 0===x?[]:x,T=t.passes,E=void 0===T?[]:T,k=t.answers,L=void 0===k?[]:k,O=t.statement,A=void 0===O?"":O,j=t.mode,C=void 0===j?"":j,I=t.totalPassPoints,P=void 0===I?0:I,R=t.totalPoints,N=void 0===R?0:R;return{total:i,correct:c,taxon:u,binomial:p,answer:h,success:v,incorrect:b,question:S,fails:w,passes:E,answers:L,statement:A,mode:C,totalPassPoints:P,totalPoints:N}},c={score:o(),resetScore:o}},5:function(t,a,i){"use strict";i.d(a,"a",(function(){return Q}));var o,c,l=i(4);function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var u={name:(o={DESCRIPTION:"description",CIRCUMFERENCE:"circumference",EXPOSURE:"exposure",CAP_SHAPE:"cap shape",CAP_COLOUR:"cap colour",CAP_DIAMETER:"cap diameter",CAP_WIDTH:"cap width",CAP_HEIGHT:"cap height",SHELF_WIDTH:"shelf width",SHELF_THICKNESS:"shelf tHickness",ECO_TYPE:"ecological type",HOW_EDIBLE:"how edible",HYMENIUM_TYPE:"hymenium type",SPORE_PRINT_COLOUR:"spore print colour",STIPE_CHARACTER:"stipe character",STIPE_LENGTH:"stipe length",STIPE_WIDTH:"stipe width",STIPE_COLOUR:"stipe colour",GILL_ATTACHMENT:"gill attachment",FLESH:"flesh",STEM_CHARACTER:"stem character",GILL_COLOUR:"gill colour",TRUNK_COLOUR:"trunk colour",SUBSTRATE:"substrate",THALLUS_TYPE:"thallus type",RHIZINE_TYPE:"rhizine type",DISC_WIDTH:"Width",LOBE_WIDTH:"Lobe width",LOBE_LENGTH:"Lobe length",LOBE_DIAMETER:"Lobe diameter",ROLE:"Role",NATIVE:"Native",NATIVE_TO:"Native to",SYMBIOSIS:"Symbiosis",ASSOCIATE:"associate",SYMBIONTS:"symbionts",LOOKALIKES:"look alikes",ECOLOGY:"ecology",HABITAT:"habitat",TROPHIC_LEVEL:"Trophic level",ORGANISATION:"Organisation",SMELL:"smell",FRUIT_TYPE:"Fruit type",FRUIT_WIDTH:"Fruit width",FRUIT_HEIGHT:"Fruit height",FRUIT_DIAMETER:"Fruit diameter",FRUIT_LENGTH:"Fruit length",FRUIT_COLOUR:"Fruit colour",FRUIT_TEXTURE:"Fruit texture",BRANCH_TEXTURE:"Branch texture",FRUIT_SURFACE:"Fruit surface",SEED_DISPERSAL:"Seed dispersal",VITAMINS:"vitamins",STAMEN_COUNT:"Stamen count",STYLE_COUNT:"Style count",LEAFLET_COUNT:"Leaflet count",LOBE_COUNT:"Lobe count",LEAFLET_LENGTH:"Leaflet length",LEAFLET_WIDTH:"Leaflet width",GROUPING:"grouping",MEDICINAL_PROPERTIES:"Medicinal properties",COLOUR:"Colour",USAGE:"Usage",FORM:"Form",LIFE_SPAN:"Life span",GERMINATION:"Germination",ACTIVE:"Active",SUBSTRATE_ADHERANCE:"Substrate adherance",RANK:"UK Rank",SIZE:"Size",LENGTH:"Length",VOICE:"Voice",HEIGHT:"Height",WEIGHT:"Weight",REPRODUCTION:"Reproduction",ASEXUAL_REPRODUCTION:"Asexual reproduction",DISPLAY:"Display",BEHAVIOUR:"behaviour",CHARACTERISTIC:"Characteristic",COMMUNICATION:"Communication",SHELTER:"Shelter",DISEASE:"Disease",THREAT:"Threat",FOOD:"Food",SEXUAL_DIMORPHISM:"Sexual dimorphism",WING_SPAN:"Wing span",TREE_SHAPE:"Tree shape",CROWN_SHAPE:"Crown shape",LEAF_DIVISION:"Leaf division",LEAFLET_DIVISION:"Leaflet division",LEAF_BLADE:"Leaf blade",LEAF_VARIATION:"Leaf variation",LEAF_SHAPE:"Leaf shape",JUVENILE_LEAF_SHAPE:"Juvenile leaf shape",LEAF_MARGIN:"Leaf margin",LEAF_ARRANGEMENT:"Leaf arrangement",LEAF_ATTACHMENT:"Leaf attachment",LEAF_LENGTH:"Leaf length",AWN_LENGTH:"Awn length",JUVENILE_LEAF_LENGTH:"Juvenile leaf length",LEAF_WIDTH:"Leaf width",LEAF_COLOUR:"Leaf colour",LEAF_SURFACE:"Leaf surface",LEAF_ABOVE_SURFACE:"Leaf above surface",LEAF_BELOW_SURFACE:"Leaf below surface",LEAF_TEXTURE:"Leaf texture",JUVENILE_TEXTURE:"Juvenile leaf texture"},_defineProperty(o,"LEAF_SHAPE","Leaf shape"),_defineProperty(o,"LEAFLET_SHAPE","Leaflet shape"),_defineProperty(o,"LEAF_BELOW_COLOUR","Leaf below colour"),_defineProperty(o,"LEAF_ABOVE_COLOUR","Leaf above colour"),_defineProperty(o,"LEAF_VENATION","Leaf venation"),_defineProperty(o,"LEAF_BUNDLE_COUNT","Leaf bundle count"),_defineProperty(o,"LEAF_FEATURES","Leaf features"),_defineProperty(o,"LEAF_FOLDING","Leaf folding"),_defineProperty(o,"BRANCH_ARRANGEMENT","Branch arrangement"),_defineProperty(o,"STALK_HEIGHT","Stalk height"),_defineProperty(o,"STEM_HEIGHT","Stem height"),_defineProperty(o,"SCAPE_HEIGHT","Scape height"),_defineProperty(o,"STEM_DIAMETER","Stem diameter"),_defineProperty(o,"TRUNK_DIAMETER","Trunk diameter"),_defineProperty(o,"BRACT_COLOUR","Bract colour"),_defineProperty(o,"BRACT_LENGTH","Bract length"),_defineProperty(o,"PETIOLE_LENGTH","Petiole length"),_defineProperty(o,"FLOWER_DIAMETER","Flower diameter"),_defineProperty(o,"FLOWER_LENGTH","Flower length"),_defineProperty(o,"FLOWER_COLOUR","Flower colour"),_defineProperty(o,"FLOWER_SHAPE","Flower shape"),_defineProperty(o,"PETAL_COUNT","Petal count"),_defineProperty(o,"LEAFLET_COUNT","Leaflet count"),_defineProperty(o,"PETAL_LENGTH","Petal length"),_defineProperty(o,"PETAL_WIDTH","Petal width"),_defineProperty(o,"PETAL_COLOUR","Petal colour"),_defineProperty(o,"SEPAL_COUNT","Sepal count"),_defineProperty(o,"INFLORESCENCE","Inflorescence"),_defineProperty(o,"FEMALE_CONE_LENGTH","Female cone length"),_defineProperty(o,"MALE_CONE_LENGTH","Male cone length"),_defineProperty(o,"CONE_LENGTH","Cone length"),_defineProperty(o,"FEMALE_CONE_WIDTH","Female cone width"),_defineProperty(o,"MALE_CONE_WIDTH","Male cone width"),_defineProperty(o,"BULB_WIDTH","Bulb width"),_defineProperty(o,"CONE_WIDTH","Cone width"),_defineProperty(o,"CONE_DIAMETER","Cone diameter"),_defineProperty(o,"CONE_COLOUR","Cone colour"),_defineProperty(o,"CONE_SHAPE","Cone shape"),_defineProperty(o,"MALE_CONE_COLOUR","Male cone colour"),_defineProperty(o,"FEMALE_CONE_COLOUR","Female cone colour"),_defineProperty(o,"CONE_SCALE_COUNT","Cone scale count"),_defineProperty(o,"BARK_TYPE","Bark type"),_defineProperty(o,"BARK_TEXTURE","Bark texture"),_defineProperty(o,"CAP_TEXTURE","Cap texture"),_defineProperty(o,"BARK_COLOUR","Bark colour"),_defineProperty(o,"ALLOCHORY","Allochory"),_defineProperty(o,"REPRODUCTIVE_CONTAINER","Reproductive container"),_defineProperty(o,"CATERPILLAR_FOOD","Caterpillar food"),_defineProperty(o,"CATERPILLAR_LENGTH","Caterpillar length"),_defineProperty(o,"CATERPILLAR_COLOUR","Caterpillar colour"),_defineProperty(o,"HIBERNATING_STAGE","Hibernating stage"),_defineProperty(o,"PHYSIOLOGY","Physiology"),_defineProperty(o,"MATING","Mating season"),_defineProperty(o,"MATING_SYSTEM","mating system"),_defineProperty(o,"PREGNANCY","Pregnancy"),_defineProperty(o,"LITTER_SIZE","Litter size"),_defineProperty(o,"JUVENILE","Juvenile"),_defineProperty(o,"GESTATION","Gestation"),_defineProperty(o,"WEANING","Weaning"),_defineProperty(o,"LACTATION","Lactation"),_defineProperty(o,"SENSORY_ACUITY","Sensory acuity"),_defineProperty(o,"CRYPSIS","Crypsis"),_defineProperty(o,"CACHE_SIZE","Number of caches"),_defineProperty(o,"COLLECTIVE","Collective"),_defineProperty(o,"FEMALE","Female"),_defineProperty(o,"MALE","Male"),_defineProperty(o,"TAIL_LENGTH","Tail length"),_defineProperty(o,"MAX_SPEED","Maximum speed"),_defineProperty(o,"DIET","Diet"),_defineProperty(o,"ALTRICIAL","Altricial"),_defineProperty(o,"MOULTING","Moulting"),_defineProperty(o,"MATURITY","Maturity"),_defineProperty(o,"FUNGUS_MARGIN_TYPE","Fungus margin type"),_defineProperty(o,"SOIL_TYPE","Soil type"),_defineProperty(o,"PH","pH"),_defineProperty(o,"PH_VALUE","pH value"),_defineProperty(o,"LICEN_CUP_COLOUR","Licen cup colour"),_defineProperty(o,"RIM","Rim"),_defineProperty(o,"CENTRE","Centre"),_defineProperty(o,"POLLINATION","Pollination"),_defineProperty(o,"PROPAGATION","Propagation"),_defineProperty(o,"CLIMATE","Climate"),_defineProperty(o,"SONG","Song"),_defineProperty(o,"DIAMETER","diameter"),_defineProperty(o,"NUT_TYPE","nut type"),_defineProperty(o,"TREE_ECOLOGY","Tree ecology"),_defineProperty(o,"KEY_FEATURE","Key feature"),_defineProperty(o,"GILL_ATTACHMENT","gill attachment"),_defineProperty(o,"MUSHROOM_GROUP","Mushroom group"),_defineProperty(o,"QUEEN_LENGTH","Queen length"),_defineProperty(o,"QUEEN_WINGSPAN","Queen wingspan"),_defineProperty(o,"QUEEN_WEIGHT","Queen weight"),_defineProperty(o,"WORKER_LENGTH","Worker length"),_defineProperty(o,"WORKER_WINGSPAN","Worker wingspan"),_defineProperty(o,"WORKER_WEIGHT","Worker weight"),_defineProperty(o,"MALE_LENGTH","Male length"),_defineProperty(o,"MALE_WINGSPAN","Male wingspan"),_defineProperty(o,"MALE_WEIGHT","Male weight"),_defineProperty(o,"COLONY_SIZE","colony size"),_defineProperty(o,"TONGUE_LENGTH","Tongue length"),_defineProperty(o,"INFRUCTESCENCE_LENGTH","Infructescence length"),_defineProperty(o,"INFRUCTESCENCE_WIDTH","Infructescence width"),_defineProperty(o,"UMBEL_DIAMETER","Umbel diameter"),_defineProperty(o,"WIDTH","Width"),_defineProperty(o,"BREADTH","Breadth"),_defineProperty(o,"UMBEL_TYPE","Umbel type"),o),howEdible:{help:"How edible is this species?",CHOICE:"Choice",EDIBLE:"Edible",INEDIBLE:"Inedible",POISONOUS:"Poisonous",DEADLY:"Deadly",TOXIC:"Toxic",type:"howEdible",name:"how edible"},habitat:{help:"What is the habitat of this species?",WOOD:"Wood",WOODLAND:"Woodland",WOODLAND_LITTER:"Woodland litter",GRASSLAND:"Grassland",SOIL:"Soil",VEGETATION:"Vegetation",DUNG:"Dung",DUNES:"Dunes",WIDESPREAD:"Widespread",DEAD_WOOD:"Dead wood",WASTELAND:"Wasteland",MEADOW:"Meadow",FIELDS:"Fields",MOSS:"Moss",PASTURE:"Pasture",BARK:"Bark",SHOOTS:"Shoots",COMMONS:"Common",HEATH:"Heath",ORCHARDS:"Orchards",HEDGEROWS:"Hedgerows",LAWNS:"Lawns",RINGS:"Rings",DAMP:"Damp",TREE_BASE:"Tree base",FOREST_EDGE:"Forest edge",PARKS:"Parks",TRUNKS:"Trunks",STUMPS:"Stumps",ROCKS:"Rocks",FENCES:"Fences",TREES:"Trees",SHRUBS:"Shrubs",SHRUBLAND:"Shrubland",MARSHLAND:"Marshland",EXPOSED_WOOD:"Exposed wood",BRANCHES:"Branches",HILLS:"Hills",URBAN:"Urban",VALLEYS:"Valleys",MAQUIS:"Maquis",SAVANNA:"Savanna",FOREST_STEPPE:"Forest steppe",MEADOW_STEPPE:"meadow steppe",BOREAL:"Boreal",SCRUB:"Scrub",WALLS:"Walls",MOORLAND:"Moorland",COAST:"Coast",BRUSH:"Brush",WATER:"Water",SNOW:"Snow",NO_SNOW:"No snow",CONIFERS:"conifers",BROAD_LEAF:"broad-leaf",PINE:"pine",BEECH:"beech",OAK:"oak",DITCH:"Ditch",WET_MEADOW:"Wet meadow",LAKESIDE:"Lakeside",RIPERIAN:"Riperian",WETLANDS:"Wetlands"},ecologicalType:{help:"What is the ecological type of this mushroom?",SAPROTROPHIC:"Saprotrophic",PARASITIC:"Parasitic",MYCORRHIZAL:"Mycorrhizal",PLANT_PATHOGEN:"Plant pathogen"},capShape:{help:"How would you describe the pileus?",CAMPANULATE:"Campanulate",CONICAL:"Conical",CONVEX:"Convex",DEPRESSED:"Depressed",FLAT:"Flat",INFUNDIBULIFORM:"Infundibuliform",OFFSET:"Offset",OVATE:"Ovate",UMBILLICATE:"Umbillicate",UMBONATE:"Umbonate",POTATO_SHAPED:"Potato shaped",NA:"N/A",SPHERICAL:"Spherical",PEAR_SHAPED:"Pear shaped",BRAIN_LIKE:"Brain-like",HONEYCOMB:"Honeycomb",HEMI_SPHERICAL:"Hemispherical",type:"capShape",name:"cap shape"},treeEcology:{OAK:"Oak",BEECH:"Beech",BIRCH:"Birch",DECIDUOUS:"Deciduous",SOFTWOOD:"Softwood",HARDWOOD:"Hardwood",MIXED_WOODLAND:"Mixed woodland",CONIFEROUS:"Coniferous",PINE:"Pine",ELM:"Elm",ASH:"Ash",SYCAMORE:"Sycamore",ASPEN:"Aspen",ELDER:"Elder",CHESTNUT:"Chestnut",HARDWOODS:"Hardwoods",PRUNUS:"Prunus",PYRUS:"Pyrus",SALIX:"Salix",ROBINIA:"Robinia",CERATONIA:"Ceratonia",EUCALYPTUS:"Eucalyptus",BROAD_LEAF:"Broad-leaf",SWEET_CHESTNUT:"Sweet chestnut",POPLAR:"Poplar",CORK:"Cork",FIR:"Fir",SPRUCE:"Spruce",PLANE:"Plane",WILLOW:"Willow",MAPLE:"Maple",LARCH:"Larch",CEDAR:"Cedar",YEW:"Yew",TURKEY_OAK:"Turkey oak",HAWTHORN:"Hawthorn",BUSH:"Bush",SHRUB:"Shrub"},hymeniumType:{help:"What is the hymenium type?",GILLS:"Gills",PORES:"Pores",GLEBA:"Gleba",SMOOTH:"Smooth",TEETH:"Teeth",RIDGES:"Ridges",FALSE_GILLS:"False gills"},associate:{ALGA:"Alga",CYNOBACTERIUM:"Cyanobacterium",FUNGUS:"Fungus",type:"associate",name:"associate"},thallusType:{help:"What is this lichen's thallus type?",FOLIOSE:"Foliose",FRUTICOSE:"Fruticose",CRUSTOSE:"Crustose",SQUAMULOSE:"Squamulose",LEPROSE:"Leprose",EPIPHYTE:"Epiphyte",type:"thallusType",name:"thallus type"},rhizineType:{SPARSE:"Sparse",HAPTER:"Hapter",type:"rhizineType",name:"rhizine type"},substrate:{WOOD:"Wood",BARK:"Bark",ROCKS:"Rocks",SOIL:"Soil",type:"substrate",name:"substrate"},level:{HIGH:"High",MEDIUM:"Medium",LOW:"Low",VARIABLE:"Variable",type:"level",name:"level"},medicinalProperties:{ANTIVIRAL:"Antiviral",ANTISEPTIC:"Antiseptic",ANTI_INFLAMMATORY:"Anti-inflammatory",ANTIBIOTIC:"Antibiotic",ANLAGESIC:"Analgesic",ANTIBACTERIAL:"Antibacterial",ANTICOAGULANT:"Anticoagulant",ANTIFUNGAL:"Antifungal",type:"medicinalProperties",name:"medicinal properties"},ph:{ACIDIC:"Acidic",ALKALINE:"Alkaline",NEUTRAL:"Neutral",type:"pHLevel",name:"ph level"},colour:{LILAC:"Lilac",BUFF:"Buff",WHITE:"White",YELLOW:"Yellow",DARK_GREEN:"Dark green",GREEN:"Green",WHITE_GREEN:"White-green",BRIGHT_GREEN:"Bright green",OLIVE_GREEN:"Olive-green",BRIGHT_YELLOW_GREEN:"Bright yellow-green",YELLOW_GREEN:"Yellow-green",YELLOW_BROWN:"Yellow-brown",PURPLE_BROWN:"Purple-brown",GREY_BROWN:"Grey-brown",DARK_YELLOW:"Dark yellow",DARK_RED:"Dark red",DARK_PINK:"Dark pink",ORANGE:"Orange",SCARLET:"scarlet",BLOOD_RANGE:"Blood orange",RED:"Red",RED_BROWN:"Red-brown",ORANGE_RED:"Orange-red",GREY:"Grey",PALE_GREY:"Pale grey",PALE_BROWN:"Pale brown",GREY_GREEN:"Grey-green",GREY_WHITE:"Grey-white",BROWN:"Brown",CHESTNUT_BROWN:"Chestnut brown",PAPER_BROWN:"Paper brown",BLACK:"Black",BLUE:"Blue",PALE_BLUE:"Pale blue",BLUE_BLACK:"Blue-black",JET_BLACK:"Jet-black",BLUE_GREEN:"Blue-green",VIOLET:"Violet",BURGUNDY:"Burgundy",PALE_VIOLET:"Pale violet",VIOLET_PURPLE:"Violet purple",PALE_GREEN:"Pale green",PALE_YELLOW:"Pale yellow",PALE_YELLOW_GREEN:"Pale yellow-green",PALE_GREY_GREEN:"Pale yellow-green",GLAUCOUS:"Glaucous",GREY_YELLOW:"Grey-yellow",ORANGE_YELLOW:"Orange-yellow",CREAM:"Cream",CHALKY:"Chalky",PINK:"Pink",PALE_PINK:"Pale pink",PURPLE:"Purple",PALE_PURPLE:"Pale purple",DARK_PURPLE:"Dark purple",TAN:"Tan",DARK_BROWN:"Dark brown",HONEY:"Honey",RED_PURPLE:"Red-purple",type:"colour",name:"colour"},usage:{help:"To what use do humans put this species?",PERFUMERY:"Perfumery",TANNING:"Tanning",DYING:"Dying",BREWING:"Brewing",FOOD:"Food",WINE:"Wine",COFFEE:"Coffee",TEA:"Tea",BIRDS_NEST:"Bird's nest",POISON:"Poison",FODDER:"Fodder",FORAGE:"Forage",GREEN_MANURE:"Green manure",MEDICINE:"Medicine",FUR:"Fur",TIMBER:"Timber",PEST_CONTROL:"Pest control",HERB:"Herb",SPICE:"Spice",ESSENTIAL_OIL:"Essential oil",MORDANT:"Mordant",ASTRINGENT:"Astringent"},nonTaxaType:{FORM:"Form",type:"nonTaxaType",name:"non taxa type"},element:{NITROGEN:"Nitrogen",SULPUR_DIOXIDE:"Sulpur dioxide",type:"element",name:"element"},leafBlade:{SIMPLE:"Simple ",COMPOUND:"Compound",type:"leaf blade",name:"leaf blade"},leafDivision:{PALMATE:"Palmate",COMPOUND_PALMATE:"Compound Palmate",PALMATELY_LOBED:"Palmately lobed",PINNATE:"Pinnate",COMPOUND_PINNATE:"Compound Pinnate",ODD_PINNATE:"Odd pinnate",EVEN_PINNATE:"Even pinnate",BIPINNATE:"Bipinnate",COMPOUND_BIPINNATE:"Compound Bipinnate",TRIFOLIATE:"Trifoliate",PINNATIFID:"Pinnatifid",TRIPINNATE:"Tripinnate",SIMPLE:"Simple ",COMPOUND:"Compound",IMPARIPINNATE:"Imparipinnate",PARIPINNATE:"Paripinnate"},leafletDivision:{PALMATE:"Palmate",COMPOUND_PALMATE:"Compound Palmate",PALMATELY_LOBED:"Palmately lobed",PINNATE:"Pinnate",COMPOUND_PINNATE:"Compound Pinnate",ODD_PINNATE:"Odd pinnate",EVEN_PINNATE:"Even pinnate",BIPINNATE:"Bipinnate",COMPOUND_BIPINNATE:"Compound Bipinnate",TRIFOLIATE:"Trifoliate",PINNATIFID:"Pinnatifid",TRIPINNATE:"Tripinnate",SIMPLE:"Simple ",COMPOUND:"Compound"},leafVariation:{HOMOBLASTIC:"Homoblastic",HETEROBLASTIC:"Heteroblastic",type:"leafVariation",name:"leaf variation"},shape:(c={LINEAR:"Linear",OVATE:"Ovate",OBLANCEOLATE:"Oblanceolate",OBOVATE:"Obovate",ACICULAR:"Acicular",ACUMINATE:"acuminate",ACUTE:"acute",APICULATE:"apiculate",ATTENUATE:"attenuate",AURICULATE:"auriculate",ASYMMETRICAL:"asymmetrical",CAUDATE:"caudate",CORDATE:"cordate",CUNEATE:"cuneate",CUSPIDATE:"cuspidate",DELTOID:"deltoid",DIGITATE:"digitate",ELLIPTIC:"elliptic",ENSIFORM:"ensiform",EMARGINATE:"emarginate",FALCATE:"falcate",FENESTRATE:"fenestrate",FILIFORM:"filiform",FLABELLATE:"flabellate",HASTATE:"hastate",LACINIATE:"laciniate",LANCEOLATE:"lanceolate",LAMINAR:"laminar"},_defineProperty(c,"LINEAR","linear"),_defineProperty(c,"LOBED","lobed"),_defineProperty(c,"LORATE","lorate"),_defineProperty(c,"LYRATE","lyrate"),_defineProperty(c,"MUCRONATE","mucronate"),_defineProperty(c,"MULTIFID","multifid"),_defineProperty(c,"OBCORDATE","obcordate"),_defineProperty(c,"OBLANCEOLATE","oblanceolate"),_defineProperty(c,"OBLIQUE","oblique"),_defineProperty(c,"OBLONG","oblong"),_defineProperty(c,"OBOVATE","obovate"),_defineProperty(c,"OBTRULLATE","obtrullate"),_defineProperty(c,"OBTUSE","obtuse"),_defineProperty(c,"ORBICULAR","orbicular"),_defineProperty(c,"OVATE","ovate"),_defineProperty(c,"PALMATE","palmate"),_defineProperty(c,"PALMATELY_LOBED","palmately lobed"),_defineProperty(c,"PALMATIFID","palmatifid"),_defineProperty(c,"PALMATIPARTITE","palmatipartite"),_defineProperty(c,"PALMATISECT","palmatisect"),_defineProperty(c,"PANDURATE","pandurate"),_defineProperty(c,"PEDATE","pedate"),_defineProperty(c,"PELTATE","peltate"),_defineProperty(c,"PERFOLIATE","perfoliate"),_defineProperty(c,"PERFORATE","perforate"),_defineProperty(c,"PINNATELY_LOBED","pinnately lobed"),_defineProperty(c,"PINNATIFID","pinnatifid"),_defineProperty(c,"PINNATIPARTITE","pinnatipartite"),_defineProperty(c,"PINNATISECT","pinnatisect"),_defineProperty(c,"PLICATE","plicate"),_defineProperty(c,"RENIFORM","reniform"),_defineProperty(c,"RETUSE","retuse"),_defineProperty(c,"RHOMBOID","rhomboid"),_defineProperty(c,"ROUNDED","rounded"),_defineProperty(c,"TRIANGULAR","Triangular"),_defineProperty(c,"QUADRANGULAR","Quadrangular"),_defineProperty(c,"SEMITERETE","semiterete"),_defineProperty(c,"SINUATE","sinuate"),_defineProperty(c,"SAGITTATE","sagittate"),_defineProperty(c,"SPATULATE","spatulate"),_defineProperty(c,"SPEAR_SHAPED","spear-shaped"),_defineProperty(c,"SUBOBTUSE","subobtuse"),_defineProperty(c,"SUBULATE","subulate"),_defineProperty(c,"TERETE","terete"),_defineProperty(c,"TRULLATE","trullate"),_defineProperty(c,"TRUNCATE","truncate"),_defineProperty(c,"UNDULATE","undulate"),_defineProperty(c,"UNIFOLIATE","unifoliate"),_defineProperty(c,"FLAT","Flat"),_defineProperty(c,"NEEDLE","Needle"),c),reproduction:{SELF_POLLINATION:"Self-pollination",CROSS_POLLINATION:"Cross-pollination",type:"reproduction",name:"reproduction"},asexualReproduction:{BUDDING:"budding",FRAGMENTATION:"fragmentation",FISSION:"fission",SPORE_FORMATION:"spore formation",VEGETATIVE_PROPAGATION:"vegetative propagation",type:"asexualReproduction",name:"asexual reproduction"},leafArrangement:{ALTERNATE:"Alternate",BASAL:"Basal",CAULINE:"Rosulate",OPPOSITE:"Opposite",WHORLED:"Whorled",ROWS:"Rows",SPIRAL:"Spiral",OVERLAPPING:"Overlapping",INCURVED:"Incurved",DECUSSATE:"Decussate",type:"leafArrangement",name:"leaf arrangement"},leafAttachment:{SESSILE:"Sessile",SUBSESSILE:"Subsessile",PEDICELLATE:"Pedicellate"},leafMargin:{ENTIRE:"Entire",CILIATE:"Ciliate",CRENATE:"Crenate",DENTATE:"Dentate",DENTICULATE:"Denticulate",DOUBLY_SERRATE:"Doubly serrate",SERRATE:"Serrate",SERRULATE:"Serrulate",SINUATE:"Sinuate",LOBATE:"Lobate",UNDULATE:"Undulate",SPINY:"Spiny",SMOOTH:"Smooth",type:"leafMargin",name:"leaf margin"},food:{GRASS:"Grass",ROTTEN_FRUIT:"Rotten fruit",NECTAR:"Nectar",HONEYDEW:"Honeydew",SEEDS:"Seeds",NUTS:"Nuts",GRAINS:"Grains",BERRIES:"Berries",HERBAGE:"Herbage",SWARD:"Sward",LEAVES:"Leaves",WOOD:"Wood",ROOTS:"Roots",TUBERS:"Tubers",RHIZOMES:"Rhizomes",BULBS:"Bulbs",BARK:"Bark",SHOOTS:"Shoots",type:"food",name:"food"},hibernatingStage:{ADULT:"Adult",CATERPILLAR:"Caterpillar",PUPA:"Pupa",type:"hibernatingStage",name:"hibernating stage"},symbiosis:{MUTUALISM:"Mutualism",COMMENSALISM:"Commensalism",PREDATION:"Predation",PARASITISM:"Parasitism",HERBIVORY:"Herbivory",COMPETITION:"Competition",MYCORRHIZAL:"Mycorrhizal",ECTOMYCORRHIZAL:"Ectomycorrhizal",COMPANION:"Companion planting",POLLINATION:"Pollination",SEED_PREDATION:"Seed predation",type:"symbiosis",name:"symbiosis"},trophicLevel:{help:"What is the trophic level or this species?",PRIMARY_PRODUCER:"Primary producer",PRIMARY_CONSUMER:"Primary consumer",SECONDARY_CONSUMER:"Secondary consumer",OMNIVORE:"Omnivore",TERTIARY_CONSUMER:"Tertiary consumer",APEX_PREDATOR:"Apex predator",type:"trophicLevel",name:"trophic level"},shelter:{help:"What is the name of this species`s shelter?",DREY:"Drey",BURROW:"Burrow",DEN:"Den",WARREN:"Warren",SETT:"Sett",ROOKERY:"Rookery",LODGE:"Lodge",DAM:"Dam",NEST:"Nest",SHELTER:"Shelter",VEGETATION:"vegetation",type:"shelter",name:"shelter"},active:{help:"When is this species most active?",CREPUSCULAR:"Crepuscular",DIURNAL:"Diurnal",NOCTURNAL:"Nocturnal",MATUTINAL:"Matutinal",VESPERTINE:"Vespertine",type:"active",name:"active"},juvenile:{help:"What is the name for the juvenile of this species?",KIT:"Kit",SQUEAKER:"Squeaker",CUB:"Cub",KITTEN:"Kitten",CHICK:"Chick",PUP:"Pup",CALF:"Calf",DUCKLING:"Duckling",EYAS:"Eyas",MAGGOT:"Maggot",KID:"Kid",GOSLING:"Gosling",LEVERET:"Leveret",NYMPH:"Nymph",CATERPILLAR:"Caterpillar",LARVA:"Larva",SALAMANQUESA:"Salamanquesa",type:"juvenile",name:"juvenile"},month:{JANUARY:"January",FEBRUARY:"February",MARCH:"March",APRIL:"April",MAY:"May",JUNE:"June",JULY:"July",AUGUST:"August",SEPTEMBER:"September",OCTOBER:"October",NOVEMBER:"November",DECEMBER:"December",type:"month",name:"month"},female:{help:"What is the name for a female of this species?",VIXEN:"Vixen",DOE:"Doe",JILL:"Jill",BITCH:"Bitch",SOW:"Sow",HEN:"Hen",DUCK:"Duck",GOOSE:"Goose",PEN:"Pen",type:"female",name:"female"},male:{help:"What is the name for a male of this species?",BUCK:"Buck",DOG:"Dog",BOAR:"Boar",TOM:"Tom",JACK:"Jack",COCK:"Cock",DRAKE:"Drake",REYNARD:"Reynard",TOD:"Tod",TERCEL:"Tercel",GANDER:"Gander",COB:"Cob",type:"male",name:"male"},diet:{help:"How is the diet of this species best described?",HERBIVORE:"Herbivore",OMNIVORE:"Omnivore",CARNIVORE:"Carnivore",XYLOPHAGOUS:"Xylophagous",POLYPHAGOUS:"Polyphagous",type:"diet",name:"diet"},fungusMarginType:{ENTIRE:"Smooth entire",APPENDICULATE:"Appendiculate",UNDULATE:"Undulate",STRIATE:"Striate",PLICATE:"Plicate",RIMMOSE:"Rimmose",ERODED:"Eroded",INROLLED:"Inrolled",type:"marginType",name:"fungus margin type"},soilType:{SILICEOUS:"Siliceous",CALCAREOUS:"Calcareous",NITROGENOUS:"Nitrogenous",NUTRIENT_POOR:"Nutrient poor",WELL_DRAINED:"Well-drained",WELL_WATERED:"Well-watered",LOAM:"Loam",CHALK:"Chalk",SAND:"Sand",RICH:"Rich",MOIST:"Moist"},organisation:{help:"How is this species organised?",EUSOCIAL:"Eusocial",SOCIAL:"Social",SOLITARY:"Solitary",MATRIARCHY:"Matriarchy",type:"organisation",name:"organisation"},role:{INDICATOR:"Indicator",KEYSTONE:"Keystone",FOUNDATION:"Foundation",SPECIALIST:"Specialist",GENERALIST:"Generalist",PIONEER:"Pioneer",INVASIVE:"Invasive",DOMINANT:"Dominant",POLLINATOR:"Pollinator",PREDATOR:"Predator",HERBIVORE:"Herbivore",OMNIVORE:"Omnivore",CARNIVORE:"Carnivore",GRANIVORE:"Granivore",MUCIVORE:"Mucivore",PREY:"Prey",COMPETITOR:"Competitor",HOST:"Host",CARRIER:"Carrier",RUDERAL:"Ruderal",SUPERTRAMP:"Supertramp",SYMBIONT:"Symbiont",OCCUPANT:"Lives in",PARASITE:"Parasite",COLONISER:"Coloniser",EARLY_SUCCESSION:"early-succession",SEED_DISPERSAL:"Seed dispersal",FERTILISATION:"Fertilisation",PROPAGATION:"propagation",REPRODUCTION:"reproduction",BIOINDICATOR:"Bioindicator",STRANGLER:"Strangler",FOOD_SOURCE:"Food source",EPIPHYTIC:"Epiphytic",EPIPHYTIC_STRANGLER:"Epiphytic strangler",NUTRIENT_CYCLING:"Nutrient cycling",CARBON_DIOXIDE_PRODUCTION:"Carbon dioxide production",MYCOREMEDIATION:"Mycoremediation",type:"role",name:"role"},fruitType:{help:"What fruit type does this plant have?",DRUPE:"Drupe",POME:"Pome",BERRY:"Berry",AGGREGATE_FRUIT:"Aggregate fruit",LEGUME:"Legume",CAPSULE:"Capsule",NUT:"Nut",GRAIN:"Grain",MULTIPLE_FRUIT:"Multiple fruit",SAMARA:"Samara",ACHENE:"Achene",POD:"Pod",ARIL:"Aril",SYCONIUM:"syconium",FOLLICLE:"Follicle",SILIQUE:"Silique",type:"fruitType",name:"fruit type"},inflorescence:{help:"What type of inflorescence does this plant have?",CATKIN:"catkin",UMBEL:"umbel",RACEME:"raceme",CORYMB:"corymb",SPIKE:"Spike",SPADEX:"Spadex",SINGLE:"Single",PANICLE:"Panicle",CYMOSE:"Cymose",BRANCHED_SPIKE:"Branched spike"},umbelType:{FLAT:"Flat",SPHERICAL:"Spherical",SIMPLE:"Simple",COMPOUND:"Compound",TERMINAL:"Terminal"},display:{help:"Which form of display does this species exhibit?",DIEMATIC:"Diematic",SEXUAL_COLOUR_DIMORPHISM:"Sexual colour dimorphism",NO_SEXUAL_COLOUR_DIMORPHISM:"No sexual colour dimorphism",SEXUAL_DIMORPHISM:"Sexual dimorphism",NO_SEXUAL_DIMORPHISM:"No sexual dimorphism",MELANISTIC:"Melanistic",type:"display",name:"display"},behaviour:{help:"This species exhibits which form of behaviour?",SEXUAL_CANNIBALISM:"Sexual cannibalism",MONANDROUS:"Monandrous",VOCALISATION:"Vocalisation",CRYPSIS:"Crypsis",HOARDING:"Hoarding",HIBERNATION:"Hibernation",GAME_PLAYING:"Game playing",PLAYFUL:"Playful",TERRITORIAL:"Territorial",NON_TERRITORIAL:"Non territorial",BIPARENTAL_CARE:"Biparental care",COOPERATIVE_BREEDING:"Cooperative breeding",TOOL_MAKING:"Tool making",PROBLEM_SOLVING:"Problem solving",DIVISION_OF_LABOUR:"Division of labour",SUPERORGANISM:"Superorganism",ANAUTOGENY:"Anautogeny",MASS_PROVISIONING:"Mass provisioning",PRECOCIAL:"Precocial",ALTRICIAL:"Altricial",AUTOTOMIC:"Autotomic",ECTOTHERMIC:"Ectothermic",ADHESION:"Adhesion",POLYPHYODONT:"Polyphyodont",VIVIPAROUS:"Viviparous",REGURGITATION:"Feeding through regurgitation",MULTIVOLTINE:"Multivoltine",BIVOLTINE:"Bivoltine",UNIVOLTINE:"Univoltine",SEMIVOLTINE:"Semivoltine",METAMORPHOSIS:"Metamorphosis",RUTTING:"Rutting",WHELPING:"Whelping",FARROWING:"Farrowing",SWIMMING:"Swimming",DECUMBENT:"Decumbent",ETHYLENE_RIPENING:"Ethylene ripening",MIGRATORY:"Migratory",type:"behaviour",name:"behaviour"},sense:{help:"Which sense does this species favour?",SIGHT:"Sight",MOVEMENT:"Movement",SMELL:"Smell",SPATIAL:"Spatial",MEMORY:"Memory",ECHOLOCATION:"Echolocation",type:"sense",name:"sense"},crypsis:{CAMOUFLAGE:"Camouflage",NOCTURNALITY:"Nocturnality",SUBTERRANEAN:"Subterranean",MIMICRY:"Mimicry",VISUAL:"Visual",OLFACTORY:"Olfactory",AUDITORY:"Auditory"},allochory:{ANEMOCHORY:"Anemochory",HYDROCHORY:"Hydrochory",ZOOCHORY:"Zoochory",ANTHROPOCHORY:"Anthropochory",type:"allochory",name:"allochory"},reproductiveContainer:{CONE:"Cone",type:"reproductiveContainer",name:"reproductive container"},communication:{VOCALISATION:"Vocalisation",POSTURING:"Posturing",type:"communication",name:"communication"},matingSystem:{POLYGYNOUS:"Polygynous",MONOGAMOUS:"Monogamous",type:"matingSystem",name:"mating system"},physiology:{NEGATIVE_ALLELOPATHY:"Negative allelopathy",POSITIVE_ALLELOPATHY:"Positive allelopathy",C3_CARBON_FIXATION:"C3 carbon fixation",NITROGEN_FIXING:"Nitrogen fixing",MYCORRHIZAL:"Mycorrhizal",ECTOMYCORRHIZAL:"Ectomycorrhizal",DORMANCY:"Dormancy",EVERGREEN:"Evergreen",DECIDUOUS:"Deciduous",CONIFEROUS:"Coniferous",ADVENTITIOUS:"Adventitious",NYCTINASTY:"Nyctinasty",XEROMORPHIC:"Xeromorphic",SUCCULENT:"Succulent",DROUGHT_TOLERANT:"Drought tolerant",FIRE_TOLERANT:"Fire tolerant",FIRE_RESISTANT:"Fire resistant",POLLUTION_TOLERANT:"Pollution tolerant",PH_TOLERANT:"pH tolerant",SALT_TOLERANT:"Salt tolerant",FROST_TOLERANT:"Frost tolerant",HEAT_TOLERANT:"Heat tolerant",NITROGEN_TOLERANT:"Nitrogen tolerant",HEAVY_METAL_TOLERANT:"heavy metal tolerant",ACID_RAIN_TOLERANT:"Acid rain tolerant",COMPACT_SOIL_TOLERANT:"Compact soil tolerant",FLORAL_SCENT:"Floral scent",AROMATIC:"Aromatic",MONOCARPIC:"Monocarpic",POLYCARPIC:"Polycarpic",PYROPHYTIC:"Pyrophytic",SEROTINOUS:"Serotinous",STYPTIC:"Styptic",BIOLUMINESCENCE:"Bioluminescence",type:"physiology",name:"physiology"},collective:{help:"What is the term for a collective of this species?",SOUNDER:"Sounder",SLOTH:"Sloth",MURMURATION:"Murmuration",PACK:"Pack",type:"collective",name:"collective"},ecology:{DIGGING:"Digging",SCRAPING:"Scraping",ROOTING:"Rooting",SCAVENGING:"Scavenging",type:"ecology",name:"ecology"},characteristic:{help:"Which characteristic/s does this species display?",PERENNIAL:"Perennial",ANNUAL:"Annual",BIENNIAL:"Biennial",HERBACEOUS:"Herbaceous",DIOECIOUS:"Dioecious",MONOECIOUS:"Monoecious",SYNOECIOUS:"Synoecious",PERFECT:"Perfect",COMPLETE:"Complete",DICOTYLEDON:"Dicot",MONOCOTYLEDON:"Monocot",CAULIFLORY:"Cauliflory",RAMIFLORY:"Ramiflory",PUBESCENT:"Pubescent",CHAMAEPHYTE:"Chamaephyte",FIBROUS_ROOT_SYSTEM:"Fibrous root system",TAPROOT_SYSTEM:"Taproot system",KIN_SELECTION:"Kin selection",BROADLEAF:"Broadleaf",AERIAL_ROOTS:"Aerial roots",EPICORMIC_ROOTS:"Epicormic shoots",BASAL_ROOTS:"Basal shoots",RUNNER:"Runner",CLIMBER:"Climber",BUTTRESS_ROOT:"Buttress root",MONOPODIAL:"Monopodial",APICAL_DOMINANCE:"Apical dominance",POLYMORPHIC:"Polymorphic",CRYPTIC_SPECIES_COMPLEX:"Cryptic species complex",RHIZOMORPHS:"Rhizomorphs",GEOPHYTE:"Geophyte",RICTAL_BRISTLES:"Rictal bristles",DEHISCENCE:"Dehiscence",EXPLOSIVE_DEHISCENCE:"Explosive dehiscence",RESIN_CANAL:"Resin canal",APOSEMATIC:"Aposematic"},climate:{HOT:"Hot",DRY:"Dry",TEMPERATE:"Temperate",COOL:"Cool",TROPICAL:"Tropical",CONTINENTAL:"Continental",DROUGHT_TOLERANT:"Drought-tolerant",type:"climate",name:"climate"},pollination:{ALLOGAMY:"Allogamy",ANEMOPHILY:"Anemophily",HYDROPHILY:"Hydrophily",ENTOMOPHILY:"Entomophily",AMBOPHILY:"Ambophily",MELITTOPHILY:"Melittophily",PSYCHOPHILY:"Psychophily",PHALAENOPHILY:"Phalaenophily",SONICATION:"Sonication",GENERALISED_SYNDROME:"Generalised syndrome",CLEISTOGAMY:"Cleistogamy"},stipeCharacter:{RING:"Ring",RING_AND_VOLVA:"ring and volva",BARE:"Bare",NA:"N/A",SHORT:"short",STUMPY:"stumpy",CLUB_LIKE:"Club-like",WARTS:"warts",HOLLOW:"hollow",PRUINOSE:"pruinose",PARTIAL_VEIL:"Partial veil",type:"stipeCharacter",name:"stipe character"},stemCharacter:{HOLLOW:"hollow",TERETE:"terete",HAIRY:"Hairy",GLAUCOUS:"Glaucous",FARINOSE:"Farinose",SCURFY:"Scurfy",VISCOUS:"Viscous",PUNCTATE:"Punctate",PAPILLATE:"Papillate",TUBERCULATE:"Tuberculate",RUGOSE:"Rugose",GLABROUS:"Glabrous",PUBESCENT:"Pubescent"},gillAttachment:{ADNATE:"Adnate",ADNEXED:"Adnexed",DECURRENT:"Decurrent",EMARGINATE:"Emarginate",FREE:"Free",Seceding:"Seceding",SINUATE:"Sinuate",SUBDECURRENT:"Subdecurrent",NA:"N/A",type:"gillAttachment",name:"gill attachment"},grouping:{LARGE_GROUPS:"large groups",CLUSTERS:"clusters",LARGE_CLUSTERS:"large clusters",SCATTERED_CLUSTERS:"scattered clusters",FAIRY_RINGS:"fairy rings",GREGARIOUS:"gregarious",NUMEROUS:"numerous",type:"grouping",name:"grouping"},propagation:{RHIZOMES:"Rhizomes",SEEDS:"Seeds",SUCKERS:"Suckers",STOLONS:"Stolons",BULBS:"Bulbs",TUBERS:"Tubers",CORMS:"Corms",PLANTLETS:"Plantlets",KEIKIS:"Keikis",APOMIXIS:"Apomixis",type:"propagation",name:"propagation"},seedDispersal:{AUTOCHORY:"autochory",ANEMOCHORY:"anemochory",HYDROCHORY:"Hydrochory",ZOOCHORY:"Zoochory",ANTHROPOCHORY:"Anthropochory"},exposure:{FULL_SUN:"Full sun",PARTIAL_SUN:"Partial Sun",PARTIAL_SHADE:"Partial Shade",SHADE:"shade"},nutType:{ACORN:"acorn",HAZELNUT:"hazelnut",CHESTNUT:"chestnut"},surface:{GLAUCOUS:"Glaucous",FARINOSE:"Farinose",SCURFY:"Scurfy",VISCOUS:"Viscous",PUNCTATE:"Punctate",PAPILLATE:"Papillate",TUBERCULATE:"Tuberculate",RUGOSE:"Rugose",GLABROUS:"Glabrous",PUBESCENT:"Pubescent",TOMENTOSE:"tomentose"},texture:{LEATHERY:"Leathery",FLESHY:"Fleshy",GLOSSY:"Glossy",WOOLY:"Wooly",TOMENTOSE:"tomentose",SCALY:"Scaly",ROUGH:"Rough",SMOOTH:"Smooth",VELVETY:"Velvety",HAIRY:"Hairy",PUBESCENT:"Pubescent"},treeShape:{help:"Which descrption is the best match for this tree?",COLUMNAR:"Columnar",OPEN_HEAD_IRREGULAR:"Open head irregular",WEEPING:"Weeping",PYRAMIDAL:"Pyramidal",GLOBE:"Globe",FASTIGIATE:"Fastigiate",VASE:"Vase",HORIZONTAL_SPREADING:"Horizontal spreading",NARROW_DOMED:"Narrow domed"},crownShape:{OVOID_CONIC:"Ovoid-conic",CONIC:"Conic",DOMED:"Domed",SPIRE_LIKE:"Spire-like",SLENDER:"Slender"},barkType:{SMOOTH:"Smooth",LENTICELS:"Lenticels",PEELING_STRIPS:"Peeling strips",VERTICAL_CRACK:"Vertical cracks",VERTICAL_STRIPS:"Vertical strips",SCALES:"Scales",PLATES:"Plates",INTERSECTING_RIDGES:"Intersecting ridges",UNINTERRUPTED_RIDGES:"Uninterrupted ridges",RIDGES_BROKEN_HORIZONTALLY:"Ridges broken horizontally",PAPER_LIKE:"Paper-like",SQUARE_CRACKED:"Square-cracked",RESINOUS:"Resinous",THICK:"Thick"},coneShape:{BARREL_SHAPED:"Barrel-shaped",GLOBULAR:"Globular"},leafVenation:{ARCUATE:"Arcuate",DICHOTOMOUS:"Dichotomous",LONGITUDINAL:"Longitudinal",PARALLEL:"Parallel",PINNATE:"Pinnate",RETICULATE:"Reticulate",ROTATE:"Rotate",TRANSVERSE:"Transverse"},flowerShape:{TRUMPET_SHAPED:"Trumpet-shaped",BILABIATE:"Bilabiate",REGULAR:"Regular",ACTINOMORPHIC:"Actinomorphic",ZYGOMORPHIC:"Zygomorphic"},branchArrangement:{HORIZONTAL:"Horizontal",WHORLS:"Whorls"},leafFeatures:{BLUNT_TIPS:"Blunt tips",STOMATAL_LINES:"Stomatal lines",DROOPING:"Drooping"},leafFolding:{CARINATE:"Carinate",CONDUPLICATE:"Conduplicate",CUCULLATE:"Cucullate",INVOLUTE:"Involute",PLICATE:"Plicate",REDUPLICATE:"Reduplicate",REVOLUTE:"Revolute",SUPERVOLUTE:"Supervolute"},mushroomGroup:{MYCOTROPHS:"Mycotrophs",POLYPORES:"Polypores",BOLETES:"Boletes",PUFFBALLS:"Puffballs",GILLED_MUSHROOMS:"Gilled Mushrooms",CHANTERELLES_AND_TRUMPETS:"Chanterelles and Trumpets",TOOTHED_MUSHROOMS:"Toothed Mushrooms",STINKHORNS:"Stinkhorns",CUP_FUNGI:"Cup Fungi",BIRDS_NEST_FUNGI:"Bird's Nest Fungi",TRUE_MORELS_AND_VERPAS:"True Morels and Verpas",FALSE_MORELS:"False Morels",SADDLES:"Saddles",JELLY_FUNGI:"Jelly Fungi",CLUBS_AND_CORALS:"Clubs and Corals",CRUST_FUNGI:"Crust Fungi"},units:[{lifeSpan:["DD","MM","YY"]},{gestation:["DD","MM","YY"]},{weaning:["DD","MM","YY"]},{germination:["DD","WW","MM","YY"]},{height:["m","cm","mm"]},{diameter:["m","cm","mm"]},{circumference:["m","cm","mm"]},{trunkDiameter:["m","cm","mm"]},{capDiameter:["m","cm","mm"]},{umbelDiameter:["cm","mm"]},{capWidth:["m","cm","mm"]},{infructescenceWidth:["m","cm","mm"]},{width:["m","cm","mm"]},{breadth:["m","cm","mm"]},{capHeight:["m","cm","mm"]},{shelfWidth:["m","cm","mm"]},{shelfThickness:["m","cm","mm"]},{length:["m","cm","mm"]},{leafLength:["m","cm","mm"]},{awnLength:["cm","mm"]},{infructescenceLength:["m","cm","mm"]},{juvenileLeafLength:["m","cm","mm"]},{leafWidth:["m","cm","mm"]},{petalLength:["cm","mm"]},{petalWidth:["cm","mm"]},{petioleLength:["cm","mm"]},{bractLength:["cm","mm"]},{fruitWidth:["cm","mm"]},{fruitLength:["cm","mm"]},{fruitDiameter:["cm","mm"]},{fruitHeight:["cm","mm"]},{flowerDiameter:["cm","mm"]},{flowerLength:["cm","mm"]},{coneDiameter:["cm","mm"]},{coneLength:["cm","mm"]},{maleConeLength:["cm","mm"]},{femaleConeLength:["cm","mm"]},{bulbWidth:["cm","mm"]},{coneWidth:["cm","mm"]},{maleConeWidth:["cm","mm"]},{femaleConeWidth:["cm","mm"]},{stalkHeight:["m","cm","mm"]},{stemHeight:["m","cm","mm"]},{scapeHeight:["m","cm","mm"]},{stemDiameter:["m","cm","mm"]},{stipeLength:["m","cm","mm"]},{tailLength:["m","cm","mm"]},{leafletLength:["cm","mm"]},{leafletWidth:["cm","mm"]},{queenLength:["cm","mm"]},{queenWingspan:["cm","mm"]},{workerLength:["cm","mm"]},{workerWingspan:["cm","mm"]},{maleLength:["cm","mm"]},{maleWingspan:["cm","mm"]},{stipeWidth:["m","cm","mm"]},{wingSpan:["m","cm","mm"]},{tongueLength:["cm","mm"]},{phValue:["pH"]},{weight:["g","kg"]},{queenWeight:["g"]},{workerWeight:["g"]},{maleWeight:["g"]}]},d=[{id:"1",provider:"snapdragon",iconicTaxon:"plantae",rank:"family",taxon:"Apiaceae",statement:"A distinctive feature of the Parsely family is compund terminal umbels.",question:"How would you describe this type of inflorescence?",answer:"Having a number of short flower stalks (pedicels), of more or less equal length, which spread from a common point, somewhat like umbrella ribs.",answers:["Having flowers that do not have a pedicel.","Having flowers growing in such a fashion that the outermost are borne on longer pedicels than the innermost.","Having flowers where the oldest (and largest) are located at the top or centre."]},{id:"2",provider:"snapdragon",iconicTaxon:"plantae",rank:"family",taxon:"Apiaceae",statement:"Companion planting is the placement of different crops in proximity to the benefit of one or both plants.",question:"How do species in the parsley family typically act as companions?",answer:"Their tiny flowers clustered into umbels produce nectar which attracts insects that prey on the pests of neighbouring plants.",answers:["Provide nitrogen compounds to other plants such as grasses by fixing nitrogen from the air with symbiotic bacteria in their root nodules.","Attract pests away from neighbouring plants.","Act as decoys to attract flying pests away from other plants."]},{id:"3",provider:"snapdragon",iconicTaxon:"plantae",rank:"family",taxon:"Lamiaceae",statement:"Members of the mint family share several characteristics.",question:"Which quick ID is a good fit?",answer:"Square stems, opposite leaves, usually aromatic.",answers:["Square stems, alternate leaves, usually aromatic.","Hollow stems, opposite leaves, usually aromatic.","Hollow stems, alternate leaves, usually aromatic."]},{id:"4",provider:"snapdragon",iconicTaxon:"plantae",rank:"family",taxon:"Lamiaceae",statement:"Members of the mint family have charcteristic flowers.",question:"Which description best matches their appearance?",answer:"Bilaterally symmetrical with five united petals and five united sepals.",answers:["Bilaterally symmetrical with four united petals and four united sepals.","Radial symmetrical with four united petals and four united sepals.","Radial symmetrical with five united petals and five united sepals."]},{id:"5",provider:"snapdragon",iconicTaxon:"plantae",rank:"family",taxon:"Lamiaceae",statement:"Flowers of species in the mint family are bisexual.",question:"In this case what does bisexual mean?",answer:"Bearing flowers which all have both male and female structures.",answers:["Bearing separate flowers of both sexes at the same time.","Bearing flowers of one sex at one time (consecutively).","Bearing male, female, and bisexual flowers on the same plant."]},{id:"6",provider:"snapdragon",iconicTaxon:"plantae",rank:"family",taxon:"Lamiaceae",statement:"Flowers of species in the mint family typically have petals fused into an upper lip and a lower lip.",question:"How many of these petals do they have?",answer:"5",answers:["3","4","6"]},{id:"7",provider:"snapdragon",iconicTaxon:"plantae",rank:"species",taxon:"Artemisia dracunculus",statement:"French tarragon seldom produces any flowers (or seeds) but propagates from storage organs.",question:"Which type of storage organ does Tarragon possess?",answer:"Rhizome",answers:["Bulb","Corm","Tuber"]},{id:"7",provider:"snapdragon",iconicTaxon:"plantae",rank:"family",taxon:"Asteraceae",statement:"A distingushing feature of the Asteraceae is the composite flower head.",question:"What is the composition of this 'flower?'",answer:"Disc flowers, ray flowers, or both.",answers:["Disc flowers, ray flowers, or neither.","Disc flowers, bracts, or both.","Ray flowers, bracts, or neither."]},{id:"8",provider:"snapdragon",iconicTaxon:"fungi",rank:"species",taxon:"Grifola frondosa",statement:"Hen of the woods is weakly parasitic on several hardwoods, and saprobic on decaying wood.",question:"At the base of which tree is it most commonly found?",answer:"Oak",answers:["Beech","Elm","Maple"]},{id:"9",provider:"snapdragon",iconicTaxon:"fungi",rank:"species",taxon:"Grifola frondosa",statement:"The latin name for Hen of the woods is Grifola frondosa.",question:"What does the epithet frondosa mean?",answer:"Full of leaves",answers:["From the garden","Hairy","On walls"]},{id:"10",provider:"snapdragon",iconicTaxon:"fungi",rank:"species",taxon:"Laetiporus sulphureus",statement:"Chicken Of The Woods is a polyore.",question:"What word can be used to describe the fruiting body of a polypore?",answer:"Conk",answers:["Pileus","Cap","Conker"]},{id:"11",provider:"snapdragon",iconicTaxon:"fungi",rank:"species",taxon:"Laetiporus sulphureus",statement:"Chicken Of The Woods is parasitic and saprobic in its ecology.",question:"Which description best fits where it might be found.",answer:"Growing in shelves at the base of an oak tree.",answers:["Growing singly from moss.","Growing away from the base of an oak tree in a rosette of individual caps.","Growing in a clump directly from the ground."]},{id:"12",provider:"snapdragon",iconicTaxon:"aves",rank:"order",taxon:"Passeriformes",statement:"Passerines are distinguished from other orders of birds by the arrangement of their toes.",question:"Which description is correct?",answer:"3 toes pointing forward and one back (anisodactyly).",answers:["2 toes facing forward (digits 2 and 3) and 2 back (zygodactyly).","All 4 toes point forward (pamprodactyly).","3 toes all of which point forward (tridactyly)."]},{id:"13",ref:"FuupAlHnviuQQVtjvsXH",provider:"snapdragon",iconicTaxon:"plantae",rank:"species",taxon:"Daucus carota",statement:"Named in N America for it's similarity to lace.",question:"To which queen of England is this lace attributed?",answer:"Anne",answers:["Elizabeth","Mary","Victoria"]},{id:"14",provider:"snapdragon",iconicTaxon:"fungi",rank:"species",taxon:"Hydnum repandum",statement:"The ecology of hedgehog mushroom is mycorrhizal.",question:"How is the ecology of this fungus manifest?",answer:"Colonises roots of a vascular host plant in a (generally) mutualistic relationship.",answers:["Lives off decayed organic matter.","Lives off a living host.","Has symbiotic relationship with roots of various plants (without penetrating host’s cell walls)."]},{id:"15",provider:"snapdragon",iconicTaxon:"fungi",rank:"species",taxon:"Craterellus tubaeformis",statement:"Chanterelle and trumpet mushrooms have a distinctive spore-bearing surface.",question:"Which of these appear on that surface?",answer:"False gills",answers:["Gleba","Gills","Pores"]},{id:"16",provider:"snapdragon",iconicTaxon:"fungi",rank:"species",taxon:"Calvatia gigantea",statement:"Puffballs have a distinctive fruitbody.",question:"How would you recognise a puffball?",answer:"It's brown, dust-like spores are emitted when the mature fruitbody bursts or is impacted.",answers:["It has an open cap with spore-bearing gills.","The spores develop internally in the gleba and are exposed in the form of a foul-smelling gel.","Spores form on a spongy mass of downward-pointing tubes."]},{id:"17",provider:"snapdragon",iconicTaxon:"fungi",rank:"species",taxon:"Calvatia gigantea",statement:"Puffballs have a distinctive fruitbody.",question:"How would you recognise a puffball?",answer:"It's brown, dust-like spores are emitted when the mature fruitbody bursts or is impacted.",answers:["It has an open cap with spore-bearing gills.","The spores develop internally in the gleba and are exposed in the form of a foul-smelling gel.","Spores form on a spongy mass of downward-pointing tubes."]},{id:"18",provider:"snapdragon",iconicTaxon:"insecta",rank:"genus",taxon:"Bombus",statement:"Bumblebees form colonies with a single queen.",question:"How many individuals would typically be found in a nest?",answer:"50",answers:["250","1000","5000"]},{id:"19",provider:"snapdragon",iconicTaxon:"insecta",rank:"genus",taxon:"Bombus",statement:"Different species of bumblebee in a region often resemble each other in a mutually protective way.",question:"What name has been given to this natural phenomenon?",answer:"Müllerian mimicry",answers:["Batesian mimicry","Mertensian mimicry","Wasmannian mimicry"]},{id:"20",provider:"snapdragon",iconicTaxon:"insecta",rank:"genus",taxon:"Bombus",statement:"Bumblebees have aposematic (warning) coloration, often consisting of contrasting bands of colour.",question:"What purpose does this serve?",answer:"Beneficial to both predator and prey, since both avoid potential harm.",answers:["Beneficial to a potential predators since it avoids potential harm.","Beneficial to the bumblee since it avoids potential harm.","Benefits species ressembling bumblees by warding off potential predators."]},{id:"21",provider:"snapdragon",iconicTaxon:"insecta",rank:"genus",taxon:"Bombus",statement:"Bumblebees have long hairy tongues.",question:"How are they put to use?",answer:"Feeding and gathering nectar for their young.",answers:["Feeding and gathering pollen for their young.","For pollination in return for nectar.","For pollination in return for pollen."]},{id:"22",provider:"snapdragon",iconicTaxon:"plantae",rank:"genus",taxon:"Bombus",statement:"Pollen grains are male microgametophytes of seed plants.",question:"What are gametophytes?",answer:"One of the 2 alternating phases in the life cycle of plants and most algae.",answers:["The diploid multicellular stage in the life cycle of a plant or alga.","One of the 3 alternating phases in the life cycle of plants and most algae.","A diploid multicellular organism that develops from a haploid spore."]},{id:"23",provider:"snapdragon",iconicTaxon:"insecta",rank:"genus",taxon:"Bombus",statement:"Queen bumblebees lay one of two types of egg.",question:"What do unfertilised eggs which contain chromosomes only from the queen become?",answer:"Male bees",answers:["Male worker bees","Female worker bees","Queen bees"]},{id:"24",provider:"snapdragon",iconicTaxon:"fungi",rank:"kingdom",taxon:"fungi",statement:"Lichens are complex organisms formed from 2 or 3 species.",question:"The symbiotic relationship between them is an example of?",answer:"Mutualism",answers:["Parasitism","Predation","Competition"]},{id:"25",provider:"snapdragon",iconicTaxon:"fungi",rank:"kingdom",taxon:"fungi",statement:"Photosynthesis converts light energy into chemical energy.",question:"Which of these organisms photosynthesises?",answer:"Alga",answers:["Fungus","Mycellium","Apothecium"]},{id:"26",provider:"snapdragon",iconicTaxon:"fungi",rank:"kingdom",taxon:"fungi",statement:"Graphis scripta is an example of a crustose lichen.",question:"How would you describe a crustose lichen?",answer:"Grows directly onto the bark; cannot be peeled off.",answers:["Bushy like a shrub; it is attached to the bark substrate at one point and branches out from there.","Flat like a leaf, with both a top side and a bottom side (which can be revelead)."]},{id:"27",provider:"snapdragon",iconicTaxon:"fungi",rank:"kingdom",taxon:"fungi",statement:"Lichens grow on plants, but not as parasites.",question:"What term describes the surface of the plant?",answer:"Substrate",answers:["Podetia","Substratum","Stratum"]},{id:"28",provider:"snapdragon",iconicTaxon:"fungi",rank:"kingdom",taxon:"fungi",statement:"Most lichens are ascolichens (ascomycetes).",question:"Their spores are produced in fruiting bodies called?",answer:"Ascomata",answers:["Stomata","Tomato","Palmata"]},{id:"29",provider:"snapdragon",iconicTaxon:"fungi",rank:"kingdom",taxon:"fungi",statement:"Lichens are grouped by the look of their vegetative body parts.",question:"What is the technical name for this growth form?",answer:"Thallus",answers:["Pileus","Stipe","Substrate"]},{id:"30",provider:"snapdragon",iconicTaxon:"fungi",rank:"kingdom",taxon:"fungi",statement:"Lichens are grouped by thallus types.",question:"Which set of names has only valid types?",answer:"Fruticose, foliose, crustose, squamulose, leprose",answers:["Fruticose, foliose, crustose, rugose, farinose","Tomentose, foliose, crustose, fruticose, farinose","Leprose, foliose, crustose, fruticose, farinose"]},{id:"31",provider:"snapdragon",iconicTaxon:"fungi",rank:"kingdom",taxon:"fungi",statement:"Lichens have fruiting bodies called ascomata.",question:"When saucer or cup-shaped what they are called?",answer:"Apothecium",answers:["Cyanobacterium","Hymenium","Gymnothecium"]}];function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){firestore_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,a){if(t){if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,a):void 0}}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function firestore_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}firebase.initializeApp({apiKey:"AIzaSyCA5oDmWevmZy2Ginb9eKcIe72Titk7szM",authDomain:"snapdragon-222014.firebaseapp.com",databaseURL:"https://snapdragon-222014.firebaseio.com",projectId:"snapdragon-222014",storageBucket:"snapdragon-222014.appspot.com",messagingSenderId:"947213844747",appId:"1:947213844747:web:97c1a5e664a670de"});var p=firebase.storage(),m=firebase.firestore(),h=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,a=t.key,i=t.operator,o=t.value,c=t.limit,l=c?m.collection("species").where(a,i,o).limit(c):m.collection("species").where(a,i,o),p.next=5,l.get();case 5:return u=p.sent,d=[],u.forEach((function(t){d.push(t.data())})),p.next=10,d;case 10:return p.abrupt("return",p.sent);case 13:p.prev=13,p.t0=p.catch(0);case 15:case"end":return p.stop()}}),_callee,this,[[0,13]])})));return function getSpeciesWhere(a){return t.apply(this,arguments)}}(),g=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var a;return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,h(t);case 2:return a=i.sent,i.abrupt("return",a);case 4:case"end":return i.stop()}}),_callee2,this)})));return function getSpecies(a){return t.apply(this,arguments)}}(),v=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var t,a,i;return regeneratorRuntime.wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=m.collection("species").where("collection_property","==","names"),o.next=4,t.get();case 4:return a=o.sent,i=[],a.forEach((function(t){i.push(t.data())})),o.next=9,i;case 9:return o.abrupt("return",o.sent);case 12:o.prev=12,o.t0=o.catch(0);case 14:case"end":return o.stop()}}),_callee3,this,[[0,12]])})));return function getSpeciesNames(){return t.apply(this,arguments)}}(),y=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var t,a,i;return regeneratorRuntime.wrap((function _callee4$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=m.collection("taxa").where("collection_property","==","names"),o.next=4,t.get();case 4:return a=o.sent,i=[],a.forEach((function(t){i.push(t.data())})),o.next=9,i;case 9:return o.abrupt("return",o.sent);case 12:o.prev=12,o.t0=o.catch(0);case 14:case"end":return o.stop()}}),_callee4,this,[[0,12]])})));return function getTaxaNames(){return t.apply(this,arguments)}}(),b=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){var a,i,o,c,u,d,p,h,g,v=arguments;return regeneratorRuntime.wrap((function _callee5$(y){for(;;)switch(y.prev=y.next){case 0:if(a=v.length>1&&void 0!==v[1]?v[1]:6,i=t.iconicTaxon,o=t.lichen,t.eolId,u=[],d=m.collection("species"),p=l.utils.getRandomInt(2),h=0===p?">=":"<=",g=J(),!o){y.next=13;break}return y.next=10,d.where("lichen","==",!0).where(firebase.firestore.FieldPath.documentId(),h,g).limit(a).get();case 10:c=y.sent,y.next=16;break;case 13:return y.next=15,d.where("iconicTaxon","==",i.toLowerCase()).where(firebase.firestore.FieldPath.documentId(),h,g).limit(a).get();case 15:c=y.sent;case 16:return c.forEach((function(t){u.push(t.data())})),y.abrupt("return",u);case 18:case"end":return y.stop()}}),_callee5,this)})));return function getSpeciesByIconicTaxon(a){return t.apply(this,arguments)}}(),_=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var a,i=arguments;return regeneratorRuntime.wrap((function _callee6$(o){for(;;)switch(o.prev=o.next){case 0:if(i.length>1&&void 0!==i[1]&&i[1],t){o.next=3;break}return o.abrupt("return","");case 3:return o.next=5,g({key:"name",operator:"==",value:t});case 5:return a=o.sent,o.abrupt("return",a[0]);case 7:case"end":return o.stop()}}),_callee6,this)})));return function getSpeciesByName(a){return t.apply(this,arguments)}}(),S=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(t){var a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee7$(p){for(;;)switch(p.prev=p.next){case 0:return t.language,a=t.key,i=t.operator,o=t.value,c=t.limit,l=c?m.collection("taxa_en").where(a,i,o).limit(c):m.collection("taxa_en").where(a,i,o),p.next=4,l.get();case 4:return u=p.sent,d=[],u.forEach((function(t){d.push(t.data())})),p.next=9,d;case 9:return p.abrupt("return",p.sent);case 10:case"end":return p.stop()}}),_callee7,this)})));return function getTaxaWhere(a){return t.apply(this,arguments)}}(),x=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(t,a,i,o){return regeneratorRuntime.wrap((function _callee8$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S({language:o.language,key:"iconicTaxon",operator:"==",value:a,limit:7});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),_callee8,this)})));return function getFamiliesByIconicTaxon(a,i,o,c){return t.apply(this,arguments)}}(),w=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(t,a){var i,o,c;return regeneratorRuntime.wrap((function _callee9$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i={},o=m.collection("taxa_en").where("name","==",a),t.next=5,o.get();case 5:return(c=t.sent).docs.length>0&&c.forEach((function(t){i=t.data()})),t.abrupt("return",i);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),_callee9,this,[[0,10]])})));return function getTaxonByName(a,i){return t.apply(this,arguments)}}(),T=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee10(t){var a,i,o,c=arguments;return regeneratorRuntime.wrap((function _callee10$(l){for(;;)switch(l.prev=l.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"traits_en",c.length>2?c[2]:void 0,l.prev=2,i=m.collection(a).where("name","==",t),l.next=6,i.get();case 6:return o=l.sent,l.next=9,o;case 9:return l.abrupt("return",l.sent);case 12:l.prev=12,l.t0=l.catch(2);case 14:case"end":return l.stop()}}),_callee10,this,[[2,12]])})));return function getAsyncTraitsByNameAndCollection(a){return t.apply(this,arguments)}}(),E=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee11(t){var a,i,o,c=arguments;return regeneratorRuntime.wrap((function _callee11$(l){for(;;)switch(l.prev=l.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"en",l.next=3,T(t,"traits_en",a);case 3:if((o=l.sent)&&o.docs){l.next=6;break}return l.abrupt("return",new Promise((function(t){return t({})})));case 6:return o.docs.length>0&&o.forEach((function(t){i=t.data()})),l.next=9,i;case 9:return l.abrupt("return",l.sent);case 10:case"end":return l.stop()}}),_callee11,this)})));return function getTraitsBySpeciesName(a){return t.apply(this,arguments)}}(),k=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee12(t){var a,i,o,c=arguments;return regeneratorRuntime.wrap((function _callee12$(l){for(;;)switch(l.prev=l.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"en",l.next=3,T(t,"taxa_en",a);case 3:if((o=l.sent)&&o.docs){l.next=6;break}return l.abrupt("return",new Promise((function(t){return t({})})));case 6:return o.docs.length>0&&o.forEach((function(t){i=t.data()})),l.next=9,i;case 9:return l.abrupt("return",l.sent);case 10:case"end":return l.stop()}}),_callee12,this)})));return function getTraitsByTaxonName(a){return t.apply(this,arguments)}}(),L=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee13(t){var a,i;return regeneratorRuntime.wrap((function _callee13$(o){for(;;)switch(o.prev=o.next){case 0:return a=p.ref(),o.next=3,a.child("birdsong/".concat(t,".mp3")).getDownloadURL();case 3:return i=o.sent,o.abrupt("return",i);case 5:case"end":return o.stop()}}),_callee13,this)})));return function getBirdsong(a){return t.apply(this,arguments)}}(),O=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee14(t){var a;return regeneratorRuntime.wrap((function _callee14$(i){for(;;)switch(i.prev=i.next){case 0:return t.images&&(t.images=t.images.map((function(t){return{license:t.license||"",photographer:t.photographer||"",rightsHolder:t.rightsHolder||"",source:t.source||"",title:t.title||"",url:t.url||""}}))),i.prev=1,i.next=4,m.collection("species").add(t);case 4:a=i.sent,i.next=9;break;case 7:i.prev=7,i.t0=i.catch(1);case 9:return i.abrupt("return",a);case 10:case"end":return i.stop()}}),_callee14,this,[[1,7]])})));return function addSpecies(a){return t.apply(this,arguments)}}(),A=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee15(t){var a;return regeneratorRuntime.wrap((function _callee15$(i){for(;;)switch(i.prev=i.next){case 0:return t.images&&(t.images=t.images.map((function(t){var a={license:t.license||"",photographer:t.photographer||"",rightsHolder:t.rightsHolder||"",source:t.source||"",title:t.title||"",url:t.url||""};return t.starred&&(a.starred=t.starred),t.provider&&(a.provider=t.provider),a}))),i.next=3,m.collection("species").where("name","==",t.name).get();case 3:return i.sent.forEach((function(t){a=t.ref})),i.next=7,a.update(t);case 7:return i.abrupt("return",i.sent);case 8:case"end":return i.stop()}}),_callee15,this)})));return function updateSpecies(a){return t.apply(this,arguments)}}(),j=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee16(t,a){var i;return regeneratorRuntime.wrap((function _callee16$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,m.collection("species").where("name","==",t.name).get();case 2:return o.sent.forEach((function(t){i=t.ref})),o.next=6,i.update({names:a});case 6:return o.abrupt("return",o.sent);case 7:case"end":return o.stop()}}),_callee16,this)})));return function updateSpeciesNames(a,i){return t.apply(this,arguments)}}(),C=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee17(){return regeneratorRuntime.wrap((function _callee17$(t){for(;;)switch(t.prev=t.next){case 0:return u,t.abrupt("return",new Promise((function(t){return t(u)})));case 2:case"end":return t.stop()}}),_callee17,this)})));return function getTraitValues(){return t.apply(this,arguments)}}(),I=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee18(t){return regeneratorRuntime.wrap((function _callee18$(a){for(;;)switch(a.prev=a.next){case 0:m.collection("species").where("name","==",t).get().then((function(t){t.forEach((function(t){t.ref.delete()}))}));case 2:case"end":return a.stop()}}),_callee18,this)})));return function deleteSpeciesByName(a){return t.apply(this,arguments)}}(),P=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee19(t,a){var i,o,c,l=arguments;return regeneratorRuntime.wrap((function _callee19$(u){for(;;)switch(u.prev=u.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:"traits_en",u.prev=1,u.next=4,m.collection(i).where("name","==",t).get();case 4:if(!(c=u.sent).empty){u.next=12;break}return a.name=t,u.next=9,m.collection(i).add(a);case 9:return u.abrupt("return",u.sent);case 12:return c.forEach((function(t){o=t.ref})),u.next=15,o.update(a);case 15:return u.abrupt("return","Update successful");case 16:u.next=21;break;case 18:return u.prev=18,u.t0=u.catch(1),u.abrupt("return","Update failed. Error ".concat(u.t0.message,"."));case 21:case"end":return u.stop()}}),_callee19,this,[[1,18]])})));return function addTraits(a,i){return t.apply(this,arguments)}}(),R=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee22(t,a){var i,o;return regeneratorRuntime.wrap((function _callee22$(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,i=m.batch(),o=function(){var i=_asyncToGenerator(regeneratorRuntime.mark((function _callee21(){return regeneratorRuntime.wrap((function _callee21$(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(a.map(function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee20(a){var i,o;return regeneratorRuntime.wrap((function _callee20$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,m.collection("traits_en").where("name","==",a.name).get();case 2:if(!(o=c.sent).empty){c.next=10;break}return a.name=name,c.next=7,m.collection("traits_en").add(a);case 7:i=c.sent,c.next=11;break;case 10:o.forEach((function(t){i=t.ref}));case 11:i.update(firestore_defineProperty({},t,firebase.firestore.FieldValue.arrayUnion(a.update)));case 12:case"end":return c.stop()}}),_callee20,this)})));return function(t){return a.apply(this,arguments)}}())));case 1:case"end":return i.stop()}}),_callee21,this)})));return function readyBatch(){return i.apply(this,arguments)}}(),c.next=5,o();case 5:return c.next=7,i.commit();case 7:return c.abrupt("return","Relationship added.");case 10:return c.prev=10,c.t0=c.catch(0),c.abrupt("return",c.t0.message);case 13:case"end":return c.stop()}}),_callee22,this,[[0,10]])})));return function addSpeciesRelationship(a,i){return t.apply(this,arguments)}}(),N=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee23(t,a){var i,o;return regeneratorRuntime.wrap((function _callee23$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,m.collection("species").where("name","==",t).get();case 2:return c.sent.forEach((function(t){i=t.ref})),c.prev=4,c.abrupt("return",i.update({images:(o=firebase.firestore.FieldValue).arrayUnion.apply(o,_toConsumableArray(a))}));case 8:return c.prev=8,c.t0=c.catch(4),c.abrupt("return",c.t0.message);case 11:case"end":return c.stop()}}),_callee23,this,[[4,8]])})));return function addPhotos(a,i){return t.apply(this,arguments)}}(),M=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee24(t,a){var i,o;return regeneratorRuntime.wrap((function _callee24$(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.prev=1,c.next=4,m.collection("traits_en").where("name","==",t).get();case 4:c.sent.forEach((function(t){i=t.ref})),c.next=10;break;case 8:c.prev=8,c.t0=c.catch(1);case 10:return o=i.update(firestore_defineProperty({},a,firebase.firestore.FieldValue.delete())),c.abrupt("return",o);case 14:c.prev=14,c.t1=c.catch(0);case 16:case"end":return c.stop()}}),_callee24,this,[[0,14],[1,8]])})));return function deleteSpeciesTraitField(a,i){return t.apply(this,arguments)}}(),q=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee25(t){var a,i,o,c;return regeneratorRuntime.wrap((function _callee25$(u){for(;;)switch(u.prev=u.next){case 0:return a=[],i=m.collection("species"),o=l.utils.getRandomInt(2),c=0===o?">=":"<=",u.next=6,i.where(firebase.firestore.FieldPath.documentId(),c,J()).limit(t).get();case 6:return u.sent.forEach((function(t){a.push(t.data())})),u.abrupt("return",a);case 9:case"end":return u.stop()}}),_callee25,this)})));return function getRandomSpecies(a){return t.apply(this,arguments)}}(),D=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee26(t){var a,i;return regeneratorRuntime.wrap((function _callee26$(o){for(;;)switch(o.prev=o.next){case 0:return t.language,a=t.taxon,o.prev=1,o.next=4,m.collection("taxa_en").add(a);case 4:return i=o.sent,o.abrupt("return","Taxon saved.");case 8:o.prev=8,o.t0=o.catch(1);case 10:return o.abrupt("return",i);case 11:case"end":return o.stop()}}),_callee26,this,[[1,8]])})));return function addTaxon(a){return t.apply(this,arguments)}}(),H=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee28(t){return regeneratorRuntime.wrap((function _callee28$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",Promise.all(t.map((function(t){return Q.getSpeciesByName(t.name).then(function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee27(a){return regeneratorRuntime.wrap((function _callee27$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_objectSpread(_objectSpread({},a),{},{description:t.description||"",time:t.time||0,questionIds:t.questionIds,quickId:t.quickId||""});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),_callee27,this)})));return function(t){return a.apply(this,arguments)}}())}))));case 4:a.prev=4,a.t0=a.catch(0);case 6:case"end":return a.stop()}}),_callee28,this,[[0,4]])})));return function getSpeciesInParallel(a){return t.apply(this,arguments)}}(),G=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee30(t){return regeneratorRuntime.wrap((function _callee30$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",Promise.all(t.map((function(t){return Q.getSpeciesByName(t).then(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee29(t){return regeneratorRuntime.wrap((function _callee29$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_objectSpread({},t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),_callee29,this)})));return function(a){return t.apply(this,arguments)}}())}))));case 4:a.prev=4,a.t0=a.catch(0);case 6:case"end":return a.stop()}}),_callee30,this,[[0,4]])})));return function getSpeciesByNameInParallel(a){return t.apply(this,arguments)}}(),U=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee31(t,a){var i;return regeneratorRuntime.wrap((function _callee31$(o){for(;;)switch(o.prev=o.next){case 0:if(a){o.next=2;break}return o.abrupt("return");case 2:return o.next=4,B(t);case 4:if(!o.sent){o.next=7;break}return o.abrupt("return");case 7:return t.user=a,i=null,o.prev=9,o.next=12,m.collection("collections").add(t);case 12:i=o.sent,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(9);case 17:return o.abrupt("return",i);case 18:case"end":return o.stop()}}),_callee31,this,[[9,15]])})));return function addCollection(a,i){return t.apply(this,arguments)}}(),B=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee32(t){var a;return regeneratorRuntime.wrap((function _callee32$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t.items=[],a=null,i.next=5,m.collection("collections").where("name","==",t.name).get();case 5:if(i.sent.forEach((function(t){a=t.ref})),!a){i.next=10;break}return i.next=10,a.update(t);case 10:return i.abrupt("return",{message:"Success",success:!0});case 13:return i.prev=13,i.t0=i.catch(0),i.abrupt("return",{message:"Failure",details:i.t0.message,success:!1});case 16:case"end":return i.stop()}}),_callee32,this,[[0,13]])})));return function updateCollection(a){return t.apply(this,arguments)}}(),W=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee33(t){var a,i,o,c,l,u,d;return regeneratorRuntime.wrap((function _callee33$(p){for(;;)switch(p.prev=p.next){case 0:return a=t.key,i=t.operator,o=t.value,c=t.limit,l=c?m.collection("collections").where(a,i,o).limit(c):a?m.collection("collections").where(a,i,o):m.collection("collections"),p.next=4,l.get();case 4:return u=p.sent,d=[],u.forEach((function(t){d.push(t.data())})),p.abrupt("return",d);case 8:case"end":return p.stop()}}),_callee33,this)})));return function getCollectionsWhere(a){return t.apply(this,arguments)}}(),V=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee34(t){var a;return regeneratorRuntime.wrap((function _callee34$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,m.collection("questions").add(t);case 3:a=i.sent,i.next=8;break;case 6:i.prev=6,i.t0=i.catch(0);case 8:return i.abrupt("return",a);case 9:case"end":return i.stop()}}),_callee34,this,[[0,6]])})));return function addQuestion(a){return t.apply(this,arguments)}}(),Y=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee35(t){var a,i,o,c,l,u;return regeneratorRuntime.wrap((function _callee35$(d){for(;;)switch(d.prev=d.next){case 0:return a=t.key,i=t.operator,o=t.value,c=a?m.collection("questions").where(a,i,o):m.collection("questions"),d.next=4,c.get();case 4:return l=d.sent,u=[],l.forEach((function(t){u.push(t.data())})),d.abrupt("return",u);case 8:case"end":return d.stop()}}),_callee35,this)})));return function getQuestionsWhere(a){return t.apply(this,arguments)}}(),K=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee36(t){var a;return regeneratorRuntime.wrap((function _callee36$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,m.collection("glossary").where("term","==",t.term).get();case 2:if(!i.sent.empty){i.next=15;break}return i.prev=4,i.next=7,m.collection("glossary").add(t);case 7:a=i.sent,i.next=12;break;case 10:i.prev=10,i.t0=i.catch(4);case 12:return i.abrupt("return",a);case 15:throw"That definition already exists!";case 16:case"end":return i.stop()}}),_callee36,this,[[4,10]])})));return function addDefinition(a){return t.apply(this,arguments)}}(),z=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee37(t){var a,i,o,c,l,u;return regeneratorRuntime.wrap((function _callee37$(d){for(;;)switch(d.prev=d.next){case 0:return a=t.key,i=t.operator,o=t.value,c=a?m.collection("glossary").where(a,i,o):m.collection("glossary"),d.next=4,c.get();case 4:return l=d.sent,u=[],l.forEach((function(t){u.push(_objectSpread(_objectSpread({},t.data()),{},{id:t.id}))})),d.abrupt("return",u);case 8:case"end":return d.stop()}}),_callee37,this)})));return function getDefinitionsWhere(a){return t.apply(this,arguments)}}(),$=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee38(t){return regeneratorRuntime.wrap((function _callee38$(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",m.collection("glossary").doc(t).get().then((function(t){return _objectSpread(_objectSpread({},t.data()),{},{id:t.id})})));case 1:case"end":return a.stop()}}),_callee38,this)})));return function getDefinitionById(a){return t.apply(this,arguments)}}(),X=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee41(t){var a,i,o;return regeneratorRuntime.wrap((function _callee41$(c){for(;;)switch(c.prev=c.next){case 0:return a=[],c.prev=1,i=m.batch(),o=function(){var i=_asyncToGenerator(regeneratorRuntime.mark((function _callee40(){return regeneratorRuntime.wrap((function _callee40$(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee39(t){var i;return regeneratorRuntime.wrap((function _callee39$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,$(t);case 2:i=o.sent,a.push(i);case 4:case"end":return o.stop()}}),_callee39,this)})));return function(a){return t.apply(this,arguments)}}())));case 1:case"end":return i.stop()}}),_callee40,this)})));return function readyBatch(){return i.apply(this,arguments)}}(),c.next=6,o();case 6:return c.next=8,i.commit();case 8:return c.abrupt("return",a);case 11:c.prev=11,c.t0=c.catch(1);case 13:case"end":return c.stop()}}),_callee41,this,[[1,11]])})));return function getBatchDefinitionsById(a){return t.apply(this,arguments)}}(),Q={getSpecies:g,getSpeciesNames:v,getTaxaNames:y,getSpeciesByName:_,getSpeciesByIconicTaxon:b,getFamiliesByIconicTaxon:x,getTaxonByName:w,getTraitsBySpeciesName:E,getTraitsByTaxonName:k,getBirdsong:L,getTraitValues:C,getRandomSpecies:q,getDefinition:function getDefinition(t,a,i){var o,c=t.split(","),l=[],u=function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var a=0,i=function F(){};return{s:i,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c,l=!0,u=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(u)throw c}}}}(c);try{var d=function _loop(){var t=o.value,i=a.find((function(a){return a.term.toLowerCase()===t.trim().toLowerCase()||a.alt&&a.alt.toLowerCase()===t.trim().toLowerCase()}));l.push(i)};for(u.s();!(o=u.n()).done;)d()}catch(t){u.e(t)}finally{u.f()}return l.filter((function(t){return t}))},getSpeciesInParallel:H,getSpeciesByNameInParallel:G,getCollections:function getCollections(t){return W({})},getCollectionsWhere:W,getQuestionsWhere:Y,addSpecies:O,addTraits:P,addSpeciesRelationship:R,addPhotos:N,addTaxon:D,addCollection:U,addQuestion:V,addDefinition:K,updateSpecies:A,updateSpeciesNames:j,updateCollection:B,updateDefinition:function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee42(t){var a;return regeneratorRuntime.wrap((function _callee42$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,m.collection("glossary").where("term","==",t.term).get();case 2:return i.sent.forEach((function(t){a=t.ref})),i.next=6,a.update(t);case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),_callee42,this)})));return function updateDefinition(a){return t.apply(this,arguments)}}(),deleteSpeciesByName:I,deleteSpeciesTraitField:M,getTraitDefinitions:function getTraitDefinitions(t,a,i){var o=t.filter((function(t){return t.trait})).filter((function(t){return t.trait.toLowerCase()===i.toLowerCase()}));return new Promise((function(t){return t(o)}))},getQuestionById:function getQuestionById(t,a){return new Promise((function(i){return i(d.map((function(i){if(parseInt(i.id)===parseInt(t))return _objectSpread(_objectSpread({},i),{},{name:a})})))}))},getDefinitionsWhere:z,getDefinitionsByTaxa:function getDefinitionsByTaxa(t){return z({key:"taxon",operator:"in",value:t})},getDefinitionById:$,getBatchDefinitionsById:X},J=function getRandomId(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a="",i=0;i<20;i++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}},536:function(t,a,i){t.exports=function(t,a){"use strict";function _defineProperties(t,a){for(var i=0;i<a.length;i++){var o=a[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread2(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;var i="carousel",o="bs.carousel",c="."+o,l=t.fn[i],u={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},d={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},p={TOUCH:"touch",PEN:"pen"},m=function(){function Carousel(t,a){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(a),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var l=Carousel.prototype;return l.next=function next(){this._isSliding||this._slide("next")},l.nextWhenVisible=function nextWhenVisible(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},l.prev=function prev(){this._isSliding||this._slide("prev")},l.pause=function pause(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(a.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},l.cycle=function cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},l.to=function to(a){var i=this;this._activeElement=this._element.querySelector(".active.carousel-item");var o=this._getItemIndex(this._activeElement);if(!(a>this._items.length-1||a<0))if(this._isSliding)t(this._element).one("slid.bs.carousel",(function(){return i.to(a)}));else{if(o===a)return this.pause(),void this.cycle();var c=a>o?"next":"prev";this._slide(c,this._items[a])}},l.dispose=function dispose(){t(this._element).off(c),t.removeData(this._element,o),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},l._getConfig=function _getConfig(t){return t=_objectSpread2(_objectSpread2({},u),t),a.typeCheckConfig(i,t,d),t},l._handleSwipe=function _handleSwipe(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var a=t/this.touchDeltaX;this.touchDeltaX=0,a>0&&this.prev(),a<0&&this.next()}},l._addEventListeners=function _addEventListeners(){var a=this;this._config.keyboard&&t(this._element).on("keydown.bs.carousel",(function(t){return a._keydown(t)})),"hover"===this._config.pause&&t(this._element).on("mouseenter.bs.carousel",(function(t){return a.pause(t)})).on("mouseleave.bs.carousel",(function(t){return a.cycle(t)})),this._config.touch&&this._addTouchEventListeners()},l._addTouchEventListeners=function _addTouchEventListeners(){var a=this;if(this._touchSupported){var i=function start(t){a._pointerEvent&&p[t.originalEvent.pointerType.toUpperCase()]?a.touchStartX=t.originalEvent.clientX:a._pointerEvent||(a.touchStartX=t.originalEvent.touches[0].clientX)},o=function end(t){a._pointerEvent&&p[t.originalEvent.pointerType.toUpperCase()]&&(a.touchDeltaX=t.originalEvent.clientX-a.touchStartX),a._handleSwipe(),"hover"===a._config.pause&&(a.pause(),a.touchTimeout&&clearTimeout(a.touchTimeout),a.touchTimeout=setTimeout((function(t){return a.cycle(t)}),500+a._config.interval))};t(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(t){return t.preventDefault()})),this._pointerEvent?(t(this._element).on("pointerdown.bs.carousel",(function(t){return i(t)})),t(this._element).on("pointerup.bs.carousel",(function(t){return o(t)})),this._element.classList.add("pointer-event")):(t(this._element).on("touchstart.bs.carousel",(function(t){return i(t)})),t(this._element).on("touchmove.bs.carousel",(function(t){return function move(t){t.originalEvent.touches&&t.originalEvent.touches.length>1?a.touchDeltaX=0:a.touchDeltaX=t.originalEvent.touches[0].clientX-a.touchStartX}(t)})),t(this._element).on("touchend.bs.carousel",(function(t){return o(t)})))}},l._keydown=function _keydown(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},l._getItemIndex=function _getItemIndex(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},l._getItemByDirection=function _getItemByDirection(t,a){var i="next"===t,o="prev"===t,c=this._getItemIndex(a),l=this._items.length-1;if((o&&0===c||i&&c===l)&&!this._config.wrap)return a;var u=(c+("prev"===t?-1:1))%this._items.length;return-1===u?this._items[this._items.length-1]:this._items[u]},l._triggerSlideEvent=function _triggerSlideEvent(a,i){var o=this._getItemIndex(a),c=this._getItemIndex(this._element.querySelector(".active.carousel-item")),l=t.Event("slide.bs.carousel",{relatedTarget:a,direction:i,from:c,to:o});return t(this._element).trigger(l),l},l._setActiveIndicatorElement=function _setActiveIndicatorElement(a){if(this._indicatorsElement){var i=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));t(i).removeClass("active");var o=this._indicatorsElement.children[this._getItemIndex(a)];o&&t(o).addClass("active")}},l._slide=function _slide(i,o){var c,l,u,d=this,p=this._element.querySelector(".active.carousel-item"),m=this._getItemIndex(p),h=o||p&&this._getItemByDirection(i,p),g=this._getItemIndex(h),v=Boolean(this._interval);if("next"===i?(c="carousel-item-left",l="carousel-item-next",u="left"):(c="carousel-item-right",l="carousel-item-prev",u="right"),h&&t(h).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(h,u).isDefaultPrevented()&&p&&h){this._isSliding=!0,v&&this.pause(),this._setActiveIndicatorElement(h);var y=t.Event("slid.bs.carousel",{relatedTarget:h,direction:u,from:m,to:g});if(t(this._element).hasClass("slide")){t(h).addClass(l),a.reflow(h),t(p).addClass(c),t(h).addClass(c);var b=parseInt(h.getAttribute("data-interval"),10);b?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=b):this._config.interval=this._config.defaultInterval||this._config.interval;var _=a.getTransitionDurationFromElement(p);t(p).one(a.TRANSITION_END,(function(){t(h).removeClass(c+" "+l).addClass("active"),t(p).removeClass("active "+l+" "+c),d._isSliding=!1,setTimeout((function(){return t(d._element).trigger(y)}),0)})).emulateTransitionEnd(_)}else t(p).removeClass("active"),t(h).addClass("active"),this._isSliding=!1,t(this._element).trigger(y);v&&this.cycle()}},Carousel._jQueryInterface=function _jQueryInterface(a){return this.each((function(){var i=t(this).data(o),c=_objectSpread2(_objectSpread2({},u),t(this).data());"object"==typeof a&&(c=_objectSpread2(_objectSpread2({},c),a));var l="string"==typeof a?a:c.slide;if(i||(i=new Carousel(this,c),t(this).data(o,i)),"number"==typeof a)i.to(a);else if("string"==typeof l){if(void 0===i[l])throw new TypeError('No method named "'+l+'"');i[l]()}else c.interval&&c.ride&&(i.pause(),i.cycle())}))},Carousel._dataApiClickHandler=function _dataApiClickHandler(i){var c=a.getSelectorFromElement(this);if(c){var l=t(c)[0];if(l&&t(l).hasClass("carousel")){var u=_objectSpread2(_objectSpread2({},t(l).data()),t(this).data()),d=this.getAttribute("data-slide-to");d&&(u.interval=!1),Carousel._jQueryInterface.call(t(l),u),d&&t(l).data(o).to(d),i.preventDefault()}}},function _createClass(t,a,i){return a&&_defineProperties(t.prototype,a),i&&_defineProperties(t,i),t}(Carousel,null,[{key:"VERSION",get:function get(){return"4.5.0"}},{key:"Default",get:function get(){return u}}]),Carousel}();return t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",m._dataApiClickHandler),t(window).on("load.bs.carousel.data-api",(function(){for(var a=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),i=0,o=a.length;i<o;i++){var c=t(a[i]);m._jQueryInterface.call(c,c.data())}})),t.fn[i]=m._jQueryInterface,t.fn[i].Constructor=m,t.fn[i].noConflict=function(){return t.fn[i]=l,m._jQueryInterface},m}(i(122),i(207))},537:function(t,a,i){t.exports=function(t,a){"use strict";function _defineProperties(t,a){for(var i=0;i<a.length;i++){var o=a[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread2(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;var i="modal",o=".bs.modal",c=t.fn[i],l={backdrop:!0,keyboard:!0,focus:!0,show:!0},u={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},d=function(){function Modal(t,a){this._config=this._getConfig(a),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var c=Modal.prototype;return c.toggle=function toggle(t){return this._isShown?this.hide():this.show(t)},c.show=function show(a){var i=this;if(!this._isShown&&!this._isTransitioning){t(this._element).hasClass("fade")&&(this._isTransitioning=!0);var o=t.Event("show.bs.modal",{relatedTarget:a});t(this._element).trigger(o),this._isShown||o.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',(function(t){return i.hide(t)})),t(this._dialog).on("mousedown.dismiss.bs.modal",(function(){t(i._element).one("mouseup.dismiss.bs.modal",(function(a){t(a.target).is(i._element)&&(i._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return i._showElement(a)})))}},c.hide=function hide(i){var o=this;if(i&&i.preventDefault(),this._isShown&&!this._isTransitioning){var c=t.Event("hide.bs.modal");if(t(this._element).trigger(c),this._isShown&&!c.isDefaultPrevented()){this._isShown=!1;var l=t(this._element).hasClass("fade");if(l&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off("focusin.bs.modal"),t(this._element).removeClass("show"),t(this._element).off("click.dismiss.bs.modal"),t(this._dialog).off("mousedown.dismiss.bs.modal"),l){var u=a.getTransitionDurationFromElement(this._element);t(this._element).one(a.TRANSITION_END,(function(t){return o._hideModal(t)})).emulateTransitionEnd(u)}else this._hideModal()}}},c.dispose=function dispose(){[window,this._element,this._dialog].forEach((function(a){return t(a).off(o)})),t(document).off("focusin.bs.modal"),t.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},c.handleUpdate=function handleUpdate(){this._adjustDialog()},c._getConfig=function _getConfig(t){return t=_objectSpread2(_objectSpread2({},l),t),a.typeCheckConfig(i,t,u),t},c._triggerBackdropTransition=function _triggerBackdropTransition(){var i=this;if("static"===this._config.backdrop){var o=t.Event("hidePrevented.bs.modal");if(t(this._element).trigger(o),o.defaultPrevented)return;this._element.classList.add("modal-static");var c=a.getTransitionDurationFromElement(this._element);t(this._element).one(a.TRANSITION_END,(function(){i._element.classList.remove("modal-static")})).emulateTransitionEnd(c),this._element.focus()}else this.hide()},c._showElement=function _showElement(i){var o=this,c=t(this._element).hasClass("fade"),l=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),t(this._dialog).hasClass("modal-dialog-scrollable")&&l?l.scrollTop=0:this._element.scrollTop=0,c&&a.reflow(this._element),t(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var u=t.Event("shown.bs.modal",{relatedTarget:i}),d=function transitionComplete(){o._config.focus&&o._element.focus(),o._isTransitioning=!1,t(o._element).trigger(u)};if(c){var p=a.getTransitionDurationFromElement(this._dialog);t(this._dialog).one(a.TRANSITION_END,d).emulateTransitionEnd(p)}else d()},c._enforceFocus=function _enforceFocus(){var a=this;t(document).off("focusin.bs.modal").on("focusin.bs.modal",(function(i){document!==i.target&&a._element!==i.target&&0===t(a._element).has(i.target).length&&a._element.focus()}))},c._setEscapeEvent=function _setEscapeEvent(){var a=this;this._isShown?t(this._element).on("keydown.dismiss.bs.modal",(function(t){a._config.keyboard&&27===t.which?(t.preventDefault(),a.hide()):a._config.keyboard||27!==t.which||a._triggerBackdropTransition()})):this._isShown||t(this._element).off("keydown.dismiss.bs.modal")},c._setResizeEvent=function _setResizeEvent(){var a=this;this._isShown?t(window).on("resize.bs.modal",(function(t){return a.handleUpdate(t)})):t(window).off("resize.bs.modal")},c._hideModal=function _hideModal(){var a=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){t(document.body).removeClass("modal-open"),a._resetAdjustments(),a._resetScrollbar(),t(a._element).trigger("hidden.bs.modal")}))},c._removeBackdrop=function _removeBackdrop(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},c._showBackdrop=function _showBackdrop(i){var o=this,c=t(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",c&&this._backdrop.classList.add(c),t(this._backdrop).appendTo(document.body),t(this._element).on("click.dismiss.bs.modal",(function(t){o._ignoreBackdropClick?o._ignoreBackdropClick=!1:t.target===t.currentTarget&&o._triggerBackdropTransition()})),c&&a.reflow(this._backdrop),t(this._backdrop).addClass("show"),!i)return;if(!c)return void i();var l=a.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(a.TRANSITION_END,i).emulateTransitionEnd(l)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass("show");var u=function callbackRemove(){o._removeBackdrop(),i&&i()};if(t(this._element).hasClass("fade")){var d=a.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(a.TRANSITION_END,u).emulateTransitionEnd(d)}else u()}else i&&i()},c._adjustDialog=function _adjustDialog(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},c._resetAdjustments=function _resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},c._checkScrollbar=function _checkScrollbar(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},c._setScrollbar=function _setScrollbar(){var a=this;if(this._isBodyOverflowing){var i=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),o=[].slice.call(document.querySelectorAll(".sticky-top"));t(i).each((function(i,o){var c=o.style.paddingRight,l=t(o).css("padding-right");t(o).data("padding-right",c).css("padding-right",parseFloat(l)+a._scrollbarWidth+"px")})),t(o).each((function(i,o){var c=o.style.marginRight,l=t(o).css("margin-right");t(o).data("margin-right",c).css("margin-right",parseFloat(l)-a._scrollbarWidth+"px")}));var c=document.body.style.paddingRight,l=t(document.body).css("padding-right");t(document.body).data("padding-right",c).css("padding-right",parseFloat(l)+this._scrollbarWidth+"px")}t(document.body).addClass("modal-open")},c._resetScrollbar=function _resetScrollbar(){var a=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));t(a).each((function(a,i){var o=t(i).data("padding-right");t(i).removeData("padding-right"),i.style.paddingRight=o||""}));var i=[].slice.call(document.querySelectorAll(".sticky-top"));t(i).each((function(a,i){var o=t(i).data("margin-right");void 0!==o&&t(i).css("margin-right",o).removeData("margin-right")}));var o=t(document.body).data("padding-right");t(document.body).removeData("padding-right"),document.body.style.paddingRight=o||""},c._getScrollbarWidth=function _getScrollbarWidth(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var a=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),a},Modal._jQueryInterface=function _jQueryInterface(a,i){return this.each((function(){var o=t(this).data("bs.modal"),c=_objectSpread2(_objectSpread2(_objectSpread2({},l),t(this).data()),"object"==typeof a&&a?a:{});if(o||(o=new Modal(this,c),t(this).data("bs.modal",o)),"string"==typeof a){if(void 0===o[a])throw new TypeError('No method named "'+a+'"');o[a](i)}else c.show&&o.show(i)}))},function _createClass(t,a,i){return a&&_defineProperties(t.prototype,a),i&&_defineProperties(t,i),t}(Modal,null,[{key:"VERSION",get:function get(){return"4.5.0"}},{key:"Default",get:function get(){return l}}]),Modal}();return t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(i){var o,c=this,l=a.getSelectorFromElement(this);l&&(o=document.querySelector(l));var u=t(o).data("bs.modal")?"toggle":_objectSpread2(_objectSpread2({},t(o).data()),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||i.preventDefault();var p=t(o).one("show.bs.modal",(function(a){a.isDefaultPrevented()||p.one("hidden.bs.modal",(function(){t(c).is(":visible")&&c.focus()}))}));d._jQueryInterface.call(t(o),u,this)})),t.fn[i]=d._jQueryInterface,t.fn[i].Constructor=d,t.fn[i].noConflict=function(){return t.fn[i]=c,d._jQueryInterface},d}(i(122),i(207))},538:function(t,a,i){t.exports=function(t,a,i){"use strict";function _defineProperties(t,a){for(var i=0;i<a.length;i++){var o=a[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread2(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var o="dropdown",c="bs.dropdown",l="."+c,u=t.fn[o],d=new RegExp("38|40|27"),p={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},m={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},h=function(){function Dropdown(t,a){this._element=t,this._popper=null,this._config=this._getConfig(a),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var u=Dropdown.prototype;return u.toggle=function toggle(){if(!this._element.disabled&&!t(this._element).hasClass("disabled")){var a=t(this._menu).hasClass("show");Dropdown._clearMenus(),a||this.show(!0)}},u.show=function show(o){if(void 0===o&&(o=!1),!(this._element.disabled||t(this._element).hasClass("disabled")||t(this._menu).hasClass("show"))){var c={relatedTarget:this._element},l=t.Event("show.bs.dropdown",c),u=Dropdown._getParentFromElement(this._element);if(t(u).trigger(l),!l.isDefaultPrevented()){if(!this._inNavbar&&o){if(void 0===a)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var d=this._element;"parent"===this._config.reference?d=u:i.isElement(this._config.reference)&&(d=this._config.reference,void 0!==this._config.reference.jquery&&(d=this._config.reference[0])),"scrollParent"!==this._config.boundary&&t(u).addClass("position-static"),this._popper=new a(d,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(u).closest(".navbar-nav").length&&t(document.body).children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass("show"),t(u).toggleClass("show").trigger(t.Event("shown.bs.dropdown",c))}}},u.hide=function hide(){if(!this._element.disabled&&!t(this._element).hasClass("disabled")&&t(this._menu).hasClass("show")){var a={relatedTarget:this._element},i=t.Event("hide.bs.dropdown",a),o=Dropdown._getParentFromElement(this._element);t(o).trigger(i),i.isDefaultPrevented()||(this._popper&&this._popper.destroy(),t(this._menu).toggleClass("show"),t(o).toggleClass("show").trigger(t.Event("hidden.bs.dropdown",a)))}},u.dispose=function dispose(){t.removeData(this._element,c),t(this._element).off(l),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},u.update=function update(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},u._addEventListeners=function _addEventListeners(){var a=this;t(this._element).on("click.bs.dropdown",(function(t){t.preventDefault(),t.stopPropagation(),a.toggle()}))},u._getConfig=function _getConfig(a){return a=_objectSpread2(_objectSpread2(_objectSpread2({},this.constructor.Default),t(this._element).data()),a),i.typeCheckConfig(o,a,this.constructor.DefaultType),a},u._getMenuElement=function _getMenuElement(){if(!this._menu){var t=Dropdown._getParentFromElement(this._element);t&&(this._menu=t.querySelector(".dropdown-menu"))}return this._menu},u._getPlacement=function _getPlacement(){var a=t(this._element.parentNode),i="bottom-start";return a.hasClass("dropup")?i=t(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":a.hasClass("dropright")?i="right-start":a.hasClass("dropleft")?i="left-start":t(this._menu).hasClass("dropdown-menu-right")&&(i="bottom-end"),i},u._detectNavbar=function _detectNavbar(){return t(this._element).closest(".navbar").length>0},u._getOffset=function _getOffset(){var t=this,a={};return"function"==typeof this._config.offset?a.fn=function(a){return a.offsets=_objectSpread2(_objectSpread2({},a.offsets),t._config.offset(a.offsets,t._element)||{}),a}:a.offset=this._config.offset,a},u._getPopperConfig=function _getPopperConfig(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),_objectSpread2(_objectSpread2({},t),this._config.popperConfig)},Dropdown._jQueryInterface=function _jQueryInterface(a){return this.each((function(){var i=t(this).data(c);if(i||(i=new Dropdown(this,"object"==typeof a?a:null),t(this).data(c,i)),"string"==typeof a){if(void 0===i[a])throw new TypeError('No method named "'+a+'"');i[a]()}}))},Dropdown._clearMenus=function _clearMenus(a){if(!a||3!==a.which&&("keyup"!==a.type||9===a.which))for(var i=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),o=0,l=i.length;o<l;o++){var u=Dropdown._getParentFromElement(i[o]),d=t(i[o]).data(c),p={relatedTarget:i[o]};if(a&&"click"===a.type&&(p.clickEvent=a),d){var m=d._menu;if(t(u).hasClass("show")&&!(a&&("click"===a.type&&/input|textarea/i.test(a.target.tagName)||"keyup"===a.type&&9===a.which)&&t.contains(u,a.target))){var h=t.Event("hide.bs.dropdown",p);t(u).trigger(h),h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),i[o].setAttribute("aria-expanded","false"),d._popper&&d._popper.destroy(),t(m).removeClass("show"),t(u).removeClass("show").trigger(t.Event("hidden.bs.dropdown",p)))}}}},Dropdown._getParentFromElement=function _getParentFromElement(t){var a,o=i.getSelectorFromElement(t);return o&&(a=document.querySelector(o)),a||t.parentNode},Dropdown._dataApiKeydownHandler=function _dataApiKeydownHandler(a){if(!(/input|textarea/i.test(a.target.tagName)?32===a.which||27!==a.which&&(40!==a.which&&38!==a.which||t(a.target).closest(".dropdown-menu").length):!d.test(a.which))&&!this.disabled&&!t(this).hasClass("disabled")){var i=Dropdown._getParentFromElement(this),o=t(i).hasClass("show");if(o||27!==a.which){if(a.preventDefault(),a.stopPropagation(),!o||o&&(27===a.which||32===a.which))return 27===a.which&&t(i.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void t(this).trigger("click");var c=[].slice.call(i.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(a){return t(a).is(":visible")}));if(0!==c.length){var l=c.indexOf(a.target);38===a.which&&l>0&&l--,40===a.which&&l<c.length-1&&l++,l<0&&(l=0),c[l].focus()}}}},function _createClass(t,a,i){return a&&_defineProperties(t.prototype,a),i&&_defineProperties(t,i),t}(Dropdown,null,[{key:"VERSION",get:function get(){return"4.5.0"}},{key:"Default",get:function get(){return p}},{key:"DefaultType",get:function get(){return m}}]),Dropdown}();return t(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',h._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",h._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",h._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',(function(a){a.preventDefault(),a.stopPropagation(),h._jQueryInterface.call(t(this),"toggle")})).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})),t.fn[o]=h._jQueryInterface,t.fn[o].Constructor=h,t.fn[o].noConflict=function(){return t.fn[o]=u,h._jQueryInterface},h}(i(122),i(252),i(207))},540:function(t,a,i){var o=i(541);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(63)(o,c);o.locals&&(t.exports=o.locals)},541:function(t,a,i){(a=i(62)(!1)).push([t.i,'* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nhtml {\n  height: var(--vhGrid, 100vh);\n}\n\nbody {\n  /* width: var(--vwGrid, 100vh);\n  max-width: var(--vwGrid, 100vh); */\n  height: var(--vhGrid, 100vh);\n  /* font-size: .8em; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: \'Open Sans\', sans-serif;\n  color: var(--snap-text-dark);\n  margin: auto;\n  background-color: var(--snap-main-background);\n}\n\nbutton {\n  width: 100%;\n  letter-spacing: .03rem;\n}\n\nbutton[disabled] {\n  opacity: .38; /* why  38%? google material design */\n  pointer-events: none;\n}\n\ninput[type="text"] {\n  padding: .5rem;\n  width: 100%;\n  border-color: var(--snap-border-lightest);\n  border-style: solid;\n}\n\nfigure {\n  margin: .5rem 0 0;\n}\n\na:hover {\n  text-decoration: none;\n}\n\nul {\n  margin: 0;\n  padding: 0;\n}\n\nli {\n  list-style-type: none;\n  margin: 0 0 .5rem 0;\n}\n\nprogress {\n  margin: 0 !important;\n  width: 100%;\n  border: 0;\n  background: var(--snap-progress-bg);\n  max-height: 5px;\n}\n\nprogress::-webkit-progress-bar {\n  background-color: var(--snap-progress-bg);\n}\nprogress::-webkit-progress-value {\n  background-color: var(--snap-text-black);\n}\nprogress::-moz-progress-bar {\n  background-color: var(--snap-progress-bar);\n}\n\n.progress-icon {\n  color: var(--snap-progress-bar) !important;\n  cursor: pointer;\n}\n\n.no-progress {\n  background-color: var(--snap-progress-bg);\n}\n\n.inline-progress-container progress {\n  width: 95px;\n  height: 3px;\n  left: 0;\n  top: 2.5rem;\n}\n\nhr {\n  margin: 0;\n}\n\n.font-size-small {\n  font-size: .7rem;\n}\n\n.desaturate {\n  opacity: .6;\n  filter: grayscale(80%);\n}\n\n.no-progress {\n  background-color: var(--snap-progress-bg);\n}\n\n\n\n.btn-collection {\n  background-color: var(--snap-portrait);\n  color: var(--snap-text-dark);\n}\n\n.btn-language {\n  background-color: var(--snap-landscape);\n  color: var(--snap-text-medium-dark);\n}\n\n.btn.btn-non-taxa {\n  width: 15rem;\n  background-color: var(--snap-non-taxa);\n  float: left;\n}\n\n.non-taxa-definition {\n  padding: 0 0.5rem;\n}\n\n.icon::after\n{\n  display: inline-block;\n  font-style: normal;\n  font-variant: normal;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  font-family: "Font Awesome 5 Free";\n}\n\n.icon.active::after {\n  font-weight: 900;\n  content: "\\f00c";\n  padding: 0 0.5rem 0 0;\n  margin: 0 0 0 -1.5rem;\n  color: rgb(99, 127, 91);\n}\n\n.icon.choice::after {\n  font-weight: 900;\n  content: "\\f2e7";\n  padding: 0 0 0 0.25rem;\n  color: rgb(99, 127, 91);\n}\n\n.icon.edible::after {\n  font-weight: 900;\n  content: "\\f2e7";\n  padding: 0 0 0 0.25rem;\n  color: var(--snap-inactive);\n}\n\n.icon.inedible::after {\n  font-weight: 900;\n  content: "\\f056";\n  padding: 0 0 0 0.25rem;\n  color: var(--snap-inactive);\n}\n\n.icon.toxic::after {\n  font-weight: 900;\n  content: "\\f071";\n  padding: 0 0 0 0.25rem;\n  color: var(--snap-alert);\n}\n\n.dropdown-menu {\n  margin: 0.15rem 0 0 0;\n  padding: 0;\n  color: var(--snap-text-dark);\n  border: .05rem solid var(--snap-border-light);\n  left: inherit !important;\n}\n\n.non-taxa .dropdown-menu {\n  width: 15rem !important;\n  background-color: var(--snap-dd-non-taxa-bg-intial);\n}\n\n.non-taxa a.dropdown-item.active {\n  background-color: var(--snap-dd-non-taxa-bg-active);\n}\n\na.dropdown-item {\n  color: var(--snap-text-medium-dark);\n  padding: 0.5rem 0 0.5rem 1rem;\n  cursor: pointer;\n}\n\n.dropdown-menu.show {\n  top: -.25rem !important;\n}\n\n.non-taxa a.dropdown-item:hover {\n  background-color: var(--snap-dd-non-taxa-bg-hover);\n}\n\n.underline-external-link {\n  color: var(--snap-link) !important;\n  text-decoration: none;\n  border-bottom: solid .05rem !important;\n  color: inherit;\n  cursor: pointer;\n}\n\n.lesson-title {\n  line-height: 1.6;\n}\n\n.toUpperCase {\n  text-transform: uppercase;\n}\n\n.home, .settings, .nav-info, .list, .glossary, .email, .login, .email > a, .language {\n  cursor: pointer;\n  color: var(--snap-text-dark);\n  font-size: 1.4rem;\n}\n\na.icon:hover {\n  color: var(--snap-text-light);\n}\n\n.email span {\n  font-size: .8rem;\n}\n\n.glossary svg {\n  vertical-align: middle;\n}\n\n.grid-header {\n  background-color: rgb(153, 172, 149);\n  background-color: var(--snap-portrait);\n  display: flex;\n  align-items: center;\n  color: var(--snap-text-dark);\n  width: 100%;\n  border-radius: 0.25rem 0.25rem 0 0;\n  letter-spacing: 0.07rem;\n  text-transform: uppercase;\n}\n\n.grid-header > div {\n  padding: 0 0.5rem;\n}\n\n.hover-box {\n  border: .05rem solid rgba(48, 94, 37,.8);\n  padding: .25rem;\n  margin: 0 0 0 -.25rem;\n  border-radius: 0.25rem;\n}\n\n.nav-icons .active-icon, .active-icon {\n  color: white;\n}\n\n.nav-icons .inactive-icon {\n  color: var(--snap-inactive);\n  cursor: not-allowed;\n}\n\n.info-box .inactive-icon {\n  display: none;\n}\n\n.disabled-icon {\n  cursor: initial;\n  opacity: .38; /* why  38%? google material design */\n  pointer-events: none;\n}\n\n.scrollable.card {\n  text-align: left;\n}\n\n.score-summary-container {\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh));\n}\n\n.snapdragon-container {\n  justify-content: flex-start;\n  position: relative;\n}\n\n.test-card-question.standard-block, .lesson-list-header.centred-block {\n  border-bottom: .03rem solid var(--snap-border-medium);\n}\n\n.home-container {\n  position: relative;\n  display: grid;\n  grid-template-rows: var(--vhStandardBlock) auto;\n}\n\n.feature-types {\n  background-color: var(--snap-content-background);\n}\n\n.species.card {\n  margin: 0;\n}\n\n.non-taxa {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n}\n\n.non-taxa .btn-group {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 .5rem;\n  justify-content: space-evenly;\n  background-color: var(--snap-landscape);\n}\n\n.non-taxa .btn.btn-secondary {\n  height: initial;\n}\n\n.non-taxa .species-header {\n  padding: 0 1.25rem 0 0;\n}\n\n.non-taxon.card img {\n  height: 4rem;\n  width: 4rem;\n}\n\n.non-taxon .btn.btn-secondary {\n  width: 100%;\n  background-color: var(--snap-landscape);\n  border-radius: unset;\n}\n\n.non-taxa-definition {\n  display: flex;\n  align-items: center;\n  padding: 0 2rem;\n}\n\n.non-taxon .definitions {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  height: 100%;\n  text-align: left;\n}\n\n.species.card-small {\n  padding: 0.5rem;\n}\n\n.card.radio-buttons-container {\n  margin: 0 0 0.5rem 0;\n}\n\n.binomial {\n  font-style: italic;\n  text-transform: initial;\n}\n\n.lesson-plans .table-row.species-background:nth-child(n) {\n  background-color: var(--snap-species-highlight-background);\n}\n\n.lesson-plans .table-row.taxon-background:nth-child(n) {\n  background-color: var(--snap-taxon-card-background);\n}\n\n.snapdragon-options {\n  padding: 0 .5rem;\n}\n\n.grid {\n  display: grid;\n  grid-auto-flow: column;\n  width: 100%;\n  height: var(--vhGrid, 100vh);\n  font-size: .8rem;\n}\n\n.left-grid, .right-grid {\n  display: grid;\n  grid-template-columns: 100%;\n  grid-auto-flow: column;\n  grid-template-rows: var(--vhRunningBlock, 7.5vh) 5px auto var(--vhRunningBlock, 7.5vh);\n}\n\n.left-body, .right-body {\n  display: grid;\n  grid-auto-flow: row;\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh));  \n  background-color: var(--snap-content-background);\n}\n\n.header, .footer {\n  display: flex;\n  align-items: center;\n  padding: 0 0.5rem;\n  letter-spacing: 0.1rem;\n  text-transform: uppercase;\n  color: var(--snap-text-medium-dark);\n}\n\n.header > div:nth-child(2) {\n  max-width: 50%;\n  font-size: .9rem;  \n}\n\n.footer {\n  bottom: 0;\n}\n\n.left-grid .footer .nav-icons, .right-grid .footer .nav-icons {\n  flex: auto;\n  justify-content: space-evenly;\n}\n\n.left-grid .footer .nav-icons li, .right-grid .footer .nav-icons li {\n  margin: 0 !important;\n}\n\n.footer-round, .footer-score span {\n  color: var(--snap-text-medium-dark);\n  padding: 0.75rem;\n}\n\n.left-grid .header, .left-grid .footer {\n  justify-content: flex-end;\n  background-color: var(--snap-portrait);\n}\n\n.right-grid .header, .right-grid .footer {\n  justify-content: center;\n  background-color: var(--snap-landscape);\n}\n\n.header-text {\n  color: var(--snap-text-dark-medium-dark);\n}\n\n.scrollable {\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;  \n}\n\n/* .txt-specimen-species {\n  margin: 0 0 0 1rem;\n} */\n\n.answer {\n  padding: 1rem;\n  text-transform: capitalize;\n  cursor: pointer;\n}\n\n.answer button {\n  width: 10rem;\n}\n\n.squares {\n  display: grid;\n  grid-auto-flow: row;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr 1fr;\n}\n\n.tiles {\n  display: grid;\n  height: 50%;\n  grid-auto-flow: column;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n}\n\n.squares > div {\n  display: grid;\n  justify-self: center;\n  height: 140px;\n  width: 224px;\n}\n\n.squares img, .tiles img {\n  cursor: pointer;\n  height: inherit;\n  width: inherit;\n  object-fit: cover;\n}\n\n.traits.squares img {\n  object-fit: scale-down;\n}\n\n.traits.squares > div.multiple {\n  grid-template-columns: 1fr 1fr;\n  cursor: pointer;\n  width: 80%;\n}\n\n.square, .tile {\n  border-radius: 0.2rem;\n  cursor: pointer;\n}\n\n.strips {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  cursor: pointer;\n  height: calc( (var(--vh, 1vh) * 100) \n    - var(--vhFixtures, 15vh) \n    - var(--vhStandardBlock, 10vh)\n    - var(--vhStandardBlock, 10vh)\n    - var(--vhStandardBlock, 10vh)\n    - var(--vhButtonBlock, 9vh)\n    );\n}\n\n.strip {\n  background: #fff;\n  border: 1px solid transparent;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0,0,0,.2);\n  margin: .5rem .25rem;\n  padding: .75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.strip > div::first-letter {\n  text-transform: capitalize;\n}\n\n  .strip > * {\n    pointer-events: none;\n  }\n\n  .pointer-events-none {\n    pointer-events: none !important;\n  }\n  \n  .pointer-events-initial {\n    pointer-events: initial !important;\n  }\n\n.strips .strip.snap-success {\n  background-color: var(--snap-success-medium);\n  box-shadow: 0 2px 8px rgba(0,0,0,.8);\n}\n\n.strips .strip.snap-alert {\n  background-color: var(--snap-alert-medium);\n  box-shadow: 0 2px 8px rgba(0,0,0,.8);\n  border: none;\n}\n\n.strip.snap-success > div.disabled {\n  color: var(--gray-dark) !important;\n}\n\n.strip div {\n  text-align: center;\n}\n\n.names-container .vernacular-name {\n  max-width: 12rem;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: inline-block;\n}\n\n.names-container.definition .vernacular-name {\n  margin-top: 1.25rem;\n}\n\n.align-left {\n  text-align: left;\n}\n\n.snapdragon.card {\n  border: 0;\n}\n\n.snapdragon.card.align-left {\n  color: var(--snap-text-medium-dark);\n  padding: 0.5rem;\n}\n\n.snapdragon.card.align-left .feature-label {\n  letter-spacing: 0.03rem;\n  width: fit-content;\n  display: inline-table;\n}\n\n.taxon-highlight {\n  background-color: var(--snap-taxon-card-background);\n  padding: 0.5rem;\n  margin: -0.5rem -0.5rem 0 -0.5rem;\n  display: flex;\n  justify-content: right;\n}\n\n.taxon-highlight > div:nth-child(1) {\n  flex: 1;\n  align-self: center;\n}\n\n.taxon-highlight > div:nth-child(2) {\n  align-self: center;\n}\n\n.taxon-highlight img {\n  height: 5.5rem;\n  width: 5.5rem;\n  margin: 0 0 0 1rem;\n  object-fit: cover;\n}\n\n.latin-name {\n  font-style: italic;\n  font-family: serif;\n  text-transform: initial;\n}\n\n.common-name {\n  font-style: normal;\n  text-transform: capitalize;\n}\n\n.taxon-header {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  text-align: left;\n}\n\n.species-header img {\n  filter: grayscale(80%);\n  object-fit: scale-down;\n  max-height: var(--vhStandardBlock, 10vh);\n}\n\n.species-header > div:nth-child(1) {\n  display: flex;\n  flex-direction: column;\n  padding: 0.25rem 1rem 0 0;\n}\n\n.card-link-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.card-link-container i {\n  font-size: 2rem;\n  cursor: pointer;\n  color: var(--snap-iconic-icon-header);\n}\n\n.card-link-container i:hover {\n  color: var(--snap-text-medium-light);\n}\n\n.block-container {\n  position: relative;\n  justify-content: flex-start;\n}\n\n.species-common-name {  \n  text-transform: capitalize;\n}\n\n.data-box-container {\n  height: var(--vhCalendar, 11vh);\n  display: grid;\n  grid-template-columns: 2fr 2fr 3fr;\n  grid-gap: .5rem;\n  border-bottom: .03rem solid var(--snap-dd-non-taxa-bg-hover);\n  font-size: .8rem;\n}\n\n.mixed-content-container {\n  top: calc(\n      var(--vhStandardBlock, 10vh)\n    + var(--vhSmallImageCarousel,23vh));\n  height: calc(\n        var(--vh, 1vh) * 100\n      - var(--vhFixtures,15vh)\n      - var(--vhSmallImageCarousel,23vh)\n      - var(--vhDoubleStandardBlock,20vh)      \n      - .5rem);\n}\n\n.taxon.card-card .mixed-content-container {\n  height: calc(\n        var(--vh, 1vh) * 100\n      - var(--vhFixtures,15vh)\n      - var(--vhDoubleStandardBlock,20vh) \n      - var(--vhCalendar)\n      - 5px);\n      padding: .5rem;\n}\n\n.taxon.card-card .mixed-content-container .centred-block {\n  flex-direction: column;\n  height: 100%;\n  align-items: flex-start;\n  justify-content: space-evenly;\n}\n\n.taxon.card-card .data-box-container {\n  grid-template-columns: 1fr 2fr;\n  padding: 0 .5rem;\n}\n\n.inat-box .data-box {\n  color: var(--snap-text-medium-light);\n  height: 100%;\n  border-left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  border-right: 1px solid var(--snap-border-lightest);\n  font-size: .8rem\n}\n\n.inat-box .data-box > div:nth-child(1), .inat-box .data-box > div:nth-child(2) {\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  grid-gap: .25rem;\n}\n\n.inat-box .data-box > div:nth-child(2) > div:nth-child(1) {\n  padding: 0 0.5rem 0 0;\n}\n\n.inat-box .data-box > div > div:nth-child(2) > div {\n  text-align: center;\n}\n\n.taxon-data > span:nth-child(1) {\n  min-width: 50%;\n}\n\n.data-box .taxon-data:nth-child(1) > span {\n  text-transform: uppercase;\n} \n\n.taxon-data {\n  display: flex;\n  flex-direction: row;\n}\n\n.latin {\n  font-style: italic;\n  font-family: serif;\n}\n\n.taxon-members {\n  font-style: italic;\n}\n\n.family-img {\n  filter: grayscale(80%);\n}\n\n.family-name {\n  text-transform: uppercase;\n}\n\n.history div {\n  margin: 0 0 1rem 0;\n}\n\n.clickable {\n  cursor: pointer;\n}\n\n.btn {\n  font-size: inherit;\n  padding: .5rem;\n  border: none;\n}\n\n.btn:hover {\n  opacity: .8;  \n}\n\n.btn.focus, .btn:focus {\n  box-shadow: none;\n}\n\nbtn:disabled {\n  pointer-events: none;\n}\n\n.btn-placeholder.btn {\n  color: var(--snap-text-dark);\n}\n\n.snap-btn {\n  background-color: var(--snap-list-header-background);\n  color: var(--snap-text-black);\n  letter-spacing: .05rem;\n  border: 1px solid var(--snap-portrait);\n  padding: .25rem .75rem;\n}\n\n.snap-btn:active {\n  color: green !important;\n}\n\n.snap-btn:focus:not(:focus-visible), .snap-icon-btn:focus:not(:focus-visible) {\n  color: var(--snap-youtube-green) !important;\n  outline: none;\n  border: 1px solid var(--snap-youtube-green);\n}\n\n.snap-icon-btn {\n  color: var(--snap-text-dark);\n  background-color: transparent;\n  border: 1px solid transparent;\n  padding: 0 .5rem;\n}\n\n.snap-icon-btn:focus, .snap-icon-btn:hover {\n  color: var(--snap-youtube-green);\n  outline: none;\n}\n\n.snap-link-btn, .snap-no-link-btn {\n  color: var(--snap-text-dark);\n  background-color: transparent;\n  border: none;\n  font-size: .7rem;\n  width: intrinsic;           /* Safari/WebKit uses a non-standard name */\n  width: -moz-max-content;    /* Firefox/Gecko */\n  width: -webkit-max-content; /* Chrome */\n}\n\n.snap-no-link-btn {\n  pointer-events: none;\n}\n\n.snap-action-btn {\n  background-color: var(--snap-tertiary-background);\n  color: var(--snap-text-light);\n  letter-spacing: .05rem;\n  border: 1px solid var(--snap-non-taxa) !important;\n  padding: .5rem .75rem;\n}\n\n.snap-action-btn:focus {\n  outline: none;\n  color: var(--snap-text-black);\n}\n\n.snap-action-btn.snap-success {\n  color: var(--snap-text-light) !important;\n  background-color: var(--snap-success) !important;\n  border: 0.05rem solid var(--snap-success);\n}\n\n.snap-action-btn.snap-alert {\n  color: var(--snap-text-light) !important;\n  background-color: var(--snap-alert) !important;\n  border: 0.05rem solid var(--snap-alert);\n}\n\n.btn-tertiary {\n  color: var(--snap-text-light);\n  background-color: var(--snap-tertiary-background) !important;\n  border: 1px solid var(--snap-border-light);\n  cursor: pointer !important;\n}\n\n.btn-tertiary:focus {\n  outline: none;\n  color: var(--snap-text-black);\n}\n\n.dropdown-toggle::after {\n  vertical-align: 0.2rem;\n  margin-left: 0.2rem;\n}\n\n.course-description {\n  margin: 1rem 0;\n}\n\n.course-description span {\n  margin: 0 0 0.5rem 0;\n}\n\n.course-description span:nth-child(1) {\n  background-color: lightblue;\n  padding: 0.25rem;\n}\n\n.course-description .snap-alert {\n  width: 50%;\n}\n\n.species-count {\n  vertical-align: super;\n}\n\n.clear-lesson button {\n  float: left;\n}\n\n.collection span {\n  padding: 0 0.5rem;\n  cursor: pointer;\n}\n\n.dropdown div {\n  white-space: nowrap;\n}\n\n.single-tile {\n  display: flex;\n  flex-direction: column;\n  margin: 2rem 1rem;\n}\n\n.image-border {\n  text-align: center;\n  margin: 0 0 2rem 0;\n  border: .05rem solid;\n  border-radius: .2rem;\n  padding: 1rem;\n}\n\n.blocks {\n  flex: auto;\n  flex-direction: column;\n  padding: 2rem;\n}\n\n.block {\n  font-size: 1rem;\n  display: inline-block;\n  cursor: pointer;\n  width: fit-content;\n  background-color: var(--snap-block-light);\n  color: var(--snap-text-dark);\n  margin: 0 .5rem 0 0;\n  padding: .25rem .5rem;\n  letter-spacing: .1rem;\n  border-radius: .2rem;\n  border: .05rem solid var(--snap-text-dark);\n}\n\n.pool .block {\n  margin: 0 .5rem .5rem 0;\n}\n\n.block + hr {\n  margin: .5rem 0 0 0;\n}\n\n.pool {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.pool .block.active {\n  color: var(--snap-text-light);\n  background-color: rgb(128, 128, 128);\n}\n\n.pool .block.correct {\n  color: var(--snap-text-light);\n  background-color: var(--snap-success);\n}\n\nspan.correct {\n  color: rgb(2, 107, 26);\n}\n\n.block.snap-success, .block.snap-alert {\n  color: var(--snap-text-light) !important;\n  background-color: var(--snap-success) !important;\n  border: none;\n}\n\n.block.snap-alert {\n  background-color: var(--snap-alert) !important;\n}\n\n.snap-alert-fg {\n  color: var(--snap-alert);\n}\n\n.btn.snap-alert {\n  padding: 0.175rem 0.75rem;\n}\n\n.block.white {\n  color: var(--snap-text-dark);\n}\n\n.blocks button {\n  margin: 2rem 0 0 0;\n}\n\n.delay-slider {\n  margin: 1rem 0;\n}\n\n.delay-slider > div input {\n  flex: auto;\n  margin: 0 .5rem;\n}\n\n.response-update {\n  flex: initial;\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  bottom: 0.5rem;\n  right: .5rem;\n  left: .5rem;\n}\n\n.action-update {\n  width: 100%;\n}\n\n.action-update button {\n  width: 100%;\n}\n\n.answer-container .icon-container {\n  position: relative;\n  display: inline-block;\n}\n\n.answer-container .icon {\n  font-size: 1.5rem;\n  position: absolute;\n  top: -0.9rem;\n}\n\n.taxa svg {\n  margin: 0 .25rem 0 0;\n}\n\n.taxa .si-glyph-mushrooms svg {\n  margin: 0;\n}\n\n.species-answer {\n  display: none;\n}\n\n.species-question,\n.species-answer,\n.btn-placeholder {\n  text-align: center;\n  border: 1px solid var(--snap-border-light);\n}\n\n.species-question.btn,\n.btn-placeholder.btn {\n  color: var(--snap-text-dark);\n  background-color: var(--snap-block-light);\n}\n\nbutton:disabled {\n  cursor: initial !important;\n}\n\n.species-answer {\n  text-align: center;\n  color: var(--snap-text-dark);\n  background-color: var(--snap-block-light);\n  border-left: 1px solid var(--snap-border-light);\n  border-right: 1px solid var(--snap-border-light);\n  border-bottom: 1px solid var(--snap-border-light);\n}\n\n.answer-box-success .icon {\n  color: var(--snap-success);\n}\n\n.answer-box-alert .icon {\n  color: var(--snap-alert);\n}\n\n.species-card-images,\n.non-taxon-card-images {\n  /* height: initial; */\n  display: grid;\n  grid-template-columns: 1fr;\n  cursor: pointer;\n}\n\n.non-taxon-card-images {\n  margin: 0;\n}\n\n.trait.card li span:nth-child(1) {\n  width: 25%;\n  text-align: left;\n}\n\n.trait.card li span:nth-child(2) {\n  width: 75%;\n  text-align: left;\n}\n\n.toggle-content,\n.toggle-content * {\n  display: none;\n}\n\n.toggle-content.is-visible,\n.toggle-content.is-visible * {\n  display: initial;\n}\n\n.btn-secondary:not(:disabled):not(.disabled).active {\n  background-color: var(--snap-text-light);\n  color: var(--snap-text-dark);\n}\n\n.non-taxon .btn-secondary:not(:disabled):not(.disabled).active {\n  background-color: var(--snap-species-header-background);\n}\n\n.rb.btn-group {\n  display: flex;\n  flex-direction: column;\n}\n\n.rb.btn-group .btn.btn-secondary.active {\n  color: var(--snap-success);\n  background-color: inherit;\n  border: none;\n}\n\n.btn-secondary:not(:disabled):not(.disabled):active {\n  color: var(--snap-text-medium-dark);\n  background-color: initial;\n  border: none;\n}\n\n.rb.btn-group .btn:hover {\n  color: rgb(100, 100, 100);\n}\n\n.btn.btn-secondary.disabled.active {\n  opacity: 1;\n}\n\n.rb.btn-group label {\n  margin: 0 0 .5rem 0;\n}\n\n.rb.btn-group input[type=radio] {\n  box-sizing: border-box;\n  padding: 0;\n  position: absolute;\n  clip: rect(0,0,0,0);\n  pointer-events: none;\n}\n\n.btn.btn-secondary {\n  color: var(--snap-text-medium-dark);\n  background-color: var(--white);\n  border: 0;\n  width: fit-content;\n  border: none;\n}\n\n.btn.btn-secondary:hover {\n  transition: none;\n}\n\n.btn.btn-secondary.disabled .collectionName, .btn.btn-secondary.active .guideName {\n  border: none;  \n}\n\n.left-grid,\n.species-card-wiki-entry,\n.collection-preview,\n.collection button,\n.collections-skills {\n  display: none;\n}\n\n.species-table td .portrait input {\n  height: 1.15rem;\n  width: 1.15rem;\n}\n\n.badge {\n  vertical-align: text-top;\n  cursor: pointer;\n}\n\n.badge-light {\n  color: inherit;\n  background-color: transparent;\n  margin: -0.25rem 0 0 0.25rem;\n  padding: 0.4rem 0.4rem 0.3rem 0.4rem;\n}\n\n.badge-list {\n  height: 100%;\n  padding: 1rem;\n  background-color: var(--snap-snap-action-btn);\n}\n\n.question-images {\n  display: grid;\n  height: 8rem;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  grid-gap: 0.5rem;\n}\n\n.layer-container {\n  cursor: pointer;\n  background-size: cover;\n  background-position: center;\n}\n\n.layer {\n  height: 100%;\n  width: 100%;\n  color: rgb(101, 132, 37, 0);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.layer > div {\n  text-align: center;\n}\n\n.feature-label {\n  color: var(--snap-text-green);\n}\n\n.lesson-option-headers {\n    height: 2.5rem;\n    display: flex;\n    align-items: center;\n    color: var(--snap-text-dark);\n    letter-spacing: 0.03rem;\n    padding: 0;\n    width: fit-content;\n}\n\n.faded {\n  color: var(--snap-border-lightest);\n}\n\n.compare-species-link {\n  cursor: pointer;\n}\n\n.imageSlider .carousel-inner {\n  display: flex;\n  flex-direction: column;\n  background-color: rgba(211, 214, 173, 0.4);\n}\n\n.imageSlider .carousel-inner > div {\n  width: inherit;\n}\n\n.imageSlider .carousel-control-next, .imageSlider .carousel-control-prev {\n  top: 40%;\n  height: 20%;\n  width: 10%;\n  background-color: rgba(211, 214, 173, 0.2);\n  opacity: 0.5;\n}\n\n.carousel-control-next button, .carousel-control-prev button {\n  background-color: transparent !important;\n  border: none !important;\n}\n\n.carousel-control-next[disabled="disabled"],\n.carousel-control-prev[disabled="disabled"] {\n  pointer-events: none;\n}\n\n.imageSlider .carousel.slide {\n  background-color: var(--snap-text-dark-medium-dark);\n}\n\n.imageSlider .carousel-inner > div:nth-child(1), .imageSlider .carousel-item {\n  height: var(--vhExtraSmallImageCarousel);\n  min-height: var(--vhExtraSmallImageCarousel);\n}\n\n.species-card-images .carousel-item-next, .species-card-images .carousel-item-prev, .species-card-images .carousel-item.active {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.imageSlider .carousel-item-next, .imageSlider .carousel-item-prev, .imageSlider .carousel-item.active {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  pointer-events: all;\n}\n\n.info-box .carousel-item-next, .info-box .carousel-item-prev, .info-box .carousel-item.active {\n  display: grid;\n}\n\n.carousel-item.active button {\n  width: initial;\n}\n\n.imageSlider .carousel-item > div {\n  height: 90%;\n  background-size: inherit;\n  background-repeat: no-repeat;\n  background-position: center;  \n}\n\n#imageSlider_card-card .carousel-item > div, #imageSlider_card-card .carousel-item > div {\n  pointer-events: none;\n}\n\n.imageSlider .carousel-item > div.contain-image {\n  background-size: contain;\n}\n\n.imageSlider .carousel-control-next-icon,\n.imageSlider .carousel-control-prev-icon {\n  width: 1.5rem;\n  height: 1.5rem;\n  background-color: transparent;\n  border: none;\n}\n\n#imageSlider1 {\n  flex: 1;\n}\n\n#imageSlider2 {\n  flex: 1;\n}\n\n#imageSlider3 {\n  flex: 1;\n}\n\n.info-box .carousel.slide {\n  float: right;\n  width: 100%;\n  background-color: var(--snap-species-header-background);\n}\n\n.info.carousel.slide .carousel-item div dt, .info.carousel.slide .carousel-item div dd {\n  padding: .25rem 0;\n  text-align: center;\n  margin: 0 15%;\n  height: var(--vhHalfStandardBlock, 5vh);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.info.carousel.slide .carousel-item div dt, .info.carousel.slide .carousel-item div dd {\n  background-color: rgba(128, 128, 128, 0.3);\n}\n\n.info.carousel.slide .carousel-item div dd {\n  background-color: rgba(128, 128, 128, 0.1);\n  text-transform: lowercase;\n}\n\n.info.carousel-control .carousel-control-next-icon {\n  color: black;\n}\n\n.carousel-control-prev-icon {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23000\' viewBox=\'0 0 8 8\'%3E%3Cpath d=\'M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z\'/%3E%3C/svg%3E");\n}\n\n.carousel-control-next-icon {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23000\' viewBox=\'0 0 8 8\'%3E%3Cpath d=\'M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z\'/%3E%3C/svg%3E");\n}\n\n.bird-song div:nth-child(2) {\n  background-color: rgb(142, 160, 119);\n}\n\n.bird-song-bg {\n  background-color: var(--snap-collection-active);\n}\n\n.bird-song-icon {\n  color: rgba(0, 0, 0, 1);\n  margin-left: -.5rem;\n}\n\n.bird-song-icon-disabled {\n  color: rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n  margin-left: -.5rem;\n}\n\niframe#birdsong {\n  width: 1px;\n  min-width: 260px;\n}\n\n.rank {\n  border-radius: 0.24rem;\n  display: inline-block;\n  vertical-align: text-top;\n}\n\n.radio-buttons.disabled label {\n  color: rgb(100,100,100);\n}\n\n.visual-match .description div:empty,\n.visual-match .description span:empty {\n  display: none;\n}\n\ndiv.hide-empty:empty,\nspan.hide-empty:empty {\n  display: none !important;\n}\n\n.visual-match .description {\n  background-color: rgb(200, 197, 172);\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n}\n\n.visual-match .description span {\n  flex: 1;\n  padding: 0.5rem;\n}\n\n.comparison-description {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0 0.5rem;\n}\n\n.species-search .icon {\n  font-size: 2.5rem;\n  height: calc(var(--vhStandardBlock, 30vh) * 1.5);\n  color: rgb(90, 147, 252);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.species-search .icon i:not(.slow-spin) {\n  color: var(--snap-active);\n}\n\n.question-container .icon {\n  color: rgb(90, 147, 252);\n  font-size: 1.8rem;\n}\n\n.slow-spin {\n  -webkit-animation: fa-spin 6s infinite linear;\n  animation: fa-spin 6s infinite linear;\n}\n\na.collection-disabled {\n  color: grey;\n  pointer-events: none;\n}\n\n.attribution-layer {\n  color: var(--snap-text-light);\n}\n\n.rights-attribution {\n  display: grid;\n  grid-template-columns: 2rem auto;\n  height: var(--vhRunningBlock);\n  background-color: rgb(166, 177, 155);\n  font-size: .7rem;\n}\n\n.rights-attribution .underline-link {\n  color: white !important;\n}\n\n.rights-link-copyright {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  z-index: 25;\n}\n\n.rights-link-copyright .underline-link {\n  line-height: 1.5;\n}\n\n.rights-link-copyright i {\n  color: white;\n  font-size: 1.1rem;\n}\n\n.rights-link-copyright i.fas.fa-copyright {\n  font-size: 1.3rem;\n}\n\n.rights-link {\n  height: var(--vhRunningBlock);\n  grid-template-columns: 2rem auto 2rem;\n  background-color: rgb(166, 177, 155);\n  display: grid;\n}\n\n.rights-link > div:nth-child(1), .rights-link > div:nth-child(3) {\n  cursor: pointer;\n}\n\n.rights-attribution > div > div:nth-child(1) {\n  margin: 0 0.5rem 0 0;\n}\n\n.rights-attribution > div > div:nth-child(2) {\n  flex: 1;\n}\n\n.rights-attribution span {\n  vertical-align: baseline;\n  margin: 0 0 0 0.25rem;\n}\n\n.greek {\n  vertical-align: super;\n}\n\n.dropdown.collections {\n  display: flex;\n}\n\n.range-slider-control {\n  display: flex;\n  justify-content: space-between;\n}\n\n.carousel-indicators {\n  height: var(--vhRunningBlock);\n  bottom: 0;\n  margin: 0 !important;\n  margin-left: 2.5rem !important;\n  margin-right: 2.5rem !important;\n  align-items: center;\n}\n\n.carousel-indicators li {\n  background-color: var(--snap-text-medium-dark);\n  width: 1rem;\n  height: 0.25rem;\n  margin-bottom: 0;\n}\n\n.carousel-indicators .active {\n  background-color: white;\n}\n\n.question-header {\n  display: flex;\n  background-color: var(--snap-species-header-background);\n  color: var(--snap-dark);\n  justify-content: center;\n}\n\n.card-link {\n  cursor: pointer;\n  color: rgb(128, 121, 49);\n}\n\n.calendar-container {\n  display: flex;\n  align-items: center;\n  border-right: 1px solid var(--snap-border-lightest);\n  justify-content: center;\n}\n\n.calendar-box .row {\n  display: grid;\n  grid-auto-flow: row;\n}\n\n.calendar-box .col {\n  display: grid;\n  grid-auto-flow: column;\n}\n\n.calendar-box .col div {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.4rem;\n  height: 1.4rem;\n}\n\n.most-observations {\n  color: var(--orange);\n}\n\n.current-month {\n  border: 0.05rem solid rgba(108, 117, 125,.8);\n}\n\n.floating-card > span:nth-child(1) {\n  background: #fff;\n  border: none;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0,0,0,.2);\n  display: inline-block;\n  font-weight: 300;\n  margin: .5rem;\n  padding: .8rem 1.1rem;\n}\n\n.home-container .snapdragon-header {\n  text-transform: uppercase;\n  color: var(--snap-text-medium-light);\n  font-size: 1.6rem;\n  letter-spacing: .25rem;\n  border-bottom: 1px solid var(--snap-border-lightest);\n}\n\n.home-container .snapdragon-header a, .home-container .snapdragon-header a:visited {\n  color: var(--snap-text-medium-light);\n}\n\n.home-container .snapdragon-tag, .home-container .summary-scores, .trait-card-summary-container .summary-scores {\n  justify-content: center;\n  font-style: italic;\n  display: flex;\n  color: var(--snap-link);\n  letter-spacing: .03rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.trait-card-summary-container .summary-scores {\n  padding: 0 1rem;\n}\n\n.home-guide .taxa {\n  color: var(--snap-collection-active);\n}\n\n.home-guide .taxa > span {\n  margin-right: .25rem;\n}\n\n.summary-scores .summary-progress {\n  margin: 1rem 0 0 0;\n  position: relative;\n}\n\n.summary-scores .summary-progress span {\n  margin: 0 0 0 .5rem;\n}\n\n.summary-scores .summary-progress span.above {\n  position: relative;\n  bottom: .5rem;\n}\n\n.summary-scores .summary-progress span.below {\n  position: relative;\n  top: .5rem;\n}\n\n.summary-scores span {\n  margin: 0 .25rem 0 0;\n}\n\n.summary-scores span:nth-child(2) {\n  vertical-align: super;\n}\n\n.trait-line {\n  margin-top: 2rem;\n}\n\n.trait-line .small-icon {\n  font-size: 1rem !important;\n  margin: 0 !important;\n}\n\n.trait-icon, .trait-icon > span {\n  margin: 0 !important;\n}\n\n.trait-icon svg g g {\n  fill: var(--snap-link);\n}\n\n.home-container .snapdragon-tag .inat-widget span:nth-child(1) {\n  font-style: initial;\n}\n\n.home-container .vernacular-language {\n  font-size: 1rem;\n}\n\n.delete-guide-link > span.active {\n  color: var(--snap-alert) !important; \n  pointer-events: initial;\n}\n\n.delete-guide-link > span.disabled {\n  color: var(--secondary) !important;\n  pointer-events: none;\n}\n\n.delete-guide-link input {\n  cursor: pointer;\n  width: 1rem;\n  height: 1rem;\n  vertical-align: text-bottom;\n}\n\n.home-container .snapdragon-tag > div .underline-link {\n  text-transform: initial;\n}\n\n.home-container .snapdragon-tag > div .super-text {\n  display: inline-block;\n  margin: .5rem 0 0 .25rem;\n  vertical-align: top;\n  color: var(--secondary);\n  font-style: italic;\n}\n\n.snapdragon-create-guide {  \n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  color: var(--snap-link);\n}\n\n.snapdragon-create-guide > div:nth-child(1) {\n  letter-spacing: .05rem;\n  text-transform: uppercase;\n}\n\n.snapdragon-create-guide .for-text {\n  vertical-align: middle;\n}\n\n.snapdragon-create-guide .toggle-links {\n  display: flex;\n  justify-content: flex-end;\n  margin: .5rem .25rem 0 0;\n}\n\n.edit-guide-link, .save-guide-link, .margin-right {\n  margin: 0 .5rem 0 0;\n}\n\n.swap-in-card {\n  display: initial;\n}\n\n.swap-out-card {\n  display: none !important;\n}\n\n.no-pointer-events {\n  pointer-events: none;\n}\n\n.snapdragon-intro {\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhStandardBlock,20vh) - var(--vhRunningBlock));\n  top: calc(var(--vhStandardBlock));  \n}\n\n.snapdragon-intro > h3, .snapdragon-intro > h4, .snapdragon-intro > h5 {\n  line-height: 2;\n  font-size: 1rem;\n  margin: 1.2rem 2.4rem 0 2.4rem !important;\n}\n\n.snapdragon-intro .youtube-icon {\n  font-size: 1rem;\n}\n\n.lesson-list {\n  position: relative;\n  background-color: var(--snap-block-light);\n}\n\n.lesson-list-header {\n  padding: 0 !important;\n  background-color: var(--snap-list-header-background);\n  justify-content: space-between;\n}\n\n.lesson-list-header > div:nth-child(1) {\n  display: flex;\n  align-items: center;\n}\n\n.lesson-list-header > div:nth-child(1) > div {\n  color: var(--snap-text-medium-light);\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n  padding-right: 1rem;\n}\n\n.lesson-list-header > div:nth-child(2) {  \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.lesson-list-header > div:nth-child(2) > div {  \n  height: calc( var(--vh) * 5);\n  width: calc( var(--vh) * 5);\n}\n\n.lesson-list-header > div:nth-child(1) {\n  padding-left: .5rem !important;\n}\n\n.lesson-list-header > div[data-toggle-state="off"]:nth-child(1) > div:nth-child(1) {\n  display: none;\n}\n\n.lesson-list-header > div[data-toggle-state="on"]:nth-child(1) > div:nth-child(2) {\n  display: none;\n}\n\n.lesson-list-header i {\n  font-size: 1rem;\n  vertical-align: super;\n  color: var(--snap-text-medium-light);\n  cursor: pointer;\n}\n\n.lesson-list-carousel-item {\n  display: flex;\n  /* width: 100%; */\n  /* justify-content: space-between; */\n  margin: .25rem 0;\n}\n\n.lesson-list-carousel-item > div:nth-child(3) {\n  justify-content: left;\n  font-size: 1.3rem;\n  cursor: pointer;\n  align-items: center;\n  display: flex;\n  margin-right: .5rem;\n}\n\n.lesson-list-item {\n  padding: 1rem .5rem;\n  pointer-events: none;\n  flex-grow: 2;\n}\n\n.lesson-review, .lesson-terms-review {\n  pointer-events: initial;  \n  line-height: 3;\n}\n\n.lesson-review i {\n  font-size: .9rem;\n  color: var(--snap-collection);\n}\n\n.lesson-review i.fa-sync, .lesson-list-item i.fa-sync {\n  font-size: 1rem;\n  color: var(--snap-active);\n}\n\n.lesson-list > div > div:nth-child(1) {\n  justify-content: space-between;\n  /* top: 0; */\n  /* z-index: 30;\n  width: 100%; */\n}\n\n.lesson-list div.lesson-list-carousel-item:nth-of-type(2n) {\n  background-color: var(--snap-lesson-row-green);\n}\n\n.lesson-list div.lesson-list-carousel-item:nth-of-type(2n+1) {\n  background-color: var(--snap-lesson-row-green);\n}\n\n.lesson-list .scrollable {\n  width: 100%;  \n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhStandardBlock, 10vh));\n  flex-direction: column;\n  top: var(--vhStandardBlock, 10vh);\n  border-top: 1px solid var(--snap-border-lightest);\n}\n\n.lesson-list .scrollable .btn input[type=radio] {\n  position: absolute;\n  clip: rect(0,0,0,0);\n}\n\n.youtube-green-fg {\n  color: var(--snap-youtube-green);\n}\n\n.button-block {\n  height: var(--vhButtonBlock, 9vh);\n  margin: 0 !important;\n}\n\n.running-block {\n  height: var(--vhRunningBlock, 9vh);\n}\n\n.calendar-block {\n  height: var(--vhCalendar, 11vh);\n}\n\n.modal-footer.double-centred-block {\n  background-color: var(--snap-portrait);\n  text-transform: uppercase;\n  cursor: pointer;\n}\n\n.video {\n  position: sticky;\n  position: -webkit-sticky; \n  top: 0; \n  margin: 0;\n  padding: 0;\n  padding-top: .4rem;\n  border-top: 1px solid var(--snap-border-light);\n  position: relative;\n  height: 0;\n  padding-top: 56.25%;\n  width:100%;\n}\n\n.video iframe {\n  position: absolute;\n  top: 0; left: 0;\n  border: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.home-scrolling-container {\n  position: relative;\n}\n\n.home-scrolling-container .scrollable {\n  top: calc( var(--vhScrollingTop));\n}\n\n.form-check {\n  pointer-events: initial !important;\n  display: flex;\n  align-items: center;\n}\n\n.form-check-input {\n  margin-top: 0;\n}\n\n.lesson-list .btn-group label.form-check-label {\n  background-color: initial;\n  cursor: pointer;\n}\n\n/* .lesson-review > div {\n  font-size: .7em;\n} */\n\n.main-header {\n  font-size: 1.4rem;\n  text-transform: uppercase;\n  letter-spacing: .25rem;\n}\n\n.fa, .fab, .fal, .far, .fas {\n  line-height: 1.5;\n}\n\n#insertParent {\n  /* background-color: var(--snap-container-background);   */\n  font-size: .8rem;\n  padding: 1rem;\n}\n\n.col-count-2 {\n  column-count: 2;\n}\n\n.col-count-3 {\n  column-count: 3;\n}\n\n#insertParent > div > div:nth-child(1) {\n  font-style: italic;\n  font-size: .9rem;\n}\n\n.border-bottom {\n  border-bottom: .03rem solid var(--snap-border-medium);\n}\n\n/* .title {\n  padding: 0 .5rem;\n} */\n\n.lesson-companion {\n  display: flex;\n    align-items: center;\n    justify-content: center;\n    font-style: italic;\n    font-size: 1.1em;\n    height: var(--vhStandardBlock, 10vh);\n}\n\n.score-summary {\n  top: calc(var(--vhStandardBlock));\n  padding: .5rem 1.5rem;\n}\n\n.score-summary.scrollable.review-summary {\n  bottom: 1rem;\n}\n\n.continue-link {\n  margin-top: .5rem;  \n}\n\n.highlighted-for-review-row {\n  background-color: var(--snap-content-background) !important;\n  border-top: 1px solid var(--snap-btn-auxillary);\n  border-right: 1px solid var(--snap-btn-auxillary);\n  border-bottom: 1px solid var(--snap-btn-auxillary);\n  border-left: 1px solid var(--snap-btn-auxillary);\n}\n\n.score-summary-row {\n  border-bottom: .3rem solid var(--snap-content-background);\n  padding: 1rem 0;\n}\n\n.score-summary-row-title {\n  padding: .5rem 0 0 0;\n}\n\n.score-summary-row.species {\n  background-color: var(--snap-header-background);\n  border: none;\n  display: flex;\n  width: 100%;\n}\n\n.score-summary-row.header {\n  cursor: pointer;\n  background-color: initial;\n  font-size: initial;\n  letter-spacing: initial;\n  background-color: var(--snap-row-background);\n}\n\n.score-summary-row > div:nth-child(1), .score-summary-row > div:nth-child(3) {\n  width: 5rem;\n  min-width: 5rem;\n}\n\n.score-summary-row > div:nth-child(1) i, .score-summary-row > div:nth-child(3) i {\n  font-size: 1.2rem;\n}\n\n.score-summary-row > div {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.score-summary-row > div:nth-child(2) {\n  flex: auto;\n  align-items: flex-start;\n  max-width: 100%;\n}\n\n.score-summary-row.in-columns {\n  flex-direction: column;\n  padding: 0;\n}\n\n.score-summary-row.in-columns > div {  \n  display: flex;\n  flex-direction: row;\n  width: 100%;\n}\n\n.score-summary-row.in-columns > div > div {\n  padding: 1rem 0;\n}\n\n.score-summary-row.in-columns > div > div:nth-child(1), .score-summary-row.in-columns > div > div:nth-child(3) {\n  width: 6rem;\n  display: flex;\n  justify-content: center;\n}\n\n.score-summary-row.in-columns > div > div:nth-child(2) {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  border-bottom: .03rem solid var(--snap-dd-non-taxa-bg-hover);\n}\n\n.score-summary-row.in-columns > div > div:nth-child(2) > div {\n  font-size: .8rem;\n}\n\n.score-summary-row.in-columns > div > div:nth-child(2) > div:nth-child(1) {\n  padding: .5rem;\n}\n\n.score-summary-row.in-columns div[data-is-true="true"] > div:nth-child(2) {\n  color: var(--snap-success);\n}\n\n.score-summary-row.in-columns div[data-is-true="true"] > div:nth-child(2) {\n  border: solid 1px var(--snap-progress-bar);\n  padding: .3rem;\n  display: inline-block;\n}\n\n.score-summary-row.in-columns div[data-is-wrong-answer="true"] {\n  color: var(--snap-alert); \n}\n\nimg[data-has-image="false"] {\n  display: none;\n}\n\n.score-summary-row > div:nth-child(1) i {\n  display: none;\n}\n\n.score-summary-row > div[data-is-true="true"]:nth-child(1) i:nth-child(1) {\n  display: initial;\n  color: rgb(52, 105, 23,.5);\n  font-size: .8rem;\n  font-size: 1.5rem;\n}\n\n.score-summary-row > div:nth-child(1)[data-is-true="false"] i:nth-child(2) {\n  display: initial;\n  color: var(--snap-alert);\n  color: rgba(183, 12, 21,.5);\n  font-size: 1.5rem;\n}\n\n.score-summary-row img {\n  width: 98px;\n  height: 68px;\n}\n\n.score-summary-row.title > span {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.score-summary-footer {\n  justify-content: flex-end;\n  align-items: flex-start;\n}\n\n.concealed {\n  opacity: 0;\n}\n\n.fa, .fab, .fal, .far, .fas {\n  line-height: 1.5 !important;\n}\n\n.autocomplete {\n  height: 5rem !important;\n  position: absolute !important;\n}\n\n.login.icon > i:nth-child(2) {\n  color: var(--snap-text-light);\n}\n\n.login.icon[data-is-logged-in="true"] > i:nth-child(1) {\n  display: none;\n}\n\n.login.icon[data-is-logged-in="false"] > i:nth-child(2) {\n  display: none;\n}\n\n.quick-fire {\n  position: relative;\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh));\n  display: flex;\n  flex-direction: column;\n}\n\n/* .quick-fire .score {\n  bottom: 5rem;\n  position: absolute;\n} */\n\n.quick-fire .strips {\n  height: initial;\n}\n\ninput[type="number"].big {\n  width: 4rem;\n  padding: .5rem;\n}\n\ninput[type="number"].medium {\n  width: 3rem;\n  padding: .25rem;\n  font-size: .8rem;\n}\n\n.quick-fire-taxa {\n  column-count: 2;\n}\n\n.quick-fire label, .quick-fire-taxa label {\n  cursor: pointer;\n}\n\n.quick-fire-taxa span, .quick-fire-branches span {\n  font-size: .6rem;\n  vertical-align: super;\n  display: inline-block;\n  padding: 0 .125rem;\n  min-width: 1.5rem;\n  text-align: left;\n}\n\n.quick-fire-branches span {\n  font-size: .6rem;\n}\n\n.quick-fire .btn-group {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.quick-fire .btn-group >.btn {\n  background-color: var(--snap-snap-action-btn);\n  margin: 0 0 .5rem 0;\n  border-radius: .25rem !important;\n  letter-spacing: .03rem;\n  width: fit-content;\n  width: max-content;\n  cursor: pointer !important;  \n}\n\n.quick-fire .quick-fire-branches.btn-group >.btn {\n  background-color: var(--snap-btn-filter-off);\n  border: 1px solid var(--snap-border-lightest);\n}\n\n.quick-fire .quick-fire-options .btn-secondary {\n  border: 1px solid var(--snap-collection-active);\n}\n\n.quick-fire .quick-fire-options .btn-secondary:not(:disabled):not(.disabled).active {\n  color: var(--snap-text-light);\n  background-color: var(--snap-tertiary-background);\n  border: 1px solid var(--snap-border-light);\n}\n\n.quick-fire .quick-fire-branches .btn-secondary {\n  font-size: .7rem;\n}\n\n.quick-fire .quick-fire-branches .btn-secondary:not(:disabled):not(.disabled).active {\n  font-size: .7rem;\n  background-color: var(--snap-btn-filter-on);\n  color: var(--snap-text-dark-medium-dark);\n  border: 1px solid var(--snap-border-light);\n}\n\n.quick-fire .btn {  \n  cursor: pointer !important;\n}\n\n.quick-fire-text-entry > div{\n  width: 100%;\n}\n\n.quick-fire .custom-checkbox .custom-control-input:checked ~ .custom-control-label::before {\n  background-color: var(--snap-btn-blue);\n}\n\n.quick-fire-summary-row.card {\n  background-color: var(--snap-row-background);\n  text-align: left;\n  cursor: pointer;\n}\n\n.quick-fire-summary-row .card-header {\n  border-bottom: 0;\n}\n\n.quick-review-tabs span {\n  pointer-events: none;\n}\n\n.nav-link {\n  color: var(--snap-text-medium-dark);\n  letter-spacing: .03rem;\n}\n\n.nav-pills .nav-link.active, .nav-pills .show>.nav-link {\n  color: var(--snap-text-light);\n  color: var(--snap-text-medium-dark);\n  background-color: var(--snap-collection-light);\n}\n\n.nav-pills .nav-item:nth-child(1) .nav-link.active, .nav-pills .nav-item:nth-child(1) .show>.nav-link {\n  background-color: var(--snap-success-medium);\n}\n\n.nav-pills .nav-item:nth-child(2) .nav-link.active, .nav-pills .nav-item:nth-child(2) .show>.nav-link {\n  background-color: var(--snap-alert-medium);\n}\n\n.nav-pills .nav-link {\n  border-radius: 0;\n  position: relative;\n}\n\n.quick-fire .nav-link.active.show {\n  display: block;\n}\n\n.quick-fire .nav-item a:hover {\n  color: var(--snap-text-medium-dark);\n  background-color: var(--snap-btn-hover);\n}\n\n.quick-fire .nav-item:nth-child(1) a:hover {\n  background-color: var(--snap-success-light);\n}\n\n.quick-fire .nav-item:nth-child(2) a:hover {\n  background-color: var(--snap-alert-light);\n}\n\n.quick-fire .accordions-container {\n  height: calc(\n     (var(--vh, 1vh) * 100) \n    - var(--vhFixtures, 15vh)\n    - var(--vhDoubleStandardBlock,20vh)\n    - var(--vhStandardBlock,10vh) \n    - 1rem\n    );\n    top: calc(\n        var(--vhDoubleStandardBlock,20vh)\n      + var(--vhStandardBlock,10vh) \n    );\n}\n\n.correct-answer-color {\n  color: var(--snap-success); \n}\n\n.incorrect-answer-color {\n  color: var(--snap-alert);\n}\n\n.low-relief-block {\n  border: 1px solid var(--snap-success-light) !important;\n  background-color: var(--snap-species-highlight-background);\n}\n\n.horizontal-buttons {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: .5rem;\n}\n\n.lesson-spinner {\n  font-size: 5rem;\n  height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh)); \n}\n\n.image-slider-190 img {\n  height: 190px;\n  min-height: 190px;\n}\n\n.lesson-icon{\n  width: 98px;\n  height: 68px;\n  object-fit: none;\n}\n\n.location-filter-options {\n  padding: .5rem;\n  grid-template-rows: 1fr 1fr;\n  display: grid;\n}\n\n.skip-link {\n  position: absolute;\n  top: -40px;\n  left: 0;\n  background: #000000;\n  color: white;\n  padding: 8px;\n  z-index: 100;\n}\n\n.skip-link:focus {\n  top: 0;\n}',""]),t.exports=a},542:function(t,a,i){var o=i(543);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(63)(o,c);o.locals&&(t.exports=o.locals)},543:function(t,a,i){(a=i(62)(!1)).push([t.i,'/* iPhone 5, ?? */\n\n@media (max-width: 320px) and (max-height: 568px) {\n    .imageSlider .active.carousel-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n}\n\n@media (min-width: 320px) {\n}\n@media (min-width: 414px) {\n    .test-card-question .question-question {\n        font-size: 1.2rem;\n    }\n    .rights-link, .rights-attribution {\n        grid-template-columns: 4rem auto 4rem;\n    }\n}\n\n/* iPHONE 6,7,8 */\n\n@media (max-width:375px) and (min-height:667px) {\n    .autocomplete {\n        height: 8rem !important;\n    }\n}\n\n/* Galaxy S5 */\n\n@media (min-width:360px) {\n    .names-container .vernacular-name {\n        max-width: 13.5rem;\n    }\n}\n\n/* @media (min-width:414px) {\n    .youtube-icon, .accordion-icon {\n        font-size: 1.4rem;\n    }\n    .species-table .youtube-icon, .accordion-icon {\n        font-size: 1.2rem;\n    }\n} */\n\n/* iPHONE 6,7,8 PLUS, iPHONE X, GALAXY S9/S9+ */\n\n/* @media  (max-width:414px) and (min-height:736px),\n        (max-width:375px) and (min-height:812px),\n        (max-width:360px) and (min-height:740px) {\n            body {\n                font-size: 1em;\n            }\n} */\n\n@media (max-height:568px) {\n    .test-card .help-txt {\n        display: none;\n    }\n}\n\n@media (min-height: 667px) {\n    .quick-fire .quick-fire-branches .btn-secondary, .quick-fire .quick-fire-branches .btn-secondary:not(:disabled):not(.disabled).active {\n        font-size: .9rem;\n        padding: .5rem;\n    }\n}\n\n@media (min-width: 576px) {\n}\n\n@media (min-width: 600px) {\n    .test-card-question .question-question {\n        font-size: 1.4rem;\n    }\n    .modal-subheader {\n        font-size: 1.2em;\n    }\n    .table-header th:nth-child(1) {\n        min-width: 105px;\n    }\n    \n    .master.table-row td:nth-child(1) {\n        width: 105px;\n    }\n    \n    .table-row img {\n        width: 98px;\n        height: 69px;\n    }\n}\n\n/* NEXUS 6 */\n\n@media (width: 412px) and (max-height: 732px) {\n    .youtube-icon {\n        font-size: 1.5rem !important;\n    }\n}\n\n/* NEXUS 7 */\n\n@media (width: 600px) and (max-height: 960px) {\n    \n    .block {\n        font-size: 1.3rem;\n    }    \n    .test-card-question .question-statement, .test-card-question .question-provider-question {\n        font-size: 1rem;\n    }\n    body {\n        font-size: 1.2em;\n    }\n    .snapdragon-intro > div {\n        font-size: 1.2rem;\n    }\n    .youtube-icon {\n        font-size: 1.8rem !important;\n    }\n    .lesson-name, .lesson-name .underline-link {\n        font-size: 1rem;\n    }\n}\n\n@media (min-height:812px) {\n}\n\n@media (max-width: 768px) {\n    .landscape {\n        display: none !important;\n    }\n    .portrait-grid {\n        display: grid;        \n    }\n}\n\n@media (min-height: 640px) {   \n    .modal-title {\n        line-height: 1.5;\n    } \n}\n\n@media (min-width: 768px) {\n\n  h1 {\n    font-size: 1.6rem;\n  }\n\n  h2 {\n    font-size: 1.3rem;\n  }\n\n  h3 {\n    font-size: 1rem;\n  }\n\n  .modal h1 {\n    font-size: 1.2rem;\n  }\n\n  h2 {\n    font-size: 1rem;\n  }\n\n  h3 {\n    font-size: .8rem;\n  }\n\n    .quick-fire .quick-fire-branches .btn-secondary, .quick-fire .quick-fire-branches .btn-secondary:not(:disabled):not(.disabled).active {\n        font-size: .9rem;\n        padding: .5rem;\n    }\n\n    .quick-fire-branches span {\n        font-size: .6rem;\n    }\n    \n    .autocomplete-options-container{\n        top: calc(\n            var(--vhRunningBlock, 7.5vh) + \n            5px +\n            var(--vhStandardBlock, 10vh) +\n            var(--vhStandardBlock, 10vh)\n            + .25rem\n        ) !important;\n    }\n\n    .species-search .icon {\n        font-size: 5.5rem;\n        height: calc(var(--vhStandardBlock, 30vh) * 2);\n    }\n\n    .autocomplete-options-container.autocomplete {\n        height: 15rem !important;\n    }\n\n    .squares {\n        height: calc( (var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhDoubleStandardBlock,20vh));\n    }\n\n    .imageSlider .carousel-item {\n        height: var(--vhSmallImageCarousel);\n        min-height: var(--vhSmallImageCarousel);\n    }\n\n    .score-summary-row {\n        display: flex;\n    }\n\n    #imageModal .imageSlider .carousel-item, #imageComparisonModal .imageSlider .carousel-item {        \n        height: calc( (var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - 300px ); /* see below (hack) */\n    }\n\n    .image-description {\n        padding: 1rem 4rem;\n        margin-top: -300px; /* see above (hack) */\n        color: black; /* to compensate for layer above (hack) */\n    }\n\n    .imageSlider .carousel-control-next, .imageSlider .carousel-control-prev {\n        top: 15%;\n        top: calc(\n            (var(--vh, 1vh) * 75 * .5) -\n            (var(--vh, 1vh) * 7.5) -\n            .5rem\n            - 100px /* see above (hack) */\n        );\n    }\n\n    .modal-image .carousel-inner > div:nth-child(1) {\n        height: calc((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhRunningBlock));\n    }\n\n    .carousel-indicators {\n        position: absolute;\n        left: .5rem;\n        right: .5rem;\n        padding: .5rem;\n        text-align: left;\n        margin-left: 4rem !important;\n        margin-right: 4rem !important;\n    }\n\n    .carousel-indicators li {\n        margin-bottom: 0;\n    }\n\n    .test-card-question .question-statement, .test-card-question .question-provider-question {\n        font-size: .9rem;\n    }\n\n    .species-picker-actions ul {\n        column-count: 2;\n    }  \n\n    .guide-header-container > div:nth-child(2) {\n        flex-direction: row;\n    }\n\n    .iconic-taxa-categories svg {\n        width: 2rem;\n        height: 2rem;\n    }\n\n    .iconic-taxa-categories-selected svg {\n        width: 1rem;\n        height: 1rem;\n    }\n\n    .iconic-taxa-categories i {\n        font-size: 1.5rem;\n    }\n\n    .inat.snap-switch .inat-entry {\n        display: flex;\n        align-items: center;\n        margin: 0 0 0 1rem;\n    }\n\n    .inat.snap-switch input[type="text"] {\n        margin: 0 .5rem 0 0;\n        color: var(--snap-text-medium-dark);\n        padding: 0 .1rem;\n    }\n\n    .modal-guide-wrapper .location.snap-switch {\n        width: 100%;\n        margin-top: 2rem;\n    }\n\n    .location-option.place > button {\n        margin-left: .25rem;\n    }\n\n    #inat-place::placeholder {\n        color: var(--gray);\n        font-size: 1rem;\n    }\n\n    .inat.snap-switch .inat-entry, .inat.snap-switch input[type="text"] {\n        width: 12rem;\n        width: fit-content;\n        padding: 0 .25rem;\n    }  \n\n    .range-slider {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    .range-slider > span:nth-child(2) {\n        width: fit-content;\n        border: .05rem solid var(--snap-border-lightest);\n        padding: .5rem;\n    }\n\n    .range-limits {\n        display: initial;\n    }\n\n    .inat-location-elsewhere {\n        display: grid;\n        grid-template-columns: 1fr .25rem 1fr;\n    }\n\n    .location-filter-options {\n      padding: 2rem;\n      grid-template-columns: 1fr 1fr;\n    }\n    \n    .traits-names-txt {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        padding: 1rem;\n        border-bottom: 1px solid var(--snap-border-lightest);\n    }\n\n    .iconic-icon {\n        font-size: 2rem;\n    }\n\n    .question-container .mushroom-icon-header svg {\n        width: 1.8rem;\n        height: 1.8rem;\n        fill: var(--snap-iconic-icon-header);\n    }\n\n    .species-header {\n        text-align: right;\n    }\n\n    .test-card-question .help-txt {\n        margin: 1rem .5rem;\n        font-family: serif;\n        font-weight: bold;\n        letter-spacing: .05rem;\n    }\n\n    div.text-entry {\n        margin: 1rem 0;\n        padding: 0.5rem;\n    }\n\n    .text-entry input {\n        width: 75%;\n        padding: 0.5rem;\n        border: 0.05rem solid var(--snap-border-light);\n    }\n\n    .video {\n        top: -2px;\n    }\n\n    .table-row {\n        font-size: .8rem;\n    }\n\n    .table-row td:nth-child(3) {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n        justify-content: center;\n    }\n\n    .species-list .scrollable {\n        bottom: 0;\n        top: 0;      \n    }\n        \n    .right-grid .header, .right-grid .footer {\n        justify-content: flex-start;\n        padding-right: 1rem;\n    }\n\n    .right-grid .footer > ul, .left-grid .footer > ul {\n        max-width: 50%;\n        text-transform: none;\n        justify-content: space-between;\n    }\n\n    .snapdragon-intro > div:nth-child(1) {\n        margin: 0rem 2.4rem 0 2.4rem !important;\n    }\n\n    .snapdragon-intro {\n        height: initial;  \n        padding: 2rem;\n    }\n\n    .lesson-icon {\n        width: 80px;\n        height: 80px;\n        object-fit: none;\n    }\n\n    .lesson-list-carousel-item {\n        align-items: center;\n        display: grid;\n        grid-template-columns: 1fr 3fr 1fr;\n    }\n\n    .lesson-list-carousel-item > div:nth-child(3) {\n        justify-content: center;\n        margin: 0;\n    }\n\n    .lesson-list-carousel-item > div:nth-child(3) > div {\n        display: flex;\n    }\n\n    body {\n        max-width: 1200px;\n    }\n\n    .left-grid {\n        width: 458px;\n        grid-area: left;\n    }\n\n    .right-grid {\n        width: 742px;\n        grid-area: right;\n    }\n\n    .grid {\n        grid-template-columns: 1fr 1fr;\n        grid-template-areas: "right left";\n    }\n\n    .left-grid {\n        display: grid;\n    }  \n\n    .pool {\n        max-width: 70%;\n    }\n\n    .bird-song, .taxon-identification, .taxon-summary {\n        margin: 1rem 4rem 0 4rem;\n    }\n\n    .strips {\n        cursor: pointer;\n        width: initial;\n        overflow-y: auto;\n        padding: .5rem;\n    }\n\n    .strip {\n        min-width: initial;\n        margin: .75rem .5rem .75rem 0;\n        padding: .75rem;\n    }\n\n    body {\n        font-size: .9em;\n    }\n\n    .home-scrolling-container .scrollable {\n        position: relative; \n        top: 0;\n    }\n\n    .mixed-content-container {\n        top: calc(\n              var(--vhStandardBlock, 10vh)\n            + var(--vhCalendar,11vh));\n        height: calc(\n              var(--vh, 1vh) * 100\n            - var(--vhRunningBlocks,15vh)\n            - var(--vhDoubleStandardBlock,20vh) \n            - var(--vhCalendar,11vh) \n            - 1.5rem);\n      }\n\n      .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n      }\n    \n      iframe {\n          width: 100%;\n          border: 0;\n      }\n\n      #badgeListModal .modal-dialog {\n        width: 30vw;\n        margin: calc( var(--vhRunningBlock) + var(--vhStandardBlock) + 5px + .5rem ) auto auto auto;\n      }\n\n      #badgeListModal .modal-body {\n        height: calc(var(--vhDoubleStandardBlock, 20vh) * 2);\n      }\n\n      #wikiModal .modal-dialog {\n        max-width: 900px;\n        margin: auto;\n      }\n\n      #wikiModal iframe {\n          height: 100%;\n      }\n    \n      #imageModal .modal-dialog {\n        max-width: 600px;\n        margin: auto;\n      }\n        \n      #imageModal .modal-title span {\n          display: flex;\n          flex-direction: row;\n      }\n    \n      #imageModal .modal-title span > span:nth-child(1) {\n          margin: 0 .5rem 0 0;\n      }\n    \n      #iNatWidgetModal .modal-dialog {\n          max-width: 45vw;\n      }\n      \n      #iNatWidgetModal .modal-header {\n          display: inline;\n      }\n    \n      #cardModal .feature-types {\n          width: 100%;\n          margin: 0;\n      }\n\n      .info-details {\n        padding: 1rem 4rem;\n      }\n\n      .info.carousel.slide .carousel-item div dt, .info.carousel.slide .carousel-item div dd {\n          padding: .5rem;\n      }\n\n    .non-taxon.card img {\n        height: 5.5rem;\n        width: 5.5rem;\n      }\n\n    .response-update {\n        left: 0;\n        right: 0;\n        justify-content: flex-end;\n    }\n\n    .strip:hover, .strip:focus, .strip:focus-within {\n        box-shadow: 0 2px 8px transparent;\n        border: 1px solid var(--snap-border-light);\n    }\n\n    .strip:hover button, .strip:focus button, .strip:focus-within button {\n      color: var(--snap-text-medium-dark);\n    }\n\n    .strip {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .strip > div:nth-child(2) {\n        margin-top: .5rem;\n    }\n\n    .strip-single-line {\n        padding: 1.5rem;\n    }\n\n    .portrait, .portrait-grid {\n        display: none !important;\n    }  \n\n    .header > div:nth-child(2) {\n        max-width: initial;\n        text-transform: initial;\n    }\n\n    .non-taxa {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n    }\n\n    .non-taxa .btn-group {\n        width: 12rem;\n        flex-direction: column;\n        margin: 0 .5rem;\n    }\n\n    .non-taxa .btn.btn-secondary {\n        height: 3rem;\n        cursor: pointer !important;\n    }\n\n    .non-taxon-card-wiki {\n        margin: 0 .5rem 0 0;\n    }\n\n    .modal-header-container {\n        padding-bottom: 4px;\n        border-bottom: 1px solid var(--snap-border-light);\n    }\n}\n\n@media (min-width: 1024px) {\n\n    .left-grid {\n        width: 391px;\n    }\n\n    .right-grid {\n        width: 633px;\n    }\n\n    .squares {\n        padding-top: 2rem;\n    }\n\n    .squares > div {\n        width: 190px;\n        height: 150px;\n    }\n\n    .table-header th:nth-child(2), .table-row td:nth-child(2) {\n        flex: 5;\n    }\n    \n    .table-header th:nth-child(3), .table-row td:nth-child(3) {\n        flex: 5;\n        font-size: .8rem;\n        line-height: 2;\n        padding-left: 1rem;\n    }\n    \n    .table-header th:nth-child(4), .table-row td:nth-child(4) {\n        flex: 2;\n    }\n\n    .table-header th:nth-child(3) span:nth-child(2):after {\n        margin-left: .355rem;\n    }\n\n    .table-header th:nth-child(3):after {\n        display: none;\n    }\n\n    .species-list .table-header th:nth-child(3) span:after {\n        display: inline-block;\n        width: 0;\n        height: 0;\n        margin-left: .255rem;\n        vertical-align: middle;\n        content: "";\n        border-top: .3rem solid;\n        border-right: .3rem solid transparent;\n        border-bottom: 0;\n        border-left: .3rem solid transparent;\n        cursor: default;\n    }\n\n    .species-list .table-header th:nth-child(4):after, .species-list .table-header th:nth-child(5):after {\n        display: inline-block;\n        width: 0;\n        height: 0;\n        margin-left: .255rem;\n        vertical-align: middle;\n        content: "";\n        border-top: .3rem solid;\n        border-right: .3rem solid transparent;\n        border-bottom: 0;\n        border-left: .3rem solid transparent;\n        cursor: default;\n    }\n\n    .table-header th:nth-child(3) {\n        flex-direction: column;\n        display: flex;\n        align-items: start;\n    }\n\n    .table-header th:nth-child(3) span {\n        flex: 1;\n        line-height: initial;\n    }\n\n    .table-header th:nth-child(5), .table-row td:nth-child(5),\n    .table-header th:nth-child(6), .table-row td:nth-child(6) {\n        flex: 1;\n        display: flex;\n        align-items: center;\n    }\n\n    .narrow-screen {\n        display: none !important;\n    }\n\n    .names-container .vernacular-name {\n        max-width: none;\n      }\n}\n\n@media (max-width: 1024px) {    \n    .wide-screen {\n      display: none !important;\n    }\n}\n\n@media (min-width: 1112px) {\n\n    .left-grid, .tiles-container {\n        width: 450px;\n    }\n\n    .squares > div {\n        height: calc( ((var(--vh, 1vh) * 100) - var(--vhFixtures, 15vh) - var(--vhDoubleStandardBlock,20vh)) / 3);\n        width: 225px; \n    }\n\n    .squares {\n        padding-top: 1rem;\n    }\n    \n    .squares > div img {\n        padding: .5rem;\n    }\n\n    .right-grid {\n        width: 662px;\n    }\n}\n\n@media (min-width: 1200px) {\n    \n    .left-grid, .tiles-container {\n        width: 458px;\n    }\n\n    .right-grid {\n        width: 742px;\n    }\n\n    .squares > div {\n        width: 229px;\n    }\n}',""]),t.exports=a},544:function(t,a,i){var o=i(545);"string"==typeof o&&(o=[[t.i,o,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(63)(o,c);o.locals&&(t.exports=o.locals)},545:function(t,a,i){(a=i(62)(!1)).push([t.i,'.species-table {\n  border-right: 1px solid var(--snap-btn-auxillary);\n  border-left: 1px solid var(--snap-btn-auxillary);\n  border-bottom: 1px solid var(--snap-btn-auxillary);\n}\n\n.species-table td:last-child {\n  margin-right: .5rem;\n}\n\n.table-header {\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  border: 0;\n  height: var(--vhRunningBlock,7.5vh);\n  z-index: 10;\n  align-items: center;\n  top: 0;\n  background-color: var(--snap-btn-auxillary);\n  color: var(--snap-text-light);\n  font-size: 1.1em;\n  letter-spacing: .01rem;\n}\n\n.table-header th {\n  cursor: pointer;\n  font-weight: initial;\n}\n\n.table-row {\n    display: flex;\n    flex-direction: row;\n    height: var(--vhRow, 12.5vh);\n    font-size: .9em;\n  }\n  \n  .table-row-chevron {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n  }\n\n  tr.master:nth-child(2n + 1) {\n    background-color: var(--snap-content-background);\n  }\n \n  .table-row img, table input {\n    cursor: pointer;\n  }\n  \n  .table-row img {\n    width: 64px;\n    height: 64px;\n    object-fit: none;\n    padding: .5rem;\n  }\n\n  .table-row img:hover {\n    opacity: .8;\n  }\n  \n\n  .table-row img:focus {\n    border: 1px solid black;\n  }\n  \n  .table-row .lp-level {\n    padding: 0 0 0 0.5rem;\n  }\n\n  .inserted-td {\n    font-size: .9rem;\n    white-space: normal;\n    text-align: left;\n    padding: .5rem;\n  }\n\n  th {\n    text-align: initial;\n  }\n\n\n  .table-header th:nth-child(1) {\n    min-width: 80px;\n  }\n\n  .species-list .table-header th:nth-child(2):after,\n  .species-list .table-header th:nth-child(3):after {\n    display: inline-block;\n    width: 0;\n    height: 0;\n    margin-left: 0.255rem;\n    vertical-align: middle;\n    content: "";\n    border-top: 0.3rem solid;\n    border-right: 0.3rem solid transparent;\n    border-bottom: 0;\n    border-left: 0.3rem solid transparent;\n    cursor: default;\n  }\n  \n  .table-header th:nth-child(1) > span,\n  .table-footer td:nth-child(1) > span {\n    height: 1px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .table-header th:nth-child(2) {\n    flex: 3;\n    align-items: flex-start;\n  }\n  \n  .master.table-row td:nth-child(1) {\n    width: 80px;\n    display: flex;\n    align-items: center;\n  }\n\n  .species-description > td:nth-child(1) {\n    width: 100%;\n  }\n\n  .table-row td:nth-child(2) {\n    flex: 3;\n    display: flex;\n    align-items: flex-start;\n    flex-direction: column;\n    justify-content: center;\n  }\n\n  .table-header th:nth-child(3),\n  .table-row td:nth-child(3),\n  .table-header th:nth-child(4),\n  .table-row td:nth-child(4) {\n    flex: 1;\n    display: flex;\n    align-items: center;\n  }\n\n  .table-header th:nth-child(5), .table-row td:nth-child(5) {\n    flex: 1;\n    display: flex;\n    align-items: center;\n  }\n\n  .table-header th:nth-child(6), .table-row td:nth-child(6) {\n      flex: 1;\n      display: flex;\n      align-items: center;\n  }\n\n  .hide-column {\n    flex: 0 !important;\n    display: none !important;\n  }\n\n .species-table .mushroom-icon svg {\n  width: 1rem;\n  height: 1rem;\n  margin-top: .3rem;\n }\n\ndiv.species-description {\n  background-color: var(--snap-species-highlight-background);\n  border-top: .5px solid var(--snap-youtube-green);\n  border-bottom: .5px solid var(--snap-youtube-green);\n  padding: 1rem;\n  color: rgba(0, 0, 0, .85);\n  height: initial;\n}\n\n.species-description > td {\n  width: 100%;\n}\n\n.youtube-icon, .accordion-icon {\n  font-size: 1.8rem;\n  cursor: pointer;\n}\n\ntable .youtube-icon, .accordion-icon {\n  font-size: 1.2rem;\n}\n\n.species-container {\n  position: relative;\n  width: 100%;\n}\n\n.lesson-list-action-icons {\n  right: .5rem;\n  bottom: 1.5rem;\n}\n \n.species-table .underline-link {\n    text-transform: initial;\n    display: initial;\n}  \n\n.btn-current-lesson-begin {\n  width: calc(var(--vwGrid) - 1rem);\n  margin: .5rem;\n}',""]),t.exports=a},56:function(t,a,i){"use strict";i.d(a,"a",(function(){return b}));var o=i(18),c=i(4),l=i(12),u=i(26),d=i(35),p=i(5),m=i(6),h=i(8);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}function getItems(t,a){return _getItems.apply(this,arguments)}function _getItems(){return(_getItems=_asyncToGenerator(regeneratorRuntime.mark((function _callee12(t,a){var i;return regeneratorRuntime.wrap((function _callee12$(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,"dynamic"!==t.behaviour){o.next=34;break}if(!(t.items&&t.items.length>0&&t.items[0].collectionId===t.id&&t.speciesRange===a.guide.speciesRange)){o.next=7;break}return o.abrupt("return",new Promise((function(a){a(t.items)})));case 7:if("LOCATION"!==a.guide.guideType){o.next=29;break}return o.prev=8,o.next=11,Object(d.d)(a,!0);case 11:i=o.sent,a.guide.coordinates={long:i.query[0],lat:i.query[1]},o.next=18;break;case 15:o.prev=15,o.t0=o.catch(8),Object(h.a)("Error for getPlace: ",o.t0);case 18:return o.prev=18,o.next=21,Object(u.d)(a);case 21:return o.abrupt("return",o.sent);case 24:o.prev=24,o.t1=o.catch(18),logErrorg("getInatSpecies in getItems: ",o.t1);case 27:o.next=32;break;case 29:return o.next=31,Object(u.d)(a);case 31:return o.abrupt("return",o.sent);case 32:o.next=36;break;case 34:if("static"!==t.behaviour){o.next=36;break}return o.abrupt("return",y(t.species));case 36:o.next=42;break;case 38:return o.prev=38,o.t2=o.catch(0),Object(h.a)("Error for getItems: ",o.t2),o.abrupt("return",[]);case 42:case"end":return o.stop()}}),_callee12,this,[[0,38],[8,15],[18,24]])})))).apply(this,arguments)}var g=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,a){var i,c,l,u,d;return regeneratorRuntime.wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:if(p.prev=0,a.collection={id:t.id},!(t.items.length>0)){p.next=5;break}return Object(h.b)("no collection items in loadCollection, collection: ".concat(t.name)),p.abrupt("return",t);case 5:return i=[],p.prev=7,p.next=10,getItems(t,a);case 10:i=p.sent,p.next=16;break;case 13:p.prev=13,p.t0=p.catch(7),Object(h.a)("getItems in loadCollection",p.t0);case 16:if(i){p.next=19;break}return Object(h.b)("no items from getItems in loadCollection to filter"),p.abrupt("return",t);case 19:if(t.items=i.filter((function(t){return t.name})),!t.nextItem){p.next=23;break}return p.abrupt("return");case 23:if(Object(o.a)("lepidoptera",t.iconicTaxa.map((function(t){return t.id})))&&!Object(o.a)("insecta",t.iconicTaxa.map((function(t){return t.id})))&&(c=t.items.filter((function(t){return"insecta"===t.taxonomy.class.toLowerCase()})),l=c.filter((function(t){return"lepidoptera"===t.taxonomy.order.toLowerCase()})),u=t.items.filter((function(t){return"insecta"!==t.taxonomy.class.toLowerCase()})),t.items=[].concat(_toConsumableArray(l),_toConsumableArray(u))),"dynamic"===t.behaviour&&(t.speciesRange=a.guide.speciesRange),!t.items){p.next=38;break}return p.next=28,v(t,a);case 28:return d=p.sent,p.prev=29,p.abrupt("return",d);case 33:p.prev=33,p.t1=p.catch(29),Object(h.a)("Error for loadCollectionItemProperties: ",p.t1);case 36:p.next=40;break;case 38:return Object(h.b)("No results for callbackWhenNoResults"),p.abrupt("return",t);case 40:p.next=45;break;case 42:p.prev=42,p.t2=p.catch(0),Object(h.a)("Error for loadCollection: ",p.t2);case 45:case"end":return p.stop()}}),_callee,this,[[0,42],[7,13],[29,33]])})));return function loadCollection(a,i){return t.apply(this,arguments)}}(),v=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee10(t,a){var i,o,u,d,h,g,v,y,b,_,S,x;return regeneratorRuntime.wrap((function _callee10$(w){for(;;)switch(w.prev=w.next){case 0:return"dynamic"===t.behaviour?t.items=c.utils.sortBy(t.items.filter((function(t){return t})),"observationCount","desc"):(t.items.forEach((function(t){t.time&&(t.firstTime=t.time[0])})),t.items=c.utils.sortBy(t.items,"firstTime","asc")),i=_toConsumableArray(new Set(t.items.map((function(t){return t.taxonomy.family})))),o=_toConsumableArray(new Set(t.items.map((function(t){return t.taxonomy.order})))),u=_toConsumableArray(new Set(t.items.map((function(t){return t.taxonomy.genus})).filter((function(t){return t})))),d=[],h=[],g=[],w.next=7,p.a.getTaxaNames();case 7:return w.sent[0].value,v=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var i;return regeneratorRuntime.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,p.a.getTaxonByName(a,t);case 2:return i=o.sent,Object.entries(i).length>0&&i.constructor===Object&&g.push(i),o.abrupt("return",g);case 5:case"end":return o.stop()}}),_callee2,this)})));return function(a){return t.apply(this,arguments)}}())));case 1:case"end":return i.stop()}}),_callee3,this)})));return function getGenusTaxa(a){return t.apply(this,arguments)}}(),w.next=12,v(u);case 12:return y=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){return regeneratorRuntime.wrap((function _callee5$(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t){var i;return regeneratorRuntime.wrap((function _callee4$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,p.a.getTaxonByName(a,t);case 2:return i=o.sent,Object.entries(i).length>0&&i.constructor===Object&&d.push(i),o.abrupt("return",d);case 5:case"end":return o.stop()}}),_callee4,this)})));return function(a){return t.apply(this,arguments)}}())));case 1:case"end":return i.stop()}}),_callee5,this)})));return function getFamilyTaxa(a){return t.apply(this,arguments)}}(),w.next=15,y(i);case 15:return b=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(t){return regeneratorRuntime.wrap((function _callee7$(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var i;return regeneratorRuntime.wrap((function _callee6$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,p.a.getTaxonByName(a,t);case 2:return i=o.sent,Object.entries(i).length>0&&i.constructor===Object&&h.push(i),o.abrupt("return",h);case 5:case"end":return o.stop()}}),_callee6,this)})));return function(a){return t.apply(this,arguments)}}())));case 1:case"end":return i.stop()}}),_callee7,this)})));return function getOrderTaxa(a){return t.apply(this,arguments)}}(),w.next=18,b(o);case 18:return _=function getFamilyNames(t){return t.family&&t.family.names?t.family.names[0].names?t.family.names[0].names:t.family.names:""},S=function findRank(t,a,i){var o=a.taxonomy[i.name.toLowerCase()];return(t.length>0?t.find((function(t){return t.name===o})):null)||""},t.items.forEach(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(t,i){var o;return regeneratorRuntime.wrap((function _callee8$(c){for(;;)switch(c.prev=c.next){case 0:o=t.name.split(" "),t.taxonomy.genus=o[0],t.taxonomy.species=o[1],t.genus=S(g,t,m.a.taxon.GENUS),t.family=S(d,t,m.a.taxon.FAMILY),t.family&&(t.family.names=_(t),t.family.vernacularName=t.family.names[0]),t.order=S(h,t,m.a.taxon.ORDER),t.snapIndex=i+1,t.id=t.eolId,t.vernacularNames=l.a.getVernacularNames(t,a),t.vernacularName=l.a.getVernacularName(t,a),t.name=o.slice(0,2).join(" "),t.questionIds=t.questionIds||[];case 13:case"end":return c.stop()}}),_callee8,this)})));return function(a,i){return t.apply(this,arguments)}}()),x=function loadTraitsInParallel(t){return Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(t){var a;return regeneratorRuntime.wrap((function _callee9$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,p.a.getTraitsBySpeciesName(t.name);case 2:return a=i.sent,t.traits=a||{},i.abrupt("return",t);case 5:case"end":return i.stop()}}),_callee9,this)})));return function(a){return t.apply(this,arguments)}}()))},w.next=24,x(t.items);case 24:return t.itemIndex=0,t.glossary=[].concat(_toConsumableArray(Array.from(new Set(t.items.map((function(t){return t.iconicTaxon}))))),["common"]),w.abrupt("return",t);case 27:case"end":return w.stop()}}),_callee10,this)})));return function loadCollectionItemProperties(a,i){return t.apply(this,arguments)}}(),y=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee11(t){return regeneratorRuntime.wrap((function _callee11$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.getSpeciesInParallel(t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),_callee11,this)})));return function getSnapdragonSpeciesData(a){return t.apply(this,arguments)}}(),b={loadCollection:g,loadCollectionItemProperties:v,getSnapdragonSpeciesData:y}},568:function(t,a,i){"use strict";i.r(a);i(179),i(536),i(537),i(538),i(208),i(540),i(210),i(542),i(544);var o=i(4),c=i(1),l=i(115),u=i(18),d=i(177),p=i(13),m=function getRoundItems(t,a,i){var o=(t-1)*a,c=o+a;return i.slice(o,c)},h=i(29);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var g=function getTraitTests(t){return void 0===t?[]:t.map((function(t){var a=function getTraitsForTests(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(void 0===a.traits||0===Object.keys(a.traits).length&&a.traits.constructor===Object)return{};var c=[].concat(_toConsumableArray(h.a.getTraitsToExclude()),_toConsumableArray(i),["lookalikes","relationships"]).filter((function(t){return t})),l=h.a.getRandomTrait(a.traits,c);if(0===Object.keys(l).length&&l.constructor===Object)return{};var u=l.unit?h.a.getTraitsPoolForUnits(l):l.role?h.a.getTraitsPoolForRoles(l):h.a.getTraitsPool(l,t),d=u.traitsPool,p=u.help,m=l.unit?l.value.join("-"):l.value.join(",");l.value=l.value.map((function(t){return o.utils.capitaliseFirst(t)}));var g=h.a.getSetOfTraitAnswers(d,l),v={question:"Match the trait",help:p=p||l.key,trait:l};return{question:m,answers:g,overrides:v,typedItemTraits:a.traits}}(c.b.getState().enums,t),i=a.question,l=a.answers,u=a.overrides;return i?{item:t,question:i,answers:l,overrides:u}:{}}))},v=i(46);function ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function _defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var y=function getBirdsongTests(t,a){return void 0===t?[]:t.map((function(i){if(i.taxonomy.class&&"aves"!==i.taxonomy.class.toLowerCase())return[];var o=b(i,t,a),c=o.question,l=o.answers,u=o.overrides;return c?{item:i,question:c,answers:l,overrides:u}:{}}))},b=function getBirdsongTest(t,a,i){if(t.traits&&0!==Object.keys(t.traits).length){var c=function _objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(i),!0).forEach((function(a){_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}({name:"song"},t.traits.song),l=v.a(3,i.items.filter((function(a){return a.name.toLowerCase()!==t.name.toLowerCase()})));l.push(t);var u=o.utils.shuffleArray(l.map((function(t){return t.name})));return{question:t.name,answers:u,overrides:{question:"Match the birdsong",vernacularName:"Common name",binomial:"Latin name",trait:c}}}},_=i(5);function lookalike_test_toConsumableArray(t){return function lookalike_test_arrayWithoutHoles(t){if(Array.isArray(t))return lookalike_test_arrayLikeToArray(t)}(t)||function lookalike_test_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function lookalike_test_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return lookalike_test_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lookalike_test_arrayLikeToArray(t,a)}(t)||function lookalike_test_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lookalike_test_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var S=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){var a,i;return regeneratorRuntime.wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return a=function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==t){a.next=2;break}return a.abrupt("return",new Promise((function(t){return t([])})));case 2:return a.abrupt("return",Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var a,i,o,c;return regeneratorRuntime.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,w(t);case 2:if(a=l.sent,i=a.question,o=a.answers,c=a.overrides,i){l.next=8;break}return l.abrupt("return",new Promise((function(t){return t({})})));case 8:return l.abrupt("return",{item:t,question:i,answers:o,overrides:c});case 9:case"end":return l.stop()}}),_callee,this)})));return function(a){return t.apply(this,arguments)}}())));case 3:case"end":return a.stop()}}),_callee2,this)})));return function init(){return a.apply(this,arguments)}}(),o.next=3,a();case 3:return i=o.sent,o.abrupt("return",i);case 5:case"end":return o.stop()}}),_callee3,this)})));return function getLookalikeTests(a){return t.apply(this,arguments)}}(),x=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(t){var a,i,o;return regeneratorRuntime.wrap((function _callee6$(c){for(;;)switch(c.prev=c.next){case 0:if(t.traits&&0!==Object.keys(t.traits).length){c.next=2;break}return c.abrupt("return",{});case 2:if(a=t.traits.lookalikes){c.next=5;break}return c.abrupt("return",new Promise((function(t){return t([])})));case 5:if(0!==(i=a.map((function(t){return t.lookalike.name}))).length){c.next=8;break}return c.abrupt("return",{});case 8:return o=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(i.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t){return regeneratorRuntime.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.getSpeciesByName(t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),_callee4,this)})));return function(a){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),_callee5,this)})));return function getLookalikes(){return t.apply(this,arguments)}}(),c.next=11,o();case 11:return i=(i=c.sent).filter((function(t){return t})),c.abrupt("return",i);case 14:case"end":return c.stop()}}),_callee6,this)})));return function getItemLookalikes(a){return t.apply(this,arguments)}}(),w=function getLookalikeTest(t){return function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){var a,i,o;return regeneratorRuntime.wrap((function _callee7$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,x(t);case 2:return a=c.sent,i=a.length>0?t.name:null,o=[i].concat(lookalike_test_toConsumableArray(a.map((function(t){return t.name})))),c.abrupt("return",{question:i,answers:o,overrides:{question:"Avoid look-alikes",help:"(Pick one correct image)",binomial:"Latin name",vernacularName:"Common name",trait:{name:"lookalikes",lookalikes:a}}});case 6:case"end":return c.stop()}}),_callee7,this)})));return function init(){return a.apply(this,arguments)}}()()},T=i(16);function definition_test_toConsumableArray(t){return function definition_test_arrayWithoutHoles(t){if(Array.isArray(t))return definition_test_arrayLikeToArray(t)}(t)||function definition_test_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function definition_test_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return definition_test_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return definition_test_arrayLikeToArray(t,a)}(t)||function definition_test_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function definition_test_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function definition_test_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var E=function getDefinitionTests(t){return void 0===t?[]:t.map((function(t){return k(t)}))},k=function(){var t=function definition_test_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){definition_test_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){definition_test_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a,i,l,d,p,m,h,g,y,b,_,S,x;return regeneratorRuntime.wrap((function _callee$(w){for(;;)switch(w.prev=w.next){case 0:return a=c.b.getState(),i=a.config,l=a.collection,d=a.glossary,i.isPortraitMode,p=4,m=Object(T.e)(t.taxonomy,T.b).value,h=d.filter((function(t){return u.a(t.taxon,[m,"common"])})),h=o.utils.shuffleArray(h),g=t.terms?o.utils.shuffleArray(t.terms)[0]:t.genus&&t.genus.terms?t.genus.terms[l.itemIndex]?t.genus.terms[l.itemIndex]:t.family&&t.family.terms?o.utils.shuffleArray(t.family.terms)[0]:null:null,y=g?h.find((function(t){return t.term.toLowerCase()===g.toLowerCase()})):h[0],b=v.a(p-1,v.a(p,o.utils.shuffleArray(h)).filter((function(t){return t.term.toLowerCase()!==y.term.toLowerCase()}))).map((function(t){return o.utils.capitaliseFirst(t.definition)})),_=y.definition,S=o.utils.shuffleArray([_].concat(definition_test_toConsumableArray(b))),x=i.isLandscapeMode?"Select the correct answer":"Select correct answer",w.abrupt("return",{question:_,answers:S,overrides:{question:y.term,help:x,binomial:t.name,vernacularName:t.vernacularName}});case 12:case"end":return w.stop()}}),_callee,this)})));return function getDefinitionTest(a){return t.apply(this,arguments)}}();function bonus_test_handler_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function bonus_test_handler_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?bonus_test_handler_ownKeys(Object(i),!0).forEach((function(a){bonus_test_handler_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):bonus_test_handler_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function bonus_test_handler_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function bonus_test_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function bonus_test_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){bonus_test_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){bonus_test_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var L={getTests:function(){var t=bonus_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t,a,i,o,c){var l,p,m,h,v,b,_,x,w;return regeneratorRuntime.wrap((function _callee3$(T){for(;;)switch(T.prev=T.next){case 0:if(l=t.items.map((function(t,i){return u.a(i,a)?bonus_test_handler_objectSpread(bonus_test_handler_objectSpread({},t),{},{itemIndex:i}):null})).filter((function(t){return t})),p=function addLayoutToTest(t){return t.map((function(t){return t.itemIndex=t.item?t.item.itemIndex:0,t=bonus_test_handler_objectSpread(bonus_test_handler_objectSpread(bonus_test_handler_objectSpread({},t),x),{},{lessonName:o,levelName:c})}))},m=function getTraitTypeTests(t){return new Promise((function(a){return a(g(t))}))},h=function getTraitTypeBirdsongTests(t,a){return new Promise((function(i){return i(y(t,a))}))},v=function getTraitTypeLookalikeTests(t){return S(t)},b=function getDefinitionTypeTests(t){return E(t)},_=[],[],[],[],!(x=i.find((function(t){return"trait-property-match"===t.name})))){T.next=20;break}if(!x.types){T.next=16;break}return w=function(){var a=bonus_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var a,i,o;return regeneratorRuntime.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,x.types.map(function(){var a=bonus_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:i.t0=a,i.next="traits"===i.t0?3:"song"===i.t0?4:"lookalikes"===i.t0?5:"definition"===i.t0?6:7;break;case 3:return i.abrupt("return",m(l));case 4:return i.abrupt("return",h(l,t));case 5:return i.abrupt("return",v(l));case 6:return i.abrupt("return",b(l));case 7:case"end":return i.stop()}}),_callee,this)})));return function(t){return a.apply(this,arguments)}}());case 2:return a=c.sent,c.next=5,Promise.all(a);case 5:return i=c.sent,o=i.map((function(t){return t=t.filter((function(t){return t.question})),p(t)})),c.abrupt("return",o);case 8:case"end":return c.stop()}}),_callee2,this)})));return function getResolvedPromises(){return a.apply(this,arguments)}}(),T.next=13,w();case 13:_=T.sent,T.next=20;break;case 16:_=m(l),h(l,t),v(l),b(l);case 20:return T.abrupt("return",d.a(_));case 21:case"end":return T.stop()}}),_callee3,this)})));return function getTests(a,i,o,c,l){return t.apply(this,arguments)}}()};function provider_test_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function provider_test_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){provider_test_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){provider_test_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var O=function(){var t=provider_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(t.questionIds){a.next=2;break}return a.abrupt("return",new Promise((function(t){return t(null)})));case 2:return a.abrupt("return",Promise.all(t.questionIds.map(function(){var a=provider_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_.a.getQuestionById(a,t.name);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),_callee,this)})));return function(t){return a.apply(this,arguments)}}())));case 3:case"end":return a.stop()}}),_callee2,this)})));return function getItemLayouts(a){return t.apply(this,arguments)}}(),A={getLayouts:function(){var t=provider_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t,a){var i,o,c,l;return regeneratorRuntime.wrap((function _callee4$(d){for(;;)switch(d.prev=d.next){case 0:if(!t.species){d.next=16;break}if(i=t.species.filter((function(t){return u.a(t.name,a)})),!((o=i.filter((function(t){return t.questions}))).length>0)){d.next=5;break}return d.abrupt("return",Promise.all(o.map((function(t){return t.questions}))));case 5:if(!(c=t.items.filter((function(t){return u.a(t.name,a)})).map((function(t){return{name:t.name,questionIds:t.questionIds}})))){d.next=13;break}return l=c.map(function(){var t=provider_test_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:if(!t.questionIds){a.next=4;break}return a.next=3,O(t);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),_callee3,this)})));return function(a){return t.apply(this,arguments)}}()),d.next=10,Promise.all(l);case 10:return d.abrupt("return",d.sent);case 13:return d.abrupt("return",new Promise((function(t){return t(null)})));case 14:d.next=17;break;case 16:return d.abrupt("return",[]);case 17:case"end":return d.stop()}}),_callee4,this)})));return function getLayouts(a,i){return t.apply(this,arguments)}}()},j=i(14);function class_behaviour_toConsumableArray(t){return function class_behaviour_arrayWithoutHoles(t){if(Array.isArray(t))return class_behaviour_arrayLikeToArray(t)}(t)||function class_behaviour_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function class_behaviour_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return class_behaviour_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return class_behaviour_arrayLikeToArray(t,a)}(t)||function class_behaviour_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function class_behaviour_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var C=function hasClass(t,a){if(!t)return!1;var i=class_behaviour_toConsumableArray(t.classList);return u.a(a,i)},I=C,P=i(333),R=i(178),N=i(332),M=function cleanText(t){return t.term?t.term.toLowerCase():t.toLowerCase().replace(/ /g,"")},q=function isAnswerCorrect(t){var a;if(t.answeredIndex)return parseInt(t.answeredIndex)===t.answerIndex;switch(t.answer=t.answer.trim(),a=function isAnswerEqualToQuestion(t,a){return P.a(R.a,N.a)(M(t),M(a))}(t.question,t.answer),t.taxon){case"vernacular":if(t.names=t.names.map((function(t){return t.toLowerCase()})),t.names&&t.names.length>0){var i=u.a(t.answer,t.names);!a&&i&&(t.alternativeAccepted=!0),a=a||i}}return a},D=function markTest(t){var a=l.a(t);return a.success=a.trait?function isTraitAnswerCorrect(t){return P.a(R.a,N.a)(t.answer,t.question)}(a):q(a),a.colour=a.success?"snap-success":"snap-alert",a},H=i(37),G=i(2),U=i(10),B=i(33),W=i(40),V=i(42),Y=i(67),K=i(66),z=i(6),$=i(12),X=i(31);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function score_summary_handler_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function score_summary_handler_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?score_summary_handler_ownKeys(Object(i),!0).forEach((function(a){score_summary_handler_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):score_summary_handler_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function score_summary_handler_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function score_summary_handler_toConsumableArray(t){return function score_summary_handler_arrayWithoutHoles(t){if(Array.isArray(t))return score_summary_handler_arrayLikeToArray(t)}(t)||function score_summary_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function score_summary_handler_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return score_summary_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return score_summary_handler_arrayLikeToArray(t,a)}(t)||function score_summary_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function score_summary_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var Q=function getLessonScores(t,a,i,o){if(!t)return[i];var c=u.a(i.binomial,t.scores.map((function(t){return t.binomial})));return a.isNextRound?c||0===i.total?t.scores:[].concat(score_summary_handler_toConsumableArray(t.scores),[i]):c?t.scores:[].concat(score_summary_handler_toConsumableArray(t.scores),[i])},J=function getSummaryRows(t){return t=t.map((function(t,a){return score_summary_handler_objectSpread(score_summary_handler_objectSpread({},t),{},{id:"".concat(a).concat(o.utils.toCamelCase(t.binomial)),question:t.question.term?t.question.term:t.question,answers:t.answers.map((function(a){return function getAnswer(t,a){var i="object"===_typeof(t),c=i?t.value||t.term:t,l=i&&!!t.url,u=i?t.url:"",d=a.question.term||a.question,p=""!==c&&o.utils.parseToLowerCase(c)===o.utils.parseToLowerCase(d),m=!p&&o.utils.parseToLowerCase(c)===o.utils.parseToLowerCase(a.answer),h=i&&t.name||"";return{value:c,url:u,hasImage:l,isTrue:p,isWrongAnswer:m,name:h}}(a,t)}))})}))};var Z=i(257),ee=i.n(Z),ne=i(258),te=i.n(ne),re=i(259),ae=i.n(re);function score_summary_toConsumableArray(t){return function score_summary_arrayWithoutHoles(t){if(Array.isArray(t))return score_summary_arrayLikeToArray(t)}(t)||function score_summary_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function score_summary_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return score_summary_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return score_summary_arrayLikeToArray(t,a)}(t)||function score_summary_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function score_summary_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function score_summary_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function score_summary_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?score_summary_ownKeys(Object(i),!0).forEach((function(a){score_summary_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):score_summary_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function score_summary_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function score_summary_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function score_summary_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){score_summary_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){score_summary_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var ie=function renderScoreSummary(t,a){!function init(){var i=c.b.getState(),o=i.lessons,l=i.score,u=i.userAction,d=o.length>0&&o.find((function(a){return a.collection.id===parseInt(t)}))?o.find((function(a){return a.collection.id===parseInt(t)})):c.b.getState(),m=d.collection,h=d.history,g=d.config,v=d.score,y=c.b.getState().lesson;if(!H.a.overrideLesson(u,g)){var b=document.createElement("template");b.innerHTML=ee.a;var _=g.isLandscapeMode?a||document.querySelector("#lessonModal .js-modal-text"):p.a.rightBody;_.innerHTML="",Object(G.a)({collection:m,lesson:y},b.content,_);var S=document.querySelectorAll(".js-continue-link");if(setTimeout((function(){S[0].focus()}),250),a&&S.forEach((function(t){return t.classList.add("snap-inactive")})),"summary"===y.layoutName)document.querySelector(".js-review-progress").innerHTML="";var x=Q(h,y,l,v).reverse();x.forEach((function(t){return oe(x,t,g)}));var w=function(){var a=score_summary_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:a.preventDefault(),X.a.changeRequest({requestType:z.a.lessonState.NEXT_ROUND,requestArgs:{id:t,lesson:score_summary_objectSpread(score_summary_objectSpread({},y),{},{isNextRound:!0})}});case 2:case"end":return i.stop()}}),_callee,this)})));return function handleContinueLesson(t){return a.apply(this,arguments)}}(),T=function(){var t=score_summary_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){return regeneratorRuntime.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.a.purgeLesson();case 2:case"end":return t.stop()}}),_callee2,this)})));return function handleNewLesson(a){return t.apply(this,arguments)}}();y.isLessonComplete?S.forEach((function(t){t.innerHTML="START NEW LESSON",t.addEventListener("click",T,{once:!0})})):S.forEach((function(t){t.addEventListener("click",w,{once:!0})})),window.addEventListener("keydown",(function(t){"Enter"===t.key&&w(t)}),{once:!0})}}()},oe=function renderScoreSummaryRow(t,a,i){var o=document.createElement("template");o.innerHTML=te.a;var c=document.querySelector(".js-score-summary-rows");if(0===a.total)return c.innerHTML="",o.innerHTML=ae.a,void Object(G.a)({},o.content,c);var l=[].concat(score_summary_toConsumableArray(a.passes),score_summary_toConsumableArray(a.fails));l=J(l);var u=a.vernacularName||$.a.getVernacularName(a.binomial,i);if(Object(G.a)({vernacularName:u,binomial:a.binomial,rows:l,score:"".concat(a.correct,"/").concat(a.total)},o.content,c),t.length>0){var d=c.querySelector(".js-no-questions");d&&(d.innerHTML="")}},se=i(260),ce=i.n(se);function test_card_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function test_card_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){test_card_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){test_card_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var le=function renderTestCardTemplate(t,a){var i=document.createElement("template");i.innerHTML=ce.a;var o=c.b.getState().config,l=o.isLandscapeMode?document.querySelector("#lessonModal"):document,u=o.isLandscapeMode?l.querySelector(".js-modal-text"):p.a.rightBody;u.innerHTML="",l.querySelector(".js-modal-text-title").innerHTML=t.name,a.className=a.className||"",a.headerClassName=a.headerClassName||"",a.statement=a.statement||"",a.providerQuestion=a.providerQuestion||"",Object(G.a)(a,i.content,u);var d=l.querySelector(".js-review-progress");d&&(d.innerHTML="Progress",d.addEventListener("click",(function(a){var i=l.querySelector(".js-summary-container");!function renderSummaryCard(){ie(t.id,i);var a=1;!function toggleScreens(t,i){y(t),d.innerHTML=a%2==0?"Progress":"Quiz",a++,i.classList.remove("swap-out-card"),d.addEventListener("click",(function(a){toggleScreens(i,t)}),{once:!0})}(m,i)}()}),{once:!0}),d.focus()),ue(o);var m=l.querySelector(".js-test-card-container"),h=l.querySelector(".js-test-card-container"),g=h.querySelector(".js-card-link"),v=t.nextItem||t.items[a.bonus.itemIndex],y=function hideCurrentCard(t,a){t.classList.add("swap-out-card"),t.classList.remove("swap-in-card"),a&&(a.classList.add("swap-out-card"),a.classList.remove("swap-in-card"))},b=function showNextCard(t,a){t.classList.remove("swap-out-card");var i=l.querySelector(a),o=i.querySelector(".js-card-link");return o.classList.remove("disabled-icon"),{card:i,icon:o}};return g.addEventListener("click",function(){var a=test_card_asyncToGenerator(regeneratorRuntime.mark((function _callee3(a){var i,o,c;return regeneratorRuntime.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return i=l.querySelector(".js-species-container"),o=l.querySelector(".js-taxon-container"),c=function(){var a=test_card_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:Object(V.a)(t,"SWAP_OUT",v,i,!1),setTimeout((function(){y(m,h);var a=b(i,".js-species-card"),c=a.card;a.icon.addEventListener("click",function(){var a=test_card_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){var l,u;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:v.lichen?Object(K.a)("SWAP_OUT",v.keyTrait,o,v.images.find((function(t){return t.starred}))?v.images.find((function(t){return t.starred})).url:v.images[0].url):Object(Y.a)(t,"SWAP_OUT",v,o,!1),y(i,c),l=v.lichen?b(o,".js-non-taxon-card"):b(o,".js-taxon-card"),u=l.card,l.icon.addEventListener("click",(function(t){y(o,u),b(m,".js-test-card")}));case 4:case"end":return a.stop()}}),_callee,this)})));return function(t){return a.apply(this,arguments)}}())}),500);case 2:case"end":return a.stop()}}),_callee2,this)})));return function renderSpeciesCard(){return a.apply(this,arguments)}}(),a.next=5,c();case 5:case"end":return a.stop()}}),_callee3,this)})));return function(t){return a.apply(this,arguments)}}()),Object(W.a)(v.taxonomy,l),l.querySelector(".js-test-card-content")},ue=function toggleStatementAndQuestion(t){if(!t.isLandscapeMode){var a=document.querySelector(".js-statement-para"),i=document.querySelector(".js-question-para");i.classList.add("hide");var o=0,c=setInterval((function(){o%2?(i.classList.add("hide"),a.classList.remove("hide")):(i.classList.remove("hide"),a.classList.add("hide")),++o>=20&&clearInterval(c)}),5e3)}},de=i(261),pe=i.n(de),me=function languagePicker(t,a,i){var o=t.languages,c=document.createElement("template");c.innerHTML=pe.a,a.innerHTML="",Object(G.a)({languages:o},c.content,a);var l=document.querySelector("#taxonLanguageBtn");l.innerHTML="Taxon language [ ".concat(o.find((function(a){return a.lang===t.language})).name," ] ");var u=document.querySelector("#taxonLanguageTxt");u.innerHTML=o.find((function(a){return a.lang===t.language})).name,document.querySelectorAll(".dropdown-item").forEach((function(a){a.addEventListener("click",(function(a){t.language=o.find((function(t){return t.lang===a.target.id})).lang;var c=o.find((function(t){return t.lang===a.target.id})).name;l.innerHTML="Taxon language [ ".concat(c," ]"),u.innerHTML=c,i(t)}))}))},fe=i(262),he=i.n(fe),ge=i(35),ve=i(25),ye=i.n(ve),be=i(26);function inat_autocomplete_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function inat_autocomplete_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){inat_autocomplete_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){inat_autocomplete_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var _e=function inatAutocomplete(t,a,i,o){function _getUserSuggestions(){return(_getUserSuggestions=inat_autocomplete_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var a;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(be.a)(t,"users");case 2:return a=i.sent,i.abrupt("return",a.results.map((function(t){return{label:t.login_autocomplete,value:t.id,photo:t.icon,name:t.name}})));case 4:case"end":return i.stop()}}),_callee,this)})))).apply(this,arguments)}function _getProjectSuggestions(){return(_getProjectSuggestions=inat_autocomplete_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){var a;return regeneratorRuntime.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(be.a)(t,"projects");case 2:return a=i.sent,i.abrupt("return",a.results.map((function(t){return{label:t.title,value:t.id}})));case 4:case"end":return i.stop()}}),_callee3,this)})))).apply(this,arguments)}return ye()({input:t,fetch:function fetch(t,i){switch(a){case"users":(function getUserSuggestions(t){return _getUserSuggestions.apply(this,arguments)})(t).then((function(t){i(t)}));break;case"places":!function getPlaceSuggestions(t,a){var i;i=function callback(t){a(t.map((function(t){return{label:t.description,value:t.place_id}})))},Object(ge.a)(t,i)}(t,i);break;case"projects":(function getProjectSuggestions(t){return _getProjectSuggestions.apply(this,arguments)})(t).then((function(t){i(t)}))}},onSelect:function onSelect(a){t.value=a.label,t.name=a.value},className:i,rb:o,minLength:3,debounceWaitMs:200})},Se=function switchHandler(t,a,i){if(t){var o={position:"left"===a?"right":"left"},c=t.querySelector("div"),l=t.parentElement.querySelector(".txt-left"),u=t.parentElement.querySelector(".txt-right"),d=function switcher(){switch(o.position){case"left":c.parentElement.classList.add("right"),c.parentElement.classList.remove("left"),l.classList.remove("selected"),u.classList.add("selected"),o.position="right";break;case"right":c.parentElement.classList.add("left"),c.parentElement.classList.remove("right"),l.classList.add("selected"),u.classList.remove("selected"),o.position="left"}i(o.position)};d(),t.addEventListener("click",(function(t){d()}))}},xe=i(263),we=i.n(xe);function location_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function location_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){location_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){location_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Te=function saveLocation(t,a,i,o){var c=a.value,l=a.name;t.guide.locationType="longLat",t.guide.place.name=c,t.guide.locationLongLat=c,t.guide.locationType="longLat",t.guide.locationLongLat=c;return Object(ge.b)(l,(function callback(i){if(i&&i.length>0){var c=i[0].geometry.location.lat(),l=i[0].geometry.location.lng();t.guide.coordinates={lat:c,long:l},a.value="",o.setConfig(t),o.saveStep("LOCATION")}})),i},Ee=i(264),ke=i.n(Ee),Le=function saveInatId(t,a,i,o){var c=t.querySelector("#inat-identity");a.isLandsapeMode&&(c.value="",c.focus());var l=c.value,u=c.name;a.guide.inatId.key=l,a.guide.inatId.id=u,""!==l&&(a.guide.locationType="inat",i.setConfig(a),i.saveStep("INAT"),t.querySelector("#inat-identity").value="")},Oe={all:[{id:"fungi",common:"Fungi & Lichens"},{id:"amphibia",common:"Amphibians"},{id:"mammalia",common:"Mammals"},{id:"plantae",common:"Plants"},{id:"lepidoptera",common:"Butterflies & Moths"},{id:"insecta",common:"Insects"},{id:"aves",common:"Birds"},{id:"reptilia",common:"Reptiles"}]},Ae=i(265),je=i.n(Ae),Ce=i(141),Ie=i(77),Pe=i(8),Re=i(266),Ne=i.n(Re),Me=i(267),qe=i.n(Me);function species_search_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function species_search_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?species_search_ownKeys(Object(i),!0).forEach((function(a){species_search_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):species_search_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function species_search_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function species_search_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function species_search_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){species_search_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){species_search_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var De=i(268),He=i.n(De);function _defineProperties(t,a){for(var i=0;i<a.length;i++){var o=a[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ge=function(){function CreateGuide(t){var a=this;!function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this,CreateGuide),this.listeners=[],this.steps=[{number:1,title:"Species Picker",description:"Provenance",nextStep:"",disabled:!0,className:"species-actions",nextSteps:[{id:z.a.guideOption.LOCATION.name,step:"Location"},{id:z.a.guideOption.INAT.name,step:"Location"},{id:z.a.guideOption.PICKER.name,step:"Picker"}]},{number:2,title:"Species Picker",description:"Location",nextStep:"Taxa",prevStep:"Provenance",disabled:!0,className:"location-actions"},{number:2,title:"Species Picker",description:"Picker",nextStep:"Species",prevStep:"Provenance",disabled:!0,className:"location-actions"},{number:3,title:"Species Picker",description:"Taxa",nextStep:"Species",disabled:!0,className:"taxa-actions"},{number:4,title:"Species Picker",description:"Species",nextStep:"View Guide",disabled:!0,className:"filter-actions"}],this.currentStep=this.steps.find((function(a){return a.number==t})),this.modal=document.getElementById("createGuide"),this.modal&&(this.modalTitle=this.modal.querySelector(".js-modal-title header"),this.navigationContainer=this.modal.querySelector(".js-modal-guide-navigation"),this.progressSteps=this.modal.querySelectorAll(".js-modal-guide-progress > div > div"),this.previousStepActionArrow=this.modal.querySelector(".js-left"),this.previousStepActionTxt=this.modal.querySelector(".js-left .title"),this.optionsTxt=this.modal.querySelector(".js-centre .title"),this.nextStepActionArrow=this.modal.querySelector(".js-right"),this.nextStepActionTxt=this.modal.querySelector(".js-right .title"),this.progressSteps.forEach((function(t,i){t.innerHTML=a.steps[i].description})),this.config=this.config||c.b.getState().config,this.getConfig=function(){return a.config},this.setConfig=function(t){a.config=t,j.a.boundUpdateConfig(t)},this.getCurrentStep=function(){return a.currentStep},this.setCurrentStep=function(t){a.currentStep=a.steps.find((function(a){return a.number===t}))},this.user=c.b.getState().user)}return function _createClass(t,a,i){return a&&_defineProperties(t.prototype,a),i&&_defineProperties(t,i),t}(CreateGuide,[{key:"addStepActions",value:function addStepActions(t){var a=this;if(t){var i=this.modal.querySelector(".js-step-action-content");i.innerHTML="";var o=document.createElement("template");o.innerHTML=He.a;var l=this.steps.find((function(t){return t.number===a.currentStep.number})).description;Object(G.a)({className:t.className},o.content,i);var d=this.modal.querySelector(".js-options > h1");switch(l){case"Provenance":d.innerHTML="How do you want to select your species?",function renderSpeciesSearchOptions(t){t.modal.querySelector(".js-modal-title > header").innerHTML="Create your own lesson";var a=[{text:"By location and season",id:z.a.guideOption.LOCATION.name},{text:"From iNaturalist observations",id:z.a.guideOption.INAT.name},{text:"Using a name-based search",id:z.a.guideOption.PICKER.name}],i=document.createElement("template");i.innerHTML=he.a;var o=t.modal.querySelector(".js-actions");o.innerHTML="";var c=t.getConfig();Object(G.a)({options:a},i.content,o);var l=function handleNextStepAction(a){var i=a.currentTarget.dataset.option,o=t.steps.find((function(a){return a.number===t.getCurrentStep().number})).nextSteps.find((function(t){return t.id===i})).step,c=t.steps.find((function(t){return t.description===o}));t.startLesson=!1,t.goToNextStep(t.getCurrentStep().number+1,"NEXT",i,c),t.listeners=[],t.listeners.push({element:t.nextStepActionArrow,handler:handleNextStepAction})};document.querySelectorAll(".custom-lesson-menu-options li").forEach((function(t,a){t.addEventListener("click",l,!0)})),me(c,document.querySelector(".js-language-selection-container"),(function(a){t.setConfig(a)}));var u=t.modal.querySelector(".js-persistence-warning");t.user&&u.classList.add("hide-important")}(this);break;case"Location":switch(d.innerHTML="Filter species by location and season.",this.option){case z.a.guideOption.LOCATION.name:!function renderLocation(t,a){var i=a.getConfig();a.saveStep("LOCATION");var o,c=i.guide.locationPlace,l=document.createElement("template");l.innerHTML=we.a;var u=t.querySelector(".js-actions");if(u.innerHTML="",i.guide.season.observableMonths=i.guide.season.observableMonths||i.season.observableMonths,i.guide.season.observableMonths){var d=i.guide.season.observableMonths.map((function(t){return t.name})),p="".concat(d[0],"-").concat(d[d.length-1]),m=i.guide.noOfRecords;Object(G.a)({observableMonths:p,noOfRecords:m},l.content,u)}var h=t.querySelector(".js-set-location-btn");function _handleSetLocationLongLat(){return(_handleSetLocationLongLat=location_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var o;return regeneratorRuntime.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return t.stopPropagation(),h.innerHTML="Updating location…",c.next=4,Object(ge.d)(i,!0);case 4:o=c.sent,i.guide.locationType="longLat",i.place=o,i.guide.locationLongLat=o.longLocation,h.innerHTML="Use your current location",a.setConfig(i),a.saveStep("LOCATION");case 11:case"end":return c.stop()}}),_callee,this)})))).apply(this,arguments)}h.innerHTML="Use your current location",h.addEventListener("click",(function handleSetLocationLongLat(t){return _handleSetLocationLongLat.apply(this,arguments)}));var g=t.querySelector("#inat-place");g.placeholder=i.isLandscapeMode?"Or start typing the name of a place you are interested in.":"Or start typing the name of a place.",g.focus();g.addEventListener("keypress",(function handleLocationPlaceInput(t){g.removeEventListener("keypress",handleLocationPlaceInput),o=_e(g,"places","autocomplete-options-container","place")})),g.addEventListener("click",(function(t){t.preventDefault()})),g.addEventListener("keyup",(function(t){t.preventDefault("e.keyCode: ",t.keyCode)})),document.getElementById("locationForm").addEventListener("submit",(function(t){t.preventDefault(),""!==g.value&&Te(i,g,c,a)})),i.isPortraitMode&&g.addEventListener("focusout",(function(t){document.querySelector(".autocomplete-options-container")&&(setTimeout((function(){Te(i,g,c,a)})),t.preventDefault())}));var v=i.guide.speciesRange,y=t.querySelector(".js-range");y.innerHTML="Include species within ".concat(v,"km."),t.querySelector(".js-set-range-input").value=v;t.querySelector(".js-set-range-input").addEventListener("change",(function updateSlider(t){v=t.target.value,i.guide.speciesRange=v,y.innerHTML="Include species within ".concat(v,"km."),a.setConfig(i)})),a.nextStepActionArrow.addEventListener("click",(function(t){o&&o.destroy()}));var b=u.querySelector(".js-snap-switch-slider"),_="months"===i.guide.season.type?"left":"right";Se(b,_,(function switchCallback(t){var i=a.getConfig(),o=i.guide.season.type;i.guide.season.type="right"===t?"all_year":"months",a.setConfig(i),i.guide.season.type!==o&&a.saveStep("SEASON")}));var S=document.querySelector(".js-location-no-of-records");S.addEventListener("change",(function(t){var i=a.getConfig();i.guide.noOfRecords=parseInt(S.value),a.setConfig(i)}))}(this.modal,this);break;case z.a.guideOption.INAT.name:!function renderInatUser(t,a){var i=a.getConfig(),o=document.createElement("template");o.innerHTML=ke.a,"-----"!==i.guide.inatId.key&&("inat"!==i.guide.locationType&&(i.guide.locationType="inat",a.setConfig(i)),a.saveStep("INAT"));var c,l=t.querySelector(".js-actions");l.innerHTML="",Object(G.a)({},o.content,l),document.querySelector(".js-chosen > div > span:nth-child(2)").innerHTML+='<div class="delete-guide-link js-toggle-filter"><input class="hide" type="checkbox"></div>';var u="user_id"===i.guide.inatId.param?"left":"right",d="users",p=l.querySelector("#inat-identity");p.focus();p.addEventListener("keypress",(function handlerInatIdentityInput(t){p.removeEventListener("keypress",handlerInatIdentityInput),c=_e(p,d,"inat-autocomplete-options-container","")})),p.addEventListener("click",(function(t){t.preventDefault()})),p.addEventListener("keyup",(function(t){t.preventDefault("e.keyCode: ",t.keyCode)})),document.getElementById("inatForm").addEventListener("submit",(function(t){t.preventDefault(),""!==p.value&&Le(l,i,a,c)})),i.isPortraitMode&&p.addEventListener("focusout",(function(t){document.querySelector(".inat-autocomplete-options-container")&&(setTimeout((function(){Le(l,i,a,c)})),t.preventDefault())}));var m=l.querySelector(".snap-switch-slider");Se(m,u,(function switchCallback(t){d="left"===t?"users":"projects";var o="left"===t?"iNat user ID":"iNat project ID",c="left"===t?"user_id":"project_id";i.guide.inatId.type=o,i.guide.inatId.param=c,a.setConfig(i)}))}(this.modal,this);break;case z.a.guideOption.PICKER.name:this.modal.querySelector(".js-chosen").classList.add("hide-important"),document.querySelector(".js-step-action-content .location-actions").classList.add("species-picker-actions"),Object(Ce.a)({container:this.modal,config:this.config,setConfig:this.setConfig},this.modal.querySelector(".js-actions")),this.modal.querySelector(".js-options > h1").innerHTML="Add species by name."}break;case"Taxa":d.innerHTML="Filter species by taxa.",function renderCategories(t,a){var i=a.getConfig();i.guide.iconicTaxa=i.guide.iconicTaxa||Oe.all;var o=document.createElement("template");o.innerHTML=je.a;var c=t.querySelector(".js-actions");c.innerHTML="",Object(G.a)({},o.content,c);var l=c.querySelectorAll(".js-iconic-taxa-categories > div > div:nth-child(1)");i.guide.iconicTaxa&&l.forEach((function(t){var a=t.parentElement.id;u.a(a,i.guide.iconicTaxa.map((function(t){return t.id})))&&t.classList.add("iconic-taxa-selected")})),setTimeout((function(){var a=t.querySelector("#fungi > div");a&&I(a,"iconic-taxa-selected")&&a.querySelector("g g").classList.add("svg-icon-selected")}),250),i.guide.hasChanged=!1,l.forEach((function(t){t.addEventListener("click",(function(t){i.guide.hasChanged=!0;var o=t.currentTarget,c=o.parentElement.id,l=o.parentElement.innerText;i.guide.iconicTaxa.find((function(t){return t.id===c}))?("fungi"===c&&o.querySelector("g g").classList.remove("svg-icon-selected"),i.guide.iconicTaxa.length>1&&(o.classList.remove("iconic-taxa-selected"),i.guide.iconicTaxa=i.guide.iconicTaxa.filter((function(t){return t.id!==c})))):("fungi"===c&&o.querySelector("g g").classList.add("svg-icon-selected"),o.classList.add("iconic-taxa-selected"),i.guide.iconicTaxa.push({id:c,common:l})),a.setConfig(i),a.saveStep("TAXA",i)}))})),a.saveStep("TAXA"),document.querySelector(".js-right .js-arrow-wrapper").innerHTML='<i class="far fa-arrow-alt-circle-right"></i>'}(this.modal,this);break;case"Species":setTimeout((function(){!function speciesSearch(t){var a=t.config,i=t.modal,o=t.option,l=c.b.getState().collections,d=document.createElement("template");d.innerHTML=Ne.a;var p=i.querySelector(".js-step-action-content");Object(G.a)({},d.content,p);var m=document.querySelector(".js-request-feedback"),h=0,g=setInterval((function(){h=h===a.guide.iconicTaxa.length?0:h,m.innerHTML="Fetching ".concat(a.guide.iconicTaxa[h].common," from iNaturalist …"),h++}),2e3),v=i.querySelector(".js-right"),y=v.querySelector("i");y.classList.add("snap-inactive");var b=i.querySelector(".js-left .js-arrow-wrapper").querySelector("i");b.classList.add("snap-inactive");var _=function renderLessonSummary(o){try{if(o&&o.items&&0===o.items.length)return void(m.innerHTML="No species were found. Try widening your parameters.");clearTimeout(g),d.innerHTML=qe.a,m.innerHTML="",o.taxa=o.guide.iconicTaxa.map((function(t){return t.common})).join(", "),Object(G.a)({collection:o},d.content,m),i.querySelector(".icon i").classList.remove("slow-spin"),setTimeout((function(){v.addEventListener("click",(function(i){setTimeout(species_search_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!a.guide.species){i.next=4;break}return o.items=o.items.filter((function(t){return u.a(t.name,a.guide.species.map((function(t){return t.name})))})),i.next=4,X.a.changeRequest({requestType:z.a.lessonState.ADD_SPECIES_TO_COLLECTION,requestArgs:{updatedConfig:a,updatedCollection:o}});case 4:4===parseInt(v.dataset.number)&&(t.callOnCreateCustomListeners(o),H.a.clearGuide());case 5:case"end":return i.stop()}}),_callee,this)}))))}))})),x.innerHTML="New collection species";var c=i.querySelector(".js-edit-species");c.addEventListener("click",(function(l){var u=i.querySelector(".js-selected-species-container");u.classList.add("open"),u.classList.remove("hide-important"),u.innerHTML="",c.classList.add("hide-important"),Object(Ie.a)(a,i,u,t,o.items);var d=i.querySelector("#js-input-collection-name");d.classList.remove("hide-important"),d.addEventListener("focusout",(function(t){var i=t.target.value;a.guide.name=i,o.name=i,X.a.changeRequest({requestType:z.a.lessonState.UPDATE_COLLECTION,requestArgs:{collection:o,config:a}})}))})),y.classList.remove("snap-inactive"),b.classList.remove("snap-inactive")}catch(t){Object(Pe.a)(renderLessonSummary,t)}},S=function(){var i=species_search_asyncToGenerator(regeneratorRuntime.mark((function _callee2(i){var o,c,l,u,d,p;return regeneratorRuntime.wrap((function _callee2$(h){for(;;)switch(h.prev=h.next){case 0:return o={index:0,isLessonPaused:!0},h.next=3,X.a.changeRequest({requestType:z.a.lessonState.GET_LESSON_PROGRESS,requestArgs:{collectionToLoad:i,updatedCounter:o,guide:t.getConfig().guide}});case 3:c=h.sent,(l=c.collection).guide=a.guide,l.isPrivate=!0,_(l),u=function OrdinalSuffixOf(t){var a=t%10,i=t%100;return 1==a&&11!=i?t+"st":2==a&&12!=i?t+"nd":3==a&&13!=i?t+"rd":t+"th"},p=function callback(t){m?m.innerHTML="Making ".concat(u(t.page)," request of ").concat(t.numberOfRequests):d(callback)},d=Object(be.f)(p);case 11:case"end":return h.stop()}}),_callee2,this)})));return function initLesson(t){return i.apply(this,arguments)}}();switch(a.guide.guideType=o,o){case z.a.guideOption.LOCATION.name:S(species_search_objectSpread(species_search_objectSpread({},l.find((function(t){return t.guideType===o}))),{},{name:a.guide.place.name,taxa:a.guide.iconicTaxa.map((function(t){return t.common})).join(", "),guide:a.guide,language:a.language,id:l.length+100010}));break;case z.a.guideOption.INAT.name:S(species_search_objectSpread(species_search_objectSpread({},l.find((function(t){return t.guideType===o}))),{},{name:"".concat(a.guide.inatId.key,"'s observations"),taxa:a.guide.iconicTaxa.map((function(t){return t.common})).join(", "),iconicTaxa:a.guide.iconicTaxa,id:l.length+1e4}));break;case z.a.guideOption.PICKER.name:(function(){var t=species_search_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var t,i,u,d;return regeneratorRuntime.wrap((function _callee3$(p){for(;;)switch(p.prev=p.next){case 0:if(t=c.b.getState(),i=t.collection,u=!1,i.items&&(u=i.items.map((function(t){return t.name})).every((function(t){return a.guide.species.map((function(t){return t.name})).includes(t)}))),!u){p.next=9;break}return d=i,p.next=7,X.a.changeRequest({requestType:z.a.lessonState.ADD_SPECIES_TO_COLLECTION,requestArgs:{updatedConfig:a,updatedCollection:d}});case 7:p.next=10;break;case 9:d=species_search_objectSpread(species_search_objectSpread({},l.find((function(t){return t.guideType===o}))),{},{species:a.guide.species,id:l.length+10010,name:"Your new lesson",hasVideo:!1,video:{},terms:[]});case 10:S(d);case 11:case"end":return p.stop()}}),_callee3,this)})));return function initPicker(){return t.apply(this,arguments)}})()()}var x=i.querySelector(".js-options > h1");x.innerHTML="Requesting species images and traits"}(a)}))}}}},{key:"goToNextStep",value:function goToNextStep(t,a){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.currentStep=c||this.steps.find((function(a){return a.number===t})),o===z.a.guideOption.PICKER.name&&"NEXT"===a&&(this.currentStep=this.steps[2]),this.direction=a,this.option=o||this.option,this.startLesson&&(this.currentStep={number:0}),this.modalTitle)if(this.modalTitle.innerText=this.currentStep.title,this.nextStepActionTxt.innerHTML=this.currentStep.nextStep,this.progressSteps.forEach((function(t,a){if(t.classList.remove("active"),a+1===i.currentStep.number){t.classList.add("active");for(var o=0;o<a;o++)i.progressSteps[o].classList.add("completed")}})),this.addStepActions(this.steps.find((function(t){return t.number===i.currentStep.number}))),1===this.currentStep.number)this.navigationContainer.classList.remove("progress-container"),this.optionsTxt.classList.remove("hide-important"),this.previousStepActionTxt.classList.add("hide-important"),this.previousStepActionArrow.classList.add("arrow-wrapper-hidden"),this.nextStepActionArrow.classList.add("arrow-wrapper-hidden");else{this.navigationContainer.classList.add("progress-container"),this.optionsTxt.classList.add("hide-important"),this.previousStepActionArrow.classList.remove("arrow-wrapper-hidden"),this.nextStepActionArrow.classList.remove("arrow-wrapper-hidden"),this.nextStepActionArrow.dataset.number=this.currentStep.number,this.previousStepActionTxt.classList.remove("hide-important");var l=this.currentStep.prevStep?this.steps.find((function(t){return t.description===i.currentStep.prevStep})):this.steps.find((function(t){return t.number===i.currentStep.number-1}));4===this.getCurrentStep().number?this.previousStepActionTxt.innerHTML=this.option===z.a.guideOption.PICKER.name?this.steps[2].description:this.steps[3].description:this.previousStepActionTxt.innerHTML=l.description}}},{key:"saveStep",value:function saveStep(t,a){!function saveGuide(t,a){var i=document.querySelector(".js-chosen span:nth-child(2)"),o=function handleSaveEvent(){switch(a){case"SPECIES":break;case"LOCATION":t.guide.locationType&&(i.innerHTML="place"===t.guide.locationType?t.guide.locationPlace:(t.isLandscapeMode,t.guide.locationLongLat));break;case"TAXA":i.innerHTML="";var o="";t.guide.iconicTaxa.length>0?(t.guide.iconicTaxa.forEach((function(t){var a=Object(W.c)(t.id);o+=a})),i.innerHTML=o):i.innerHTML="All species";break;case"INAT":t.guide.inatId.key?i.innerHTML=t.guide.inatId.key||"":i.innerHTML=""}};return o}(a||this.getConfig(),t)()}}]),CreateGuide}(),Ue=[];function quick_fire_api_toConsumableArray(t){return function quick_fire_api_arrayWithoutHoles(t){if(Array.isArray(t))return quick_fire_api_arrayLikeToArray(t)}(t)||function quick_fire_api_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function quick_fire_api_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return quick_fire_api_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return quick_fire_api_arrayLikeToArray(t,a)}(t)||function quick_fire_api_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function quick_fire_api_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var Be={getItems:function getItems(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=c.b.getState().glossary,o=i.filter((function(a){return u.a(a.taxon,t)}));return(a?o:o.filter((function(t){return"true"!==t.technical}))).filter((function(a){return u.a(a.taxon,t)}))},getBranches:function getBranches(t){var a=quick_fire_api_toConsumableArray(new Set(t.map((function(t){return t.branch}))));return a=a.map((function(a){return{name:a,count:t.filter((function(t){return t.branch==a})).length}}))},getQuickFire:function getQuickFire(t,a,i){var o=i.terms?t.filter((function(t){return u.a(t.id,i.terms)})):t,c={iconicTaxa:quick_fire_api_toConsumableArray(new Set(o.map((function(t){return t.taxon})))),option:{key:"0",value:"multiple choice"}},l={index:0,isComplete:!1,items:o,count:o.length,filter:c,type:a,termScore:{total:0,correct:0,incorrect:0,isCorrect:null,isIncorrect:null,rounds:[],passes:[],fails:[]},poolSize:o.length,terms:i.terms,onClickFiltersLinkListeners:[],onClickGlossaryLinkListeners:[],lessonId:i.id};return l.filter.taxa=c.iconicTaxa.map((function(t){return{name:t,count:o.filter((function(a){return a.taxon===t})).length}})),l.filter.taxa=l.filter.taxa.filter((function(t){return t.count>0})),j.a.boundCreateQuickFire(l),l}},Fe=function renderResponse(t,a){return t?'<span class="centred-block icon"><i class="fas fa-check extra-large-text correct-answer-color margin-right"></i>That is correct.</span>':'<span class="centred-block icon"><i class="fas fa-times extra-large-text incorrect-answer-color margin-right"></i>The correct answer is <span class="answer-response half-margin-left">\''.concat(a,"'.</span></span>")},We=function updateBranchCounts(t,a){var i=t.terms?t.items.filter((function(a){return u.a(a.id,t.terms)})):t.items;a.forEach((function(t){t.innerHTML=i.filter((function(a){return a.branch===t.dataset.name})).length}))},Ve=function updateTaxonCounters(t,a,i){var o=t.terms?t.items.filter((function(a){return u.a(a.id,t.terms)})):t.items;return a.forEach((function(t){t.innerHTML=i?o.filter((function(a){return a.taxon===t.dataset.taxon})).length:o.filter((function(a){return a.taxon===t.dataset.taxon&&!a.technical})).length})),i?o:o.filter((function(t){return!t.technical}))},Ye=function updateTotalCounts(t,a,i,o,c){var l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];We(t,o);var u=Ve(t,c,l);t.count=u.length,i.forEach((function(a){a.innerHTML=t.count})),a.value=t.count,t.poolSize=parseInt(a.value)},Ke=function updateHeaders(t,a,i,o){var c=a.glossary,l=a.filters,u=a.questions,d="hide-important",p=i(),m=function loadGlossary(t){o.quickFireGlossary(p.items),p.linkFromLesson?(u.classList.remove(d),l.classList.add(d)):l.classList.remove(d)},h=function loadFilters(t){o.quickFireFilters(p.linkFromLesson)},g=function handleGlossaryLink(){p.onClickGlossaryLinkListeners=p.onClickGlossaryLinkListeners||[],p.onClickGlossaryLinkListeners.length<1&&(c.addEventListener("click",m,{once:!0}),p.onClickGlossaryLinkListeners.push("filters"))},v=function handleFiltersLink(){p.onClickFiltersLinkListeners=p.onClickFiltersLinkListeners||[],p.onClickFiltersLinkListeners.length<1&&(l.addEventListener("click",h,{once:!0},!0),p.onClickFiltersLinkListeners.push("filters"))};switch(t){case z.a.quickFireStep.FILTERS:l.classList.add(d),c.classList.remove(d),g();break;case z.a.quickFireStep.QUESTIONS:l.classList.remove(d),l.innerHTML="Vocab filter",g(),v();break;case z.a.quickFireStep.GLOSSARY:l.classList.remove(d),l.innerHTML="Vocab filter",u.classList.add(d),v()}},ze=function scoreMultipleChoice(t,a,i){var o=a===t.question.term;t.question.answer=a,t.termScore.total++,o?(t.termScore.correct++,t.termScore.isCorrect=!0,t.termScore.isIncorrect=!1,t.termScore.passes.push(t.question)):(t.termScore.incorrect++,t.termScore.isCorrect=!1,t.termScore.isIncorrect=!0,t.termScore.fails.push(t.question)),i.innerHTML=Fe(o,t.question.term.toLowerCase())},$e=function scoreTextEntry(t,a,i,o,l){if("1"===t.filter.option.key){var d=/\(.+?\)/,p=t.question.term.split(",").map((function(t){var a=t;return a=(a=(a=a.replace(d,"")).trim()).toLowerCase()})),m=u.a(a.value.trim().toLowerCase(),p);t.termScore.total++,m?(t.termScore.correct++,t.termScore.passes.push(t.question)):(t.termScore.incorrect++,t.termScore.fails.push(t.question)),i.innerHTML=Fe(m,t.question.term.toLowerCase()),o=setTimeout((function(){l.click()}),c.b.getState().config.callbackTime+500)}return o},Xe=function readyTemplate(t){var a=document.createElement("template");a.innerHTML=t;var i=document.querySelector("#glossaryModal"),o=i.querySelector(".js-modal-text");return o.innerHTML="",{template:a,modal:i,parent:o}},Qe=function selectAnswers(t,a){t.spareItems=t.spareItems||v.a(5,a),t.question=a.splice(0,1)[0];var i=a.filter((function(a){return a.branch===t.question.branch})),c=i?i.length:0;c<=3&&v.a(3-c,t.spareItems.filter((function(a){return!u.a(a.term,i.map((function(t){return t.term})))&&a.term!==t.question.term}))).forEach((function(t){return i.push(t)}));var l=v.a(3,i);return l.push(t.question),l=(l=o.utils.shuffleArray(l)).map((function(t,a){return{term:t.term,index:a}}))},Je=i(269),Ze=i.n(Je),en=i(270),nn=i.n(en),tn=i(271),rn=i.n(tn),an=i(272),on=i.n(an);function quick_fire_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function quick_fire_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){quick_fire_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){quick_fire_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var sn=function headers(t,a){var i=document.querySelector("#glossaryModal"),o={glossary:i.querySelector(".js-modal-text-title"),filters:i.querySelector(".js-quick-fire-filters"),questions:i.querySelector(".js-quick-fire-questions")};Ke(t,o,(function getQuickFire(){return a}),vn)},cn=function(){var t=quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t){var a,i,o,d,p,m,h,g,v,y,b,_,S,x,w,T,E,k,L,O,A,C,P,R;return regeneratorRuntime.wrap((function _callee4$(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,pn();case 2:a=N.sent,i=Xe(nn.a),o=i.template,i.modal,d=i.parent,sn(z.a.quickFireStep.FILTERS,{items:a.items,onClickFiltersLinkListeners:[],onClickGlossaryLinkListeners:[]}),p=a.items,m=a.type,h=a.filter,g=function resetQuickFire(){j.a.boundUpdateQuickFire(Be.getQuickFire(c.b.getState().glossary,z.a.quickFireType.DEFINITION,{})),hn(y.linkFromLesson)},v=c.b.getState().quickFire||Be.getQuickFire(p,h,m),(y=(y=l.a(v)).isComplete?g():y).linkFromLesson=t||!1,y.onClickFiltersLinkListeners=[],y.onClickGlossaryLinkListeners=[],j.a.boundUpdateQuickFire(y),b=[{key:0,value:"multiple choice"},{key:1,value:"text entry"}],_=Be.getBranches(p),Object(G.a)({quickFire:y,options:b,branches:_},o.content,d),S=document.querySelectorAll(".js-quick-fire-count"),x=document.querySelectorAll(".js-quick-fire-branches label > span"),w=document.querySelectorAll(".js-quick-fire-taxa li > span"),(T=document.querySelector(".js-input-quick-fire")).addEventListener("input",(function(t){y.poolSize=parseInt(t.target.value)})),setTimeout((function(){T.focus()}),250),y.poolSize=parseInt(T.value),E=function updateArray(t,a){return t.find((function(t){return t===a}))?t.filter((function(t){return t!==a})):(t.push(a),t)},k=function getFilterTaxa(){return y.filter.iconicTaxa},document.querySelectorAll(".js-quick-fire-taxa li").forEach((function(t){var a=t.querySelector("input");u.a(t.dataset.name,y.filter.iconicTaxa)||a.click(),t.addEventListener("change",function(){var t=quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var a,i;return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:a=t.target.id,i=E(k(),a),y.filter.iconicTaxa=i,y.items=Be.getItems(i),Ye(y,T,S,x,w,O());case 5:case"end":return o.stop()}}),_callee,this)})));return function(a){return t.apply(this,arguments)}}())})),L=!!y.lessonId,Ye(y,T,S,x,w,(O=function getIncludeTechnicalTerms(){return L})()),(A=document.querySelector(".js-create-quick-fire")).innerHTML=0===y.termScore.total?"Start vocab review":"Continue your vocab review",A.addEventListener("click",(function(t){ln(y)}),{once:!0}),C=document.querySelectorAll(".js-quick-fire-filter-options .btn"),"0"===y.filter.option.key?C[0].click():C[1].click(),Array.from(C).forEach((function(t){t.addEventListener("click",(function(t){y.filter.option={key:t.target.dataset.key,value:t.target.dataset.value}}),{once:!0})})),P=document.querySelectorAll(".js-quick-fire-branches label"),y.filter.branches&&P.forEach((function(t){u.a(t.dataset.key,y.filter.branches)||t.click()})),P.forEach((function(t){t.addEventListener("click",(function(t){setTimeout(quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var t;return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return t=(t=Array.from(P).filter((function(t){return I(t,"active")}))).map((function(t){return t.dataset.key})),y.filter.branches=t,a.next=5,Be.getItems(y.filter.iconicTaxa);case 5:y.items=a.sent,y.items=y.items.filter((function(a){return u.a(a.branch,t)})),Ye(y,T,S,x,w,O());case 8:case"end":return a.stop()}}),_callee2,this)}))))}))})),(R=document.querySelector(".js-quick-fire-technical")).addEventListener("change",function(){var t=quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t){return regeneratorRuntime.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:if(L=t.target.checked,y.filter.includeTechnicalTerms=L,a.t0=y.items,a.t0){a.next=7;break}return a.next=6,Be.getItems(y.filter.iconicTaxa,L);case 6:a.t0=a.sent;case 7:y.items=a.t0,Ye(y,T,S,x,w,O());case 9:case"end":return a.stop()}}),_callee3,this)})));return function(a){return t.apply(this,arguments)}}()),L&&R.click(),document.querySelector(".js-quick-fire-reset").addEventListener("click",(function(t){g()}));case 45:case"end":return N.stop()}}),_callee4,this)})));return function filters(a){return t.apply(this,arguments)}}(),ln=function questions(t){var a;if(t){(a=l.a(t)).onClickGlossaryLinkListeners=[],sn(z.a.quickFireStep.QUESTIONS,a);var i,u=Xe(rn.a),d=u.template,p=u.modal,m=u.parent;if(a.poolSize>a.termScore.total){var h=Qe(a,o.utils.shuffleArray(a.items));Object(G.a)({question:a.question,answers:h,total:a.termScore.total+1,count:a.poolSize,correct:a.termScore.correct,answered:a.termScore.total},d.content,m),document.querySelectorAll(".js-quick-layouts").forEach((function(t){t.classList.add("hide-important"),t.id===a.filter.option.key&&t.classList.remove("hide-important")}));var g=document.querySelector(".js-quick-fire-message"),v=Array.from(document.querySelectorAll(".js-quick-fire-options > li"));v.forEach((function(t){t.addEventListener("click",(function(o){var l=o.target.id;ze(a,l,g),_.disabled=!1,a.termScore.isIncorrect&&t.classList.add("snap-alert"),v.forEach((function(t){t.id===a.question.term&&t.classList.add("snap-success")})),i=setTimeout((function(){_.click()}),c.b.getState().config.callbackTime)}),{once:!0})}));var y=p.querySelector(".js-quick-fire-text-entry"),b=p.querySelector(".js-quick-fire-text-entry input");"1"===a.filter.option.key&&(y.classList.remove("hide-important"),b.focus());var _=document.querySelector(".js-continue-quick-fire-btn");_.addEventListener("click",(function(t){_.setAttribute("disabled",!0),a.items=a.items.filter((function(t){return t.term!==a.question.term})),or.add(gn,"quickFire","modal"),j.a.boundUpdateQuickFire(a),clearTimeout(i)}),{once:!0});var S=!0;if(b.addEventListener("keydown",(function(t){9==t.keyCode&&S&&(S=!1,i=$e(a,b,g,i,_),_.disabled=!1)})),b.addEventListener("keypress",(function(t){13==t.keyCode&&S&&(S=!1,i=$e(a,b,g,i,_),_.disabled=!1)})),b.addEventListener("blur",(function(t){S&&t.target.value.length>2&&(S=!1,i=$e(a,b,g,i,_),_.disabled=!1)})),(a.question.term.split(" ").length>1||0===a.question.term.indexOf("("))&&"1"===a.filter.option.key)p.querySelector(".js-quick-fire-hint").classList.remove("hide")}else mn(a);var x=p.querySelector(".js-quick-review-progress");x&&x.addEventListener("click",(function(t){mn(a)}),{once:!0})}},un=function getTermsGlossary(t,a){if(!a||0===a.length)return t;var i=[];return a.forEach((function(a){var o=t.find((function(t){return t.id===a}));i.push(o)})),i.filter((function(t){return t}))},dn=function(){var t=quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee5(t){var a,i,o,l,u;return regeneratorRuntime.wrap((function _callee5$(d){for(;;)switch(d.prev=d.next){case 0:a=Xe(Ze.a),i=a.template,a.modal,o=a.parent,l=c.b.getState().quickFire||Be.getQuickFire(t,z.a.quickFireType.DEFINITION,{collection:{}}),sn(z.a.quickFireStep.GLOSSARY,l),o.innerHTML="",u=un(t,l.terms),Object(G.a)({glossary:u},i.content,o);case 6:case"end":return d.stop()}}),_callee5,this)})));return function definitions(a){return t.apply(this,arguments)}}(),pn=function(){var t=quick_fire_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var t,a,i,o,l,u;return regeneratorRuntime.wrap((function _callee6$(d){for(;;)switch(d.prev=d.next){case 0:if(t=[],(a=Object.keys(T.b).map((function(t){return t.toLowerCase()}))).push("common"),a.forEach((function(a){t.push(a)})),i=c.b.getState(),o=i.quickFire,d.t0=o.items,d.t0){d.next=10;break}return d.next=9,Be.getItems(t);case 9:d.t0=d.sent;case 10:return l=d.t0,u={items:l,type:z.a.quickFireType.DEFINITION,filter:{iconicTaxa:t}},d.abrupt("return",u);case 13:case"end":return d.stop()}}),_callee6,this)})));return function init(){return t.apply(this,arguments)}}(),mn=function summary(t){var a=Xe(on.a),i=a.template,o=a.modal,c=a.parent,l=t.termScore.passes;l.forEach((function(t,a){t.index=a,t.wiki=t.wiki||"",t.showWikiClass=t.wiki.length>0?"":"hide-important"}));var u=t.termScore.fails;u.forEach((function(t,a){t.index=a,t.wiki=t.wiki||"",t.showWikiClass=t.wiki.length>0?"":"hide-important"})),Object(G.a)({score:t.termScore,passes:l,fails:u},i.content,c);var d=o.querySelectorAll(".js-quick-review-answers");o.querySelectorAll(".js-quick-review-tabs a").forEach((function(t){t.addEventListener("click",(function(t){var a=t.target.id;d.forEach((function(t){t.dataset.type===a?t.classList.remove("hide-important"):t.classList.add("hide-important")}))}))}));var p=o.querySelector(".js-quick-fire-summary div:nth-child(1) > span"),m=o.querySelector(".js-score-text-summary"),h=o.querySelector(".js-quick-review-continue-review");t.isComplete=t.poolSize===t.termScore.total,t.isComplete?(p.innerHTML='<span class="emphasis">You have answered all of the questions correctly.</span>',m.classList.add("modal-background-relief-emphasis"),m.innerHTML="You scored ".concat(t.termScore.correct," out of ").concat(t.termScore.total,"."),t.termScore.incorrect>0?(p.innerHTML='<span class="emphasis">You\'ve answered the questions, but not all correctly.</span>',h.innerHTML="<span>Continue</span>",h.addEventListener("click",(function(a){var i=Be.getQuickFire(t.termScore.fails,z.a.quickFireType.DEFINITION,{});gn(i)}),{once:!0})):(h.classList.add("hide-important"),h.addEventListener("click",(function(a){ln(t)}),{once:!0}))):(p.innerHTML="<span>You have answered ".concat(t.termScore.total," of ").concat(t.poolSize," questions.</span>"),h.addEventListener("click",(function(a){ln(t)}),{once:!0}))},fn={filters:cn,questions:ln,headers:sn,init:Be.getQuickFire,definitions:dn},hn=function quickFireFilters(t){fn.filters(t)},gn=function quickFireQuestions(t){fn.questions(t)},vn={quickFireFilters:hn,quickFireQuestions:gn,quickFireGlossary:function quickFireGlossary(t){fn.definitions(t)}},yn=i(273),bn=i.n(yn),_n=i(169),Sn=i.n(_n),xn=function renderReview(t,a,i,o){var c=document.querySelector(".js-right-grid progress"),l=t.roundProgressIndex?t.roundProgressIndex:c?c.value:0,u='<progress class="absolute" value="'.concat(l,'" max="').concat(t.roundScoreCount,'"></progress>');document.querySelector('.js-review[data-lesson-id="'.concat(a.id,'"]')).innerHTML=u,document.querySelector('.js-review-link[data-lesson-id="'.concat(a.id,'"]')).innerText="Resume Quiz"},wn=i(103),Tn=i(274),En=i.n(Tn);function home_lesson_intro_text_toConsumableArray(t){return function home_lesson_intro_text_arrayWithoutHoles(t){if(Array.isArray(t))return home_lesson_intro_text_arrayLikeToArray(t)}(t)||function home_lesson_intro_text_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function home_lesson_intro_text_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return home_lesson_intro_text_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return home_lesson_intro_text_arrayLikeToArray(t,a)}(t)||function home_lesson_intro_text_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function home_lesson_intro_text_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var kn=function handleSpeciesUpdate(t,a,i,o){return"--"===t&&(t=On(a),document.querySelector(".js-species-summary").innerHTML=i=Ln(o,t)),{speciesCount:t,speciesSummary:i}},Ln=function getSpeciesSummary(t,a){return 1===t.length?"".concat(a," species in ").concat(t.length," taxon."):"".concat(a," species in ").concat(t.length," taxa.")},On=function getSpeciesCount(t){var a=t.itemNames&&t.itemNames.length>0?t.itemNames.length:t.items?t.items.length:0;return 0===a?"--":a};function home_lesson_intro_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function home_lesson_intro_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?home_lesson_intro_ownKeys(Object(i),!0).forEach((function(a){home_lesson_intro_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):home_lesson_intro_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function home_lesson_intro_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var An=function renderLessonIntro(t){var a=c.b.getState(),i=a.config,o=a.videoPlayer,l=a.collection;(t=home_lesson_intro_objectSpread(home_lesson_intro_objectSpread({},t),{},{items:l.items})).hasVideo?Object(wn.a)(t,o||[],p.a.rightBody):function textSetup(t,a){var i=On(t),o=t.guide?t.guide.iconicTaxa:t.iconicTaxa||home_lesson_intro_text_toConsumableArray(new Set(t.items.map((function(t){return t.iconicTaxon})))),c=a.languages.find((function(t){return t.lang===a.language})).name,l=document.createElement("template");l.innerHTML=En.a;var u=t.guide?t.guide.season.observableMonths.map((function(t){return t.name})):[],d=u.length>0?"".concat(u[0],"-").concat(u[u.length-1]):"",m=0===u.length||"all_year"===t.guide.season?"Species observations are drawn from the whole year.":"Species observations are from ".concat(d,"."),h=Ln(o,i),g=t.intro||"",v={speciesCount:i,iconicTaxa:o,title:t.name,language:c,observableMonths:d,season:m,speciesSummary:h,lessonIntro:g};p.a.rightBody.innerHTML="",Object(G.a)(v,l.content,p.a.rightBody),setTimeout((function(){var a=kn(i,t,h,o);i=a.speciesCount,h=a.speciesSummary}),500),setTimeout((function(){var a=kn(i,t,h,o);i=a.speciesCount,h=a.speciesSummary}),1500)}(t,i)},jn=i(275),Cn=i.n(jn);function lesson_edit_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var In=function renderEditLesson(t){(function(){var a=function lesson_edit_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){lesson_edit_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){lesson_edit_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var a,i,o,l,u,d,p;return regeneratorRuntime.wrap((function _callee$(m){for(;;)switch(m.prev=m.next){case 0:a=c.b.getState(),i=a.config,(o=document.createElement("template")).innerHTML=Cn.a,l=document.querySelector("#basicModal"),(u=l.querySelector(".js-modal-text")).innerHTML="",Object(G.a)({collection:t},o.content,u),l.querySelector(".js-modal-text-title").innerHTML="Edit lesson",(d=l.querySelector(".js-selected-species-container")).innerHTML="",p={setConfig:function setConfig(t){j.a.boundUpdateConfig(t)}},Object(Ie.a)(i,l,d,p,t.items);case 13:case"end":return m.stop()}}),_callee,this)})));return function init(){return a.apply(this,arguments)}})()()},Pn=function scrollToTitle(t){setTimeout((function(){var a=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--vhRow").replace("px",""))*function siblingsBefore(t){for(var a=document.querySelectorAll(".js-lesson-list-item:not(.hide-important)"),i=a[0],o=0,c=[];i;)o++,parseInt(i.dataset.lessonId)!==t?(c.push(i),i=a[o]):i=null;return c.length}(t),i=document.querySelector(".lesson-list .scrollable");i&&(i.scrollTop=a)}))},Rn=i(22);function lesson_list_event_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function lesson_list_event_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){lesson_list_event_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){lesson_list_event_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Nn=function onLoadLessonViewState(t,a,i,o){var c=t.iconicTaxa?t.iconicTaxa.map((function(t){return t.common})).join(", "):"";return t.taxa=c,t.hasVideo=!(!t.video||R.a(t.video)),t.showVideoIconClass=t.hasVideo?"":"hide-important",t.videoState=Rn.a.setVideoState(a||[],t),t.reviewState="Lesson Quiz",t.hasTermsClass=t.terms&&Array.isArray(t.terms)&&t.terms.length>0?"":"hide-important",t.isCollectionEditableClass="",t},Mn=function onClickViewState(t,a){var i=t.currentTarget,o=I(i,"js-lesson-list-youtube"),c=I(i,"js-lesson-list-chevron"),l=i.parentElement.parentElement,u=parseInt(i.dataset.lessonId),d=a.find((function(t){return t.id===u})),p=document.querySelector('.js-species-container[data-container-id="'.concat(u,'"]')),m=document.querySelector("#species_list_id_".concat(u)),h=document.querySelector('.js-review-link[data-lesson-id="'.concat(u,'"]')),g=o?z.a.userEvent.START_LESSON:c?z.a.userEvent.TOGGLE_SPECIES_LIST:z.a.userEvent.DEFAULT;X.a.recordUserAction(g),qn(u);var v=!!m,y=I(m,"hide"),b=document.querySelector('.js-lesson-video-state[data-lesson-id="'.concat(u,'"]')),_=!i.dataset.lessonIsYoutubeIcon;return{icon:i,lesson:d,state:{requiresSpeciesList:!v,revealSpeciesList:v&&y,hideSpeciesList:v&&!y&&_},speciesList:m,container:p,lessonVideoState:b,reviewLink:h,row:l,isYoutubeIcon:o}},qn=function hideOtherContentAndRevertChevrons(t){Array.from(document.querySelectorAll(".js-lesson-list-chevron .fa-chevron-up")).forEach((function(a){var i=parseInt(a.dataset.lessonId);i!==t&&(a.click(),document.querySelector('.js-lesson-list-carousel-item[data-lesson-id="'.concat(i,'"]')).classList.remove("highlighted-for-review-row"))}))},Dn=function(){var t=lesson_list_event_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee3(t,a,i){var o,l;return regeneratorRuntime.wrap((function _callee3$(u){for(;;)switch(u.prev=u.next){case 0:if(Array.from(t.parentElement.children).forEach((function(t){return t.dataset.selected=!0})),!l||l.name!==z.a.userEvent.START_LESSON.name){u.next=3;break}return u.abrupt("return");case 3:return o=c.b.getState(),l=o.userAction,o.config,u.next=6,X.a.changeRequest({requestType:z.a.lessonState.RENDER_SPECIES_LIST,requestArgs:{lesson:a,container:i}});case 6:Pn(a.id);case 7:case"end":return u.stop()}}),_callee3,this)})));return function loadAndDisplaySpeciesList(a,i,o){return t.apply(this,arguments)}}(),Hn={onLoadLessonViewState:Nn,onLoadLessonsViewState:function onLoadLessonsViewState(t,a,i,o){return t.map((function(t){return Nn(t,a)}))},onLessonIconClickHandler:function onLessonIconClickHandler(t,a,i,o){return t.addEventListener("click",function(){var t=lesson_list_event_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var l,u,d,m,h,g,v,y,b,_,S;return regeneratorRuntime.wrap((function _callee$(x){for(;;)switch(x.prev=x.next){case 0:if(l=Mn(t,a),u=l.icon,d=l.lesson,m=l.state,h=l.speciesList,g=l.container,v=l.lessonVideoState,y=l.row,b=l.isYoutubeIcon,_=function isItemActive(t){return!t.hasOwnProperty("isActive")||t.isActive},d.items=d.items.filter((function(t){return _(t)})),!i.isLandscapeMode){x.next=13;break}if(document.querySelectorAll(".lesson-list-selected-lesson .youtube-icon").forEach((function(t){return t.parentElement.classList.remove("youtube-green-fg")})),u.dataset.lessonIsYoutubeIcon&&(u.classList.add("youtube-green-fg"),document.querySelector('.js-lesson-list-chevron[data-lesson-id="'.concat(u.dataset.lessonId,'"]')).innerHTML='<i class="fas fa-chevron-up" data-lesson-id="'.concat(d.id,'"></i>')),!m.requiresSpeciesList){x.next=10;break}return x.next=10,Dn(u,d,g);case 10:o?(An(d),S=u.parentElement.parentElement.parentElement.children[1].children[0].children[1],b&&m.hideSpeciesList&&(S.innerHTML='<i class="fas fa-chevron-down" data-lesson-id="'.concat(d.id,'"></i>'))):b||(m.hideSpeciesList?u.innerHTML='<i class="fas fa-chevron-down" data-lesson-id="'.concat(d.id,'"></i>'):m.revealSpeciesList||(u.innerHTML='<i class="fas fa-chevron-up" data-lesson-id="'.concat(d.id,'"></i>'))),m.revealSpeciesList&&(h.classList.remove("hide"),b||(u.innerHTML='<i class="fas fa-chevron-up" data-lesson-id="'.concat(d.id,'"></i>'))),m.hideSpeciesList&&(h.classList.add("hide"),v.innerHTML=Rn.a.setVideoState(c.b.getState().videoPlayer||[],d));case 13:if(!i.isPortraitMode){x.next=19;break}if(!m.requiresSpeciesList){x.next=17;break}return x.next=17,Dn(u,d,g);case 17:An(d),X.a.changeRequest({requestType:z.a.lessonState.RENDER_SPECIES_LIST,requestArgs:{lesson:d,container:p.a.rightBody.querySelector(".js-home-scrolling-container .scrollable")}});case 19:y.classList.add("lesson-list-selected-lesson");case 20:case"end":return x.stop()}}),_callee,this)})));return function(a){return t.apply(this,arguments)}}())},onReviewClickHandler:function onReviewClickHandler(t){t.addEventListener("click",function(){var a=lesson_list_event_handler_asyncToGenerator(regeneratorRuntime.mark((function _callee2(a){var i;return regeneratorRuntime.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:X.a.recordUserAction(z.a.userEvent.START_LESSON_REVIEW),t.dataset.lessonId,i=c.b.getState(),i.lesson,X.a.changeRequest({requestType:z.a.lessonState.BEGIN_OR_RESUME_LESSON,requestArgs:{id:t.dataset.lessonId}});case 4:case"end":return a.stop()}}),_callee2,this)})));return function(t){return a.apply(this,arguments)}}())},onLessonTitleClickHandler:function onLessonTitleClickHandler(t,a){t.addEventListener("click",(function(i){var o=a.find((function(a){return a.id===parseInt(t.dataset.lessonId)}));In(o)}))},hideOtherContentAndRevertChevrons:qn},Gn=function renderCustomLesson(t,a,i,o,c){!function onCreateCustomLesson(t){Ue.pop(),Ue.push(t)}((function(l){var u=document.querySelector(".lesson-list > .scrollable"),d=document.createElement("template");d.innerHTML=Sn.a;var p=Hn.onLoadLessonViewState(l,a,i,o,c);p.hideVideoClass="hide-important",p.hideTextIntroClass="",t.push(p),p.icon=p.icon||"https://static.inaturalist.org/photos/57604885/small.jpeg?1575746307",Object(G.a)({lesson:p},d.content,u);var m=document.querySelector('.js-lesson-title[data-lesson-id="'.concat(p.id,'"]'));Hn.onLessonTitleClickHandler(m,t);var h=document.querySelector('.js-review-link[data-lesson-id="'.concat(p.id,'"]'));Hn.onReviewClickHandler(h,t);var g=document.querySelector('.js-lesson-list-chevron[data-lesson-id="'.concat(p.id,'"]'));g&&(g.classList.remove("landscape"),Hn.onLessonIconClickHandler(g,t,c,!1));var v=document.querySelector('.js-lesson-list-youtube[data-lesson-id="'.concat(p.id,'"]'));v&&v.classList.add("hide-important");document.querySelector(".js-lesson-container").scrollTo({left:0,top:1e3,behavior:"smooth"})}))},Un=i(276),Bn=i.n(Un);function lesson_list_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_list_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_list_ownKeys(Object(i),!0).forEach((function(a){lesson_list_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_list_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_list_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Fn,Wn=function renderLessons(){var t=c.b.getState(),a=t.config,i=t.collections,o=t.lessons,l=t.videoPlayer,u=t.score,d=document.createElement("template");d.innerHTML=Bn.a;var m=Hn.onLoadLessonsViewState(i.filter((function(t){return void 0===t.isActive||t.isActive})),l,u,a);m=m.sort((function(t,a){var i=t.create?t.create.seconds:0;return(a.create?a.create.seconds:0)-i}));var h=a.isPortraitMode?p.a.rightBody:p.a.leftBody;h.innerHTML="",Object(G.a)({},d.content,h),m.forEach((function(t){return function renderLesson(t){var a=c.b.getState(),i=a.config,o=a.lessons,l=a.layout,u=document.createElement("template");u.innerHTML=Sn.a,t.hideVideoClass=t.hasVideo?"":"hide-important",t.hideTextIntroClass=t.hasVideo?"hide-important":"";var d=o.find((function(a){return a.collection.id===t.id}));if(t.isPaused=!!d||i.collection.id===t.id,t.icon=t.icon||"https://static.inaturalist.org/photos/57604885/small.jpeg?1575746307",Object(G.a)({lesson:t},u.content,document.querySelector(".js-lesson-container")),d&&xn(d.layout,d.collection,null,i),i.collection.id===t.id){var p=document.querySelector('.js-lesson-list-carousel-item[data-lesson-id="'.concat(t.id,'"]'));p&&p.classList.add("highlighted-for-review-row"),i.isLandscapeMode&&setTimeout((function(){var t=p.querySelector(".js-review-summary");t&&t.click()})),l&&l.roundScoreCount&&xn(l,t,"progress-icon",i)}}(t)})),function renderLessonListHeader(t){var a=document.createElement("div");a.innerHTML=bn.a;var i=document.querySelector(".lesson-list .scrollable");document.querySelector(".lesson-list").insertBefore(a,i)}(),h.querySelector(".js-create-custom-lesson").addEventListener("click",(function(t){!function createGuideHandler(t){var a=new Ge(t);a.goToNextStep(t,"NEXT");a.nextStepActionArrow.addEventListener("click",(function handleNextStepAction(t){a.startLesson=4===parseInt(a.nextStepActionArrow.dataset.number),a.startLesson?a.nextStepActionArrow.setAttribute("data-dismiss","modal"):a.nextStepActionArrow.removeAttribute("data-dismiss");var i=a.steps.find((function(t){return t.description===a.getCurrentStep().nextStep}));i&&a.goToNextStep(i.number,"NEXT"),a.listeners.push({element:a.nextStepActionArrow,handler:handleNextStepAction})}),!0);a.previousStepActionArrow.addEventListener("click",(function handlePreviousStepAction(t){var i;i=a.getCurrentStep()&&4===a.getCurrentStep().number?a.option===z.a.guideOption.PICKER.name?2:3:a.getCurrentStep().number-1,a.goToNextStep(i,"PREVIOUS",a.option),a.listeners.push({element:a.previousStepActionArrow,handler:handlePreviousStepAction})}),!0),a.callOnCreateCustomListeners=function(t){Ue.forEach((function(a){return a(t)})),Ue.pop()}}(1),Hn.hideOtherContentAndRevertChevrons(0)})),document.querySelectorAll(".js-lesson-title").forEach((function(t){return Hn.onLessonTitleClickHandler(t,m)}));var g=document.querySelectorAll(".js-lesson-list-youtube");g.forEach((function(t){return Hn.onLessonIconClickHandler(t,m,a,!0)})),Vn(g);var v=document.querySelectorAll(".js-lesson-list-chevron");v.forEach((function(t){return Hn.onLessonIconClickHandler(t,m,a,!1)})),Vn(v);var y=document.querySelectorAll(".js-review-link");y.forEach((function(t){return Hn.onReviewClickHandler(t)})),Vn(y),setTimeout((function(){var t=document.querySelectorAll(".js-terms-review-link");t.forEach((function(t){var a=t.querySelector("button");a.addEventListener("click",(function(t){var i=m.find((function(t){return t.id===parseInt(a.dataset.lessonId)}));if(i.terms){var o=c.b.getState().glossary;setTimeout((function(){var t=c.b.getState().quickFire;t&&t.lessonId===i.id?fn.questions(t):fn.questions(lesson_list_objectSpread(lesson_list_objectSpread({},fn.init(o,z.a.quickFireType.DEFINITION,i)),{},{linkFromLesson:!0}))}),150)}}))})),Vn(t)}),100),Gn(m,o,l,u,a)},Vn=function highlightActiveLesson(t){t.forEach((function(t){return t.addEventListener("click",(function(a){document.querySelectorAll(".js-lesson-list-carousel-item").forEach((function(t){return t.classList.remove("highlighted-for-review-row")}));var i=document.querySelector('.js-lesson-list-carousel-item[data-lesson-id="'.concat(t.dataset.lessonId,'"]'));i&&i.classList.add("highlighted-for-review-row")}))}))},Yn="SameSite=Lax;",Kn=function setFirstTimeVisitorCookie(){var t=!0;return document.cookie.indexOf("first_time")<0?(Fn="".concat("first_time","=false; ").concat(Yn),document.cookie=Fn):t=!1,t},zn=function isFirstTimeVisitor(){return null===Jn("first_time")},$n=function removeFirstTimeVisitorCookie(){Fn="".concat("first_time","= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; ").concat(Yn),document.cookie=Fn},Xn=function setLastVisitedCookie(t){document.cookie.indexOf("last_visited")<0?(Fn="".concat("last_visited","=").concat(t,"; ").concat(Yn),document.cookie=Fn):Zn(t)},Qn=function hasUserBeenAwayTooLong(){var t=Jn("last_visited");if(!t)return!1;var a=Math.abs(new Date-new Date(t)),i=Math.ceil(a/864e5)>5;return i&&Zn(Date()),i},Jn=function readCookie(t){for(var a=t+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var c=i[o];" "==c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(a))return c.substring(a.length,c.length)}return null},Zn=function setLastVisited(t){var a=document.cookie.replace(/(?:(?:^|.*;\s*)last_time\s*\=\s*([^;]*).*$)|^.*$/,"$1")+"".concat("last_visited","=").concat(t,";");Fn="".concat(a,"; ").concat(Yn),document.cookie=Fn},et=i(277),nt=i.n(et),tt=function settingsHandler(){document.querySelector("#basicModal .js-modal-text").innerHTML="";var t=document.createElement("template");t.innerHTML=nt.a,document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Snapdragon settings";var a=c.b.getState().config,i=a.callbackTime/1e3,o=a.languages;Object(G.a)({delay:i,languages:o},t.content,document.querySelector("#basicModal .js-modal-text"));var l=document.querySelector(".js-clear-cache-btn"),u=document.querySelector(".js-set-delay-btn"),d=document.querySelector(".js-set-delay-input"),p=document.querySelector(".js-delay-text");document.querySelector("#basicModal .modal-body").classList.remove("bird-song-bg"),p.innerHTML="The current delay is ".concat(i,1===i?" second.":" seconds."),l.addEventListener("click",(function(){l.innerText="Clearing cache…",setTimeout((function(){c.a.purge(),l.innerText="Cache cleared",$n(),setTimeout((function(){setTimeout((function(){window.location.reload(!0)}),500)}),500)}),1e3)})),u.addEventListener("click",(function(){u.innerHTML="Setting delay…",setTimeout((function(){var t=d.value;a.callbackTime=1e3*t,j.a.boundUpdateConfig(a),u.innerHTML="Set delay",p.innerHTML="Delay updated to ".concat(t,"1"===t?" second.":" seconds.")}),500)})),me(a,document.querySelector(".js-language-selection-container"),(function(t){j.a.boundUpdateConfig(t)}))},rt=i(278),at=i.n(rt),it=i(279),ot=i.n(it),st=function renderLogin(t){var a=firebase.auth();document.querySelector("#basicModal .js-modal-text").innerHTML="";var i=document.createElement("template");if(t){i.innerHTML=ot.a,Object(G.a)({email:t.email},i.content,document.querySelector("#basicModal .js-modal-text")),document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Snapdragon logout";var o=document.querySelector(".js-modal-footer");setTimeout((function(){document.querySelector("#logout-form").addEventListener("submit",(function(t){t.preventDefault();var i=document.querySelector("#js-logout-btn");i.setAttribute("disabled","disabled"),a.signOut().then((function(){j.a.boundUpdateUser(null),i.innerHTML="Success",setTimeout((function(){o.click()}),2500)}))}))}),500)}else{i.innerHTML=at.a,Object(G.a)({},i.content,document.querySelector("#basicModal .js-modal-text")),document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Snapdragon login";var c=document.querySelector(".js-modal-footer");setTimeout((function(){var t=document.querySelector("#login-email");t.focus();var i=document.querySelector("#login-password");document.querySelector("#login-form").addEventListener("submit",(function(o){o.preventDefault();var l=document.querySelector("#js-login-btn");l.setAttribute("disabled","disabled"),a.signInWithEmailAndPassword(t.value,i.value).then((function(a){j.a.boundUpdateUser({email:t.value,password:i.value}),l.innerHTML="Success",setTimeout((function(){c.click()}),2500)})).catch((function(t){var a=document.querySelector(".js-not-logged-in");a&&a.classList.remove("hide-important"),a&&(a.querySelector(".js-message").innerHTML=t.message)}))}))}),500)}},ct=function renderLoggedIn(t){if(t){var a=document.querySelector(".js-logged-in");a&&a.classList.remove("hide-important")}else{var i=document.querySelector(".js-not-logged-in");i&&i.classList.remove("hide-important");var o=document.querySelector(".js-logged-out");o&&o.classList.remove("hide-important")}},lt=i(280),ut=i.n(lt),dt=function renderLanguagePicker(){var t=c.b.getState().config,a=document.querySelector("#basicModal .js-modal-text");a.innerHTML="";var i=document.createElement("template");i.innerHTML=ut.a,Object(G.a)({},i.content,a),document.querySelector("#basicModal .js-modal-text-title header").innerHTML="Vernacular language",me(t,document.querySelector(".js-language-selection-container"),(function(t){actions.boundUpdateConfig(t)}))},pt=i(281),mt=i.n(pt),ft=i(282),ht=i.n(ft),gt=i(283),vt=i.n(gt);function navigation_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var yt=[],bt=function renderNavigation(t){var a,i=c.b.getState(),o=i.config,l=i.counter,d=document.createElement("template");o.isPortraitMode?(d.innerHTML=mt.a,(a=document.querySelector(".js-main-footer .js-nav-icons")).innerHTML="",Object(G.a)({},d.content,a)):(d.innerHTML=ht.a,(a=document.querySelector(".js-left-footer .js-nav-icons")).innerHTML="",Object(G.a)({},d.content,a),d.innerHTML=vt.a,(a=document.querySelector(".js-right-footer .js-nav-icons")).innerHTML="",Object(G.a)({},d.content,a));var m=document.querySelectorAll(".js-nav-icons .icon");m.forEach((function(t){t.addEventListener("click",function(){var t=function navigation_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){navigation_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){navigation_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a,i,o,l,d,m,h,g;return regeneratorRuntime.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:a=t.currentTarget,i=c.b.getState(),o=i.collection,i.config,l=function toggleIconOnOff(t){t.classList.add("active-icon"),setTimeout((function(){t.classList.remove("active-icon")}),1e3)},v.t0=z.a.navigation.enumValueOf(a.id),v.next=v.t0===z.a.navigation.LANDSCAPE_HOME?6:v.t0===z.a.navigation.SETTINGS?9:v.t0===z.a.navigation.PORTRAIT_HOME?12:v.t0===z.a.navigation.GLOSSARY?24:v.t0===z.a.navigation.EMAIL?29:v.t0===z.a.navigation.LOGIN?31:v.t0===z.a.navigation.LANGUAGE?33:34;break;case 6:return u.a("active-icon",a.classList)||a.classList.add("active-icon"),v.abrupt("break",35);case 9:return l(a),tt(),v.abrupt("break",35);case 12:return yt.forEach((function(t){return t()})),(d=document.querySelector(".js-info.active-icon"))&&d.classList.remove("active-icon"),a.classList.add("active-icon"),or.getByRole("screen").forEach((function(t){return or.remove(t)})),v.next=19,X.a.changeRequest({requestType:z.a.lessonState.PAUSE_LESSON});case 19:return v.sent,Wn(),p.a.rightHeaderTxt.innerHTML="Learn the planet",p.a.rightHeaderScoreTxt.innerHTML="",v.abrupt("break",35);case 24:return l(a),m=c.b.getState(),h=m.glossary,g=o.glossary?h.filter((function(t){return u.a(t.taxon,o.glossary)})):h,fn.definitions(g),v.abrupt("break",35);case 29:return l(a),v.abrupt("break",35);case 31:return st(c.b.getState().user),v.abrupt("break",35);case 33:dt();case 34:return v.abrupt("return");case 35:case"end":return v.stop()}}),_callee,this)})));return function(a){return t.apply(this,arguments)}}())}));!function onLoadState(t,a){if(!t.isPortraitMode||0===t.collection.id||a.isLessonRehydrated)if(a.isLessonPaused){if(t.isPortraitMode){var i=z.a.navigation.PORTRAIT_HOME.name,o=document.getElementById(i),c=!zn();(i===z.a.navigation.LANDSCAPE_HOME.name||i===z.a.navigation.PORTRAIT_HOME.name&&c)&&o.classList.add("active-icon")}}else m.forEach((function(t){return t.classList.remove("active-icon")}));else m.forEach((function(t){return t.classList.remove("active-icon")}))}(o,l)},_t=function renderLoginChanges(t){},St=i(284),xt=i.n(St),wt=i(285),Tt=i.n(wt);function text_entry_toConsumableArray(t){return function text_entry_arrayWithoutHoles(t){if(Array.isArray(t))return text_entry_arrayLikeToArray(t)}(t)||function text_entry_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function text_entry_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return text_entry_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return text_entry_arrayLikeToArray(t,a)}(t)||function text_entry_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function text_entry_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var Et=function renderPortrait(t,a){var i=Object(U.f)(t,a,U.b.TEXT_ENTRY),o=document.querySelector(".js-test-card-container-images");Object(B.b)({config:a,images:i,parent:o})},kt=function renderLandscape(t,a,i){var c,l=i[i.taxon];switch(i.taxon){case"vernacular":c=t.vernacularName.toLowerCase(),l=i.common;break;case"genus":c=t.taxonomy.genus.toLowerCase();break;case"species":c=t.taxonomy.species.toLowerCase();break;case"binomial":case"name":c=t.name.toLowerCase(),l=i.binomial}var u="";o.utils.shuffleArray(Array.from(c)).forEach((function(t,a){" "===t&&(t="&nbsp;"),u+='<span id="'.concat(a,'" class="block">').concat(t,"</span>")})),document.querySelector(".js-pool-letters").innerHTML=u;var d=document.querySelector(".js-txt-input"),p=[],m=function deleteLetter(t){var a=document.querySelector(".js-txt-input").value,i=Array.from(document.querySelectorAll(".block.active")),o=Array.from(a),c=i.find((function(t){return t.innerText.trim()===o[o.length-1].trim()})),l=t||c;if(a.length>0){var u=a.lastIndexOf(l.innerHTML),m="",h=Array.from(a);h.splice(u,1),h.forEach((function(t){return m+=t})),d.value=m}var g=Array.from(document.querySelectorAll(".correct"));g.forEach((function(t){return t.classList.remove("correct")})),g.forEach((function(t){return t.classList.add("active")})),l&&(l.classList.remove("active"),p.forEach((function(t){if(t.id===l.id){var a=p.indexOf(t);a>-1&&p.splice(a,1)}})))},h=document.querySelectorAll(".block");h.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var a=t.target;a.classList.contains("active")?m(a):(a.classList.add("active"),p.push(a),"&nbsp;"===a.innerHTML?d.value+=" ":d.value+=a.innerHTML),d.value===l.toLowerCase()&&h.forEach((function(t){return t.classList.add("correct")}))}))})),document.querySelector(".js-delete-letter").addEventListener("click",(function(t){t.preventDefault(),m()}));var g=document.querySelector(".js-toggle-keyboard");g.addEventListener("click",(function(t){t.preventDefault(),d.hasAttribute("disabled")?(g.innerHTML="Enable letters",d.removeAttribute("disabled"),d.focus()):(g.innerHTML="Enable keyboard",d.setAttribute("disabled","disabled"))})),setTimeout((function(){g.focus()}),500);var v,y=text_entry_toConsumableArray(h),b=[];d.addEventListener("input",(function(t){if(t.preventDefault(),t.data){var a=t.data.toLowerCase();a=" "===a?"&nbsp;":a,b.push(a),(v=y.find((function(t){return t.innerHTML===a})))&&v.classList.add("active"),d.value===l.toLowerCase()&&y.forEach((function(t){return t.classList.add("correct")}))}})),d.addEventListener("keyup",(function(t){if(t.preventDefault(),8===t.keyCode){var a=b.pop();(v=y.find((function(t){return t.innerHTML===a})))&&v.classList.remove("active")}}))},Lt=i(170),Ot=i.n(Lt),At=function renderItemSpecimenTiles(t){var a=c.b.getState(),i=a.config,d=a.collection,p=a.layout;if(!(p.itemIndex===p.prevItemIndex&&!!document.querySelector(".js-tiles"))){var m,h,g=d.allItems||d.items;if(u.a(p.screens[1].name,["family-strips","family","taxon-card"])){var y=g.filter((function(a){return a.family.name.toLowerCase()===t.taxonomy.family.toLowerCase()}));h=(m=v.a(6,o.utils.shuffleArray(Ct(y,i,U.b.SPECIES_CARD)))).map((function(t){return g.find((function(a){return a.name===t.itemName}))}))}else m=v.a(6,o.utils.shuffleArray(l.a(t.images))),m=Object(U.f)({name:t.name,itemCommon:t.itemCommon,images:m},i,U.b.SPECIES_CARD),h=[t];m=m.map((function(t){return Object(U.g)(t,U.b.VISUAL_MATCH,i)})),jt({items:h},m,t)}},jt=function renderSpecimenImageTiles(t,a,i){var o=c.b.getState(),l=o.layout,d=o.config,m=["specimen-images","trait-images"];if(l.screens.find((function(t){return u.a(t.name,m)}))){var h=document.createElement("template");h.innerHTML=Ot.a;var g=p.a.leftBody;g.innerHTML="",Object(Pe.b)("renderSpecimenImageTiles, image medium values:",a.map((function(t){return t.medium}))),Object(G.a)({images:a},h.content,g),Object(U.d)(document.querySelectorAll(".js-tiles .square"),i,t,d)}},Ct=function getImagesFromItemFamily(t,a,i){var o;if((o=d.a(t.map((function(t){return{images:t.images,item:{name:t.name,itemCommon:t.names[0].vernacularName,vernacularName:t.names[0].vernacularName,names:t.names}}})))).length<6){var c=o.map((function(a){var i=t.find((function(t){return t.name===a.item.name}));return{images:i.images,item:{name:i.name,itemCommon:i.names[0].vernacularName,vernacularName:i.names[0].vernacularName,names:i.names}}}));d.a(c).forEach((function(t){t.images.forEach((function(a){o.push({images:t.images,item:t.item})}))}))}o.map((function(t){return t.item})).forEach((function(a){var i=a.name;a.images=t.find((function(t){return t.name===i})).images}));var l=[],p=[];return o.forEach((function(t,o){var c=function getUniqueImage(t,a,i){var o=t.images.find((function(t){return t.starred}));return o&&(o=u.a(o.title,i.map((function(t){return t.title})))?null:o),o||(o=t.images[a])&&!u.a(o.title,i.map((function(t){return t.title})))?(i.push(o),o):void 0}(t,o,l);c&&p.push(Object(U.e)(c,o,t.item,a,i))})),p},It=i(85);function pool_handler_toConsumableArray(t){return function pool_handler_arrayWithoutHoles(t){if(Array.isArray(t))return pool_handler_arrayLikeToArray(t)}(t)||function pool_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function pool_handler_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return pool_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return pool_handler_arrayLikeToArray(t,a)}(t)||function pool_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pool_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function pool_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var Pt=function(){var t=function pool_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){pool_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){pool_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a,i,c,l,u,d,p,m,h=arguments;return regeneratorRuntime.wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:if(a=h.length>1&&void 0!==h[1]?h[1]:5,g.prev=1,i=t.nextItem,"static"!==t.behaviour){g.next=7;break}if(!((c=t.items.filter((function(t){return t.name!==i.name})))&&c.length>0)){g.next=7;break}return g.abrupt("return",Rt(c,i,a));case 7:return Object(T.a)(i.taxonomy,i.iconicTaxon),g.next=10,_.a.getSpeciesByIconicTaxon(i);case 10:if(l=g.sent,"fungi"===i.iconicTaxon.toLowerCase()&&(u=i.lichen,l=u?l.filter((function(t){return t.lichen})):l.filter((function(t){return!t.lichen}))),d=o.utils.shuffleArray(l.filter((function(t){return t.name.toLowerCase()!==i.name.toLowerCase()}))),p="reptilia"===i.iconicTaxon.toLowerCase()||"amphibia"===i.iconicTaxon.toLowerCase(),d){g.next=18;break}Pt(t),g.next=27;break;case 18:if(!(d.length<a)||p){g.next=22;break}Pt(t),g.next=27;break;case 22:return(m=v.a(a,d)).push(i),g.next=26,m;case 26:return g.abrupt("return",g.sent);case 27:g.next=32;break;case 29:g.prev=29,g.t0=g.catch(1),Object(Pe.a)("renderMixedSpecimenImagesAndQuestion init",g.t0);case 32:case"end":return g.stop()}}),_callee,this,[[1,29]])})));return function getPoolItems(a){return t.apply(this,arguments)}}(),Rt=function getItemsFromCollection(t,a,i){var c=v.a(i,o.utils.shuffleArray(t));return o.utils.shuffleArray([].concat(pool_handler_toConsumableArray(c),[a]))},Nt=i(286),Mt=i.n(Nt),qt=i(287),Dt=i.n(qt),Ht=i(102),Gt=i.n(Ht);function multi_strips_toConsumableArray(t){return function multi_strips_arrayWithoutHoles(t){if(Array.isArray(t))return multi_strips_arrayLikeToArray(t)}(t)||function multi_strips_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function multi_strips_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return multi_strips_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return multi_strips_arrayLikeToArray(t,a)}(t)||function multi_strips_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function multi_strips_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function multi_strips_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function multi_strips_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){multi_strips_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){multi_strips_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var Ut=function renderMultiStrips(t,a,i){try{var l=c.b.getState(),p=l.config,m=l.lesson,h=l.layout,g=l.userAction;if(H.a.overrideLesson(g,p))return;var y,b=t.nextItem||t.items[t.itemIndex],S=Object(T.e)(b.taxonomy,T.b),x=a&&a.screen||h.screens[1];y=p.language,function(){var c=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee8(){var c,l,g,w,T,E,k,L,O,A,j,C,I,P,R,N,M,q,D,H,U,B,W,V,Y,K,z,X,Q,J,Z;return regeneratorRuntime.wrap((function _callee8$(ee){for(;;)switch(ee.prev=ee.next){case 0:if(c=function render(i,o,c){var l=c&&void 0!==c.vernacularName?c.vernacularName:b.vernacularName,u=c&&void 0!==c.binomial?c.binomial:b.name,d=c&&c.question?c.question:"Match the name",g=p.isLandscapeMode?"(Select the name below.)":"(Tap on the name below.)",v=c&&void 0!==c.help?c.help:g,y=c&&void 0!==c.term?c.term:"",_=c&&void 0!==c.className?c.className:"",S=c&&void 0!==c.headerClassName?c.headerClassName:"",x=c&&void 0!==c.clue?c.clue:null,w=le(t,{vernacularName:l,binomial:u,question:d,help:v,term:y,className:_,headerClassName:S,bonus:a}),T=document.createElement("template");T.innerHTML=i.img?Dt.a:Mt.a,o.forEach((function(t,a){t.index=a,t.name=t.name||"",t.names=t.names?t.names.join(", "):""})),Object(G.a)({answers:o},T.content,w);var E=document.querySelectorAll(".js-rptr-strips .strip");c.italicise&&E.forEach((function(t){return t.classList.add("binomial")}));var k={name:b.taxonomy.family,binomial:b.name,question:i.term},L={itemId:b.id,items:E,taxon:k,binomial:b.name,questionCount:m.questionCount,layoutCount:m.layoutCount,points:h.points,clue:x,answerIndex:o.findIndex((function(t){return t.term===i.term})),questionText:d};sr("strip",L,null,p)},"species-scientifics"===x.name&&function(){var a=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var a,i,l,u;return regeneratorRuntime.wrap((function _callee2$(d){for(;;)switch(d.prev=d.next){case 0:return u=function(){var c=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return a={term:b.name},c.next=3,Pt(t,6);case 3:i=c.sent,i=v.a(8,i).filter((function(t){return t.name.toLowerCase()!==b.name.toLowerCase()})).map((function(t){return t.name})),(i=v.a(5,i)).push(b.name),i=i.map((function(t){return{term:t}})),i=o.utils.shuffleArray(i),l=p.isLandscapeMode?"(Select the answer)":"(Tap on the answer)";case 10:case"end":return c.stop()}}),_callee,this)})));return function buildQuestion(){return c.apply(this,arguments)}}(),d.next=3,u();case 3:c(a,i,{binomial:"Latin name",question:"What's the latin name?",help:l,italicise:!0});case 4:case"end":return d.stop()}}),_callee2,this)})));return function renderBinomialQuestions(){return a.apply(this,arguments)}}()(),"species-vernaculars"===x.name&&function(){var a=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var a,i,l,u;return regeneratorRuntime.wrap((function _callee4$(d){for(;;)switch(d.prev=d.next){case 0:return u=function(){var c=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:return a={term:b.vernacularName},c.next=3,Pt(t,6);case 3:i=(i=c.sent).map((function(t){return $.a.getVernacularName(t,p,!1,"vernacularName",y)})),i=v.a(5,i.filter((function(t){return t!==b.vernacularName}))),i=(i=o.utils.shuffleArray([b.vernacularName].concat(multi_strips_toConsumableArray(i)))).map((function(t){return{term:t}})),l=p.isLandscapeMode?"(Select the answer)":"(Tap on the answer)";case 9:case"end":return c.stop()}}),_callee3,this)})));return function buildQuestion(){return c.apply(this,arguments)}}(),d.next=3,u();case 3:c(a,i,{vernacularName:"Common name",question:"What's the common name?",help:l});case 4:case"end":return d.stop()}}),_callee4,this)})));return function renderVernacularQuestions(){return a.apply(this,arguments)}}()(),"species-identification"===x.name&&function(){var a=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var a,i,l,u;return regeneratorRuntime.wrap((function _callee6$(d){for(;;)switch(d.prev=d.next){case 0:return u=function(){var c=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(c){for(;;)switch(c.prev=c.next){case 0:return a={term:b.quickId},c.next=3,Pt(t,6);case 3:i=(i=c.sent).map((function(t){return t.quickId})),i=v.a(5,i.filter((function(t){return t!==b.quickId}))),i=(i=o.utils.shuffleArray([b.quickId].concat(multi_strips_toConsumableArray(i)))).map((function(t){return{term:t}})),l=p.isLandscapeMode?"(Select the answer)":"(Tap on the answer)";case 9:case"end":return c.stop()}}),_callee5,this)})));return function buildQuestion(){return c.apply(this,arguments)}}(),d.next=3,u();case 3:c(a,i,{vernacularName:b.vernacularName,question:"Which description fits?",help:l});case 4:case"end":return d.stop()}}),_callee6,this)})));return function renderIdQuestions(){return a.apply(this,arguments)}}()(),"family-strips"!==x.name){ee.next=18;break}return l=o.utils.getRandomInt(2),g=0===l?"identification":"summary",p.isPortraitMode,w=4,ee.next=10,_.a.getFamiliesByIconicTaxon(S.rank,S.value,b.lichen,p);case 10:T=ee.sent,E={term:b.family[g],name:b.family.name}||{type:{term:"Missing ".concat(g)},name:b.family.name},k=v.a(w-1,v.a(w,o.utils.shuffleArray(T))).filter((function(t){return t.name.toLowerCase()!==b.taxonomy.family.toLowerCase()})),L=(L=k.filter((function(t){return t[g]&&void 0!==t[g]&&""!==t[g]})).map((function(t){return{type:t[g],name:t.name,names:t.names}}))).map((function(t){return{term:t.type,name:t.name,names:t.names}})),O=o.utils.shuffleArray([E].concat(multi_strips_toConsumableArray(L))),A=p.isLandscapeMode?"(Select the description below.)":"(Tap on the description.)",c(E,O,{question:"Match species family",help:A,clue:b.taxonomy.family});case 18:if("epithet"===x.name&&(j=h.epithet.latin.join(", "),p.isPortraitMode,C=6,I=(I=(I=v.a(C-1,o.utils.shuffleArray(It.a)).filter((function(t){return!u.a(t.latin,j)}))).map((function(t){return t.en.join(", ")}))).map((function(t){return{term:t}})),P={term:P=(P=It.a.find((function(t){return t.latin.join(", ").toUpperCase()===j.toUpperCase()})))?P[p.language][0]:j},R=o.utils.shuffleArray([P].concat(multi_strips_toConsumableArray(I))),p.isLandscapeMode?c(P,R,{question:h.epithet.latin.join(", "),help:"(Match the latin term)"}):c(P,R,{question:"Match latin word",help:"",vernacularName:"",binomial:"",term:h.epithet.latin.join(", ")})),"definition"===x.name&&c({term:a.question},a.answers.map((function(t){return{term:t}})),a.overrides),"family"!==x.name){ee.next=45;break}return p.isPortraitMode,N=[5,6],ee.next=24,_.a.getFamiliesByIconicTaxon(S.rank,S.value,b.lichen,p);case 24:M=ee.sent,q=b.taxonomy.family,D=v.a(N[0],v.a(N[1],o.utils.shuffleArray(M)).filter((function(t){return t.name.toLowerCase()!==b.taxonomy.family.toLowerCase()}))),H=D.map((function(t){return t.name})),U=D.map((function(t){return t.names[0]})),V=o.utils.getRandomInt(2),ee.t0=V,ee.next=0===ee.t0?33:1===ee.t0?39:45;break;case 33:return B={term:b.family.vernacularName},U=U.map((function(t){return{term:t}})),W=o.utils.shuffleArray([B].concat(multi_strips_toConsumableArray(U))),void 0===B&&console.log("Missing question - case 0 - in multi-strips for: ",b.name),c(B,W,{question:"Match family name"}),ee.abrupt("break",45);case 39:return B={term:q},H=H.map((function(t){return{term:t}})),W=o.utils.shuffleArray([B].concat(multi_strips_toConsumableArray(H))),void 0===B&&console.log("Missing question - case 1 - in multi-strips for: ",b.name),c(B,W,{question:"Match family name",italicise:!0}),ee.abrupt("break",45);case 45:"trait-property"===x.name&&(c({term:a.question},a.answers.map((function(t){return{term:t}})),a.overrides),a.overrides.trait&&"song"===a.overrides.trait.name&&function(){var t=multi_strips_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){var t,i,o,c,l;return regeneratorRuntime.wrap((function _callee7$(u){for(;;)switch(u.prev=u.next){case 0:return(t=document.querySelector(".js-question-help")).innerHTML="",(i=document.createElement("template")).innerHTML=Gt.a,o=a.overrides.trait.value[0],u.next=7,_.a.getBirdsong(o);case 7:c=u.sent,Object(G.a)({mp3:c,title:b.name},i.content,t),(l=document.querySelector(".js-test-card-question")).classList.remove("standard-block"),l.classList.add("double-standard-block"),document.querySelector(".js-test-card-content").classList.add("test-card-content-less-standard-block");case 14:case"end":return u.stop()}}),_callee7,this)})));return function renderBirdsong(){return t.apply(this,arguments)}}()()),"mixed-trait-images"===h.name&&(Y=i.traits,K=i.requiredTraits,z=i.item,X=i.question,Q=i.help,J=d.a(Y),Z=K[0],c(Z,J,{binomial:z.name,question:X,help:Q,italicise:!0}));case 47:case"end":return ee.stop()}}),_callee8,this)})));return function init(){return c.apply(this,arguments)}}()()}catch(t){console.error("Crashed out somwhere on multi-strips with this error: ",t)}},Bt=i(288),Ft=i.n(Bt),Wt=i(289),Vt=i.n(Wt),Yt=i(290),Kt=i.n(Yt);function mixed_specimen_combined_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function mixed_specimen_combined_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?mixed_specimen_combined_ownKeys(Object(i),!0).forEach((function(a){mixed_specimen_combined_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):mixed_specimen_combined_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function mixed_specimen_combined_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function mixed_specimen_combined_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var zt=function renderMixedSpecimenImagesAndQuestion(t){var a=c.b.getState(),i=a.config,u=a.lesson,d=a.layout,p=a.score,m=l.a(t.nextItem);if(m){var h=function(){var a=function mixed_specimen_combined_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){mixed_specimen_combined_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){mixed_specimen_combined_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var a,c,l,h,g,y,b,_,S;return regeneratorRuntime.wrap((function _callee$(x){for(;;)switch(x.prev=x.next){case 0:return a=function getPortraitImages(t){return o.utils.flatten(t.map((function(t){var a=0===t.srcs.filter((function(t){return t.starred})).length?v.a(1,o.utils.shuffleArray(t.srcs)):t.srcs.filter((function(t){return t.starred})),c={name:t.itemName,images:a};return Object(U.f)(c,i,U.b.MIXED_SPECIMENS)})))},x.next=3,Pt(t);case 3:c=x.sent,l=c.map((function(t,a){return{index:a+1,srcs:t.images,itemName:t.name}})),l=a(l),h=i.islandscapeMode?"Find then click to ID":"Swipe and tap to ID",(g=le(t,{vernacularName:m.vernacularName,binomial:m.name,question:h,help:"(Click on the matching photo.)",term:""})).innerHTML="",(y=document.createElement("template")).innerHTML=Kt.a,Object(G.a)({},y.content,g),g=document.querySelector(".js-test-card-container-images"),Object(B.b)({config:i,images:o.utils.shuffleArray(l),parent:g,identifier:"mixed-specimens"}),b=document.querySelector(".js-continue-lesson-btn"),_={},S=[],l.forEach((function(t){S.push({value:t.itemName,url:Object(U.g)({url:t.url}).small})})),document.querySelectorAll("#imageSlider_mixed-specimens .carousel-item img").forEach((function(t){t.addEventListener("click",(function(t){var a=t.target.dataset.itemName,o=m.name,l=a||"incorrect",h=l===o;document.createElement("span").innerHTML=h?'<span class="icon"><i class="fas fa-check-circle"></i></span>':'<span class="icon"><i class="fas fa-times-circle"></i></span>';var g=mixed_specimen_combined_objectSpread(mixed_specimen_combined_objectSpread({},p),{},{itemId:m.id,question:o,answer:l,binomial:m.name,questionCount:u.questionCount,layoutCount:u.layoutCount,points:d.points,answers:S,questionText:i.isPortraitMode?"Swipe and tap to ID":"Identify this species",vernacularName:$.a.getVernacularName(m,i)});sr("image-match",g,(function callback(t,a){if(_.score=t,_.scoreUpdateTimer=a,b.disabled=!1,!t.success){var o=c.find((function(a){return a.name===t.answer}));$.a.getVernacularName(o,i)||t.answer}}),i)}))})),b.addEventListener("click",(function(t){p.success?(window.clearTimeout(_.scoreUpdateTimer),hr(_.score)):setTimeout((function(){window.clearTimeout(_.scoreUpdateTimer),hr(_.score)}))}));case 20:case"end":return x.stop()}}),_callee,this)})));return function init(){return a.apply(this,arguments)}}();try{h()}catch(t){Object(Pe.a)("renderMixedSpecimenImagesAndQuestion init",t)}}};i(291);i(292);var $t=function renderMixedSpecimenQuestion(t,a){var i=c.b.getState();i.config,i.layout;zt(t)};function bonus_test_toConsumableArray(t){return function bonus_test_arrayWithoutHoles(t){if(Array.isArray(t))return bonus_test_arrayLikeToArray(t)}(t)||function bonus_test_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function bonus_test_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return bonus_test_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return bonus_test_arrayLikeToArray(t,a)}(t)||function bonus_test_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bonus_test_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var Xt=function renderBonusTest(t){var a=l.a(c.b.getState().collection);a.nextItem=t.item,t.overrides&&t.overrides.trait&&"lookalikes"===t.overrides.trait.name?(a.items=[].concat(bonus_test_toConsumableArray(t.overrides.trait.lookalikes),[a.nextItem]),$t(a)):Ut(a,t)},Qt=(i(293),i(294)),Jt=i.n(Qt);function mixed_trait_question_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var Zt=i(295),er=i.n(Zt);function horizontal_strips_toConsumableArray(t){return function horizontal_strips_arrayWithoutHoles(t){if(Array.isArray(t))return horizontal_strips_arrayLikeToArray(t)}(t)||function horizontal_strips_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function horizontal_strips_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return horizontal_strips_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return horizontal_strips_arrayLikeToArray(t,a)}(t)||function horizontal_strips_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function horizontal_strips_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var nr=[{name:"mixed-specimen-questions",func:zt},{name:"non-taxon-specimen-tiles",func:function renderNonTaxonCardSpecimenTiles(t){var a=c.b.getState().config;t.nextItem&&Object(K.b)((function callback(i){var o=document.createElement("template");o.innerHTML=Ot.a;var c=p.a.leftBody;c.innerHTML="",Object(G.a)({images:i},o.content,c),Object(U.d)(document.querySelectorAll(".js-tiles .square"),null,t,a)}))}},{name:"text-entry",func:function renderTextEntry(t){var a=c.b.getState().layout.screens.filter((function(t){return"text-entry"===t.name}))[0],i=t.nextItem;if(a){i.vernacular=i.vernacularName;var l="name"===a.taxon?i.name:"vernacular"===a.taxon?i.vernacularName:i.taxonomy[a.taxon];!function renderInput(t,a){var i,l,u,d=c.b.getState(),p=d.lessonPlan,m=d.collection,h=d.config,g=d.layout,v=m.nextItem;switch(u="Complete the latin name",a.taxon){case"genus":i=v.vernacularName,l=l="--- ".concat(a.species),u="Enter the genus name";break;case"species":i=v.vernacularName,l=l="".concat(a.genus," ---"),u="Enter the species name";break;case"name":i=v.vernacularName,l=l="--- ---",u="Enter full latin name";break;case"vernacular":i="--- ---",l=v.name,u="Enter the common name"}var y=h.isLandscapeMode?"(Complete the name below.)":"(Scroll to see more images.)",b=le(m,{vernacularName:i,binomial:l,question:u,help:y,term:""}),_=document.createElement("template");_.innerHTML=h.isLandscapeMode?xt.a:Tt.a,Object(G.a)({},_.content,b);var S=document.querySelector(".js-txt-input"),x=document.querySelector(".js-help-txt");switch(a.taxon){case"genus":S.setAttribute("placeholder","Enter genus name"),x.innerHTML="--- ".concat(a.species);break;case"species":S.setAttribute("placeholder","Enter species name"),x.innerHTML="".concat(o.utils.capitaliseFirst(a.genus)," ---");break;case"name":S.setAttribute("placeholder","Enter latin name"),x.innerHTML="--- ---";break;case"vernacular":S.setAttribute("placeholder","Enter common name"),x.innerHTML="-----"}var w={},T=document.querySelector(".js-check-answer"),E=function callback(t,a){w.scoreUpdateTimer=a,w.score=t};(h.isLandscapeMode&&T.addEventListener("click",(function scoreEventHandler(t){t.preventDefault();var i=document.querySelector(".js-txt-input").value,o={itemId:v.id,question:a,answer:i,target:t.target,layoutCount:p.layouts.length,points:g.points,names:v.vernacularNames,questionText:u,answers:[a.question,i]};sr("text",o,E,h),T&&(T.disabled=!0),document.querySelector(".js-continue-lesson-btn").disabled=!1,x&&(x.innerHTML="vernacular"===a.taxon?v.vernacularName:v.name)}),{once:!0}),h.isPortraitMode?Et(v,h):kt(v,h,a),document.querySelector(".js-continue-lesson-btn").addEventListener("click",(function(t){window.clearTimeout(w.scoreUpdateTimer),hr(w.score)}),{once:!0}),h.isPortraitMode)&&(document.querySelector(".js-attribution-layer").classList.add("hide-important"),document.querySelector(".js-carousel-indicators").classList.add("hide-important"))}(0,{binomial:i.name,species:i.taxonomy.species,genus:i.taxonomy.genus,taxon:a.taxon,question:l,common:i.vernacularName})}}},{name:"species-card",func:V.a},{name:"species-scientifics",func:Ut},{name:"species-vernaculars",func:Ut},{name:"species-identification",func:Ut},{name:"summary",func:function renderSummary(t){or.remove(or.getByName("renderSummary"));var a=c.b.getState().collection;ie(a.id)}},{name:"history",func:function renderHistory(t){c.b.getState().collection;Wn()}},{name:"epithet",func:Ut},{name:"definition",func:Xt},{name:"family",func:Ut},{name:"family-strips",func:Ut},{name:"taxon-card",func:Y.a},{name:"non-taxon-card",func:K.a},{name:"text-complete",func:function renderCompleteText(t){var a=t.nextItem,i=c.b.getState(),l=i.layout,u=i.config,d=i.lessonPlan,p=l.screens.filter((function(t){return"text-complete"===t.name}))[0];if(p){var m,h,g,y,b,_,S;switch(b=a.vernacularName,_=a.name,S="Complete the latin name",p.type){case"text-complete-genus":m=a.taxonomy.genus,h="---",g=a.taxonomy.species,_="--- ".concat(a.taxonomy.species),y="genus",S="Select genus name";break;case"text-complete-species":m=a.taxonomy.species,h=a.taxonomy.genus,g="---",_="".concat(a.taxonomy.genus," ---"),y="species",S="Select species name"}var x=le(t,{vernacularName:b,binomial:_,question:S,help:"(Select the name below.)",term:""}),w=document.createElement("template");w.innerHTML=Ft.a;var T=u.isPortraitMode?4:5,E=t.items.map((function(t){switch(y){case"genus":return t.taxonomy.genus;case"species":return t.taxonomy.species;default:return t.name}})),k=v.a(T,o.utils.shuffleArray(E).filter(o.utils.onlyUnique).filter((function(t){return t!==a.taxonomy[y]}))).filter((function(t){return void 0!==t}));k.push(a.taxonomy[y]);var L=o.utils.shuffleArray(k);L=L.map((function(t,a){return{index:a,value:t}})),Object(G.a)({genus:h,species:g,answers:L},w.content,x),setTimeout((function(){document.querySelectorAll(".pool .block")[0].focus()}),1e3);var O={itemId:a.id,binomial:a.name,question:a.taxonomy[y],callbackTime:u.callbackTime,layoutCount:d.layouts.length,points:l.points},A=function callback(t,a,i){var o=t.success?"answer-box-success":"answer-box-alert",c=t.success?'<span class="icon"><i class="fas fa-check"></i></span>':'<span class="icon"><i class="fas fa-times"></i></span>',l=t.success?"Correct":"Incorrect";document.querySelector(".js-txt-question").innerHTML='<div class="'.concat(o,'"><span>').concat(c,"</span><span>").concat(l,"</span</div>"),document.querySelectorAll(".block span").forEach((function(a){a.innerText===t.answer&&(t.success?a.parentElement.classList.add("snap-success"):a.parentElement.classList.add("snap-alert")),a.innerText===t.question&&a.parentElement.classList.add("snap-success")})),lr(document.querySelector(".js-continue-lesson-btn"),t,a)};document.querySelectorAll(".js-pool button").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var i=t.target.innerText;m===a.taxonomy.species?document.querySelector(".species").innerText=i:document.querySelector(".genus").innerText=i,O.answer=i,O.answers=L,O.questionText=S,sr("block",O,A,u)}))}))}}},{name:"cultivar-card",func:function renderCultivarCard(t){var a=t.nextItem,i=c.b.getState(),o=i.lessonPlan,l=(i.layout,i.config),u=o.layouts.find((function(t){return"screen-cultivar-card"===t.name})).cultivars.subspecies.map((function(t){var a=t.names.find((function(t){return t.language===l.language}));return{vernacular:(a=a||t.names.find((function(t){return"en"===t.language}))).vernacularName||"",variety:t.variety||"",form:t.form||"",eol:a.eol||"",eolAlt:a.eol||"N/A",wiki:a.wiki||"",wikiAlt:a.wiki||"N/A"}})),d=document.createElement("template");d.innerHTML=Vt.a;var m=p.a.rightBody;m.innerHTML="";var h={rank:"cultivar",item:a,cultivars:u};Object(G.a)(h,d.content,m),document.querySelectorAll('[title="N/A"]').forEach((function(t){return t.style.display="none"}))}},{name:"visual-match",func:Ut},{name:"trait-images",func:function renderBonusSpecimenTiles(t){var a=l.a(c.b.getState().collection);a.nextItem=t.item,a.nextItem=a.nextItem||a.items[a.itemIndex];var i=t.item&&t.overrides.trait.lookalikes?t.overrides.trait.lookalikes.length+1:0;if(i>0);else!function renderSpecimenTiles(t){var a=t.nextItem;a&&At(a)}(a)}},{name:"trait-property",func:Xt},{name:"lookalike-property",func:Xt},{name:"symbiotic-property",func:Ut},{name:"mixed-specimen-question",func:$t},{name:"mixed-specimen-images",func:$t},{name:"birdsong",func:Xt},{name:"media-players",func:function renderMediaPlayers(t){document.querySelectorAll(".media-audio-players")}},{name:"mixed-trait-question",func:function renderMixedTraitQuestion(t){(function(){var t=function mixed_trait_question_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){mixed_trait_question_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){mixed_trait_question_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var t,a,i,l,u;return regeneratorRuntime.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:t=c.b.getState(),a=t.layout,i=t.collection,t.config,document.createElement("template").innerHTML=Jt.a,l=i.nextItem,"Match the trait",u="Select the correct ".concat(o.utils.fromCamelCase(a.trait)),le(i,{vernacularName:l.vernacularName,binomial:l.name,question:"Match the trait",help:u,term:""}),Ut(i,null,{traits:a.traits,requiredTraits:a.requiredTraits,item:l,question:"Match the trait",help:u});case 8:case"end":return d.stop()}}),_callee,this)})));return function init(){return t.apply(this,arguments)}})()()}},{name:"provider-horizontal-strip-questions",func:function renderHorizontalStrips(t){var a=c.b.getState(),i=a.config,l=a.lesson,u=a.layout,d=t.nextItem||t.items[t.itemIndex],p=u.provider.name||u.provider.taxon,m=u.provider.statement,h=u.provider.question,g=le(t,{vernacularName:d.vernacularName,binomial:p,question:"",help:"",term:"",className:"",headerClassName:"",bonus:void 0,statement:m,providerQuestion:h}),v=document.createElement("template");v.innerHTML=er.a;var y=o.utils.shuffleArray([].concat(horizontal_strips_toConsumableArray(u.provider.answers),[u.provider.answer]));y=y.map((function(t,a){return{term:t,index:a}})),Object(G.a)({answers:y},v.content,g),document.querySelector(".js-test-card-question").classList.add("calendar-block"),document.querySelector(".js-test-card-question").classList.remove("standard-block");var b=document.querySelectorAll(".js-rptr-strips .strip"),_={name:d.taxonomy.family,binomial:d.name,question:u.provider.answer.term},S={itemId:d.id,items:b,taxon:_,binomial:d.name,questionCount:l.questionCount,vernacularName:d.vernacularName,layoutCount:l.layoutCount,points:u.points,clue:"",answerIndex:y.findIndex((function(t){return t.term===u.provider.answer})),answers:y,questionText:h,statement:m};sr("strip",S,null,i)}}];function subscriptions_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function subscriptions_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?subscriptions_ownKeys(Object(i),!0).forEach((function(a){subscriptions_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):subscriptions_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function subscriptions_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var tr=[],rr=function remove(t){return t&&(t.unsubscribe(),tr=tr.filter((function(a){return a.name!==t.name}))),tr},ar=function getByName(t){return tr.find((function(a){return a.name===t}))},ir=function getByRole(t){return tr.filter((function(a){return a.role===t}))},or={add:function add(t,a,i,o){var l=t,u=function observeStore(t,a,i,o,c){var l=null,u=!1;function handleChange(){var o=a(t.getState());if(u=o!==l,l&&Object.is(l.index,0)){var d=!0;d=(d=d&&Object.is(o.index,l.index))&&Object.is(o.isLessonPaused,l.isLessonPaused),u=!d}if(l&&o)switch(c){case"screen-species-card":case"screen-taxon-card":case"screen-non-taxon-card":case"species-vernaculars":case"mixed-specimen-images":case"mixed-specimen-question":case"screen-common-to-latin":case"screen-genus-completion":case"screen-latin-to-common":case"media-match":u=(o.nextItem&&o.nextItem.name)!==(l.nextItem&&l.nextItem.name)}u&&i(l=o)}handleChange.domain=o,handleChange.calledBy=i.name;var d=t.subscribe(handleChange);return u&&handleChange(),{unsubscribe:d,name:i.name}}(c.b,(function select(t){return t[a]}),l,a,o);if(!ar(u.name))return tr.push(subscriptions_objectSpread(subscriptions_objectSpread({},u),{},{role:i})),u},remove:rr,removeByName:function removeByName(t){var a=ar(t);if(a)return rr(a)},getByName:ar,getByRole:ir,getAll:function getAll(){return tr},removeSubs:function removeSubs(){ir("screen").forEach((function(t){return or.remove(t)}))},addSubs:function addSubs(t,a){t&&t.screens.forEach((function(i,o){var l=function funcByName(t){var a=nr.find((function(a){return a.name===t}));return a?a.func:null}(i.name),d=function checkRequired(t,a){var i=t.userAction,o=t.config,c=!0;return!!(c=H.a.getIsReviewingLesson(i,o,c))||!u.a(a.name,["screen-species-card","screen-taxon-card","screen-non-taxon-card","species-vernaculars","mixed-specimen-images","mixed-specimen-question","screen-common-to-latin","screen-genus-completion","screen-latin-to-common","media-match"])}(c.b.getState(),t);l&&d?a.isPortraitMode&&1!==o&&"summary"!==i.name||or.add(l,i.domain,"screen",t?t.name:""):(or.remove(or.getByName("nextItem")),or.remove(or.getByName("traitValuesHandler")))}))}};function score_handler_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function score_handler_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?score_handler_ownKeys(Object(i),!0).forEach((function(a){score_handler_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):score_handler_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function score_handler_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var sr=function scoreHandler(t,a,i,o){switch(t){case"radio":case"text":return dr(a,i,o);case"block":pr(a,i,o);break;case"strip":mr(a,i,o);break;case"image":fr(a,i,o);break;case"image-match":ur(a,i,o)}},cr=function showResponseToAnswerHandler(t){var a=document.querySelector(t.container)||document.querySelector(".js-txt-question");a&&(a.innerHTML=function renderScoreHTMLResponse(t){return t.success?'<div class="answer-box-success">\n                <span class="icon"><i class="fas fa-check"></i></span><span class="answer-response">'.concat(t.correct,"</span>\n                </div>"):'<div class="answer-box-alert">\n                <span class="icon"><i class="fas fa-times"></i></span><span class="answer-response">'.concat(t.answer||t.incorrect,"</span>\n            </div>")}(t))},lr=function continueLessonHandler(t,a,i){t.disabled=!1,t.style.cursor="pointer",t.addEventListener("click",(function(o){t.disabled=!0,window.clearTimeout(i),or.removeSubs(),hr(a)}))},ur=function simpleScoreHandler(t,a,i){var o=D(t),c=o.success?i.callbackTime:i.callbackTime+i.callbackDelay;or.removeSubs();var l=setTimeout((function(){hr(o)}),c);a?a(o,l):lr(document.querySelector(".js-continue-lesson-btn"),o,l);cr({success:o.success,correct:"Correct",incorrect:"Incorrect"})},dr=function genericScoreHandler(t,a,i){var o=t.itemId,c=t.question,l=t.answer,u=(t.target,t.layoutCount),d=t.points,p=t.names,m=t.questionText,h=t.answers,g=score_handler_objectSpread(score_handler_objectSpread({itemId:o},c),{},{answer:l,points:d,names:p,questionText:m,answers:h}),v=D(g);g.names&&g.names.length>0?g.names[0]:g.binomial;"genus"===v.taxon&&v.genus,"species"===v.taxon&&v.species,"name"===v.taxon&&v.binomial,"family"===v.taxon&&v.question;var y=window.matchMedia("(max-height: 568px)").matches?".js-check-answer":".js-txt-question";cr({success:v.success,correct:"Correct",incorrect:"Incorrect",container:y,answer:v.question}),v.layoutCount=u;var b=v.success?i.callbackTime:i.callbackTime+i.callbackDelay;or.removeSubs();var _=setTimeout((function(){hr(v)}),b);return a&&a(v,_),{score:v,scoreUpdateTimer:_}},pr=function blockScoreHander(t,a,i){var o=D(t),c=o.success?i.callbackTime:i.callbackTime+i.callbackDelay;or.removeSubs();var l=setTimeout((function(){hr(o)}),c);a(o,l,i)},mr=function stripScoreHandler(t,a,i){var o=t.items,c=t.taxon,l=function handleClickEvent(l){l.preventDefault();var u=l.target;if(!I(u,"disabled")){var d=u,p=d.innerText.trim(),m=d.dataset.answerIndex,h=d.dataset.name,g=u.dataset.vernacular;t.taxon="name",t.vernacular=g,t.question=c.question,t.answer=h&&""!==h?{term:p,name:h}:p;var v=D(score_handler_objectSpread(score_handler_objectSpread({},t),{},{answeredIndex:parseInt(m),answers:[]}));if(u.classList.add(v.colour),o.forEach((function(t){var a=t.querySelector("button"),i=parseInt(a.dataset.answerIndex),o=a.dataset.name||"";""===a?v.answers.push(a.innerText):v.answers.push({term:a.innerText,name:o}),i===v.answerIndex?t.classList.add("snap-success"):i===v.answeredIndex&&t.classList.add("snap-alert")})),a)a(v);else{!function _callback(t){var a=t.success?i.callbackTime:i.callbackTime+i.callbackDelay,o=setTimeout((function(){or.removeSubs(),hr(t)}),a);lr(document.querySelector(".js-continue-lesson-btn"),t,o),"family-strips"===screen.name&&(document.querySelector(".js-question-question").innerHTML=item.taxonomy.family,document.querySelector(".js-question-help").classList.add("hide"))}(v)}cr({success:v.success,correct:"Correct",incorrect:"Incorrect"}),o.forEach((function(t){return t.classList.add("disabled")}))}};o.forEach((function(t){t.addEventListener("click",l)})),window.addEventListener("keydown",(function(t){"Enter"===t.key&&l(t)}),{once:!0})},fr=function imageScoreHandler(t,a,i){var o=t.items,c=t.taxon;o.forEach((function(l){l.addEventListener("click",(function(u){var d=u.target,p=d.dataset.answer;if(p){t.taxon="name",t.question=c.name,t.answer=p;var m=D(t);l.style.filter="saturate(100%)",d.parentNode.style.filter="saturate(100%)",o.forEach((function(t){t.style.filter="saturate(10%)",t.style.opacity=.3,t.dataset.answer.trim().toLowerCase()===c.name.trim().toLowerCase()&&(t.style.filter="saturate(100%)",t.style.opacity=1)}));var h=m.success?i.callbackTime:i.callbackTime+i.callbackDelay;or.removeSubs();var g=setTimeout((function(){hr(m)}),h);a&&a(m,g)}}))}))},hr=function bindScore(t){var a=c.b.getState().collection;t.collectionId=a.id,j.a.boundUpdateScore(t)};function mixed_trait_handler_toConsumableArray(t){return function mixed_trait_handler_arrayWithoutHoles(t){if(Array.isArray(t))return mixed_trait_handler_arrayLikeToArray(t)}(t)||function mixed_trait_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||mixed_trait_handler_unsupportedIterableToArray(t)||function mixed_trait_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mixed_trait_handler_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _slicedToArray(t,a){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],o=!0,c=!1,l=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done)&&(i.push(u.value),!a||i.length!==a);o=!0);}catch(t){c=!0,l=t}finally{try{o||null==d.return||d.return()}finally{if(c)throw l}}return i}(t,a)||mixed_trait_handler_unsupportedIterableToArray(t,a)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mixed_trait_handler_unsupportedIterableToArray(t,a){if(t){if("string"==typeof t)return mixed_trait_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?mixed_trait_handler_arrayLikeToArray(t,a):void 0}}function mixed_trait_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var gr=[],vr=[],yr={},br=function callback(t,a){var i=document.querySelector(".js-continue-lesson-btn");i.disabled=!1,yr.score=t,yr.scoreUpdateTimer=a,i.addEventListener("click",(function(){window.clearTimeout(yr.scoreUpdateTimer),hr(yr.score)}))},_r={getMatchingTrait:function getMatchingTrait(t,a){try{for(var i,c,l=function _loop(){var a=_slicedToArray(d[u],2),l=a[0],p=a[1];t.map((function(t){t.toLowerCase()===o.utils.toCamelCase(l).toLowerCase()&&(i=p.value.map((function(t){return t.toLowerCase()})),c=t)}))},u=0,d=Object.entries(a);u<d.length;u++)l();return{requiredTraitValues:i,trait:c}}catch(t){return Object(Pe.a)(getMatchingTrait,t),{requiredTraitValues:[],trait:{}}}},fetchTraits:function(){var t=function mixed_trait_handler_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){mixed_trait_handler_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){mixed_trait_handler_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t,a,i){var l,d,p,m;return regeneratorRuntime.wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:return l=c.b.getState().glossary,g.next=3,_.a.getTraitDefinitions(l,i,t);case 3:if((d=g.sent).forEach((function(t){return t.term=t.term.toLowerCase(),t.alt&&(t.alt=t.alt.toLowerCase()),t})),a){g.next=7;break}return g.abrupt("return",{traits:null,requiredTraits:null});case 7:return p=(p=h.a.getNMultiplesFromArray(d.map((function(t){return t.term})),a.length)).filter((function(t){return!h.a.doArraysHaveSameValues(t,a)})),m=d.filter((function(t){return u.a(t.term,a)})),p=o.utils.shuffleArray([].concat(mixed_trait_handler_toConsumableArray(v.a(5,p)),[a])),d=p.map((function(t){return t.map((function(t){return d.find((function(a){return a.term===t}))}))})),gr.forEach((function(t){return t(d,m)})),g.abrupt("return",{traits:d,requiredTraits:m});case 14:case"end":return g.stop()}}),_callee,this)})));return function fetchTraits(a,i,o){return t.apply(this,arguments)}}(),onTraitsReady:function onTraitsReady(t){gr.push(t)},onTraitClicked:function onTraitClicked(t){vr.push(t)},onClickTileHandler:function onClickTileHandler(t,a,i){var o=c.b.getState(),l=o.config,u=o.lesson,d=o.collection.nextItem;t.addEventListener("click",(function(t){var o=t.currentTarget,c=Array.from(o.querySelectorAll("img")).map((function(t){return t.dataset.term})),p=Array.from(i).map((function(t){return t.querySelector("img").dataset})).map((function(t){return{value:t.term,url:t.url}})),m={points:0,binomial:d.name,trait:!0,question:a.map((function(t){return t.term})),answer:c,questionCount:u.questionCount,layoutCount:u.layoutCount,answers:p,questionText:"Match the trait"};sr("image-match",m,br,l),i.forEach((function(t){h.a.doArraysHaveSameValues(Array.from(t.querySelectorAll("img")).map((function(t){return t.dataset.term})),a.map((function(t){return t.term})))||t.querySelectorAll("img").forEach((function(t){return t.classList.add("desaturate")}))}))}))}};function screen_layouts_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function screen_layouts_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?screen_layouts_ownKeys(Object(i),!0).forEach((function(a){screen_layouts_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):screen_layouts_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function screen_layouts_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Sr={name:"specimen-images",domain:"collection"},xr={name:"species-card",domain:"collection"},wr={name:"species-vernaculars",domain:"collection",taxon:"name"},Tr={name:"species-scientifics",domain:"collection",taxon:"name"},Er={name:"text-entry",domain:"collection"},kr={name:"leaf-image",domain:"collection"},Lr={name:"leaf-text",domain:"collection"},Or={name:"family",domain:"collection"},Ar={name:"family-strips",domain:"collection"},jr={name:"taxon-card",domain:"collection"},Cr={name:"non-taxon-card",domain:"collection"},Ir={name:"text-complete",domain:"collection",question:"Complete the latin name"},Pr={name:"cultivar-match",domain:"collection"},Rr={name:"cultivar-card",domain:"collection"},Nr={name:"epithet",domain:"collection"},Mr={name:"definition",domain:"bonusLayout"},qr={name:"visual-match",domain:"collection",type:"vernacular"},Dr={name:"visual-match",domain:"collection",type:"binomial"},Hr={name:"definition-card",domain:"collection"},Gr={name:"trait-property",domain:"bonusLayout"},Ur={name:"symbiotic-property",domain:"collection"},Br={name:"lookalike-property",domain:"bonusLayout"},Fr={name:"trait-images",domain:"bonusLayout"},Wr={name:"non-taxon-specimen-tiles",domain:"collection"},Vr={name:"mixed-specimen-questions",domain:"collection"},Yr={name:"mixed-specimen-images",domain:"collection"},Kr={name:"mixed-specimen-question",domain:"collection"},zr={name:"history",domain:"history"},$r={name:"summary",domain:"history"},Xr={name:"birdsong",domain:"bonusLayout"},Qr={name:"mixed-trait-images",domain:"collection"},Jr={name:"mixed-trait-question",domain:"collection"},Zr={name:"provider-horizontal-strip-questions",domain:"collection"},ea={name:"species-identification",domain:"collection",taxon:"name"},na={name:"screen-mixed-species-match",type:"test",score:1,kind:"VMC",points:3,given:"Given species name",requirement:"Select species image",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Vr)]},ta={name:"screen-species-card",type:"revision",score:0,kind:"S",points:0,given:"Given species summary",requirement:"Study species",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},xr)]},ra={name:"screen-taxon-card",type:"revision",score:0,kind:"F",points:0,given:"Study",requirement:"Family summary",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},jr)]},aa={name:"screen-non-taxon-card",type:"revision",score:0,kind:"GR",points:0,given:"Group summary",requirement:"Study",screens:[screen_layouts_objectSpread({},Wr),screen_layouts_objectSpread({},Cr)]},ia={name:"screen-definition-card",type:"revision",score:0,kind:"G",points:0,given:"Given glossary",requirement:"Study definitions",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Hr)]},oa={name:"screen-latin-to-common",type:"test",score:1,points:1,kind:"MC",given:"Given latin name",requirement:"Select common name",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},wr)]},sa={name:"screen-common-to-latin",type:"test",score:1,points:1,kind:"MC",given:"Given common name",requirement:"Select latin name",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Tr)]},ca={name:"screen-species-identification",type:"test",score:1,points:1,kind:"MC",given:"Given species name",requirement:"Select identification",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},ea)]},la={name:"screen-genus-completion",type:"test",score:1,points:1,kind:"MC",given:"Given species name",requirement:"Select genus name",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread(screen_layouts_objectSpread({},Ir),{},{type:"text-complete-genus"})]},ua={name:"screen-specimens-common-match",type:"test",score:1,points:1,kind:"VMC",given:"Given specimenImages images",requirement:"Select common name",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},qr)]},da={name:"screen-specimens-latin-match",type:"test",score:1,points:1,kind:"VMC",given:"Given specimenImages images",requirement:"Select latin name",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Dr)]},pa={name:"trait-property-match",type:"test",score:1,points:1,kind:"MC",bonus:!0,given:"Given traitImages images",requirement:"Select trait value",screens:[screen_layouts_objectSpread({},Fr),screen_layouts_objectSpread({},Gr)]},ma={name:"lookalike-property-match",type:"test",score:1,points:1,kind:"MC",bonus:!0,given:"Given traitImages images",requirement:"Select trait value",screens:[screen_layouts_objectSpread({},Fr),screen_layouts_objectSpread({},Br)]},fa={name:"symbiotic-property-match",type:"test",score:1,points:1,kind:"MC",given:"Given specimenImages images",requirement:"Select symbiotic match",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Ur)]},ha={name:"screen-species-to-family",type:"test",score:1,points:2,kind:"MC",given:"Species name",requirement:"List families",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Or)]},ga={name:"screen-cultivar-to-species",type:"test",score:1,points:2,kind:"MC",given:"Cultivar name",requirement:"List species",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Pr)]},va={name:"screen-family-to-description",type:"test",score:1,points:2,kind:"MC",given:"Family description",requirement:"List families",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Ar)]},ya={name:"screen-genus-entry",type:"test",score:1,points:2,kind:"T",given:"Given species name",requirement:"Enter genus name",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread(screen_layouts_objectSpread({},Er),{},{taxon:"genus"})]},ba={name:"screen-species-entry",type:"test",score:1,points:2,kind:"T",given:"Given genus name",requirement:"Enter species name",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread(screen_layouts_objectSpread({},Er),{},{taxon:"species"})]},_a={name:"screen-binomial-entry",type:"test",score:1,points:4,kind:"T",given:"Given common name",requirement:"Enter latin name",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread(screen_layouts_objectSpread({},Er),{},{taxon:"name"})]},Sa={type:"test",score:1,points:3,kind:"T",screens:[screen_layouts_objectSpread({},kr),screen_layouts_objectSpread({},Lr)]},xa={name:"screen-species-completion",type:"test",score:1,points:2,kind:"MC",given:"Given genus name",requirement:"Select species name",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread(screen_layouts_objectSpread({},Ir),{},{type:"text-complete-species"})]},wa={name:"screen-common-entry",type:"test",score:1,points:2,kind:"T",given:"Species latin name",requirement:"Enter common name",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread(screen_layouts_objectSpread({},Er),{},{taxon:"vernacular"})]},Ta={name:"screen-epithets",type:"test",score:1,points:1,kind:"MC",given:"Epithet",requirement:"List epithet definitions",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Nr)]},Ea={mixedSpeciesMatch:na,speciesRevision:ta,taxonRevision:ra,nonTaxonRevision:aa,definitionRevision:ia,latinToCommonMatch:oa,commonToLatinMatch:sa,textCompleteGenus:la,multiSpecimenCommonMatch:ua,multiSpecimenLatinMatch:da,traitPropertyMatch:pa,lookalikePropertyMatch:ma,symbioticPropertyMatch:fa,familyMatch:ha,cultivarMatch:ga,familyStripsMatch:va,genusEntry:ya,speciesEntry:ba,speciesGenusEntry:_a,textCompleteSpecies:xa,commonEntry:wa,leafEntry:Sa,glossaryTerms:{name:"screen-definitions",type:"test",score:1,points:1,kind:"T",given:"Given glossary term",requirement:"Select definition",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Mr)]},latinEpithets:Ta,cultivars:{name:"screen-cultivars",type:"test",score:1,points:1,kind:"T",given:"List of cultivars",requirement:"List of species",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Rr),screen_layouts_objectSpread({},Pr)]},mixedSpecimenImages:{name:"mixed-specimen-images",type:"test",score:1,points:2,kind:"T",given:"Specimen images",requirement:"Select species image",screens:[screen_layouts_objectSpread({},Yr),screen_layouts_objectSpread({},Kr)]},history:zr,summary:$r,mediaMatch:{name:"media-match",type:"test",score:1,points:2,kind:"T",given:"Species song",requirement:"Select species",screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Xr)]},mixedTraitImages:{name:"mixed-trait-images",type:"test",kind:"T",score:1,points:2,given:"Trait images",requirement:"Select trait image",screens:[screen_layouts_objectSpread({},Qr),screen_layouts_objectSpread({},Jr)]},providerHorizontalStrip:{name:"provider-horizontal-strip",type:"test",score:1,screens:[screen_layouts_objectSpread({},Sr),screen_layouts_objectSpread({},Zr)]},speciesIdentificationMatch:ca,propertyTrait:function propertyTrait(t,a){var i=l.a(t);return i.screens[0].traits=a,i.screens[1].traits=a,i}};function round_planner_toConsumableArray(t){return function round_planner_arrayWithoutHoles(t){if(Array.isArray(t))return round_planner_arrayLikeToArray(t)}(t)||function round_planner_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function round_planner_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return round_planner_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return round_planner_arrayLikeToArray(t,a)}(t)||function round_planner_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function round_planner_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function round_planner_typeof(t){return(round_planner_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function round_planner_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function round_planner_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?round_planner_ownKeys(Object(i),!0).forEach((function(a){round_planner_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):round_planner_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function round_planner_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function round_planner_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function round_planner_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){round_planner_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){round_planner_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var ka=function createNextRound(t,a,i,c,l){return function(){var h=round_planner_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var h,g,v,y,b,_,S,x,w,T,E,k,O,j,C;return regeneratorRuntime.wrap((function _callee3$(I){for(;;)switch(I.prev=I.next){case 0:if(t.layouts=[],h=l.moduleSize,g=l.name,v=l.level.name,y=(l.currentRound-1)*h,b=c.items.length-y,_=h>b?b:h,S=m(l.currentRound,h,c.items.map((function(t){return t.name}))),a.forEach(function(){var a=round_planner_asyncToGenerator(regeneratorRuntime.mark((function _callee2(a,i){var l,d;return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:l=0;case 1:if("mixed-trait-images"!==a.name){i.next=8;break}return i.delegateYield(regeneratorRuntime.mark((function _callee(){var i,d,p,m,h,y,b,_;return regeneratorRuntime.wrap((function _callee$(x){for(;;)switch(x.prev=x.next){case 0:if(i=c.items.find((function(t){return t.name===S[l]})),d=_r.getMatchingTrait(o.utils.shuffleArray(a.screens[1].traits),i.traits),p=d.requiredTraitValues,m=d.trait){x.next=4;break}return x.abrupt("return",{v:void 0});case 4:return x.next=6,_r.fetchTraits(m,p,c.glossary);case 6:if(h=x.sent,y=h.traits,(b=h.requiredTraits)&&y){x.next=11;break}return x.abrupt("return",{v:void 0});case 11:a.trait=m,a.traits=y,a.requiredTraits=b,_=["n/a","none"],!!b.find((function(t){return!u.a(t.term.toLowerCase(),_)}))&&t.layouts.push(round_planner_objectSpread(round_planner_objectSpread({},a),{},{lessonName:g,levelName:v,speciesName:S[l]}));case 17:case"end":return x.stop()}}),_callee,this)}))(),"t0",3);case 3:if("object"!==round_planner_typeof(d=i.t0)){i.next=6;break}return i.abrupt("return",d.v);case 6:i.next=9;break;case 8:t.layouts.push(round_planner_objectSpread(round_planner_objectSpread({},a),{},{lessonName:g,levelName:v,speciesName:S[l]}));case 9:l++;case 10:if(l<_){i.next=1;break}case 11:case"end":return i.stop()}}),_callee2,this)})));return function(t,i){return a.apply(this,arguments)}}()),1!==l.level.id){I.next=16;break}return I.next=12,A.getLayouts(c,S);case 12:x=I.sent,x=d.a(x).filter((function(t){return t})),(w=x.map((function(t){return round_planner_objectSpread(round_planner_objectSpread({},Ea.providerHorizontalStrip),{},{lessonName:"Lesson 1",levelName:"Level 1",speciesName:t.name||t.taxon,provider:t})})))&&(t.layouts=[].concat(round_planner_toConsumableArray(t.layouts),round_planner_toConsumableArray(w)));case 16:if(T=t.layouts.filter((function(t){return t.bonus})),E=t.layouts.filter((function(t){return!t.bonus})).map((function(t,a){return t.itemIndex=void 0===t.itemIndex?o.utils.calcItemIndex(y,_,a):t.itemIndex,round_planner_objectSpread({},t)})),k=round_planner_toConsumableArray(new Set(t.layouts.map((function(t){return t.itemIndex})).filter((function(t){return void 0!==t})))),t.layouts=E,1!==l.level.id){I.next=26;break}if(!T){I.next=26;break}return I.next=24,L.getTests(c,k,T,g,v);case 24:O=I.sent,t.layouts=[].concat(round_planner_toConsumableArray(t.layouts),round_planner_toConsumableArray(O));case 26:return E=t.layouts.map((function(t,a){return t.roundProgressIndex=a+1,round_planner_objectSpread({},t)})),t.portrait?{name:"summary",screens:[{name:"summary",domain:"history",parent:p.a.rightBody}],lessonName:g,levelName:v,layoutIndex:t.layouts.length,itemIndex:0}:{name:"summary",screens:round_planner_toConsumableArray(i),lessonName:g,levelName:v,layoutIndex:t.layouts.length,itemIndex:0},t.layouts.push({name:"summary",screens:[{name:"summary",domain:"history",parent:p.a.rightBody}],lessonName:g,levelName:v,layoutIndex:t.layouts.length,itemIndex:0}),j=t.layouts.map((function(t){return t.score||0})),C=j.reduce((function(t,a){return t+a})),t.layouts.map((function(t){return t.roundScoreCount=C})),l.questionCount=t.layouts.filter((function(t){return"test"===t.type})).length,l.layoutCount=t.layouts.length,l.layoutNames=t.layouts.map((function(t){return t.name})),I.abrupt("return",{updatedLessonPlan:t,updatedCollection:c,updatedLesson:l});case 36:case"end":return I.stop()}}),_callee3,this)})));return function init(){return h.apply(this,arguments)}}()()};function lesson_plan_handler_toConsumableArray(t){return function lesson_plan_handler_arrayWithoutHoles(t){if(Array.isArray(t))return lesson_plan_handler_arrayLikeToArray(t)}(t)||function lesson_plan_handler_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function lesson_plan_handler_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return lesson_plan_handler_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lesson_plan_handler_arrayLikeToArray(t,a)}(t)||function lesson_plan_handler_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lesson_plan_handler_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var La=function getNextRoundLayouts(t,a,i){i.activeLevelCount=t.levels.filter((function(t){return t.layouts.length>0})).length;var o=i.level.id;return i.isLevelComplete&&(o++,i.level=t.levels.find((function(t){return t.id===o}))),function goToNextLevelThatHasLayouts(t,o){var c=[],l="",u="";return function iterateOverLevelsCheckingForAvailableLayouts(o,d){var p=o;if(!(c.length>0)){var m=t.levels.find((function(t){return t.id===d+p}));m&&(i.level=m,i.level=m,l=i.name,u=i.level.name,c=function getLayouts(t,a){switch(a){case"learn":return t.bonusLayouts=t.bonusLayouts||[],[].concat(lesson_plan_handler_toConsumableArray(t.layouts.filter((function(t){return t}))),lesson_plan_handler_toConsumableArray(t.bonusLayouts));case"review":return t.reviewLayouts||[];default:return t.layouts}}(function getCurrentLevelFromLessonPlan(t,a){return t.levels.find((function(t){return t.id===a}))}(t,d+p),a.mode),iterateOverLevelsCheckingForAvailableLayouts(++p,d))}}(0,o),{lessonName:l,levelName:u,layouts:c}}(t,o).layouts};function lesson_planner_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_planner_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_planner_ownKeys(Object(i),!0).forEach((function(a){lesson_planner_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_planner_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_planner_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function lesson_planner_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var Oa=Ea.summary,Aa=Ea.history,ja={createLessonPlan:function(){var t=function lesson_planner_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){lesson_planner_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){lesson_planner_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t,a,i,o){var c,l;return regeneratorRuntime.wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:if(o.moduleSize=o.moduleSize||i.moduleSize||a.moduleSize,o.currentRound=o.currentRound||1,c=i.items.length/o.moduleSize,c=i.items.length%o.moduleSize==0?c:1===c?1:Math.floor(c)+1,o=void 0===o.level?lesson_planner_objectSpread(lesson_planner_objectSpread(lesson_planner_objectSpread({},o),t),{},{level:{id:1},rounds:c}):o,l=La(t,a,o),void 0!==o.level){u.next=8;break}return u.abrupt("return",new Promise((function(t){return t(null)})));case 8:return u.next=10,ka(t,l,[Oa,Aa],i,o);case 10:return u.abrupt("return",u.sent);case 11:case"end":return u.stop()}}),_callee,this)})));return function createLessonPlan(a,i,o,c){return t.apply(this,arguments)}}()};function landscape_custom_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function landscape_custom_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?landscape_custom_ownKeys(Object(i),!0).forEach((function(a){landscape_custom_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):landscape_custom_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function landscape_custom_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Ca={id:1,name:"Lesson 1",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[Ea.mixedSpecimenImages,Ea.latinToCommonMatch,Ea.commonEntry,Ea.commonToLatinMatch,Ea.textCompleteGenus,Ea.genusEntry,Ea.textCompleteSpecies,Ea.speciesEntry,Ea.speciesGenusEntry,Ea.familyMatch,Ea.familyStripsMatch],bonusLayouts:[landscape_custom_objectSpread(landscape_custom_objectSpread({},Ea.traitPropertyMatch),{},{types:["definition"]})]}]},Ia={id:2,name:"Lesson 2",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[Ea.mixedSpecimenImages,Ea.familyMatch,Ea.familyStripsMatch],bonusLayouts:[landscape_custom_objectSpread(landscape_custom_objectSpread({},Ea.traitPropertyMatch),{},{types:["definition"]})]}]};function landscape_fungi_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function landscape_fungi_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?landscape_fungi_ownKeys(Object(i),!0).forEach((function(a){landscape_fungi_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):landscape_fungi_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function landscape_fungi_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Pa={id:3,name:"Lesson 3",portrait:!1,default:!1,levels:[{id:1,name:"Level 1",layouts:[Ea.mixedSpecimenImages,Ea.latinToCommonMatch,Ea.commonEntry,Ea.commonToLatinMatch,Ea.textCompleteGenus,Ea.genusEntry,Ea.textCompleteSpecies,Ea.speciesEntry,Ea.propertyTrait(Ea.mixedTraitImages,["capShape"]),Ea.propertyTrait(Ea.mixedTraitImages,["gillAttachment"]),Ea.speciesGenusEntry],bonusLayouts:[landscape_fungi_objectSpread(landscape_fungi_objectSpread({},Ea.traitPropertyMatch),{},{types:["lookalikes","definition"]})]}]},Ra=landscape_fungi_objectSpread(landscape_fungi_objectSpread({},l.a(Pa)),{},{id:4});function landscape_static_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function landscape_static_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?landscape_static_ownKeys(Object(i),!0).forEach((function(a){landscape_static_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):landscape_static_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function landscape_static_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}Ra.levels[0]={id:1,name:"Level 1",description:"Species recognition",layouts:[Ea.mixedSpecimenImages]};var Na={id:10,name:"Lesson 1",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[Ea.mixedSpecimenImages,Ea.latinToCommonMatch,Ea.commonEntry,Ea.commonToLatinMatch,Ea.textCompleteGenus,Ea.genusEntry,Ea.textCompleteSpecies,Ea.speciesEntry,Ea.propertyTrait(Ea.mixedTraitImages,["capShape","gillAttachment","leafShape","leafDivision","inflorescence","leafMargin"]),Ea.speciesGenusEntry,Ea.familyMatch,Ea.familyStripsMatch],bonusLayouts:[landscape_static_objectSpread(landscape_static_objectSpread({},Ea.traitPropertyMatch),{},{types:["lookalikes","definition"]})]}]},Ma={id:11,name:"Lesson 11",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[Ea.mixedSpecimenImages,Ea.speciesIdentificationMatch,Ea.latinToCommonMatch,Ea.commonEntry,Ea.commonToLatinMatch,Ea.textCompleteGenus,Ea.genusEntry,Ea.textCompleteSpecies,Ea.speciesEntry,Ea.speciesGenusEntry]}]};function portrait_static_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function portrait_static_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?portrait_static_ownKeys(Object(i),!0).forEach((function(a){portrait_static_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):portrait_static_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function portrait_static_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var qa={id:110,name:"Lesson 110",portrait:!0,default:!0,levels:[{id:1,name:"Level 1",layouts:[Ea.mixedSpecimenImages,Ea.latinToCommonMatch,Ea.commonEntry,Ea.commonToLatinMatch,Ea.textCompleteGenus,Ea.genusEntry,Ea.textCompleteSpecies,Ea.speciesEntry,Ea.propertyTrait(Ea.mixedTraitImages,["capShape","gillAttachment","leafShape","leafDivision","inflorescence","leafMargin"]),Ea.speciesGenusEntry,Ea.familyMatch,Ea.familyStripsMatch],bonusLayouts:[portrait_static_objectSpread(portrait_static_objectSpread({},Ea.traitPropertyMatch),{},{types:["definition"]})]}]},Da={id:111,name:"Lesson 111",portrait:!0,default:!0,levels:[{id:1,name:"Level 1",layouts:[Ea.mixedSpecimenImages,Ea.latinToCommonMatch,Ea.commonEntry,Ea.commonToLatinMatch,Ea.textCompleteGenus,Ea.genusEntry,Ea.textCompleteSpecies,Ea.speciesEntry,Ea.speciesGenusEntry],bonusLayouts:[portrait_static_objectSpread(portrait_static_objectSpread({},Ea.traitPropertyMatch),{},{types:["lookalikes","definition"]})]}]};function lesson_plans_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function lesson_plans_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?lesson_plans_ownKeys(Object(i),!0).forEach((function(a){lesson_plans_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lesson_plans_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function lesson_plans_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var Ha=lesson_plans_objectSpread(lesson_plans_objectSpread({},l.a(Na)),{},{id:5});Ha.levels[0].bonusLayouts&&Ha.levels[0].bonusLayouts[0].types.push("song");var Ga=lesson_plans_objectSpread(lesson_plans_objectSpread({},l.a(qa)),{},{id:105});Ga.levels[0].layouts.push(Ea.mediaMatch);var Ua=lesson_plans_objectSpread(lesson_plans_objectSpread({},l.a(Pa)),{},{id:103,portrait:!0});Ua.levels[0].bonusLayouts=[lesson_plans_objectSpread(lesson_plans_objectSpread({},Ea.traitPropertyMatch),{},{types:["definition"]})];var Ba=lesson_plans_objectSpread(lesson_plans_objectSpread({},l.a(Ra)),{},{id:104,portrait:!0}),Fa=[Ca,Ia,Na,Ma,{id:12,name:"Lesson 12",portrait:!1,default:!0,levels:[{id:1,name:"Level 1",layouts:[],bonusLayouts:[]}]},Pa,Ra,Ha,lesson_plans_objectSpread(lesson_plans_objectSpread({},l.a(Ca)),{},{id:101,portrait:!0}),lesson_plans_objectSpread(lesson_plans_objectSpread({},l.a(Ia)),{},{id:102,portrait:!0}),qa,Da,Ua,Ba,Ga],Wa=function isRequired(t,a){var i=a.layout,o=a.counter,c=a.lessonPlan,l=a.config,u=a.lesson,d=a.collection,p=!1;switch(t){case z.a.nextStep.NEXT_ITEM:p=i&&!i.bonus;break;case z.a.nextStep.NEXT_LAYOUT:p=!o.isLessonPaused&&((p=c&&c.layouts)&&null!==c.layouts[o.index]);break;case z.a.nextStep.NEXT_LESSON:p=l.collection.id>0&&!o.isLessonPaused||l.collection.id>0&&l.collection.id!==d.id;break;case z.a.nextStep.NEXT_ROUND:p=0===o.index&&u.isNextRound&&d.items&&d.items.length>0}return p},Va=function actionUpdate(t,a){var i=a.layout,o=a.config,c=a.asyncFunc;switch(t){case z.a.nextStep.NEXT_ITEM:j.a.boundNextItem(i.itemIndex);break;case z.a.nextStep.NEXT_LAYOUT:j.a.boundNextLayout(i),or.addSubs(i,o),X.a.changeRequest({requestType:z.a.lessonState.SAVE_LESSON_PROGRESS});break;case z.a.nextStep.NEXT_LESSON:j.a.boundNextLesson(c)}},Ya=function nextLesson(t){var a=c.b.getState(),i=a.layout,o=a.config,u=a.lesson,d=a.collection,p={layout:i,counter:t,config:o,lesson:u,collection:d};if(Wa(z.a.nextStep.NEXT_LESSON,p)){var m=o.isPortraitMode?d.lessonPlanPortrait:d.lessonPlanLandscape,h=l.a(Fa.find((function(t){return t.id===m&&t.portrait===o.isPortraitMode})));if(p.lessonPlan=h,Wa(z.a.nextStep.NEXT_ROUND,p)){var g=ja.createLessonPlan(h,o,l.a(d),l.a(u)).then((function(t){if(t)return{lessonPlan:t.updatedLessonPlan,collection:t.updatedCollection,lesson:t.updatedLesson}}));if(null===g)return;Va(z.a.nextStep.NEXT_LESSON,{asyncFunc:g})}}},Ka=function nextLayout(t){var a=c.b.getState(),i=a.layout,o=a.lessonPlan,l=a.config,u={layout:i,counter:t,lessonPlan:o,config:l,lesson:a.lesson,collection:a.collection};if(Wa(z.a.nextStep.NEXT_LAYOUT,u)){var d=o.layouts[t.index];Va(z.a.nextStep.NEXT_LAYOUT,{layout:d,config:l})}},za=function nextItem(t){var a=c.b.getState(),i={layout:t,counter:a.counter,lessonPlan:a.lessonPlan,config:a.config,lesson:a.lesson,collection:a.collection};Wa(z.a.nextStep.NEXT_ITEM,i)&&Va(z.a.nextStep.NEXT_ITEM,{layout:t})},$a=function renderHeaders(t){p.a.leftHeaderTxt.innerHTML="Learn the planet",p.a.rightHeaderTxt.innerHTML="Learn the planet",setTimeout((function(){var t=c.b.getState(),a=t.layout,i=t.lessonPlan,o=document.querySelector(".js-right-grid progress");if(i){var l=i.layouts.filter((function(t){return"test"===t.type})).length;o.max=l,o.value=a.roundProgressIndex||o.value}}))};i(296);var Xa=function renderScore(t){var a=c.b.getState(),i=(a.history,a.collection,a.config),o=a.layout;a.lesson,a.lessonPlan;(t.mode=i.mode,o)&&(t.total===o.roundScoreCount&&j.a.boundUpdateHistory(t))},Qa=i(297),Ja=i.n(Qa),Za=function renderHome(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];or.remove(or.getByName("renderHome"));var i=Kn();if(!(t.index>0)||t.isLessonPaused){var o=c.b.getState(),l=o.config;(l.isLandscapeMode||i||a)&&Wn(),(l.isLandscapeMode||i||a)&&ei(),l.isPortraitMode&&!i&&Wn()}},ei=function renderSnapdragonIntro(){var t=document.createElement("template");t.innerHTML=Ja.a,p.a.rightBody.innerHTML="",Object(G.a)({},t.content,p.a.rightBody)},ni=i(123);function location_helper_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var ti=function(){var t=function location_helper_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){location_helper_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){location_helper_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var a,i,c,u;return regeneratorRuntime.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:return a=Object(l.a)(t),i=o.utils.getObservableMonths(new Date,3),a.season={observableMonths:i},a.guide.season.observableMonths=i,a.guide.season.type=a.guide.season.type||"all_year",a.collection.id=a.collection.id||0,a.guide.locationPlace="",a.guide.place.type="",d.prev=8,d.next=11,Object(ge.c)(a);case 11:(c=d.sent)?(u=c.city?"".concat(c.city,", ").concat(c.country_name):c,a.ipLocation=u,a.guide.locationType="longLat",a.guide.locationLongLat=u,a.guide.place.name=u,a.guide.coordinates={lat:c.latitude,long:c.longitude}):(a.guide.locationPlace="Earth",a.guide.locationType="place",a.guide.place={id:"any",name:"Earth"}),d.next=20;break;case 15:d.prev=15,d.t0=d.catch(8),a.guide.locationPlace="Earth",a.guide.locationType="place",a.guide.place={id:"any",name:"Earth"};case 20:return d.abrupt("return",a);case 21:case"end":return d.stop()}}),_callee,this,[[8,15]])})));return function initialiseConfig(a){return t.apply(this,arguments)}}(),ri=function onCloseModal(){var t=document.querySelector("#lessonModal");t.querySelector(".js-modal-footer").addEventListener("click",(function(a){t.querySelector(".js-modal-text").innerHTML='\n                    <div class="lesson-spinner double-centred-block">\n                        <div class="icon"><i class="fas fa-sun slow-spin"></i></div>\n                    </div>\n                  '}))},ai=i(111);function src_ownKeys(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,o)}return i}function src_objectSpread(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?src_ownKeys(Object(i),!0).forEach((function(a){src_defineProperty(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):src_ownKeys(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}function src_defineProperty(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function src_asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function src_asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){src_asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){src_asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}!function onLoadHandler(){setTimeout(src_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var t,a,i,l,u,d,p,m,h;return regeneratorRuntime.wrap((function _callee2$(g){for(;;)switch(g.prev=g.next){case 0:if(Object(ai.a)(),Qn()?(c.a.purge(),window.location.reload(!0)):Xn(Date()),g.prev=3,firebase.auth(),"danhartleybcn@gmail.com","sarcarsnap1929",t=c.b.getState(),a=t.config,i=t.counter,l=t.lessonPlan,u=t.collections,l,a.isPortraitMode=window.matchMedia("(max-width: 767px)").matches,a.isLandscapeMode=!a.isPortraitMode,d=i?src_objectSpread({},i):{index:null,isLessonPaused:!0},j.a.boundUpdateConfig(a),j.a.boundStopStartLesson(d),!u||0!==u.length){g.next=19;break}return g.next=17,_.a.getCollections();case 17:p=g.sent,j.a.boundUpdateCollections(p);case 19:return or.add($a,"collection","flow"),bt(),or.add(bt,"collection","flow"),or.add(_t,"user","flow"),or.add(ct,"user","flow"),or.add(Za,"counter","flow"),or.add(za,"layout","flow"),or.add(Ya,"counter","flow"),or.add(Ka,"counter","flow"),or.add(Xa,"score","flow"),or.add(ni.a,"config","localisation"),m=function(){var t=src_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var t;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ti(a);case 2:t=i.sent,j.a.boundUpdateConfig(t);case 4:case"end":return i.stop()}}),_callee,this)})));return function updateConfig(){return t.apply(this,arguments)}}(),a.guide.locationType||m(),g.next=35,_.a.getDefinitionsByTaxa(["common","plantae","aves","fungi","insecta"]);case 35:h=g.sent,h=o.utils.sortAlphabeticallyBy(h,"term"),j.a.boundCreateGlossary(h),Object(ai.b)(),ri(),g.next=45;break;case 42:g.prev=42,g.t0=g.catch(3),console.log("home page error: ",g.t0);case 45:case"end":return g.stop()}}),_callee2,this,[[3,42]])}))))}()},6:function(t,a,i){"use strict";i.d(a,"a",(function(){return v}));var o=i(38);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function _inherits(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),a&&_setPrototypeOf(t,a)}function _setPrototypeOf(t,a){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,a){return t.__proto__=a,t})(t,a)}function _createSuper(t){var a=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=_getPrototypeOf(t);if(a){var c=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,c)}else i=o.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,a){return!a||"object"!==_typeof(a)&&"function"!=typeof a?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):a}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){_inherits(lessonState,t);var a=_createSuper(lessonState);function lessonState(){return _classCallCheck(this,lessonState),a.apply(this,arguments)}return lessonState}(o.Enum);c.initEnum(["CREATE_LESSON","BEGIN_LESSON","BEGIN_OR_RESUME_LESSON","PAUSE_LESSON","RESUME_LESSON","NEXT_ROUND","BEGIN_INTRO","REVIEW_SUMMARY","UPDATE_COLLECTION","GET_LESSON_PROGRESS","ADD_SPECIES_TO_COLLECTION","SAVE_LESSON_PROGRESS","RENDER_SPECIES_LIST"]);var l=function(t){_inherits(navigation,t);var a=_createSuper(navigation);function navigation(){return _classCallCheck(this,navigation),a.apply(this,arguments)}return navigation}(o.Enum);l.initEnum(["LANDSCAPE_HOME","SETTINGS","PORTRAIT_HOME","GLOSSARY","EMAIL","INFO","LOGIN","LANGUAGE"]);var u=function(t){_inherits(taxon,t);var a=_createSuper(taxon);function taxon(){return _classCallCheck(this,taxon),a.apply(this,arguments)}return taxon}(o.Enum);u.initEnum(["KINGDOM","PHYLUM","ORDER","FAMILY","GENUS","SPECIES"]);var d=function(t){_inherits(guideOption,t);var a=_createSuper(guideOption);function guideOption(){return _classCallCheck(this,guideOption),a.apply(this,arguments)}return guideOption}(o.Enum);d.initEnum(["LOCATION","INAT","PICKER"]);var p=function(t){_inherits(nextStep,t);var a=_createSuper(nextStep);function nextStep(){return _classCallCheck(this,nextStep),a.apply(this,arguments)}return nextStep}(o.Enum);p.initEnum(["NEXT_ITEM","NEXT_LAYOUT","NEXT_LESSON","NEXT_ROUND"]);var m=function(t){_inherits(quickFireType,t);var a=_createSuper(quickFireType);function quickFireType(){return _classCallCheck(this,quickFireType),a.apply(this,arguments)}return quickFireType}(o.Enum);m.initEnum(["DEFINITION","REVERSE_DEFINITION","TEXT_ENTRY"]);var h=function(t){_inherits(quickFireStep,t);var a=_createSuper(quickFireStep);function quickFireStep(){return _classCallCheck(this,quickFireStep),a.apply(this,arguments)}return quickFireStep}(o.Enum);h.initEnum(["GLOSSARY","FILTERS","QUESTIONS"]);var g=function(t){_inherits(userEvent,t);var a=_createSuper(userEvent);function userEvent(){return _classCallCheck(this,userEvent),a.apply(this,arguments)}return userEvent}(o.Enum);g.initEnum(["DEFAULT","START_LESSON","START_LESSON_REVIEW","START_TERM_REVIEW","NAVIGATE_HOME","EDIT_LESSON","TOGGLE_SPECIES_LIST"]);var v={lessonState:c,navigation:l,taxon:u,guideOption:d,nextStep:p,quickFireType:m,quickFireStep:h,userEvent:g}},64:function(t,a,i){"use strict";i.r(a),i.d(a,"formatUrl",(function(){return d})),i.d(a,"formatWiki",(function(){return h})),i.d(a,"renderWiki",(function(){return renderWiki}));var o=i(177),c=i(18),l=i(4);function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var u="",d=function formatUrl(t,a,i){var o=t;if(t.indexOf(" ")>0){var c=t.split(" ");(o=c[0]+" "+c[1]).indexOf("Speckled wood")>-1&&(o+=" "+c[2])}return a+i(o)};function fetchWiki(t,a){return _fetchWiki.apply(this,arguments)}function _fetchWiki(){return(_fetchWiki=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,a){var i,c,p,m,h;return regeneratorRuntime.wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:if(void 0!==t){g.next=2;break}return g.abrupt("return",a);case 2:return i=d(t,u,l.utils.encodeQuery),c={method:"GET"},g.prev=4,g.next=7,fetch(i,c);case 7:return p=g.sent,g.next=10,p.json();case 10:return m=g.sent,g.abrupt("return",o.a(m));case 14:return g.prev=14,g.t0=g.catch(4),h=new Promise((function(t,i){t(a)})),g.abrupt("return",h);case 18:case"end":return g.stop()}}),_callee,this,[[4,14]])})))).apply(this,arguments)}var p=function cleanEntry(t){var a=t;return a=(a=(a=(a=(a=a.replace("( or UK: , US: )","")).replace("(;","(")).replace("()","")).replace("( ","(")).replace("  "," ")},m=function wikiLink(t){var a=p(t).replace(".wikipedia",".m.wikipedia");return'<span data-toggle="modal" data-target="#wikiModal" data-src="'.concat(a,'" class="underline-link">Wiki modal</span>')},h=function formatWiki(t){if(c.a(t[0],["Tarragon","Apple"]))return'<li class="species-card-wiki-entry">\''.concat(p(t[2]),"'</li>");if(!t)return"";var a="";return 1===t.length&&(a+=m(t[0])),t[1]&&(a+='<li class="species-card-wiki-entry">\''.concat(p(t[1]),"'</li>")),t[2]&&(-1!==t[2].indexOf("https")?a+=m(t[2]):a+='<li class="species-card-wiki-entry">\''.concat(p(t[2]),"'</li>")),t[3]&&(-1!==t[3].indexOf("https")?a+=m(t[3]):a+='<li class="species-card-wiki-entry">\''.concat(p(t[3]),"'</li>")),a};function renderWiki(t,a,i){return _renderWiki.apply(this,arguments)}function _renderWiki(){return(_renderWiki=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t,a,i){var o,l,d,p,m,g,v;return regeneratorRuntime.wrap((function _callee2$(y){for(;;)switch(y.prev=y.next){case 0:return o=a.name,l=a.names?a.names.filter((function(t){return t.language===i})).find((function(t){return t.wikiSearchTerm})):null,d=l?l.vernacularName:a.searchTerms?a.searchTerms.filter((function(t){return t.language===i}))[0].searchTerm:o,u="https://".concat(i,".m.wikipedia.org/w/api.php?action=opensearch&format=json&origin=*&limit=1&search="),p=["Artemisia dracunculus","Malus domestica","Zingiber officinale"],c.a(a.name,p)&&(u="https://".concat(i,".m.wikipedia.org/w/api.php?action=opensearch&format=json&origin=*&limit=2&redirects=resolve&search=")),t.innerHTML="",y.next=9,fetchWiki(d);case 9:if(!(m=y.sent)||!m[2]){y.next=14;break}t.innerHTML=h(m.slice(1)),y.next=21;break;case 14:if(o){y.next=16;break}return y.abrupt("return","");case 16:return g=o.split(" ")[0],y.next=19,fetchWiki(g);case 19:""!==(v=y.sent)[2]?t.innerHTML=h(v.slice(1)):"en"!==i&&renderWiki(t,o,"en");case 21:case"end":return y.stop()}}),_callee2,this)})))).apply(this,arguments)}},65:function(t,a,i){"use strict";i.d(a,"a",(function(){return g})),i.d(a,"b",(function(){return v}));var o=i(18),c=i(25),l=i.n(c),u=i(5),d=i(2),p=i(143),m=i.n(p);function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}var h=[],g=function addListenerToAddedSpecies(t){h.pop(),h.push(t)},v=function speciesEditor(t,a,i,c,p){var g=document.createElement("template");g.innerHTML=m.a,a.innerHTML="",Object(d.a)({addedSpecies:p},g.content,a);var v=t.querySelector("#input-species");setTimeout((function(){v.focus()}),500);var y=function addSpeciesToList(c){o.a(c,i)||(i.push(c),p.push(c),b=b.filter((function(t){return t.value!==v.value})),v.value="",h.forEach((function(t){return t(c)})),setTimeout((function(){speciesEditor(t,a,i,b,p)}),200))},b=c||[];(function(){var t=function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(0!==b.length){t.next=5;break}return t.next=3,u.a.getSpeciesNames();case 3:b=(b=t.sent)[0].value.map((function(t){return{label:t,value:t}}));case 5:l()({input:v,fetch:function fetch(t,a){t=t.toLowerCase(),a(b.filter((function(a){return a.value.toLowerCase().startsWith(t)&&!o.a(a.value,i)})))},onSelect:function onSelect(t){v.value=t.label,y(v.value)},minLength:3,debounceWaitMs:200,className:"autocomplete-options-container"}),v.addEventListener("change",(function(t){setTimeout((function(){var t=document.querySelector(".selected");t&&(v.value=t.innerText,y(v.value))}),100)}));case 7:case"end":return t.stop()}}),_callee,this)})));return function init(){return t.apply(this,arguments)}})()(),t.querySelectorAll("li input").forEach((function(o){o.addEventListener("change",(function(o){var c=o.target.id;b.push({label:c,value:c}),i=i.filter((function(t){return t!==c})),speciesEditor(t,a,i,b)}))}))}},66:function(t,a,i){"use strict";i.d(a,"b",(function(){return E})),i.d(a,"a",(function(){return k}));var o=i(46),c=i(4),l=i(5),u=i(1),d=i(13),p=i(12),m=i(33),h=(i(123),[{term:"Lichen",definition:"Composite organism of algae or cyanobacteria (or rarely, both), fungi and yeast living in a mutualistic relationship.",wiki:"https://en.wikipedia.org/wiki/Lichen",level:2,branch:"general"},{term:"Fruticose",definition:"Growing like tuft or multiple-branched leafless mini-shrub (beardy), upright or hanging down, flat or round 3D branches.",wiki:"https://en.wikipedia.org/wiki/Fruticose_lichen",level:2,branch:"classification"},{term:"Foliose",definition:"Having flat, 2D leaf-like structures.",wiki:"https://en.wikipedia.org/wiki/Foliose_lichen",level:2,image:{url:"https://content.eol.org/data/media/58/87/e8/509.25630291.260x190.jpg"},branch:"classification"},{term:"Crustose",definition:"Forming a crust that strongly adheres to a substrate (crusty).",wiki:"https://en.wikipedia.org/wiki/Crustose_lichen",level:2,branch:"classification"},{term:"Leprose",definition:"Having a powdery or granular surface.",wiki:"https://en.wikipedia.org/wiki/Leprose_lichen",level:2,branch:"classification"},{term:"Squamulose",definition:"Composed of small, often overlapping squamules( scales).",wiki:"https://en.wikipedia.org/wiki/Squamulose_lichen",level:2,branch:"classification"},{term:"Soredium",definition:"Common reproductive structures of lichens.",wiki:"https://en.wikipedia.org/wiki/Soredium",technical:"true",branch:"morphology"},{term:"Epiphyte",definition:"An organism that grows on the surface of a plant and derives its moisture and nutrients from the air, rain, water or surrounding debris.",wiki:"https://en.wikipedia.org/wiki/Epiphyte",branch:"classification"},{term:"Gametophyte",definition:"One of the two alternating phases in the life cycle of plants and algae. It is the sexual phase (see Sporophyte).",wiki:"https://en.wikipedia.org/wiki/Gametophyte",branch:"general"},{term:"Sporophyte",definition:"One of the two alternating phases in the life cycle of plants and algae. In seed plants it is the roots, stem, leaves, cones and flowers (see Gametophyte).",wiki:"https://en.wikipedia.org/wiki/Sporophyte",branch:"general"},{term:"Thallus",definition:"Nonreproductive, undifferentiated tissue, or vegetative body part of a lichen. Usually visually prominent.",level:2,branch:"morphology"},{term:"Thallus type",definition:"Means of distinuguishing lichen e.g. foliose, crustose.",level:2,branch:"general"},{term:"Squamule",definition:"One of the scalelike lobes of the thallus of a lichen.",level:2,branch:"morphology"},{term:"Podetium",definition:"The upright secondary thallus in Cladonia lichens. It is a hollow stalk extending from the primary thallus.",technical:"true",branch:"morphology"},{term:"Apothecium",definition:"Wide, open, saucer-shaped or cup-shaped fruit body. Sessile and fleshy.",technical:"true",branch:"morphology"},{term:"Rhizine",definition:"Multiceullar, root-like structures which anchor licen to substrate.",technical:"true",branch:"morphology"},{term:"Erhizinate",definition:"Without rhizines.",technical:"true",branch:"general"},{term:"Hapter",definition:"Short, peg-like attachments of the lower surface of lichen to the substrate on which they grow.",technical:"true",branch:"morphology"},{term:"Soredium",definition:"Common reproductive structures of lichen.",technical:"true",branch:"morphology"},{term:"Cortex (lichen)",definition:"Composed of closely packed fungal hyphae that protects thallus from water loss (evaporation).",branch:"morphology"},{term:"Holdfast",definition:"Means by which a (bushy) lichen is attached to the substrate.",branch:"morphology"},{term:"Disc",definition:"Spore-bearing part of the fruiting body of a lichen.",branch:"morphology"},{term:"Lobe",definition:"Leaf-like part of a leafy (foliose) lichen.",branch:"morphology"},{term:"Medulla",definition:"Fungal part of the thallus situated below the skin like upper cortex.",branch:"morphology"},{term:"Mycobiont",definition:"Fungal component of a lichen.",branch:"general"},{term:"Photobiont",definition:"Photosynthetic partner in a lichen (alga or cyanobacterium).",branch:"general"},{term:"Cyanobacteria",definition:"Phylum of bacteria that obtain their energy through photosynthesis. They produce oxygen.",branch:"classification"},{term:"(Green) Algae",definition:"Heterogeneous grouping of eukaryotes photosynthesis",branch:"classification"},{term:"Placodioid",definition:"Crustose lichen which radiates out from its centre.",wiki:"https://en.wikipedia.org/wiki/Placodioid_lichen",technical:"true",branch:"classification"},{term:"Pruinescence",definition:'A "frosted" or dusty looking coating on top of a surface.',wiki:"https://en.wikipedia.org/wiki/Pruinescence",technical:"true",branch:"morphology"},{term:"Lecanorine",definition:"Shaped like a plate with a surrounding ring similar tissue to main non-fruiting body (after genus Lecanora).",wiki:"https://en.wikipedia.org/wiki/Lecanorine_lichen",technical:"true",branch:"morphology"},{term:"Apothecium",definition:"Wide, open, saucer-shaped or cup-shaped fruit body.",wiki:"https://en.wikipedia.org/wiki/Ascocarp#Apothecium",technical:"true",branch:"morphology"},{term:"Ascus",definition:"Spore-bearing cell produced in ascomycete fungi.",wiki:"https://en.wikipedia.org/wiki/Ascus",technical:"true",branch:"morphology"},{term:"Ascomycota",definition:"(Ascomycetes or Sac fungi) One of two main fungi divisions (phylum), characterised by spore-containing ascus. Majority of fungal symbionts in lichens are ascomycetes",wiki:"https://en.wikipedia.org/wiki/Ascomycota",technical:"true",branch:"morphology"},{term:"Basidiomycota",definition:"(Basidiomycetes (Mushrooms)) Reproduce sexually via formation of specialised end cells (basidia) bearing external meiospores.",wiki:"https://en.wikipedia.org/wiki/Basidiomycota",technical:"true",branch:"classification"},{term:"Soredium",definition:"Powdery (asexual) reproductive structure (propagule) composed of fungal hyphae wrapped around the photobiont.",wiki:"https://en.wikipedia.org/wiki/Soredium",technical:"true",branch:"morphology"},{term:"Isidium",definition:"Vegetative (asexual) reproductive structure. Outgrowths from the thallus.",wiki:"https://en.wikipedia.org/wiki/Isidium",technical:"true",branch:"morphology"},{term:"Podetium",definition:"The upright secondary thallus in Cladonia lichens. It is a hollow stalk extending from the primary thallus.",wiki:"https://en.wikipedia.org/wiki/Podetium",technical:"true",branch:"morphology"}]),g=[{LICHEN_FORM:"Lichen Form"}],v=function getNonTaxa(t){var a=t;return[{group:g[0].LICHEN_FORM,id:a.thallusType.FRUTICOSE,type:a.nonTaxaType.FORM,definition:h.find((function(t){return"Fruticose"===t.term})).definition,quickId:"Free-standing branching tubes",names:[{language:"en",name:"Fruticose lichen"}],traits:[{name:a.name.SUBSTRATE,value:"".concat(a.substrate.BARK,", ").concat(a.substrate.SOIL,", ").concat(a.substrate.ROCKS)},{name:a.name.SUBSTRATE_ADHERANCE,value:a.level.LOW}],examples:["Letharia vulpina","Evernia prunastri","Ramalina polymorpha","Roccella phycopsis","Ramalina farinacea"],wiki:"https://en.wikipedia.org/wiki/Fruticose_lichen",url:"81/9d/a2/542.9769039745.260x190.jpg"},{group:g[0].LICHEN_FORM,id:a.thallusType.FOLIOSE,type:a.nonTaxaType.FORM,definition:h.find((function(t){return"Foliose"===t.term})).definition,quickId:"Leaflike, with flat sheets of tissue not tightly bound",names:[{language:"en",name:"Foliose lichen"}],traits:[{name:a.name.SUBSTRATE,value:"".concat(a.substrate.BARK,", ").concat(a.substrate.ROCKS)},{name:a.name.SUBSTRATE_ADHERANCE,value:a.level.LOW},{name:a.name.USAGE,value:a.usage.FOOD,examples:[{language:"en",value:"Deer, goats, and caribou"}]},{name:a.name.USAGE,value:a.usage.BIRDS_NEST},{name:a.name.LIFE_SPAN,value:"30-60a"},{name:a.name.MEDICINAL_PROPERTIES,value:"".concat(a.medicinalProperties.ANTIBIOTIC)},{name:a.name.CHARACTERISTIC,value:a.characteristic.BIOINDICATOR},{name:a.name.SUBSTRATE_ADHERANCE,value:a.level.LOW}],examples:["Lobaria pulmonaria","Xanthoria parietina"],genera:["Usnea","Cladonia"],wiki:"https://en.wikipedia.org/wiki/Foliose_lichen",url:"81/66/25/542.8580717370.260x190.jpg"},{group:g[0].LICHEN_FORM,id:a.thallusType.CRUSTOSE,type:a.nonTaxaType.FORM,definition:h.find((function(t){return"Crustose"===t.term})).definition,quickId:"Crustlike, growing tight against the substrate",names:[{language:"en",name:"Crustose lichen"}],traits:[{name:a.name.SUBSTRATE,value:"".concat(a.substrate.BARK,", ").concat(a.substrate.ROCKS)},{name:a.name.SUBSTRATE_ADHERANCE,value:a.level.HIGH}],examples:["Graphis scripta","Diploschistes scruposus","Caloplaca ochracea","Ophioparma ventosa"],wiki:"https://en.wikipedia.org/wiki/Crustose",url:"7f/69/15/542.3258067212.260x190.jpg"}]},y=i(64),b=i(76),_=i(2),S=i(10),x=i(137),w=i.n(x);function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var T=[],E=function subscribeToNonTaxaSelection(t){T.push(t)},k=function renderNonTaxonCard(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"STAND_ALONE",a=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a.rightBody,h=arguments.length>3?arguments[3]:void 0,x=arguments.length>4&&void 0!==arguments[4]&&arguments[4],E=document.querySelector("#cardModal .js-prev"),k=document.querySelector("#cardModal .js-next");E&&(x?E.classList.remove("hide-important"):E.classList.add("hide-important")),k&&(x?k.classList.remove("hide-important"):k.classList.add("hide-important"));var L=u.b.getState(),O=L.enums,A=L.config,j=v(O).filter((function(t){return t.group===g[0].LICHEN_FORM}));j.forEach((function(t){t.name=p.a.getVernacularName(t,A,!1,"name")}));var C=document.createElement("template");C.innerHTML=w.a;var I,P=function onChange(t){T.forEach((function(a){return a(t)}))},R=function prepImages(t){var a,i=t.map((function(t){return Object(S.f)(t,A,S.b.NON_TAXON_CARD)})),l=c.utils.shuffleArray((a=[]).concat.apply(a,_toConsumableArray(i)));return o.a(9,l)},N=function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){var i,o,c,u,d,p;return regeneratorRuntime.wrap((function _callee$(h){for(;;)switch(h.prev=h.next){case 0:return i=j.find((function(t){return t.id===a})),h.next=3,l.a.getSpeciesByNameInParallel(i.examples);case 3:o=(o=h.sent).filter((function(t){return t.images})),c=document.querySelector(".js-non-taxon-card-images"),u=R(o),i.type?document.querySelector(".js-species-header img").src="https://content.eol.org/data/media/".concat(i.url):A.isPortraitMode?Object(m.b)({config:A,images:u,portraitImagesNode:c}):P(u),d=document.querySelector(".js-non-taxon-card-wiki"),p={name:i.name},document.querySelector(".id-box > div:nth-child(2) > div").innerHTML=i.quickId,document.querySelector(".js-non-taxa-definition div").innerHTML=i.definition,document.querySelector(".js-non-taxon-card .js-names-container > div:nth-child(1)").innerHTML=i.id,"MODAL"===t||(Object(b.a)(p,d,A),Object(y.renderWiki)(d,p,A.language));case 17:case"end":return h.stop()}}),_callee,this)})));return function callback(t){return a.apply(this,arguments)}}();switch(t){case"STAND_ALONE":I=document.querySelector(".right-body");break;case"SWAP_OUT":I=document.querySelector(".js-taxon-container");break;case"MODAL":I=document.querySelector("#cardModal")}i.innerHTML="",Object(_.a)({group:j,image:Object(S.g)({url:h})},C.content,i),"MODAL"===t&&(I.querySelector("#cardModal .js-modal-text-title").innerHTML="Lichen Forms"),I.querySelectorAll(".js-non-taxa .btn.btn-secondary").forEach((function(t){t.addEventListener("click",(function(t){var a=t.target.id;N(a)}))}));var M=a||j[0].id;document.getElementById(M).click()}},67:function(t,a,i){"use strict";i.d(a,"a",(function(){return _}));var o,c=i(46),l=i(1),u=i(13),d=i(12),p=i(78),m=i(2),h=i(40),g=i(10),v=i(136),y=i.n(v),b=document.querySelector("#cardModal .carousel");b&&b.addEventListener("click",(function(t){o=t.target.dataset.transition}));var _=function renderTaxonCard(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"STAND_ALONE",i=arguments.length>2?arguments[2]:void 0,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.a.rightBody,b=arguments.length>5?arguments[5]:void 0,_=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];try{var S=i||t.nextItem;S||document.querySelector("#cardModal .close").click();var x,w=l.b.getState(),T=w.config;switch(a){case"STAND_ALONE":x=document.querySelector(".right-body");break;case"SWAP_OUT":x=document.querySelector(".js-taxon-container");break;case"MODAL":x=document.querySelector("#cardModal")}var E=document.createElement("template");E.innerHTML=y.a;var k,L=document.importNode(E.content,!0);switch(v.innerHTML="",b=b?b.toUpperCase():"FAMILY"){case"ORDER":k=S.order;break;case"FAMILY":k=S.family;break;case"GENUS":k=S.genus;break;default:k=S.family}var O=d.a.getFamilyStats(t.items),A=O?O[k.name]:0,j=S.images&&S.starred?S.images[0].url:"",C=Object(g.g)({url:j},g.b.TAXON_CARD,T),I=k.vernacularName||d.a.getNestedTaxonProp(k,T.language,"names","names","0").split(",")[0],P=k.identification?k.identification:k.descriptions?k.descriptions[0].identification:"",R=k.summary?k.summary:k.descriptions?k.descriptions[0].summary:"",N={rank:b,name:k.name,image:C,alt:k?k.alt:"",vernacularName:I,species:k.species||"--",genera:k.genera||"--",families:k.families||"--",identification:P,summary:R,eol:k.eol?k.eol.replace("en",T.language):"",wiki:k.wiki?k.wiki.replace("en",T.language):"",occurrences:A,toxic:k.toxic?"Toxic species: ".concat(k.toxic.members.join(", ")):"",notableMembers:k.members?c.a(2,k.members).join(", "):""};switch(Object(m.a)(N,E.content,v,L),Object(p.b)(S,k.traits,x.querySelector(".js-taxon-info-box"),a),b){case"GENUS":x.querySelector(".js-taxon-genus").classList.add("hide-important"),x.querySelector(".js-taxon-family").classList.add("hide-important");break;case"FAMILY":x.querySelector(".js-taxon-family").classList.add("hide-important");break;case"ORDER":x.querySelector(".js-taxon-rank").classList.add("hide-important")}if(Object(h.a)(S.taxonomy,x),"MODAL"===a){x.querySelector(".js-external-links").classList.add("hide"),x.querySelector("#cardModal .js-modal-text-title").innerHTML=t.name;var M=x.querySelector("#cardModal .js-prev > span");M.dataset.id=S.id,M.dataset.transition="prev",M.dataset.modal="cardModal";var q=x.querySelector("#cardModal .js-next > span");q.dataset.id=S.id,q.dataset.transition="next",q.dataset.modal="cardModal",M&&(_?M.classList.remove("hide-important"):M.classList.add("hide-important")),q&&(_?q.classList.remove("hide-important"):q.classList.add("hide-important"))}document.querySelector(".js-external-page-title").innerHTML="".concat(k.name),document.querySelector(".js-external-page-body").innerHTML='<iframe class="modal-iframe" title="Wikipedia page for '.concat(k.name,'" src="').concat(N.wiki,'"></iframe>');var D=document.querySelector("#taxon-card-header .js-names-badge");N.occurrences&&0!==N.occurrences||D.classList.add("hide-important"),D.addEventListener("click",(function(a){document.querySelector("#badgeListModal .js-modal-text-title").innerHTML="Members of the ".concat(k.name," family");var i=t.items.filter((function(t){return t.taxonomy.family.toLowerCase()===k.name.toLowerCase()})),o=document.querySelector("#badgeListModal .js-modal-text");o.innerHTML="",i.forEach((function(t){o.innerHTML+="<div>".concat(t.name,"</div>")}))}))}catch(t){console.error(t),setTimeout((function(){switch(o){case"next":document.querySelector("#cardModal .carousel-control-next-icon").click();break;case"prev":document.querySelector("#cardModal .carousel-control-prev-icon").click()}}))}}},75:function(t,a,i){"use strict";i.d(a,"a",(function(){return o}));var o={language:"en",moduleSize:4,callbackTime:1500,callbackDelay:1500,excludeRevision:!1,isPortraitMode:!1,isLandscapeMode:!0,collection:{id:0},mode:"learn",languages:[{name:"Deutsche",lang:"de"},{name:"English",lang:"en"},{name:"Español",lang:"es"},{name:"Français",lang:"fr"},{name:"Italiano",lang:"it"},{name:"Português",lang:"pt"}],guide:{iconicTaxa:null,locationLongLat:"",locationPlace:"",locationType:null,place:{id:1,name:""},speciesRange:10,inatId:{key:"",type:"",param:"user_id"},season:{},perPage:200,noOfRecords:50}}},76:function(t,a,i){"use strict";i.d(a,"a",(function(){return o}));var o=function renderWikiModal(t,a,i){a&&a.addEventListener("click",(function(o){document.querySelector(".js-external-page-title").innerHTML="".concat(t.name);var c=document.querySelector(".species-card-wiki-entry").innerText,l="<header>".concat("\n                <style type='text/css'>\n                body {\n                    font-family: PT Sans', 'Roboto', arial,sans-serif;\n                }\n                a {\n                    text-decoration: none;\n                    border: solid 1px;\n                    border-top: none;\n                    border-left: none;\n                    border-right: none;\n                    color: black;\n                    cursor: pointer;\n                }\n            </style>","</header><p>").concat(c,"</p><p><a href='https://en.wikipedia.org/wiki/Salvia_officinalis' target='_blank'>Wikipedia page</a></p>");document.querySelector(".js-external-page-body").innerHTML=i.isPortraitMode?'<iframe class="modal-iframe" title="Wikipedia page for the species '.concat(t.name,'" src="data:text/html,').concat(l,'"></iframe>'):'<iframe class="modal-iframe" title="Wikipedia page for the species '.concat(t.name,'" src="').concat(a.querySelector("span").dataset.src,'"></iframe>'),document.querySelector("#wikiModal").focus()}))}},77:function(t,a,i){"use strict";i.d(a,"a",(function(){return y}));var o=i(18),c=i(25),l=i.n(c),u=i(6),d=i(1),p=i(5),m=i(2),h=i(31),g=i(142),v=i.n(g);function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var y=function speciesInGuideEditor(t,a,i,c,g,y){var b=a.querySelector(".js-species-search");b&&b.classList.add("hide-important");var _=document.createElement("template");_.innerHTML=v.a,i.innerHTML="",Object(m.a)({selectedSpecies:g},_.content,i);var S=a.querySelector(".js-lesson-taxa-count");S&&(S.innerHTML=1===S?"There is ".concat(g.length," species in this lesson."):"There are ".concat(g.length," species in this lesson.")),function getTaxa(t,a,i){t&&(a.guide.iconicTaxa?t.innerHTML=a.guide.iconicTaxa.map((function(t){return t.common})).join(", "):t.innerHTML=_toConsumableArray(new Set(i.map((function(t){return t.iconicTaxon})))).join(", "))}(a.querySelector(".js-lesson-taxa"),t,g);var x=a.querySelector("#input-species");t.isLandscapeMode&&setTimeout((function(){x.focus()}),500);var w=function(){var l=_asyncToGenerator(regeneratorRuntime.mark((function _callee(l){var p,m;return regeneratorRuntime.wrap((function _callee$(v){for(;;)switch(v.prev=v.next){case 0:if(!o.a(l.name,g.map((function(t){return t.name})))){v.next=2;break}return v.abrupt("return");case 2:g.push(l),t.guide.species=g,t.guide.iconicTaxa=_toConsumableArray(new Set(g.map((function(t){return t.iconicTaxon})))),c.setConfig(t),T=T.filter((function(t){return t.value!==x.value})),x.value="",p=d.b.getState(),m=p.collection,h.a.changeRequest({requestType:u.a.lessonState.ADD_SPECIES_TO_COLLECTION,requestArgs:{updatedConfig:t,updatedCollection:m}}),setTimeout((function(){speciesInGuideEditor(t,a,i,c,g,T)}),250);case 11:case"end":return v.stop()}}),_callee,this)})));return function addSpeciesToList(t){return l.apply(this,arguments)}}(),T=y||[];(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:if(0!==T.length){t.next=5;break}return t.next=3,p.a.getSpeciesNames();case 3:T=(T=t.sent)[0].value.map((function(t){return{label:t,value:t}}));case 5:l()({input:x,fetch:function fetch(t,a){t=t.toLowerCase(),a(T.filter((function(a){return a.value.toLowerCase().startsWith(t)&&!o.a(a.value,g.map((function(t){return t.name})))})))},onSelect:function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(t){var a;return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return x.value=t.label,i.next=3,p.a.getSpeciesByName(t.label);case 3:a=i.sent,w(a);case 5:case"end":return i.stop()}}),_callee2,this)})));return function onSelect(a){return t.apply(this,arguments)}}(),minLength:3,debounceWaitMs:200,className:"autocomplete-options-container"}),x.addEventListener("change",(function(t){setTimeout(_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var t,a;return regeneratorRuntime.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(!(t=document.querySelector(".selected"))){i.next=7;break}return x.value=t.innerText,i.next=5,p.a.getSpeciesByName(x.value);case 5:a=i.sent,w(a);case 7:case"end":return i.stop()}}),_callee3,this)}))),100)}));case 7:case"end":return t.stop()}}),_callee4,this)})));return function init(){return t.apply(this,arguments)}})()(),a.querySelectorAll("li input").forEach((function(o){o.addEventListener("change",(function(o){var l=o.target.id;T.push({label:l,value:l}),g=g.filter((function(t){return t.name!==l})),t.guide.species=g,t.guide.iconicTaxa=_toConsumableArray(new Set(g.map((function(t){return t.iconicTaxon})))),c.setConfig(t),speciesInGuideEditor(t,a,i,c,g,T)}))}))}},78:function(t,a,i){"use strict";i.d(a,"b",(function(){return L})),i.d(a,"a",(function(){return O}));var o=i(4),c=i(29),l=i(2),u=i(1),d=i(5),p=i(12),m=i(42),h=i(126),g=i.n(h),v=i(127),y=i.n(v);function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function _unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,a)}(t))){var a=0,i=function F(){};return{s:i,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c,l=!0,u=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(u)throw c}}}}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}function asyncGeneratorStep(t,a,i,o,c,l,u){try{var d=t[l](u),p=d.value}catch(t){return void i(t)}d.done?a(p):Promise.resolve(p).then(o,c)}function _asyncToGenerator(t){return function(){var a=this,i=arguments;return new Promise((function(o,c){var l=t.apply(a,i);function _next(t){asyncGeneratorStep(l,o,c,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,o,c,_next,_throw,"throw",t)}_next(void 0)}))}}var b=i(128),_=i.n(b),S=i(129),x=i.n(S),w=function renderInfoDetails(t,a,i,o){var c=u.b.getState(),h=c.config,v=c.collection,b=c.glossary,S=document.createElement("template"),w=document.querySelector(".js-info-box-details");if(w)if(w.innerHTML="",a.toLowerCase().indexOf("description")>-1){S.innerHTML=_.a,Object(l.a)({id:o},S.content,w);var T=document.querySelector(".id-box > div");T.innerHTML=T.innerHTML.replace(/\r?\n/g,"<br />")}else if("relationships"===a.toLowerCase()||"lookalikes"===a.toLowerCase()){!function linkedTaxa(t,a,i,o,c,u,h){i.innerHTML="";var v=document.createElement("template"),b=function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(a){return regeneratorRuntime.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:c||("MODAL"===a?document.querySelectorAll("#cardModal .js-test-card-container-link"):document.querySelectorAll(".js-test-card-container-link")).forEach(function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(a){return regeneratorRuntime.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:a.addEventListener("click",function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee(a){var i,o;return regeneratorRuntime.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return i=a.target.id||a.target.dataset.name,c.next=3,d.a.getSpeciesByName(i);case 3:(o=c.sent).species=p.a.getSpeciesName(t.name),Object(m.a)({name:"Local species",items:[o]},"MODAL",o,document.querySelector("#cardModal .js-modal-body"),!1);case 6:case"end":return c.stop()}}),_callee,this)})));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return i.stop()}}),_callee2,this)})));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return i.stop()}}),_callee3,this)})));return function addLinksToSpeciesCards(t){return a.apply(this,arguments)}}();(function(){var c=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){var c,u,m,_,S,x,w;return regeneratorRuntime.wrap((function _callee7$(T){for(;;)switch(T.prev=T.next){case 0:if(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(t){var i;return regeneratorRuntime.wrap((function _callee4$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,d.a.getSpeciesByName(t);case 2:if(i=o.sent){o.next=5;break}return o.abrupt("return",{name:t,display:t,isSpecies:!1});case 5:return p.a.getVernacularName(i,a),o.abrupt("return",{name:t,display:t,isSpecies:!0});case 7:case"end":return o.stop()}}),_callee4,this)})));return function addVernacularName(a){return t.apply(this,arguments)}}(),c=t.traits?t.traits.relationships:null,u=[],!c){T.next=8;break}return m=function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(c.map((function(a){return{type:a.value[0],speciesA:a.symbiont.name,speciesARole:a.symbiont.role,speciesB:t.name,speciesBRole:a.type,description:a.description}}))));case 1:case"end":return a.stop()}}),_callee5,this)})));return function convertTraitsForDisplay(){return a.apply(this,arguments)}}(),T.next=7,m();case 7:u=T.sent;case 8:if(_=t.traits?t.traits.lookalikes:null,S=[],!_){T.next=16;break}return _=_.filter((function(t){return t.lookalike.name===h})),x=function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){return regeneratorRuntime.wrap((function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(_.map((function(a){return{species:t.name,speciesDescription:a.description,lookalike:a.lookalike.name,lookalikeDescription:a.lookalike.description}}))));case 1:case"end":return a.stop()}}),_callee6,this)})));return function convertLookalikesForDisplay(){return a.apply(this,arguments)}}(),T.next=15,x();case 15:S=T.sent;case 16:w=function addDisplayRules(t){var a,i=_createForOfIteratorHelper(t);try{for(i.s();!(a=i.n()).done;){var c=a.value;"MODAL"!==o?(c.className="underline-link",c.modal="modal"):(c.className="",c.modal="")}}catch(t){i.e(t)}finally{i.f()}return t},u&&(u=w(u),v.innerHTML=y.a,Object(l.a)({relationships:u},v.content,i)),S&&(S=w(S),v.innerHTML=g.a,Object(l.a)({lookalikes:S},v.content,i)),b(o);case 20:case"end":return T.stop()}}),_callee7,this)})));return function getLinkedTaxa(){return c.apply(this,arguments)}})()()}(t,h,w,"MODAL",!0,0,i)}else{var E=d.a.getDefinition(i,b,v.glossary);if(!w)return;E&&E.length>0&&(E.forEach((function(t){S.innerHTML=x.a,t.imgClassName=t.img?""===t.img.url?"hide-important":"":"hide-important",t.img=t.img||{url:""}})),Object(l.a)({details:E},S.content,w))}},T=i(130),E=i.n(T);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return info_slider_arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function info_slider_unsupportedIterableToArray(t,a){if(!t)return;if("string"==typeof t)return info_slider_arrayLikeToArray(t,a);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return info_slider_arrayLikeToArray(t,a)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function info_slider_arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var i=0,o=new Array(a);i<a;i++)o[i]=t[i];return o}var k=function renderInfoSlider(t,a,i,c){var u=document.createElement("template");u.innerHTML=E.a,i.innerHTML="",(a=a.filter((function(t){return t.value}))).forEach((function(t){t.name=t.name?"ph"===t.name?"pH":o.utils.capitaliseFirst(t.name):"","role"===t.name.toLowerCase()&&(t.name=t.type||"role"),t.name="Ph value"===t.name?"pH value":t.name,t.unit=t.unit?"colour"===t.unit.toLowerCase()?"":t.unit:"",t.description=t.value,t.value="description"===t.name.toLowerCase()?"< traits >":t.value.join(", ")}));var d,p,m,h=a.find((function(t){return"description"===t.name.toLowerCase()}));h=h?h.description[0]:"",Object(l.a)({id:c,traits:a},u.content,i),(d=i.querySelector("#traitSlider".concat(c," .carousel-item:nth-child(1)"))).classList.add("active"),1===a.length&&i.querySelectorAll(".carousel.slide a").forEach((function(t){t.setAttribute("disabled","disabled"),t.classList.add("inactive-icon")}));var g=function changeTraitHandler(a){setTimeout((function(){d=i.querySelector("#traitSlider".concat(c," .carousel-item.active")),p=d.querySelector("dt").innerHTML,m=d.querySelector("dd").innerHTML,w(t,p,m,h)}),1e3)};g(),i.querySelector("#traitSlider".concat(c," .carousel-control-prev")).addEventListener("click",g),i.querySelector("#traitSlider".concat(c," .carousel-control-next")).addEventListener("click",g)},L=function taxonInfoSlider(t,a,i,o){var l="MODAL"===o?"taxon_1":"taxon_0",u=c.a.convertTraitsToNameValuePairsArray(a,c.a.getTraitsToExclude());u.length>0&&k(t,u,i,l)},O=function infoSlider(t,a,i){if(c.a.hasTraitPropeties(t.traits)){var o=c.a.convertTraitsToNameValuePairsArray(t.traits,c.a.getTraitsToExclude(),t);if(t.traits.description)o=[{name:"description",value:t.traits.description.value}].concat(_toConsumableArray(o));if(0!==o.length)k(t,o,a,"MODAL"===i?1:0)}}},8:function(t,a,i){"use strict";i.d(a,"b",(function(){return o})),i.d(a,"a",(function(){return c}));var o=function snapLog(t,a){var i="background: #222; color: #bada55; padding: 5px; margin-right: 5px;";Array.isArray(a)&&(a={obj:a}),a?console.log("%c".concat(t," %o"),i,a):console.log("%c".concat(t),i)},c=function logError(t,a){Array.isArray(t)&&(t={source:t})}},85:function(t,a,i){"use strict";i.d(a,"a",(function(){return o}));var o=[{latin:["armeniaca"],en:["from Armenia"]},{latin:["agastache"],en:["many spikes"]},{latin:["aster"],en:["star"]},{latin:["alba"],en:["white"]},{latin:["avium"],en:["bird"]},{latin:["nigrum"],en:["black"]},{latin:["ater"],en:["black"]},{latin:["botanikos"],en:["plant"]},{latin:["capitata"],en:["having a head"]},{latin:["chrysus"],en:["yellow"]},{latin:["erythro"],en:["red"]},{latin:["lactuca"],en:["milky"]},{latin:["sylvestris"],en:["woodland"]},{latin:["contorta"],en:["twisted"]},{latin:["globosa"],en:["rounded"]},{latin:["maculata"],en:["spotted"]},{latin:["pendula"],en:["weeping"]},{latin:["pratense"],en:["of meadows"]},{latin:["prostrata"],en:["creeping"]},{latin:["phyllos"],en:["leaf","foliage"]},{latin:["platy"],en:["broad","flat"]},{latin:["angustus"],en:["narrow"]},{latin:["arena"],en:["sand"]},{latin:["argentum"],en:["silver"]},{latin:["arvensis"],en:["in the field"]},{latin:["brachy-"],en:["short"]},{latin:["brachyphyllus"],en:["short leaved"]},{latin:["caprae"],en:["goat"]},{latin:["chroma"],en:["colour"]},{latin:["cilium"],en:["eyelash"]},{latin:["coccineus"],en:["scarlet"]},{latin:["cordifolius"],en:["heart-shaped"]},{latin:["coronatus"],en:["crowned"]},{latin:["crassus"],en:["thick","fat"]},{latin:["crocos"],en:["yellow"]},{latin:["cruciferae"],en:["cross-bearing"]},{latin:["derma"],en:["skin"]},{latin:["digitalis"],en:["having fingers"]},{latin:["domus"],en:["home"]},{latin:["domestica"],en:["which lives in the house"]},{latin:["echinatus"],en:["prickly","spiny"]},{latin:["edulis"],en:["edible"]},{latin:["elatior"],en:["taller"]},{latin:["electro-"],en:["amber"]},{latin:["emarginatus"],en:["having no edges"]},{latin:["enanti-"],en:["opposite","against"]},{latin:["endemos"],en:["native"]},{latin:["ensatus"],en:["sword-like"]},{latin:["erectus"],en:["upright"]},{latin:["erica"],en:["heath","broom"]},{latin:["erio-"],en:["wool","woolly"]},{latin:["erosus"],en:["indented","jagged","serrated"]},{latin:["fallax"],en:["false"]},{latin:["foeniculum"],en:["hay"]},{latin:["filium"],en:["thread"]},{latin:["flavus"],en:["golden yellow","light yellow"]},{latin:["floridus"],en:["flowery"]},{latin:["furcatus"],en:["forked"]},{latin:["fuscus"],en:["dark","dark brown"]},{latin:["gala"],en:["milk"]},{latin:["galum"],en:["milk"]},{latin:["glaber"],en:["smooth; hairless"]},{latin:["glaucus"],en:["blue-green","blue-gray"]},{latin:["glycy-"],en:["sweet"]},{latin:["perennis"],en:["perennial, lasting, yearlong"]},{latin:["gracile"],en:["slender","graceful"]},{latin:["gravis"],en:["heavy"]},{latin:["hali-"],en:["of the sea","salt"]},{latin:["hetero-"],en:["diversely or different"]},{latin:["hirsutus"],en:["hairy"]},{latin:["hirsuta"],en:["hairy"]},{latin:["hortensis"],en:["from the garden"]},{latin:["hydro-"],en:["water"]},{latin:["hymen"],en:["membrane"]},{latin:["hypo-","hyp-"],en:["under","beneath"]},{latin:["hyper-"],en:["over","above"]},{latin:["laevis"],en:["smooth"]},{latin:["lateralis"],en:["side"]},{latin:["lepis","lepido-"],en:["scale","rind","husk","flake"]},{latin:["lepto-","lepti-"],en:["light"]},{latin:["mel"],en:["honey"]},{latin:["muralis"],en:["growing on the wall"]},{latin:["nobilis"],en:["noble"]},{latin:["nix"],en:["snow"]},{latin:["nucifer"],en:["bearing nuts"]},{latin:["officinale"],en:["of or belonging to the officina (storeroom for medicines)"],wiki:"https://en.wikipedia.org/wiki/Officinalis"},{latin:["officinalis"],en:["of or belonging to the officina (storeroom for medicines)"],wiki:"https://en.wikipedia.org/wiki/Officinalis"},{latin:["oleo"],en:["oily"]},{latin:["palustris"],en:["of the marsh"]},{latin:["parviflorus"],en:["small-flowered"]},{latin:["parvifolius"],en:["small-leaved"]},{latin:["pelagicus"],en:["of the open sea"]},{latin:["persica"],en:["from Persia"],examples:["Prunus persica"]},{latin:["petro-"],en:["rock","stone"]},{latin:["phyto-"],en:["plant"]},{latin:["pomum"],en:["fruit"]},{latin:["pratum"],en:["meadow"]},{latin:["proto-"],en:["first"]},{latin:["pteron"],en:["feather","wing"]},{latin:["radix"],en:["root or radish"]},{latin:["ramus"],en:["branch"]},{latin:["rapum"],en:["turnip"]},{latin:["repandus"],en:["curved upwards","turned up"]},{latin:["rhiza"],en:["root"]},{latin:["sativus"],en:["sown","cultivated"]},{latin:["sativum"],en:["sown","cultivated"]},{latin:["sativa"],en:["sown","cultivated"]},{latin:["setosus"],en:["bristly or shaggy"]},{latin:["silvestris"],en:["from woodland or forest; wild"]},{latin:["sylvestris"],en:["from woodland or forest; wild"]},{latin:["speciosus"],en:["showy"]},{latin:["sperma"],en:["seed"]},{latin:["striatus"],en:["striped"]},{latin:["strictus"],en:["straight","narrow","erect"]},{latin:["suber"],en:["cork"]},{latin:["sucus"],en:["juice"]},{latin:["sulcatus"],en:["furrowed"]},{latin:["tenuis"],en:["thin","slender","fine"]},{latin:["tinctorius"],en:["or dyeing"]},{latin:["tomentosus"],en:["furry","hairy"]},{latin:["ulmus"],en:["elm"]},{latin:["vernus"],en:["spring"]},{latin:["vernalis"],en:["spring"]},{latin:["verus"],en:["true","genuine"]},{latin:["villosus"],en:["hairy","shaggy"]},{latin:["viridis"],en:["green"]},{latin:["vulgaris"],en:["common"]},{latin:["vulgare"],en:["common"]},{latin:["xanthos"],en:["yellow"]},{latin:["zygos"],en:["joined"]},{latin:["stipula"],en:["straw, stalk"]},{latin:["convolvulus"],en:["wound"]},{latin:["ranunculus"],en:["little frog"]},{latin:["esculenta"],en:["edible"]},{latin:["ascus"],en:["sack, wineskin"]},{latin:["sclero"],en:["hard"]},{latin:["derma"],en:["skin"]},{latin:["odora"],en:["perfumed"]},{latin:["kantharos"],en:["tankard","cup"]},{latin:["pyriforme"],en:["pear-shaped"]},{latin:["Lycoperdon"],en:["wolf's fart"]},{latin:["Lycopersicon"],en:["wolf's peach"]},{latin:["Grifola"],en:["Something intricate or braided"]},{latin:["Frondosa"],en:["Full of leaves"]},{latin:["calvus"],en:["bald, without hair"]},{latin:["thallus"],en:["a green shoot or twig"]},{latin:["vasculum"],en:["duct"]},{latin:["xylem"],en:["wood"]},{latin:["phloios"],en:["bark"]},{latin:["parietina"],en:["on walls"]},{latin:["eutrophos"],en:["well nourished"]},{latin:["askos"],en:["sac, wineskin"]},{latin:["Suillus"],en:["of pigs"]},{latin:["sus"],en:["pig"]},{latin:["collinitus"],en:["smeared","greased"]},{latin:["pyrrho"],en:["fire"]},{latin:["coris"],en:["bug"]},{latin:["boreal"],en:["(far) northern"]},{latin:["physcia"],en:["inflated, sausage-like"]},{latin:["apis"],en:["bee"],species:["Apis mellifera"]},{latin:["mellifera"],en:["honey-bearing"],species:["Apis mellifera"]},{latin:["instar"],en:["likeness, form"]},{latin:["skia"],en:["shadow"]},{latin:["oura"],en:["tail"]},{latin:["geo"],en:["earth"]},{latin:["metron"],en:["measure"]},{latin:["pente"],en:["five"]},{latin:["tomos"],en:["section"]},{latin:["praecox"],en:["before its time"]},{latin:["rudus"],en:["rubble"]},{latin:["phoinix"],en:["red"]},{latin:["ouros"],en:["tailed"]},{latin:["coluber"],en:["snake"]},{latin:["noctua"],en:["little owl"]},{latin:["epidermis"],en:["over-skin"]},{latin:["septem"],en:["seven"],species:["Coccinella septempunctata"]},{latin:["punctus"],en:["spot"],species:["Coccinella septempunctata"]},{latin:["tussis"],en:["cough"],species:["Tussilago farfara"]},{latin:["stoechas"],en:["in rows"],species:["Lavandula stoechas"]},{latin:["ros marinus"],en:["dew of the sea"],species:["Rosmarinus officinalis"]},{latin:["auriculata"],en:["with ears"],species:["Plumbago auriculata"]},{latin:["baccata"],en:["bearing red berries"],species:["Taxus baccata"]},{latin:["pleurotus"],en:["sideways"],species:["Pleurotus ostreatus"]},{latin:["sema"],en:["sign"],genus:["Bombus"]}]}});
//# sourceMappingURL=app.bundle.js.map