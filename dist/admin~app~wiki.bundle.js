/*! For license information please see admin~app~wiki.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([["admin~app~wiki"],{"./src/utils/utils.js":function(e,n){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/danminimac/code/snapdragon-redux/src/utils/utils.js: Unexpected token, expected \",\" (153:42)\n\n[0m [90m 151 | [39m    [90m// snapLog('children[idx].innerHTML', children[idx].innerHTML);[39m[0m\n[0m [90m 152 | [39m    [90m// snapLog('children[idx].innerText', children[idx].innerText);[39m[0m\n[0m[31m[1m>[22m[39m[90m 153 | [39m    snapLog([32m'children[idx].querySelector('[39mbutton[32m').dataset.name'[39m[33m,[39m children[idx][33m.[39mquerySelector([32m'button'[39m)[33m.[39mdataset[33m.[39mname)[33m;[39m[0m\n[0m [90m     | [39m                                          [31m[1m^[22m[39m[0m\n[0m [90m 154 | [39m  [36mreturn[39m valueToSortOn[33m;[39m[0m\n[0m [90m 155 | [39m}[0m\n[0m [90m 156 | [39m[0m\n    at Object._raise (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:742:17)\n    at Object.raiseWithData (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:735:17)\n    at Object.raise (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:729:17)\n    at Object.unexpected (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:8779:16)\n    at Object.expect (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:8765:28)\n    at Object.parseCallExpressionArguments (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9792:14)\n    at Object.parseSubscript (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9718:31)\n    at Object.parseSubscripts (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9647:19)\n    at Object.parseExprSubscripts (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9630:17)\n    at Object.parseMaybeUnary (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9604:21)\n    at Object.parseExprOps (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9474:23)\n    at Object.parseMaybeConditional (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9447:23)\n    at Object.parseMaybeAssign (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9402:21)\n    at Object.parseExpression (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9354:23)\n    at Object.parseStatementContent (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11233:23)\n    at Object.parseStatement (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11104:17)\n    at Object.parseBlockOrModuleBlockBody (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11679:25)\n    at Object.parseBlockBody (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11665:10)\n    at Object.parseBlock (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11649:10)\n    at Object.parseFunctionBody (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:10656:24)\n    at Object.parseFunctionBodyAndFinish (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:10639:10)\n    at /Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11819:12\n    at Object.withTopicForbiddingContext (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:10979:14)\n    at Object.parseFunction (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11818:10)\n    at Object.parseFunctionExpression (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:10115:17)\n    at Object.parseExprAtom (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:10023:21)\n    at Object.parseExprAtom (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:4626:20)\n    at Object.parseExprSubscripts (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9624:23)\n    at Object.parseMaybeUnary (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9604:21)\n    at Object.parseExprOps (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9474:23)\n    at Object.parseMaybeConditional (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9447:23)\n    at Object.parseMaybeAssign (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:9402:21)\n    at Object.parseVar (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11763:26)\n    at Object.parseVarStatement (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11572:10)\n    at Object.parseStatementContent (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11171:21)\n    at Object.parseStatement (/Users/danminimac/code/snapdragon-redux/node_modules/@babel/parser/lib/index.js:11104:17)")},"./src/wikipedia/wiki.js":function(e,n,a){"use strict";a.r(n),a.d(n,"formatUrl",(function(){return d})),a.d(n,"formatWiki",(function(){return c})),a.d(n,"renderWiki",(function(){return renderWiki}));var r=a("./node_modules/ramda/es/index.js"),s=a("./src/utils/utils.js");function asyncGeneratorStep(e,n,a,r,s,i,d){try{var t=e[i](d),o=t.value}catch(e){return void a(e)}t.done?n(o):Promise.resolve(o).then(r,s)}function _asyncToGenerator(e){return function(){var n=this,a=arguments;return new Promise((function(r,s){var i=e.apply(n,a);function _next(e){asyncGeneratorStep(i,r,s,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,s,_next,_throw,"throw",e)}_next(void 0)}))}}var i="",d=function formatUrl(e,n,a){var r=e;if(e.indexOf(" ")>0){var s=e.split(" ");(r=s[0]+" "+s[1]).indexOf("Speckled wood")>-1&&(r+=" "+s[2])}return n+a(r)};function fetchWiki(e,n){return _fetchWiki.apply(this,arguments)}function _fetchWiki(){return(_fetchWiki=_asyncToGenerator(regeneratorRuntime.mark((function _callee(e,n){var a,t,o,c,m;return regeneratorRuntime.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==e){l.next=2;break}return l.abrupt("return",n);case 2:return a=d(e,i,s.utils.encodeQuery),t={method:"GET"},l.prev=4,l.next=7,fetch(a,t);case 7:return o=l.sent,l.next=10,o.json();case 10:return c=l.sent,l.abrupt("return",r.flatten(c));case 14:return l.prev=14,l.t0=l.catch(4),m=new Promise((function(e,a){e(n)})),l.abrupt("return",m);case 18:case"end":return l.stop()}}),_callee,this,[[4,14]])})))).apply(this,arguments)}var t=function cleanEntry(e){var n=e;return n=(n=(n=(n=(n=n.replace("( or UK: , US: )","")).replace("(;","(")).replace("()","")).replace("( ","(")).replace("  "," ")},o=function wikiLink(e){var n=t(e).replace(".wikipedia",".m.wikipedia");return'<span data-toggle="modal" data-target="#wikiModal" data-src="'.concat(n,'" class="underline-link">Wiki modal</span>')},c=function formatWiki(e){if(r.contains(e[0],["Tarragon","Apple"]))return'<li class="species-card-wiki-entry">\''.concat(t(e[2]),"'</li>");if(!e)return"";var n="";return 1===e.length&&(n+=o(e[0])),e[1]&&(n+='<li class="species-card-wiki-entry">\''.concat(t(e[1]),"'</li>")),e[2]&&(-1!==e[2].indexOf("https")?n+=o(e[2]):n+='<li class="species-card-wiki-entry">\''.concat(t(e[2]),"'</li>")),e[3]&&(-1!==e[3].indexOf("https")?n+=o(e[3]):n+='<li class="species-card-wiki-entry">\''.concat(t(e[3]),"'</li>")),n};function renderWiki(e,n,a){return _renderWiki.apply(this,arguments)}function _renderWiki(){return(_renderWiki=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(e,n,a){var s,d,t,o,m,l,p;return regeneratorRuntime.wrap((function _callee2$(u){for(;;)switch(u.prev=u.next){case 0:return s=n.name,d=n.names?n.names.filter((function(e){return e.language===a})).find((function(e){return e.wikiSearchTerm})):null,t=d?d.vernacularName:n.searchTerms?n.searchTerms.filter((function(e){return e.language===a}))[0].searchTerm:s,i="https://".concat(a,".m.wikipedia.org/w/api.php?action=opensearch&format=json&origin=*&limit=1&search="),o=["Artemisia dracunculus","Malus domestica","Zingiber officinale"],r.contains(n.name,o)&&(i="https://".concat(a,".m.wikipedia.org/w/api.php?action=opensearch&format=json&origin=*&limit=2&redirects=resolve&search=")),e.innerHTML="",u.next=9,fetchWiki(t);case 9:if(!(m=u.sent)||!m[2]){u.next=14;break}e.innerHTML=c(m.slice(1)),u.next=21;break;case 14:if(s){u.next=16;break}return u.abrupt("return","");case 16:return l=s.split(" ")[0],u.next=19,fetchWiki(l);case 19:""!==(p=u.sent)[2]?e.innerHTML=c(p.slice(1)):"en"!==a&&renderWiki(e,s,"en");case 21:case"end":return u.stop()}}),_callee2,this)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=admin~app~wiki.bundle.js.map